Project Name,Package Name,Type Name,Method Name,Implementation Smell,Cause of the Smell,Method start line no
ontrack,net.nemerosa.ontrack.repository.support,AbstractJdbcRepositoryTest,dateTimeForDB_ok,Magic Number,The method contains a magic number: 2014,19
ontrack,net.nemerosa.ontrack.repository.support,AbstractJdbcRepositoryTest,dateTimeForDB_ok,Magic Number,The method contains a magic number: 5,19
ontrack,net.nemerosa.ontrack.repository.support,AbstractJdbcRepositoryTest,dateTimeForDB_ok,Magic Number,The method contains a magic number: 22,19
ontrack,net.nemerosa.ontrack.repository.support,AbstractJdbcRepositoryTest,dateTimeForDB_ok,Magic Number,The method contains a magic number: 22,19
ontrack,net.nemerosa.ontrack.repository.support,AbstractJdbcRepositoryTest,dateTimeForDB_ok,Magic Number,The method contains a magic number: 7,19
ontrack,net.nemerosa.ontrack.repository.support,AbstractJdbcRepositoryTest,dateTimeForDB_ok,Magic Number,The method contains a magic number: 10,19
ontrack,net.nemerosa.ontrack.repository.support,AbstractJdbcRepositoryTest,dateTime_to_and_from_db,Magic Number,The method contains a magic number: 2014,24
ontrack,net.nemerosa.ontrack.repository.support,AbstractJdbcRepositoryTest,dateTime_to_and_from_db,Magic Number,The method contains a magic number: 5,24
ontrack,net.nemerosa.ontrack.repository.support,AbstractJdbcRepositoryTest,dateTime_to_and_from_db,Magic Number,The method contains a magic number: 22,24
ontrack,net.nemerosa.ontrack.repository.support,AbstractJdbcRepositoryTest,dateTime_to_and_from_db,Magic Number,The method contains a magic number: 22,24
ontrack,net.nemerosa.ontrack.repository.support,AbstractJdbcRepositoryTest,dateTime_to_and_from_db,Magic Number,The method contains a magic number: 7,24
ontrack,net.nemerosa.ontrack.repository.support,AbstractJdbcRepositoryTest,dateTime_to_and_from_db,Magic Number,The method contains a magic number: 10,24
ontrack,net.nemerosa.ontrack.extension.support.configurations,AbstractConfigurationService,getConfigurationDescriptors,Long Statement,The length of the statement "return securityService.runAsAdmin(() -> getConfigurations().stream().map(Configuration::getDescriptor).collect(Collectors.toList())).get();" is 139.,39
ontrack,net.nemerosa.ontrack.extension.support.configurations,AbstractConfigurationService,getConfiguration,Long Statement,The length of the statement "return configurationRepository.find(configurationClass`name).orElseThrow(() -> new ConfigurationNotFoundException(name));" is 121.,54
ontrack,net.nemerosa.ontrack.extension.support.client,DefaultClientFactory,getHttpClient,Long Statement,The length of the statement "return OTHttpClientBuilder.create(clientConnection.getUrl()).withCredentials(clientConnection.getUser()`clientConnection.getPassword()).build();" is 144.,20
ontrack,net.nemerosa.ontrack.extension.artifactory.service,ArtifactoryPromotionSyncServiceImpl,getJobs,Long Statement,The length of the statement "return structureService.getProjectList().stream().flatMap(project -> structureService.getBranchesForProject(project.getId()).stream()).filter(branch -> propertyService.hasProperty(branch`ArtifactoryPromotionSyncPropertyType.class)).map(this::getBranchSyncJob).filter(job -> job != null).collect(Collectors.toList());" is 316.,40
ontrack,net.nemerosa.ontrack.extension.artifactory.service,ArtifactoryPromotionSyncServiceImpl,getBranchSyncJob,Long Statement,The length of the statement "Property<ArtifactoryPromotionSyncProperty> syncProperty=propertyService.getProperty(branch`ArtifactoryPromotionSyncPropertyType.class);" is 135.,56
ontrack,net.nemerosa.ontrack.extension.artifactory.service,ArtifactoryPromotionSyncServiceImpl,getBranchSyncJob,Long Statement,The length of the statement "return String.format("Synchronisation of promotions with Artifactory for branch %s/%s"`branch.getProject().getName()`branch.getName());" is 135.,56
ontrack,net.nemerosa.ontrack.extension.artifactory.service,ArtifactoryPromotionSyncServiceImpl,getDescription,Long Statement,The length of the statement "return String.format("Synchronisation of promotions with Artifactory for branch %s/%s"`branch.getProject().getName()`branch.getName());" is 135.,72
ontrack,net.nemerosa.ontrack.extension.artifactory.service,ArtifactoryPromotionSyncServiceImpl,sync,Long Statement,The length of the statement "Property<ArtifactoryPromotionSyncProperty> syncProperty=propertyService.getProperty(branch`ArtifactoryPromotionSyncPropertyType.class);" is 135.,94
ontrack,net.nemerosa.ontrack.extension.artifactory.service,ArtifactoryPromotionSyncServiceImpl,sync,Long Statement,The length of the statement "String log=String.format("Sync branch %s/%s with Artifactory build %s (%s)"`branch.getProject().getName()`branch.getName()`buildName`buildNameFilter);" is 150.,94
ontrack,net.nemerosa.ontrack.extension.artifactory.service,ArtifactoryPromotionSyncServiceImpl,sync,Long Statement,The length of the statement "List<String> buildNumbers=client.getBuildNumbers(buildName).stream().filter(name -> buildNamePattern.matcher(name).matches()).collect(Collectors.toList());" is 155.,94
ontrack,net.nemerosa.ontrack.extension.artifactory.service,ArtifactoryPromotionSyncServiceImpl,syncBuild,Long Parameter List,The method has 5 parameters. ,127
ontrack,net.nemerosa.ontrack.extension.artifactory.service,ArtifactoryPromotionSyncServiceImpl,syncBuild,Long Statement,The length of the statement "String log=String.format("Sync branch %s/%s for Artifactory build %s"`branch.getProject().getName()`branch.getName()`buildName);" is 128.,127
ontrack,net.nemerosa.ontrack.extension.artifactory.service,ArtifactoryPromotionSyncServiceImpl,syncBuild,Long Statement,The length of the statement "Optional<PromotionLevel> promotionLevelOpt=structureService.findPromotionLevelByName(branch.getProject().getName()`branch.getName()`statusName);" is 144.,127
ontrack,net.nemerosa.ontrack.extension.artifactory.service,ArtifactoryPromotionSyncServiceImpl,syncBuild,Long Statement,The length of the statement "logger.info("[artifactory-sync] Promote {}/{}/{} to {}"`branch.getProject().getName()`branch.getName()`buildName`statusName);" is 125.,127
ontrack,net.nemerosa.ontrack.extension.artifactory.service,ArtifactoryPromotionSyncServiceImpl,syncBuild,Long Statement,The length of the statement "structureService.newPromotionRun(PromotionRun.of(buildOpt.get()`promotionLevelOpt.get()`Signature.of(artifactoryStatus.getUser()).withTime(artifactoryStatus.getTimestamp())`"Promoted from Artifactory"));" is 203.,127
ontrack,net.nemerosa.ontrack.extension.artifactory.resource,ArtifactoryConfigurationResourceDecorator,links,Long Statement,The length of the statement "return resourceContext.links().self(on(ArtifactoryController.class).getConfiguration(configuration.getName())).link(Link.UPDATE`on(ArtifactoryController.class).updateConfigurationForm(configuration.getName())).link(Link.DELETE`on(ArtifactoryController.class).deleteConfiguration(configuration.getName())).build();" is 313.,27
ontrack,net.nemerosa.ontrack.extension.artifactory.property,ArtifactoryPromotionSyncPropertyType,getEditionForm,Long Statement,The length of the statement "return Form.create().with(Selection.of("configuration").label("Configuration").help("Configuration to use to access Artifactory").items(configurationService.getConfigurationDescriptors()).value(value != null ? value.getConfiguration().getName() : null)).with(Text.of("buildName").label("Build name").help("Name of the Artifactory build").value(value != null ? value.getBuildName() : "")).with(Text.of("buildNameFilter").label("Build name filter").help("Filter on the build name in Artifactory (* can be used as a wildcard)").value(value != null ? value.getBuildNameFilter() : "")).with(Int.of("interval").label("Sync. interval (min)").min(0).max(60 * 24 * 7).help("Interval in minutes for the synchronisation. If 0` no synchronisation is done.").value(value != null ? value.getInterval() : 0));" is 794.,53
ontrack,net.nemerosa.ontrack.extension.artifactory.property,ArtifactoryPromotionSyncPropertyType,getEditionForm,Magic Number,The method contains a magic number: 60,53
ontrack,net.nemerosa.ontrack.extension.artifactory.property,ArtifactoryPromotionSyncPropertyType,getEditionForm,Magic Number,The method contains a magic number: 24,53
ontrack,net.nemerosa.ontrack.extension.artifactory.property,ArtifactoryPromotionSyncPropertyType,getEditionForm,Magic Number,The method contains a magic number: 7,53
ontrack,net.nemerosa.ontrack.extension.artifactory.property,ArtifactoryPromotionSyncPropertyType,forStorage,Long Statement,The length of the statement "return format(MapBuilder.params().with("configuration"`value.getConfiguration().getName()).with("buildName"`value.getBuildName()).with("buildNameFilter"`value.getBuildNameFilter()).with("interval"`value.getInterval()).get());" is 225.,82
ontrack,net.nemerosa.ontrack.extension.artifactory.configuration,ArtifactoryConfiguration,form,Long Statement,The length of the statement "return Form.create().with(defaultNameField()).url().with(Text.of("user").label("User").length(16).optional()).with(Password.of("password").label("Password").length(40).optional());" is 180.,20
ontrack,net.nemerosa.ontrack.extension.artifactory.configuration,ArtifactoryConfiguration,form,Magic Number,The method contains a magic number: 16,20
ontrack,net.nemerosa.ontrack.extension.artifactory.configuration,ArtifactoryConfiguration,form,Magic Number,The method contains a magic number: 40,20
ontrack,net.nemerosa.ontrack.extension.artifactory,ArtifactoryController,getDescription,Long Statement,The length of the statement "return Resource.of(feature.getFeatureDescription()`uri(MvcUriComponentsBuilder.on(getClass()).getDescription())).with("configurations"`uri(on(getClass()).getConfigurations())`securityService.isGlobalFunctionGranted(GlobalSettings.class));" is 238.,35
ontrack,net.nemerosa.ontrack.extension.artifactory,ArtifactoryController,getConfigurations,Long Statement,The length of the statement "return Resources.of(jenkinsService.getConfigurations()`uri(on(getClass()).getConfigurations())).with(Link.CREATE`uri(on(getClass()).getConfigurationForm()));" is 157.,46
ontrack,net.nemerosa.ontrack.extension.artifactory.client,ArtifactoryClientImpl,getStatuses,Long Statement,The length of the statement "buildInfo.path("statuses").forEach(statusNode -> statuses.add(new ArtifactoryStatus(statusNode.path("status").asText()`statusNode.path("user").asText()`LocalDateTime.parse(statusNode.path("timestamp").asText()`DateTimeFormatter.ofPattern("yyyy-MM-dd'T'HH:mm:ss.SSSZ")))));" is 272.,39
ontrack,net.nemerosa.ontrack.extension.artifactory.client,ArtifactoryClientFactoryImpl,getClient,Long Statement,The length of the statement "return new ArtifactoryClientImpl(clientFactory.getJsonClient(new ClientConnection(configuration.getUrl()`configuration.getUser()`configuration.getPassword())));" is 160.,19
ontrack,net.nemerosa.ontrack.test,TestUtils,getEnv,Long Statement,The length of the statement "throw new IllegalStateException(String.format("The %s value must be defined with the system property `%s` or the environment variable `%s`."`name`systemProperty`envProperty));" is 175.,46
ontrack,net.nemerosa.ontrack.test,TestUtils,assertJsonWrite,Long Statement,The length of the statement "assertEquals(mapper.writeValueAsString(expectedJson)`mapper.writerWithView(viewClass).writeValueAsString(objectToWrite));" is 121.,78
ontrack,net.nemerosa.ontrack.test,TestUtils,dateTime,Magic Number,The method contains a magic number: 2014,99
ontrack,net.nemerosa.ontrack.test,TestUtils,dateTime,Magic Number,The method contains a magic number: 5,99
ontrack,net.nemerosa.ontrack.test,TestUtils,dateTime,Magic Number,The method contains a magic number: 13,99
ontrack,net.nemerosa.ontrack.test,TestUtils,dateTime,Magic Number,The method contains a magic number: 20,99
ontrack,net.nemerosa.ontrack.test,TestUtils,dateTime,Magic Number,The method contains a magic number: 11,99
ontrack,net.nemerosa.ontrack.extension.scm.changelog,SCMChangeLogUUIDException,SCMChangeLogUUIDException,Long Statement,The length of the statement "super("The change log with UUID %s has been requested but not found. " + "It was either invalid or not valid any longer."`uuid);" is 128.,6
ontrack,net.nemerosa.ontrack.extension.scm.changelog,SCMChangeLog,SCMChangeLog,Long Parameter List,The method has 5 parameters. ,26
ontrack,net.nemerosa.ontrack.boot.ui,InfoController,info,Long Statement,The length of the statement "return Resource.of(infoService.getInfo()`uri(on(getClass()).info())).with("user"`uri(on(UserController.class).getCurrentUser())).with("_applicationInfo"`uri(on(InfoController.class).applicationInfo()));" is 202.,30
ontrack,net.nemerosa.ontrack.boot.ui,BuildFilterController,getEditionForm,Long Statement,The length of the statement "return Resource.of(editionForm`uri(on(getClass()).getEditionForm(branchId`name))).with(Link.UPDATE`uri(on(getClass()).saveFilter(branchId`name`null)));" is 151.,60
ontrack,net.nemerosa.ontrack.boot.ui,SettingsController,configuration,Long Statement,The length of the statement "forms.addAll(extensionManager.getExtensions(GlobalSettingsExtension.class).stream().map(GlobalSettingsExtension::getConfigurationForm).collect(Collectors.toList()));" is 165.,36
ontrack,net.nemerosa.ontrack.boot.ui,SettingsController,getSecuritySettingsForm,Long Statement,The length of the statement "return DescribedForm.create("security"`securitySettings.form()).title("Security").description("Global settings for the security.").uri(uri(on(getClass()).updateSecurity(null)));" is 177.,65
ontrack,net.nemerosa.ontrack.boot.ui,ProjectController,getProjectList,Long Statement,The length of the statement "return Resources.of(structureService.getProjectList()`uri(on(ProjectController.class).getProjectList())).with(Link.CREATE`uri(on(ProjectController.class).newProject(null))`securityService.isGlobalFunctionGranted(ProjectCreation.class));" is 236.,32
ontrack,net.nemerosa.ontrack.boot.ui,ProjectController,getBranchStatusViews,Long Statement,The length of the statement "return Resources.of(structureService.getBranchStatusViews(projectId)`uri(on(ProjectController.class).getBranchStatusViews(projectId))).forView(BranchStatusView.class);" is 167.,57
ontrack,net.nemerosa.ontrack.boot.ui,ProjectEntityExtensionController,getActions,Long Statement,The length of the statement "return Resources.of(extensionManager.getExtensions(ProjectEntityActionExtension.class).stream().map(x -> x.getAction(getEntity(entityType`id)).map(action -> resolveExtensionAction(x`action))).filter(Optional::isPresent).map(Optional::get).collect(Collectors.toList())`uri(MvcUriComponentsBuilder.on(getClass()).getActions(entityType`id)));" is 339.,37
ontrack,net.nemerosa.ontrack.boot.ui,ProjectEntityExtensionController,getInformation,Long Statement,The length of the statement "return Resources.of(extensionManager.getExtensions(EntityInformationExtension.class).stream().map(x -> x.getInformation(getEntity(entityType`id)).map(o -> new EntityInformation(entityType`id`x.getClass().getName()`o))).filter(Optional::isPresent).map(Optional::get).collect(Collectors.toList())`uri(MvcUriComponentsBuilder.on(getClass()).getInformation(entityType`id)));" is 370.,52
ontrack,net.nemerosa.ontrack.boot.ui,PromotionLevelController,getPromotionLevelListForBranch,Long Statement,The length of the statement "return Resources.of(structureService.getPromotionLevelListForBranch(branchId)`uri(on(PromotionLevelController.class).getPromotionLevelListForBranch(branchId))).with(Link.CREATE`uri(on(PromotionLevelController.class).newPromotionLevelForm(branchId))`securityService.isProjectFunctionGranted(branch.getProject().id()`PromotionLevelCreate.class));" is 344.,39
ontrack,net.nemerosa.ontrack.boot.ui,PropertyController,getProperties,Long Statement,The length of the statement "Resource<Property<?>> resource=Resource.of(property`uri(on(getClass()).getPropertyValue(entity.getProjectEntityType()`entity.getId()`property.getType().getClass().getName())));" is 176.,34
ontrack,net.nemerosa.ontrack.boot.ui,PropertyController,getProperties,Long Statement,The length of the statement "resource=resource.with(Link.UPDATE`uri(on(getClass()).getPropertyEditionForm(entity.getProjectEntityType()`entity.getId()`property.getType().getClass().getName())));" is 165.,34
ontrack,net.nemerosa.ontrack.boot.ui,PropertyController,getPropertyValue,Long Statement,The length of the statement "return Resource.of(propertyService.getProperty(getEntity(entityType`id)`propertyTypeName)`uri(on(getClass()).getPropertyValue(entityType`id`propertyTypeName)));" is 160.,65
ontrack,net.nemerosa.ontrack.boot.ui,AccountController,getAccounts,Long Statement,The length of the statement "return Resources.of(accountService.getAccounts()`uri(on(getClass()).getAccounts())).with(Link.CREATE`uri(on(AccountController.class).getCreationForm()));" is 153.,35
ontrack,net.nemerosa.ontrack.boot.ui,AccountController,getCreationForm,Long Statement,The length of the statement "return Form.create().with(Form.defaultNameField()).with(Text.of("fullName").length(100).label("Full name").help("Display name for the account")).with(Email.of("email").label("Email").length(200).help("Contact email for the account")).with(Password.of("password").label("Password").length(40).help("Password for the account")).with(MultiSelection.of("groups").label("Groups").items(accountService.getAccountGroupsForSelection(ID.NONE)));" is 436.,47
ontrack,net.nemerosa.ontrack.boot.ui,AccountController,getCreationForm,Magic Number,The method contains a magic number: 100,47
ontrack,net.nemerosa.ontrack.boot.ui,AccountController,getCreationForm,Magic Number,The method contains a magic number: 200,47
ontrack,net.nemerosa.ontrack.boot.ui,AccountController,getCreationForm,Magic Number,The method contains a magic number: 40,47
ontrack,net.nemerosa.ontrack.boot.ui,AccountController,getUpdateForm,Long Statement,The length of the statement "form=form.with(Password.of("password").label("Password").length(40).help("Password for the account. Leave blank to keep it unchanged.").optional());" is 148.,79
ontrack,net.nemerosa.ontrack.boot.ui,AccountController,getUpdateForm,Long Statement,The length of the statement "form=form.with(MultiSelection.of("groups").label("Groups").items(accountService.getAccountGroupsForSelection(accountId)));" is 122.,79
ontrack,net.nemerosa.ontrack.boot.ui,AccountController,getUpdateForm,Magic Number,The method contains a magic number: 40,79
ontrack,net.nemerosa.ontrack.boot.ui,AccountController,getAccountGroups,Long Statement,The length of the statement "return Resources.of(accountService.getAccountGroups()`uri(on(getClass()).getAccountGroups())).with(Link.CREATE`uri(on(AccountController.class).getGroupCreationForm()));" is 168.,121
ontrack,net.nemerosa.ontrack.boot.ui,BranchController,getBranchListForProject,Long Statement,The length of the statement "return Resources.of(structureService.getBranchesForProject(projectId)`uri(on(BranchController.class).getBranchListForProject(projectId))).with(Link.CREATE`uri(on(BranchController.class).newBranch(projectId`null))`securityService.isProjectFunctionGranted(projectId.getValue()`BranchCreate.class));" is 296.,45
ontrack,net.nemerosa.ontrack.boot.ui,BranchController,buildViewWithFilter,Long Statement,The length of the statement "List<Action> buildDiffActions=extensionManager.getExtensions(BuildDiffExtension.class).stream().filter(extension -> extension.apply(branch)).map(this::resolveExtensionAction).collect(Collectors.toList());" is 204.,128
ontrack,net.nemerosa.ontrack.boot.ui,BranchController,buildViewWithFilter,Long Statement,The length of the statement "return new BranchBuildView(builds.stream().map(structureService::getBuildView).collect(Collectors.toList())`buildDiffActions);" is 126.,128
ontrack,net.nemerosa.ontrack.boot.ui,ValidationRunController,getValidationRuns,Long Statement,The length of the statement "return Resources.of(structureService.getValidationRunsForBuild(buildId)`uri(on(BuildController.class).getLastPromotionRuns(buildId))).forView(Build.class);" is 155.,49
ontrack,net.nemerosa.ontrack.boot.ui,ValidationRunController,newValidationRunForm,Long Statement,The length of the statement "return Form.create().with(Selection.of("validationStamp").label("Validation stamp").items(structureService.getValidationStampListForBranch(build.getBranch().getId()))).with(Selection.of("validationRunStatusId").label("Status").items(validationRunStatusService.getValidationRunStatusRoots())).description();" is 306.,57
ontrack,net.nemerosa.ontrack.boot.ui,ValidationRunController,newValidationRun,Long Statement,The length of the statement "ValidationRunStatusID validationRunStatusID=validationRunStatusService.getValidationRunStatus(validationRunRequest.getValidationRunStatusId());" is 143.,74
ontrack,net.nemerosa.ontrack.boot.ui,ValidationRunController,newValidationRun,Long Statement,The length of the statement "ValidationRun validationRun=ValidationRun.of(build`validationStamp`0`securityService.getCurrentSignature()`validationRunStatusID`validationRunRequest.getDescription());" is 168.,74
ontrack,net.nemerosa.ontrack.boot.ui,ValidationRunController,newValidationRun,Long Statement,The length of the statement "propertyService.editProperty(validationRun`propertyCreationRequest.getPropertyTypeName()`propertyCreationRequest.getPropertyData());" is 132.,74
ontrack,net.nemerosa.ontrack.boot.ui,ValidationRunController,getValidationRunStatusChangeForm,Long Statement,The length of the statement "return Form.create().with(Selection.of("validationRunStatusId").label("Status").items(validationRunStatusService.getNextValidationRunStatusList(validationRun.getLastStatus().getStatusID().getId()))).description();" is 213.,113
ontrack,net.nemerosa.ontrack.boot.ui,ValidationRunController,validationRunStatusChange,Long Statement,The length of the statement "ValidationRunStatus runStatus=ValidationRunStatus.of(securityService.getCurrentSignature()`validationRunStatusService.getValidationRunStatus(request.getValidationRunStatusId())`request.getDescription());" is 203.,128
ontrack,net.nemerosa.ontrack.boot.ui,BuildController,newBuild,Long Statement,The length of the statement "propertyService.editProperty(build`propertyCreationRequest.getPropertyTypeName()`propertyCreationRequest.getPropertyData());" is 124.,45
ontrack,net.nemerosa.ontrack.boot.ui,BuildController,getLastPromotionRuns,Long Statement,The length of the statement "return Resources.of(structureService.getLastPromotionRunsForBuild(buildId)`uri(on(getClass()).getLastPromotionRuns(buildId))).forView(Build.class);" is 147.,96
ontrack,net.nemerosa.ontrack.boot.ui,BuildController,newPromotionRunForm,Long Statement,The length of the statement "return Form.create().with(Selection.of("promotionLevel").label("Promotion level").items(structureService.getPromotionLevelListForBranch(build.getBranch().getId()))).with(DateTime.of("dateTime").label("Date/time").value(Time.now()).minuteStep(15)).description();" is 261.,104
ontrack,net.nemerosa.ontrack.boot.ui,BuildController,newPromotionRunForm,Magic Number,The method contains a magic number: 15,104
ontrack,net.nemerosa.ontrack.boot.ui,BuildController,newPromotionRun,Long Statement,The length of the statement "PromotionRun promotionRun=PromotionRun.of(build`promotionLevel`securityService.getCurrentSignature().withTime(promotionRunRequest.getDateTime())`promotionRunRequest.getDescription());" is 183.,122
ontrack,net.nemerosa.ontrack.boot.ui,BuildController,newPromotionRun,Long Statement,The length of the statement "propertyService.editProperty(promotionRun`propertyCreationRequest.getPropertyTypeName()`propertyCreationRequest.getPropertyData());" is 131.,122
ontrack,net.nemerosa.ontrack.boot.ui,DecorationsController,getDecorations,Long Statement,The length of the statement "return Resources.of(decorationService.getDecorations(getEntity(entityType`id))`uri(on(getClass()).getDecorations(entityType`id)));" is 130.,25
ontrack,net.nemerosa.ontrack.boot.ui,StructureController,promotionLevel,Long Statement,The length of the statement "return structureService.findPromotionLevelByName(project`branch`promotionLevel).orElseThrow(() -> new PromotionLevelNotFoundException(project`branch`promotionLevel));" is 166.,40
ontrack,net.nemerosa.ontrack.boot.ui,StructureController,validationStamp,Long Statement,The length of the statement "return structureService.findValidationStampByName(project`branch`validationStamp).orElseThrow(() -> new ValidationStampNotFoundException(project`branch`validationStamp));" is 170.,49
ontrack,net.nemerosa.ontrack.boot.ui,StructureController,build,Long Statement,The length of the statement "return structureService.findBuildByName(project`branch`build).orElseThrow(() -> new BuildNotFoundException(project`branch`build));" is 130.,58
ontrack,net.nemerosa.ontrack.boot.ui,ValidationStampController,getValidationStampListForBranch,Long Statement,The length of the statement "return Resources.of(structureService.getValidationStampListForBranch(branchId)`uri(on(ValidationStampController.class).getValidationStampListForBranch(branchId))).with(Link.CREATE`uri(on(ValidationStampController.class).newValidationStampForm(branchId))`securityService.isProjectFunctionGranted(branch.getProject().id()`ValidationStampCreate.class));" is 350.,39
ontrack,net.nemerosa.ontrack.boot.ui,PermissionController,getGlobalPermissions,Long Statement,The length of the statement "return Resources.of(accountService.getGlobalPermissions()`uri(on(PermissionController.class).getGlobalPermissions())).with("_globalRoles"`uri(on(PermissionController.class).getGlobalRoles()));" is 192.,25
ontrack,net.nemerosa.ontrack.boot.ui,PermissionController,searchPermissionTargets,Long Statement,The length of the statement "return Resources.of(accountService.searchPermissionTargets(token)`uri(on(PermissionController.class).searchPermissionTargets(token)));" is 134.,47
ontrack,net.nemerosa.ontrack.boot.ui,BranchControllerIT,createBranch,Long Statement,The length of the statement "Branch branch=asUser().with(project.id()`BranchCreate.class).call(() -> controller.newBranch(project.getId()`nameDescription));" is 127.,21
ontrack,net.nemerosa.ontrack.boot.ui,BuildControllerIT,newBuild_with_properties,Long Statement,The length of the statement "Project project=asUser().with(ProjectCreation.class).call(() -> structureService.newProject(Project.of(nameDescription())));" is 124.,36
ontrack,net.nemerosa.ontrack.boot.ui,BuildControllerIT,newBuild_with_properties,Long Statement,The length of the statement "Branch branch=asUser().with(project.id()`BranchCreate.class).call(() -> structureService.newBranch(Branch.of(project`nameDescription())));" is 138.,36
ontrack,net.nemerosa.ontrack.boot.ui,BuildControllerIT,newBuild_with_properties,Long Statement,The length of the statement "asUser().with(GlobalSettings.class).call(() -> jenkinsController.newConfiguration(new JenkinsConfiguration(configurationName`"http://jenkins"`""`"")));" is 151.,36
ontrack,net.nemerosa.ontrack.boot.ui,BuildControllerIT,newBuild_with_properties,Long Statement,The length of the statement "Build build=asUser().with(project.id()`BuildCreate.class).call(() -> buildController.newBuild(branch.getId()`new BuildRequest("12"`"Build 12"`Collections.singletonList(new PropertyCreationRequest(JenkinsBuildPropertyType.class.getName()`object().with("configuration"`configurationName).with("job"`"MyJob").with("build"`12).end())))));" is 334.,36
ontrack,net.nemerosa.ontrack.boot.ui,BuildControllerIT,newBuild_with_properties,Magic Number,The method contains a magic number: 12,36
ontrack,net.nemerosa.ontrack.boot.ui,BuildControllerIT,newBuild_with_properties,Magic Number,The method contains a magic number: 12,36
ontrack,net.nemerosa.ontrack.boot.ui,PropertyControllerIT,project_properties_with_edition_allowed,Long Statement,The length of the statement "Project project=asUser().with(ProjectCreation.class).call(() -> structureService.newProject(Project.of(nameDescription())));" is 124.,39
ontrack,net.nemerosa.ontrack.boot.ui,PropertyControllerIT,project_properties_with_edition_allowed,Long Statement,The length of the statement "Resources<Resource<Property<?>>> properties=asUser().with(project.id()`ProjectConfig.class).call(() -> controller.getProperties(ProjectEntityType.PROJECT`project.getId()));" is 172.,39
ontrack,net.nemerosa.ontrack.boot.ui,PropertyControllerIT,project_properties_with_edition_allowed,Long Statement,The length of the statement "Optional<Property<?>> property=properties.getResources().stream().map(Resource::getData).filter(p -> "Jenkins Job".equals(p.getType().getName())).findFirst();" is 158.,39
ontrack,net.nemerosa.ontrack.boot.ui,PropertyControllerIT,project_properties_filtered_by_authorization,Long Statement,The length of the statement "Project project=asUser().with(ProjectCreation.class).call(() -> structureService.newProject(Project.of(nameDescription())));" is 124.,62
ontrack,net.nemerosa.ontrack.boot.ui,PropertyControllerIT,project_properties_filtered_by_authorization,Long Statement,The length of the statement "Resources<Resource<Property<?>>> properties=asUser().with(project.id()`ProjectView.class).call(() -> controller.getProperties(ProjectEntityType.PROJECT`project.getId()));" is 170.,62
ontrack,net.nemerosa.ontrack.boot.ui,PropertyControllerIT,project_properties_filtered_by_authorization,Long Statement,The length of the statement "Optional<Property<?>> property=properties.getResources().stream().map(Resource::getData).filter(p -> "Jenkins Job".equals(p.getType().getName())).findFirst();" is 158.,62
ontrack,net.nemerosa.ontrack.boot.ui,PropertyControllerIT,property_edition_form_for_an_existing_property,Long Statement,The length of the statement "Project project=asUser().with(ProjectCreation.class).call(() -> structureService.newProject(Project.of(nameDescription())));" is 124.,85
ontrack,net.nemerosa.ontrack.boot.ui,PropertyControllerIT,property_edition_form_for_an_existing_property,Long Statement,The length of the statement "asUser().with(GlobalSettings.class).call(() -> jenkinsController.newConfiguration(new JenkinsConfiguration(configurationName`"http://jenkins"`""`"")));" is 151.,85
ontrack,net.nemerosa.ontrack.boot.ui,PropertyControllerIT,property_edition_form_for_an_existing_property,Long Statement,The length of the statement "controller.editProperty(ProjectEntityType.PROJECT`project.getId()`JenkinsJobPropertyType.class.getName()`object().with("configuration"`configurationName).with("job"`"MyJob").end());" is 181.,85
ontrack,net.nemerosa.ontrack.boot.ui,PropertyControllerIT,property_edition_form_for_an_existing_property,Long Statement,The length of the statement "Resource<Property<?>> propertyResource=controller.getPropertyValue(ProjectEntityType.PROJECT`project.getId()`JenkinsJobPropertyType.class.getName());" is 149.,85
ontrack,net.nemerosa.ontrack.boot.ui,PropertyControllerIT,property_edition_form_for_an_existing_property,Long Statement,The length of the statement "@SuppressWarnings("unchecked") Property<JenkinsJobProperty> property=(Property<JenkinsJobProperty>)propertyResource.getData();" is 126.,85
ontrack,net.nemerosa.ontrack.boot.ui,PropertyControllerIT,property_edition_form_for_an_existing_property,Long Statement,The length of the statement "Form form=controller.getPropertyEditionForm(ProjectEntityType.PROJECT`project.getId()`JenkinsJobPropertyType.class.getName());" is 126.,85
ontrack,net.nemerosa.ontrack.boot.ui,PropertyControllerIT,property_edition_form_for_an_existing_property,Magic Number,The method contains a magic number: 2,85
ontrack,net.nemerosa.ontrack.boot.ui,ResourceAccountTest,logged_to_json,Long Statement,The length of the statement "assertJsonWrite(object().with("_self"`"urn:user").with("account"`object().with("id"`1).with("name"`"admin").with("fullName"`"Administrator").with("email"`"").with("authenticationSource"`object().with("id"`"none").with("name"`"Not defined").end()).with("role"`"ADMINISTRATOR").with("accountGroups"`array().end()).with("defaultAdmin"`true).end()).with("actions"`array().end()).with("logged"`true).end()`Resource.of(ConnectedAccount.of(Account.of("admin"`"Administrator"`""`SecurityRole.ADMINISTRATOR`AuthenticationSource.none()).withId(ID.of(1)).lock())`URI.create("urn:user")));" is 577.,20
ontrack,net.nemerosa.ontrack.boot.ui,ResourceAccountTest,not_logged_to_json,Long Statement,The length of the statement "assertJsonWrite(object().with("_self"`"urn:user").with("account"`(String)null).with("actions"`array().end()).with("logged"`false).end()`Resource.of(ConnectedAccount.none()`URI.create("urn:user")));" is 197.,52
ontrack,net.nemerosa.ontrack.boot,BuildSearchProvider,search,Long Statement,The length of the statement "return structureService.getProjectList().stream().flatMap(project -> structureService.getBranchesForProject(project.getId()).stream()).map(branch -> structureService.findBuildByName(branch.getProject().getName()`branch.getName()`token)).filter(Optional::isPresent).map(Optional::get).map(build -> new SearchResult(build.getName()`String.format("Build %s on branch %s project %s"`build.getName()`build.getBranch().getName()`build.getBranch().getProject().getName())`uri(MvcUriComponentsBuilder.on(BuildController.class).getBuild(build.getId()))`String.format("/build/%d"`build.id())`100)).collect(Collectors.toList());" is 617.,34
ontrack,net.nemerosa.ontrack.boot,BuildSearchProvider,search,Magic Number,The method contains a magic number: 100,34
ontrack,net.nemerosa.ontrack.boot,BranchSearchProvider,search,Long Statement,The length of the statement "return structureService.getProjectList().stream().map(Project::getName).map(project -> structureService.findBranchByName(project`token)).filter(Optional::isPresent).map(Optional::get).map(branch -> new SearchResult(branch.getName()`String.format("%s branch on project %s"`branch.getName()`branch.getProject().getName())`uri(MvcUriComponentsBuilder.on(BranchController.class).getBranch(branch.getId()))`String.format("/branch/%d"`branch.id())`100)).collect(Collectors.toList());" is 477.,35
ontrack,net.nemerosa.ontrack.boot,BranchSearchProvider,search,Magic Number,The method contains a magic number: 100,35
ontrack,net.nemerosa.ontrack.boot,ProjectSearchProvider,search,Long Statement,The length of the statement "return Collections.singletonList(new SearchResult(project.get().getName()`String.format("%s project"`project.get().getName())`uri(MvcUriComponentsBuilder.on(ProjectController.class).getProject(project.get().getId()))`String.format("/project/%d"`project.get().id())`100));" is 271.,35
ontrack,net.nemerosa.ontrack.boot,ProjectSearchProvider,search,Magic Number,The method contains a magic number: 100,35
ontrack,net.nemerosa.ontrack.boot.resources,GlobalPermissionResourceDecorator,links,Long Statement,The length of the statement "return resourceContext.links().link(Link.UPDATE`on(PermissionController.class).saveGlobalPermission(permission.getTarget().getType()`permission.getTarget().getId()`null)).link(Link.DELETE`on(PermissionController.class).deleteGlobalPermission(permission.getTarget().getType()`permission.getTarget().getId())).build();" is 316.,19
ontrack,net.nemerosa.ontrack.boot.resources,BuildResourceDecorator,links,Long Statement,The length of the statement "return resourceContext.links().self(on(BuildController.class).getBuild(build.getId())).link("_lastPromotionRuns"`on(BuildController.class).getLastPromotionRuns(build.getId())).link("_validationRuns"`on(ValidationRunController.class).getValidationRuns(build.getId())).link("_validationStampRunViews"`on(ValidationRunController.class).getValidationStampRunViews(build.getId())).link("_promote"`on(BuildController.class).newPromotionRunForm(build.getId())`PromotionRunCreate.class`build.getBranch().getProject().id()).link("_validate"`on(ValidationRunController.class).newValidationRunForm(build.getId())`ValidationRunCreate.class`build.getBranch().getProject().id()).link("_properties"`on(PropertyController.class).getProperties(ProjectEntityType.BUILD`build.getId())).link("_actions"`on(ProjectEntityExtensionController.class).getActions(ProjectEntityType.BUILD`build.getId())).link("_extra"`on(ProjectEntityExtensionController.class).getInformation(ProjectEntityType.BUILD`build.getId())).update(on(BuildController.class).updateBuild(build.getId()`null)`BuildEdit.class`build.projectId()).delete(on(BuildController.class).deleteBuild(build.getId())`BuildDelete.class`build.projectId()).link("_decorations"`on(DecorationsController.class).getDecorations(build.getProjectEntityType()`build.getId())).build();" is 1306.,24
ontrack,net.nemerosa.ontrack.boot.resources,ConnectedAccountResourceDecorator,links,Long Statement,The length of the statement "return resourceContext.links().self(on(UserController.class).getCurrentUser()).link("login"`on(UserController.class).loginForm()`!account.isLogged()).build();" is 158.,19
ontrack,net.nemerosa.ontrack.boot.resources,ValidationStampResourceDecorator,links,Long Statement,The length of the statement "return resourceContext.links().self(on(ValidationStampController.class).getValidationStamp(validationStamp.getId())).link("_branch"`on(BranchController.class).getBranch(validationStamp.getBranch().getId())).link("_project"`on(ProjectController.class).getProject(validationStamp.getBranch().getProject().getId())).link(Link.IMAGE_LINK`on(ValidationStampController.class).getValidationStampImage_(validationStamp.getId())).update(on(ValidationStampController.class).updateValidationStampForm(validationStamp.getId())`ValidationStampEdit.class`validationStamp.projectId()).delete(on(ValidationStampController.class).deleteValidationStamp(validationStamp.getId())`ValidationStampDelete.class`validationStamp.projectId()).link("_properties"`on(PropertyController.class).getProperties(ProjectEntityType.VALIDATION_STAMP`validationStamp.getId())).link("_decorations"`on(DecorationsController.class).getDecorations(validationStamp.getProjectEntityType()`validationStamp.getId())).build();" is 980.,22
ontrack,net.nemerosa.ontrack.boot.resources,AccountResourceDecorator,links,Long Statement,The length of the statement "return resourceContext.links().self(on(AccountController.class).getAccount(account.getId())).link(Link.UPDATE`on(AccountController.class).getUpdateForm(account.getId())).link(Link.DELETE`on(AccountController.class).deleteAccount(account.getId())`!account.isDefaultAdmin()).build();" is 281.,19
ontrack,net.nemerosa.ontrack.boot.resources,ValidationRunResourceDecorator,links,Long Statement,The length of the statement "return resourceContext.links().self(on(ValidationRunController.class).getValidationRun(validationRun.getId())).link(Link.IMAGE_LINK`on(ValidationStampController.class).getValidationStampImage_(validationRun.getValidationStamp().getId())).link("_validationStampLink"`on(ValidationStampController.class).getValidationStamp(validationRun.getValidationStamp().getId())).link("_validationRunStatusChange"`on(ValidationRunController.class).getValidationRunStatusChangeForm(validationRun.getId())`resourceContext.isProjectFunctionGranted(validationRun.getBuild().getBranch().getProject().id()`ValidationRunStatusChange.class) && !validationRun.getLastStatus().getStatusID().getFollowingStatuses().isEmpty()).build();" is 709.,21
ontrack,net.nemerosa.ontrack.boot.resources,ProjectResourceDecorator,links,Long Statement,The length of the statement "return resourceContext.links().self(on(ProjectController.class).getProject(project.getId())).link("_branches"`on(BranchController.class).getBranchListForProject(project.getId())).link("_branchStatusViews"`on(ProjectController.class).getBranchStatusViews(project.getId())).link("_properties"`on(PropertyController.class).getProperties(ProjectEntityType.PROJECT`project.getId())).link("_actions"`on(ProjectEntityExtensionController.class).getActions(ProjectEntityType.PROJECT`project.getId())).update(on(ProjectController.class).saveProject(project.getId()`null)`ProjectEdit.class`project.id()).delete(on(ProjectController.class).deleteProject(project.getId())`ProjectDelete.class`project.id()).link("_decorations"`on(DecorationsController.class).getDecorations(project.getProjectEntityType()`project.getId())).build();" is 817.,22
ontrack,net.nemerosa.ontrack.boot.resources,BranchResourceDecorator,links,Long Statement,The length of the statement "return resourceContext.links().self(on(BranchController.class).getBranch(branch.getId())).link("_project"`on(ProjectController.class).getProject(branch.getProject().getId())).link("_createBuild"`on(BuildController.class).newBuild(branch.getId()`null)`BuildCreate.class`branch.getProject().id()).link("_createPromotionLevel"`on(PromotionLevelController.class).newPromotionLevelForm(branch.getId())`PromotionLevelCreate.class`branch.getProject().id()).link("_promotionLevels"`on(PromotionLevelController.class).getPromotionLevelListForBranch(branch.getId())).link("_createValidationStamp"`on(ValidationStampController.class).newValidationStampForm(branch.getId())`ValidationStampCreate.class`branch.getProject().id()).link("_validationStamps"`on(ValidationStampController.class).getValidationStampListForBranch(branch.getId())).link("_properties"`on(PropertyController.class).getProperties(ProjectEntityType.BRANCH`branch.getId())).link("_actions"`on(ProjectEntityExtensionController.class).getActions(ProjectEntityType.BRANCH`branch.getId())).update(on(BranchController.class).getUpdateForm(branch.getId())`BranchEdit.class`branch.projectId()).delete(on(BranchController.class).deleteBranch(branch.getId())`BranchDelete.class`branch.projectId()).link("_status"`on(BranchController.class).getBranchStatusView(branch.getId())).link("_view"`on(BranchController.class).buildView(branch.getId())).link("_decorations"`on(DecorationsController.class).getDecorations(branch.getProjectEntityType()`branch.getId())).link("_buildFilterResources"`on(BuildFilterController.class).buildFilters(branch.getId())).link("_buildFilterForms"`on(BuildFilterController.class).buildFilterForms(branch.getId())).link("_buildFilterSave"`on(BuildFilterController.class).createFilter(branch.getId()`null)).link("_reorderPromotionLevels"`on(PromotionLevelController.class).reorderPromotionLevelListForBranch(branch.getId()`null)`PromotionLevelEdit.class`branch.projectId()).link("_reorderValidationStamps"`on(ValidationStampController.class).reorderValidationStampListForBranch(branch.getId()`null)`ValidationStampEdit.class`branch.projectId()).build();" is 2124.,21
ontrack,net.nemerosa.ontrack.boot.resources,AccountGroupResourceDecorator,links,Long Statement,The length of the statement "return resourceContext.links().self(on(AccountController.class).getGroup(group.getId())).link(Link.UPDATE`on(AccountController.class).getGroupUpdateForm(group.getId())).link(Link.DELETE`on(AccountController.class).deleteGroup(group.getId())).build();" is 250.,19
ontrack,net.nemerosa.ontrack.boot.resources,CoreResourceModule,decorators,Long Statement,The length of the statement "return Arrays.asList(new ConnectedAccountResourceDecorator()`new ProjectResourceDecorator()`new BranchResourceDecorator()`new PromotionLevelResourceDecorator()`new ValidationStampResourceDecorator()`new BuildResourceDecorator()`new PromotionRunResourceDecorator()`new ValidationRunResourceDecorator()`new BuildFilterResourceDecorator()`new AccountResourceDecorator()`new AccountGroupResourceDecorator()`new GlobalPermissionResourceDecorator());" is 444.,13
ontrack,net.nemerosa.ontrack.boot.resources,BuildFilterResourceDecorator,links,Long Statement,The length of the statement "return resourceContext.links().link(Link.UPDATE`on(BuildFilterController.class).getEditionForm(resource.getBranchId()`resource.getName())).link(Link.DELETE`on(BuildFilterController.class).deleteFilter(resource.getBranchId()`resource.getName())).build();" is 253.,19
ontrack,net.nemerosa.ontrack.boot.resources,PromotionLevelResourceDecorator,links,Long Statement,The length of the statement "return resourceContext.links().self(on(PromotionLevelController.class).getPromotionLevel(promotionLevel.getId())).link("_branch"`on(BranchController.class).getBranch(promotionLevel.getBranch().getId())).link("_project"`on(ProjectController.class).getProject(promotionLevel.getBranch().getProject().getId())).link(Link.IMAGE_LINK`on(PromotionLevelController.class).getPromotionLevelImage_(promotionLevel.getId())).update(on(PromotionLevelController.class).updatePromotionLevelForm(promotionLevel.getId())`PromotionLevelEdit.class`promotionLevel.projectId()).delete(on(PromotionLevelController.class).deletePromotionLevel(promotionLevel.getId())`PromotionLevelDelete.class`promotionLevel.projectId()).link("_decorations"`on(DecorationsController.class).getDecorations(promotionLevel.getProjectEntityType()`promotionLevel.getId())).build();" is 837.,24
ontrack,net.nemerosa.ontrack.boot.resources,PromotionRunResourceDecorator,links,Long Statement,The length of the statement "return resourceContext.links().self(on(BuildController.class).getPromotionRun(promotionRun.getId())).link(Link.IMAGE_LINK`on(PromotionLevelController.class).getPromotionLevelImage_(promotionRun.getPromotionLevel().getId())).build();" is 232.,20
ontrack,net.nemerosa.ontrack.boot.resources,CoreResourceModuleTest,before,Long Statement,The length of the statement "mapper=new ResourceObjectMapperFactory().resourceObjectMapper(Arrays.asList(new CoreResourceModule())`new DefaultResourceContext(new MockURIBuilder()`securityService));" is 168.,32
ontrack,net.nemerosa.ontrack.boot.resources,CoreResourceModuleTest,project_granted_for_update,Long Statement,The length of the statement "assertResourceJson(mapper`object().with("id"`1).with("name"`"P").with("description"`"Project").with("_self"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectController#getProject:1").with("_branches"`"urn:test:net.nemerosa.ontrack.boot.ui.BranchController#getBranchListForProject:1").with("_branchStatusViews"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectController#getBranchStatusViews:1").with("_properties"`"urn:test:net.nemerosa.ontrack.boot.ui.PropertyController#getProperties:PROJECT`1").with("_actions"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectEntityExtensionController#getActions:PROJECT`1").with("_update"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectController#saveProject:1`").with("_decorations"`"urn:test:net.nemerosa.ontrack.boot.ui.DecorationsController#getDecorations:PROJECT`1").end()`p);" is 809.,57
ontrack,net.nemerosa.ontrack.boot.resources,CoreResourceModuleTest,branch_no_grant,Long Statement,The length of the statement "assertResourceJson(mapper`object().with("id"`1).with("name"`"B").with("description"`"Branch").with("project"`object().with("id"`1).with("name"`"P").with("description"`"Project").with("_self"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectController#getProject:1").with("_branches"`"urn:test:net.nemerosa.ontrack.boot.ui.BranchController#getBranchListForProject:1").with("_branchStatusViews"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectController#getBranchStatusViews:1").with("_properties"`"urn:test:net.nemerosa.ontrack.boot.ui.PropertyController#getProperties:PROJECT`1").with("_actions"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectEntityExtensionController#getActions:PROJECT`1").with("_decorations"`"urn:test:net.nemerosa.ontrack.boot.ui.DecorationsController#getDecorations:PROJECT`1").end()).with("_self"`"urn:test:net.nemerosa.ontrack.boot.ui.BranchController#getBranch:1").with("_project"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectController#getProject:1").with("_promotionLevels"`"urn:test:net.nemerosa.ontrack.boot.ui.PromotionLevelController#getPromotionLevelListForBranch:1").with("_validationStamps"`"urn:test:net.nemerosa.ontrack.boot.ui.ValidationStampController#getValidationStampListForBranch:1").with("_properties"`"urn:test:net.nemerosa.ontrack.boot.ui.PropertyController#getProperties:BRANCH`1").with("_actions"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectEntityExtensionController#getActions:BRANCH`1").with("_status"`"urn:test:net.nemerosa.ontrack.boot.ui.BranchController#getBranchStatusView:1").with("_view"`"urn:test:net.nemerosa.ontrack.boot.ui.BranchController#buildView:1").with("_decorations"`"urn:test:net.nemerosa.ontrack.boot.ui.DecorationsController#getDecorations:BRANCH`1").with("_buildFilterResources"`"urn:test:net.nemerosa.ontrack.boot.ui.BuildFilterController#buildFilters:1").with("_buildFilterForms"`"urn:test:net.nemerosa.ontrack.boot.ui.BuildFilterController#buildFilterForms:1").with("_buildFilterSave"`"urn:test:net.nemerosa.ontrack.boot.ui.BuildFilterController#createFilter:1`").end()`b);" is 2044.,79
ontrack,net.nemerosa.ontrack.boot.resources,CoreResourceModuleTest,project_not_granted_for_update,Long Statement,The length of the statement "assertResourceJson(mapper`object().with("id"`1).with("name"`"P").with("description"`"Project").with("_self"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectController#getProject:1").with("_branches"`"urn:test:net.nemerosa.ontrack.boot.ui.BranchController#getBranchListForProject:1").with("_branchStatusViews"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectController#getBranchStatusViews:1").with("_properties"`"urn:test:net.nemerosa.ontrack.boot.ui.PropertyController#getProperties:PROJECT`1").with("_actions"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectEntityExtensionController#getActions:PROJECT`1").with("_decorations"`"urn:test:net.nemerosa.ontrack.boot.ui.DecorationsController#getDecorations:PROJECT`1").end()`p);" is 720.,120
ontrack,net.nemerosa.ontrack.boot.resources,CoreResourceModuleTest,promotion_level_image_link_and_ignored_branch,Long Statement,The length of the statement "assertResourceJson(mapper`object().with("id"`1).with("name"`"PL").with("description"`"Promotion level").with("image"`false).with("_self"`"urn:test:net.nemerosa.ontrack.boot.ui.PromotionLevelController#getPromotionLevel:1").with("_branch"`"urn:test:net.nemerosa.ontrack.boot.ui.BranchController#getBranch:1").with("_project"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectController#getProject:1").with("_image"`"urn:test:net.nemerosa.ontrack.boot.ui.PromotionLevelController#getPromotionLevelImage_:1").with("_decorations"`"urn:test:net.nemerosa.ontrack.boot.ui.DecorationsController#getDecorations:PROMOTION_LEVEL`1").end()`pl`Branch.class);" is 641.,140
ontrack,net.nemerosa.ontrack.boot.resources,CoreResourceModuleTest,promotion_level_image_link_and_include_branch,Long Statement,The length of the statement "assertResourceJson(mapper`object().with("id"`1).with("name"`"PL").with("description"`"Promotion level").with("image"`false).with("branch"`object().with("id"`1).with("name"`"B").with("description"`"Branch").with("project"`object().with("id"`1).with("name"`"P").with("description"`"Project").with("_self"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectController#getProject:1").with("_branches"`"urn:test:net.nemerosa.ontrack.boot.ui.BranchController#getBranchListForProject:1").with("_branchStatusViews"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectController#getBranchStatusViews:1").with("_properties"`"urn:test:net.nemerosa.ontrack.boot.ui.PropertyController#getProperties:PROJECT`1").with("_actions"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectEntityExtensionController#getActions:PROJECT`1").with("_decorations"`"urn:test:net.nemerosa.ontrack.boot.ui.DecorationsController#getDecorations:PROJECT`1").end()).with("_self"`"urn:test:net.nemerosa.ontrack.boot.ui.BranchController#getBranch:1").with("_project"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectController#getProject:1").with("_promotionLevels"`"urn:test:net.nemerosa.ontrack.boot.ui.PromotionLevelController#getPromotionLevelListForBranch:1").with("_validationStamps"`"urn:test:net.nemerosa.ontrack.boot.ui.ValidationStampController#getValidationStampListForBranch:1").with("_properties"`"urn:test:net.nemerosa.ontrack.boot.ui.PropertyController#getProperties:BRANCH`1").with("_actions"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectEntityExtensionController#getActions:BRANCH`1").with("_status"`"urn:test:net.nemerosa.ontrack.boot.ui.BranchController#getBranchStatusView:1").with("_view"`"urn:test:net.nemerosa.ontrack.boot.ui.BranchController#buildView:1").with("_decorations"`"urn:test:net.nemerosa.ontrack.boot.ui.DecorationsController#getDecorations:BRANCH`1").with("_buildFilterResources"`"urn:test:net.nemerosa.ontrack.boot.ui.BuildFilterController#buildFilters:1").with("_buildFilterForms"`"urn:test:net.nemerosa.ontrack.boot.ui.BuildFilterController#buildFilterForms:1").with("_buildFilterSave"`"urn:test:net.nemerosa.ontrack.boot.ui.BuildFilterController#createFilter:1`").end()).with("_self"`"urn:test:net.nemerosa.ontrack.boot.ui.PromotionLevelController#getPromotionLevel:1").with("_branch"`"urn:test:net.nemerosa.ontrack.boot.ui.BranchController#getBranch:1").with("_project"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectController#getProject:1").with("_image"`"urn:test:net.nemerosa.ontrack.boot.ui.PromotionLevelController#getPromotionLevelImage_:1").with("_decorations"`"urn:test:net.nemerosa.ontrack.boot.ui.DecorationsController#getDecorations:PROMOTION_LEVEL`1").end()`pl);" is 2658.,165
ontrack,net.nemerosa.ontrack.boot.resources,CoreResourceModuleTest,resource_collection_with_filtering,Long Statement,The length of the statement "List<Branch> branches=Arrays.asList(Branch.of(project`new NameDescription("B1"`"Branch 1")).withId(ID.of(1))`Branch.of(project`new NameDescription("B2"`"Branch 2")).withId(ID.of(2)));" is 183.,217
ontrack,net.nemerosa.ontrack.boot.resources,CoreResourceModuleTest,resource_collection_with_filtering,Long Statement,The length of the statement "assertResourceJson(mapper`object().with("_self"`"urn:branch").with("resources"`array().with(object().with("id"`1).with("name"`"B1").with("description"`"Branch 1").with("_self"`"urn:test:net.nemerosa.ontrack.boot.ui.BranchController#getBranch:1").with("_project"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectController#getProject:1").with("_promotionLevels"`"urn:test:net.nemerosa.ontrack.boot.ui.PromotionLevelController#getPromotionLevelListForBranch:1").with("_validationStamps"`"urn:test:net.nemerosa.ontrack.boot.ui.ValidationStampController#getValidationStampListForBranch:1").with("_properties"`"urn:test:net.nemerosa.ontrack.boot.ui.PropertyController#getProperties:BRANCH`1").with("_actions"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectEntityExtensionController#getActions:BRANCH`1").with("_status"`"urn:test:net.nemerosa.ontrack.boot.ui.BranchController#getBranchStatusView:1").with("_view"`"urn:test:net.nemerosa.ontrack.boot.ui.BranchController#buildView:1").with("_decorations"`"urn:test:net.nemerosa.ontrack.boot.ui.DecorationsController#getDecorations:BRANCH`1").with("_buildFilterResources"`"urn:test:net.nemerosa.ontrack.boot.ui.BuildFilterController#buildFilters:1").with("_buildFilterForms"`"urn:test:net.nemerosa.ontrack.boot.ui.BuildFilterController#buildFilterForms:1").with("_buildFilterSave"`"urn:test:net.nemerosa.ontrack.boot.ui.BuildFilterController#createFilter:1`").end()).with(object().with("id"`2).with("name"`"B2").with("description"`"Branch 2").with("_self"`"urn:test:net.nemerosa.ontrack.boot.ui.BranchController#getBranch:2").with("_project"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectController#getProject:1").with("_promotionLevels"`"urn:test:net.nemerosa.ontrack.boot.ui.PromotionLevelController#getPromotionLevelListForBranch:2").with("_validationStamps"`"urn:test:net.nemerosa.ontrack.boot.ui.ValidationStampController#getValidationStampListForBranch:2").with("_properties"`"urn:test:net.nemerosa.ontrack.boot.ui.PropertyController#getProperties:BRANCH`2").with("_actions"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectEntityExtensionController#getActions:BRANCH`2").with("_status"`"urn:test:net.nemerosa.ontrack.boot.ui.BranchController#getBranchStatusView:2").with("_view"`"urn:test:net.nemerosa.ontrack.boot.ui.BranchController#buildView:2").with("_decorations"`"urn:test:net.nemerosa.ontrack.boot.ui.DecorationsController#getDecorations:BRANCH`2").with("_buildFilterResources"`"urn:test:net.nemerosa.ontrack.boot.ui.BuildFilterController#buildFilters:2").with("_buildFilterForms"`"urn:test:net.nemerosa.ontrack.boot.ui.BuildFilterController#buildFilterForms:2").with("_buildFilterSave"`"urn:test:net.nemerosa.ontrack.boot.ui.BuildFilterController#createFilter:2`").end()).end()).end()`resourceCollection);" is 2754.,217
ontrack,net.nemerosa.ontrack.boot.resources,CoreResourceModuleTest,resource_collection_with_filtering,Magic Number,The method contains a magic number: 2,217
ontrack,net.nemerosa.ontrack.boot.resources,CoreResourceModuleTest,resource_collection_with_filtering,Magic Number,The method contains a magic number: 2,217
ontrack,net.nemerosa.ontrack.boot.resources,CoreResourceModuleTest,account_group_links,Long Statement,The length of the statement "assertResourceJson(mapper`object().with("id"`0).with("name"`"Admins").with("description"`"Administrators").with("_self"`"urn:test:net.nemerosa.ontrack.boot.ui.AccountController#getGroup:0").with("_update"`"urn:test:net.nemerosa.ontrack.boot.ui.AccountController#getGroupUpdateForm:0").with("_delete"`"urn:test:net.nemerosa.ontrack.boot.ui.AccountController#deleteGroup:0").end()`AccountGroup.of("Admins"`"Administrators"));" is 423.,274
ontrack,net.nemerosa.ontrack.boot.support,WebSecurityConfig,configure,Long Identifier,The length of the field apiBasicAuthenticationEntryPoint is 32.,21
ontrack,net.nemerosa.ontrack.boot.support,WebSecurityConfig,configure,Long Statement,The length of the statement "http.antMatcher("/**").httpBasic().authenticationEntryPoint(apiBasicAuthenticationEntryPoint).realmName("ontrack").and().logout().logoutUrl("/user/logout").logoutSuccessUrl("/user/logged-out").and().csrf().disable().authorizeRequests().antMatchers("/**").permitAll().anyRequest().authenticated();" is 296.,21
ontrack,net.nemerosa.ontrack.boot.support,ResourceHttpMessageConverterTest,before,Long Statement,The length of the statement "converter=new ResourceHttpMessageConverter(new MockURIBuilder()`securityService`Arrays.asList(new CoreResourceModule()));" is 121.,29
ontrack,net.nemerosa.ontrack.boot.support,ResourceHttpMessageConverterTest,branch,Long Statement,The length of the statement "TestUtils.assertJsonEquals(object().with("id"`1).with("name"`"B").with("description"`"Branch").with("project"`object().with("id"`1).with("name"`"P").with("description"`"Projet créé").with("_self"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectController#getProject:1").with("_branches"`"urn:test:net.nemerosa.ontrack.boot.ui.BranchController#getBranchListForProject:1").with("_branchStatusViews"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectController#getBranchStatusViews:1").with("_properties"`"urn:test:net.nemerosa.ontrack.boot.ui.PropertyController#getProperties:PROJECT`1").with("_actions"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectEntityExtensionController#getActions:PROJECT`1").with("_decorations"`"urn:test:net.nemerosa.ontrack.boot.ui.DecorationsController#getDecorations:PROJECT`1").end()).with("_self"`"urn:test:net.nemerosa.ontrack.boot.ui.BranchController#getBranch:1").with("_project"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectController#getProject:1").with("_promotionLevels"`"urn:test:net.nemerosa.ontrack.boot.ui.PromotionLevelController#getPromotionLevelListForBranch:1").with("_validationStamps"`"urn:test:net.nemerosa.ontrack.boot.ui.ValidationStampController#getValidationStampListForBranch:1").with("_properties"`"urn:test:net.nemerosa.ontrack.boot.ui.PropertyController#getProperties:BRANCH`1").with("_actions"`"urn:test:net.nemerosa.ontrack.boot.ui.ProjectEntityExtensionController#getActions:BRANCH`1").with("_status"`"urn:test:net.nemerosa.ontrack.boot.ui.BranchController#getBranchStatusView:1").with("_view"`"urn:test:net.nemerosa.ontrack.boot.ui.BranchController#buildView:1").with("_decorations"`"urn:test:net.nemerosa.ontrack.boot.ui.DecorationsController#getDecorations:BRANCH`1").with("_buildFilterResources"`"urn:test:net.nemerosa.ontrack.boot.ui.BuildFilterController#buildFilters:1").with("_buildFilterForms"`"urn:test:net.nemerosa.ontrack.boot.ui.BuildFilterController#buildFilterForms:1").with("_buildFilterSave"`"urn:test:net.nemerosa.ontrack.boot.ui.BuildFilterController#createFilter:1`").end()`node);" is 2052.,38
ontrack,net.nemerosa.ontrack.boot.support,JsonViewClassTest,view_class_resource_collection,Long Statement,The length of the statement "assertEquals(Object.class`getViewClass(Resources.of(Arrays.asList(Resource.of(project()`URI.create("urn:project")))`URI.create("urn:projects"))));" is 146.,55
ontrack,net.nemerosa.ontrack.boot.support,JsonViewClassTest,view_class_resource_collection_view_empty,Long Statement,The length of the statement "assertEquals(Project.class`getViewClass(Resources.of(Collections.emptyList()`URI.create("urn:projects")).forView(Project.class)));" is 130.,65
ontrack,net.nemerosa.ontrack.boot.support,JsonViewClassTest,view_class_resource_collection_view,Long Statement,The length of the statement "assertEquals(Project.class`getViewClass(Resources.of(Arrays.asList(Resource.of(project()`URI.create("urn:project")))`URI.create("urn:projects")).forView(Project.class)));" is 170.,73
ontrack,net.nemerosa.ontrack.ui.resource,ResourceDecoratorSerializer,serialize,Long Statement,The length of the statement "Validate.isTrue(resourceDecorator.appliesFor(bean.getClass())`format("The bean class <%s> cannot be processed by the <%s> decorator."`bean.getClass().getName()`resourceDecorator.getClass().getName()));" is 201.,66
ontrack,net.nemerosa.ontrack.ui.resource,AbstractResourceTest,before,Long Statement,The length of the statement "mapper=new ResourceObjectMapperFactory().resourceObjectMapper(Collections.emptyList()`new DefaultResourceContext(new MockURIBuilder()`securityService));" is 152.,19
ontrack,net.nemerosa.ontrack.ui.resource,ResourceTest,resource_to_json,Long Statement,The length of the statement "Resource<Dummy> resource=Resource.of(info`URI.create("http://host/dummy")).with("connectors"`URI.create("http://host/dummy/test"));" is 131.,13
ontrack,net.nemerosa.ontrack.ui.resource,ResourceTest,resource_to_json,Long Statement,The length of the statement "assertResourceJson(mapper`object().with("_self"`"http://host/dummy").with("version"`"1.0.0").with("connectors"`"http://host/dummy/test").end()`resource);" is 153.,13
ontrack,net.nemerosa.ontrack.ui.resource,ResourcesTest,to_json,Long Statement,The length of the statement "assertResourceJson(mapper`object().with("_self"`"http://host/dummy").with("resources"`array().with(object().with("version"`"1").end()).with(object().with("version"`"2").end()).end()).end()`ObjectMapperFactory.create().valueToTree(collection));" is 243.,19
ontrack,net.nemerosa.ontrack.ui.resource,ResourcesTest,resource_collection_with_filtering,Long Statement,The length of the statement "List<Branch> branches=Arrays.asList(Branch.of(project`new NameDescription("B1"`"Branch 1"))`Branch.of(project`new NameDescription("B2"`"Branch 2")));" is 149.,45
ontrack,net.nemerosa.ontrack.ui.resource,ResourcesTest,resource_collection_with_filtering,Long Statement,The length of the statement "assertResourceJson(mapper`object().with("_self"`"urn:branch").with("resources"`array().with(object().with("id"`0).with("name"`"B1").with("description"`"Branch 1").end()).with(object().with("id"`0).with("name"`"B2").with("description"`"Branch 2").end()).end()).end()`resourceCollection`Resources.class);" is 302.,45
ontrack,net.nemerosa.ontrack.ui.controller,MockURIBuilder,build,Long Statement,The length of the statement "return URI.create(format("urn:test:%s#%s:%s"`info.getControllerMethod().getDeclaringClass().getName()`info.getControllerMethod().getName()`StringUtils.join(info.getArgumentValues()`"`")));" is 188.,16
ontrack,net.nemerosa.ontrack.ui.support,StringToID,convert,Magic Number,The method contains a magic number: 10,8
ontrack,net.nemerosa.ontrack.extension.issues.model,IssueServiceConfigurationRepresentation,of,Long Statement,The length of the statement "return new IssueServiceConfigurationRepresentation(issueServiceConfiguration.toIdentifier().format()`String.format("%s (%s)"`issueServiceConfiguration.getName()`issueServiceExtension.getName())`issueServiceExtension.getId());" is 225.,24
ontrack,net.nemerosa.ontrack.extension.issues.model,ConfiguredIssueService,formatIssuesInMessage,Long Statement,The length of the statement "return issueServiceExtension.getMessageAnnotator(issueServiceConfiguration).map(annotator -> MessageAnnotationUtils.annotate(message`Collections.singletonList(annotator))).orElse("");" is 183.,23
ontrack,net.nemerosa.ontrack.extension.issues,IssueServiceRegistry,getConfiguredIssueService,Long Identifier,The length of the parameter issueServiceConfigurationIdentifier is 35.,39
ontrack,net.nemerosa.ontrack.extension.issues.support,IssueServiceRegistryImpl,getIssueServiceExtensionMap,Long Statement,The length of the statement "return extensionManager.getAllExtensions(IssueServiceExtension.class).stream().map(AvailableExtension::getExtension).collect(Collectors.toMap(IssueServiceExtension::getId`x -> x));" is 180.,28
ontrack,net.nemerosa.ontrack.extension.issues.support,IssueServiceRegistryImpl,getIssueService,Long Statement,The length of the statement "return getOptionalIssueService(id).filter(extensionManager::isExtensionEnabled).orElseThrow(() -> new IssueServiceNotAvailableException(id));" is 141.,43
ontrack,net.nemerosa.ontrack.extension.issues.support,IssueServiceRegistryImpl,getAvailableIssueServiceConfigurations,Long Identifier,The length of the identifier issueServiceConfigurationRepresentations is 40.,55
ontrack,net.nemerosa.ontrack.extension.issues.support,IssueServiceRegistryImpl,getAvailableIssueServiceConfigurations,Long Statement,The length of the statement "issueServiceConfigurationRepresentations.add(IssueServiceConfigurationRepresentation.of(issueServiceExtension`issueServiceConfiguration));" is 138.,55
ontrack,net.nemerosa.ontrack.extension.issues.support,IssueServiceRegistryImpl,getConfiguredIssueService,Long Identifier,The length of the parameter issueServiceConfigurationIdentifier is 35.,81
ontrack,net.nemerosa.ontrack.extension.issues.support,IssueServiceRegistryImpl,getConfiguredIssueService,Long Statement,The length of the statement "IssueServiceConfigurationIdentifier identifier=IssueServiceConfigurationIdentifier.parse(issueServiceConfigurationIdentifier);" is 126.,81
ontrack,net.nemerosa.ontrack.extension.jenkins,JenkinsConfigurationResourceDecorator,links,Long Statement,The length of the statement "return resourceContext.links().self(on(JenkinsController.class).getConfiguration(configuration.getName())).link(Link.UPDATE`on(JenkinsController.class).updateConfigurationForm(configuration.getName())).link(Link.DELETE`on(JenkinsController.class).deleteConfiguration(configuration.getName())).build();" is 301.,25
ontrack,net.nemerosa.ontrack.extension.jenkins,JenkinsJobDecorationExtension,getScope,Long Statement,The length of the statement "return EnumSet.of(ProjectEntityType.PROJECT`ProjectEntityType.BRANCH`ProjectEntityType.PROMOTION_LEVEL`ProjectEntityType.VALIDATION_STAMP);" is 139.,31
ontrack,net.nemerosa.ontrack.extension.jenkins,JenkinsJobDecorationExtension,getDecoration,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@1135c85f,57
ontrack,net.nemerosa.ontrack.extension.jenkins,JenkinsController,getDescription,Long Statement,The length of the statement "return Resource.of(feature.getFeatureDescription()`uri(MvcUriComponentsBuilder.on(getClass()).getDescription())).with("configurations"`uri(on(getClass()).getConfigurations())`securityService.isGlobalFunctionGranted(GlobalSettings.class));" is 238.,33
ontrack,net.nemerosa.ontrack.extension.jenkins,JenkinsController,getConfigurations,Long Statement,The length of the statement "return Resources.of(jenkinsService.getConfigurations()`uri(on(getClass()).getConfigurations())).with(Link.CREATE`uri(on(getClass()).getConfigurationForm()));" is 157.,44
ontrack,net.nemerosa.ontrack.extension.jenkins,AbstractJenkinsPropertyType,getEditionForm,Long Statement,The length of the statement "return Form.create().with(Selection.of("configuration").label("Configuration").help("Jenkins configuration to use when connecting").items(configurationService.getConfigurationDescriptors()).value(value != null ? value.getConfiguration().getName() : null));" is 256.,15
ontrack,net.nemerosa.ontrack.extension.jenkins,JenkinsBuildPropertyType,canEdit,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@435918c7,44
ontrack,net.nemerosa.ontrack.extension.jenkins,JenkinsBuildPropertyType,getEditionForm,Long Statement,The length of the statement "return super.getEditionForm(value).with(Text.of("job").label("Job name").length(120).help("Name of Jenkins Job").value(value != null ? value.getJob() : null)).with(Int.of("build").label("Build number").min(1).help("Jenkins Build number").value(value != null ? value.getBuild() : null));" is 286.,69
ontrack,net.nemerosa.ontrack.extension.jenkins,JenkinsBuildPropertyType,getEditionForm,Magic Number,The method contains a magic number: 120,69
ontrack,net.nemerosa.ontrack.extension.jenkins,JenkinsBuildPropertyType,forStorage,Long Statement,The length of the statement "return format(MapBuilder.params().with("configuration"`value.getConfiguration().getName()).with("job"`value.getJob()).with("build"`value.getBuild()).get());" is 156.,88
ontrack,net.nemerosa.ontrack.extension.jenkins,JenkinsJobPropertyType,getSupportedEntityTypes,Long Statement,The length of the statement "return EnumSet.of(ProjectEntityType.PROJECT`ProjectEntityType.BRANCH`ProjectEntityType.PROMOTION_LEVEL`ProjectEntityType.VALIDATION_STAMP);" is 139.,31
ontrack,net.nemerosa.ontrack.extension.jenkins,JenkinsJobPropertyType,getEditionForm,Long Statement,The length of the statement "return super.getEditionForm(value).with(Text.of("job").label("Job name").length(120).help("Name of Jenkins Job").value(value != null ? value.getJob() : null));" is 159.,57
ontrack,net.nemerosa.ontrack.extension.jenkins,JenkinsJobPropertyType,getEditionForm,Magic Number,The method contains a magic number: 120,57
ontrack,net.nemerosa.ontrack.extension.jenkins,JenkinsJobPropertyType,forStorage,Long Statement,The length of the statement "return format(MapBuilder.params().with("configuration"`value.getConfiguration().getName()).with("job"`value.getJob()).get());" is 125.,69
ontrack,net.nemerosa.ontrack.extension.jenkins,JenkinsConfiguration,form,Long Statement,The length of the statement "return Form.create().with(defaultNameField()).url().with(Text.of("user").label("User").length(16).optional()).with(Password.of("password").label("Password").length(40).optional());" is 180.,20
ontrack,net.nemerosa.ontrack.extension.jenkins,JenkinsConfiguration,form,Magic Number,The method contains a magic number: 16,20
ontrack,net.nemerosa.ontrack.extension.jenkins,JenkinsConfiguration,form,Magic Number,The method contains a magic number: 40,20
ontrack,net.nemerosa.ontrack.extension.jenkins.client,DefaultJenkinsClient,getJob,Complex Method,Cyclomatic complexity of the method is 12,25
ontrack,net.nemerosa.ontrack.extension.jenkins.client,DefaultJenkinsClientFactory,getClient,Long Statement,The length of the statement "return new DefaultJenkinsClient(clientFactory.getJsonClient(new ClientConnection(configuration.getUrl()`configuration.getUser()`configuration.getPassword())));" is 159.,21
ontrack,net.nemerosa.ontrack.extension.jenkins.model,JenkinsServiceTest,update_blank_password,Long Statement,The length of the statement "when(configurationRepository.find(JenkinsConfiguration.class`"test")).thenReturn(Optional.of(new JenkinsConfiguration("test"`"http://host"`"user"`"secret")));" is 158.,32
ontrack,net.nemerosa.ontrack.extension.jenkins.model,JenkinsServiceTest,update_blank_password_for_different_user,Long Statement,The length of the statement "when(configurationRepository.find(JenkinsConfiguration.class`"test")).thenReturn(Optional.of(new JenkinsConfiguration("test"`"http://host"`"user"`"secret")));" is 158.,43
ontrack,net.nemerosa.ontrack.extension.jenkins.model,JenkinsJobPropertyTypeTest,canEdit,Magic Number,The method contains a magic number: 2,50
ontrack,net.nemerosa.ontrack.extension.jenkins.model,JenkinsJobPropertyTypeTest,canEdit,Magic Number,The method contains a magic number: 10,50
ontrack,net.nemerosa.ontrack.extension.jenkins.model,JenkinsJobPropertyTypeTest,canEdit,Magic Number,The method contains a magic number: 20,50
ontrack,net.nemerosa.ontrack.extension.jenkins.model,JenkinsJobPropertyTypeTest,canEdit,Magic Number,The method contains a magic number: 2,50
ontrack,net.nemerosa.ontrack.extension.jenkins.model,JenkinsJobPropertyTypeTest,canView,Magic Number,The method contains a magic number: 2,62
ontrack,net.nemerosa.ontrack.extension.jenkins.model,JenkinsJobPropertyTypeTest,canView,Magic Number,The method contains a magic number: 10,62
ontrack,net.nemerosa.ontrack.extension.jenkins.model,JenkinsJobPropertyTypeTest,canView,Magic Number,The method contains a magic number: 20,62
ontrack,net.nemerosa.ontrack.extension.jenkins.model,JenkinsJobPropertyTypeTest,forStorage,Long Statement,The length of the statement "assertJsonEquals(object().with("configuration"`"MyConfig").with("job"`"MyJob").end()`type.forStorage(new JenkinsJobProperty(configuration`"MyJob")));" is 149.,72
ontrack,net.nemerosa.ontrack.extension.jenkins.model,JenkinsJobPropertyTypeTest,editionForm_for_new,Magic Number,The method contains a magic number: 2,118
ontrack,net.nemerosa.ontrack.extension.jenkins.model,JenkinsJobPropertyTypeTest,editionForm_for_update,Magic Number,The method contains a magic number: 2,134
ontrack,net.nemerosa.ontrack.service,StructureServiceImpl,getProjectList,Long Statement,The length of the statement "return list.stream().filter(p -> securityService.isProjectFunctionGranted(p.id()`ProjectView.class)).collect(Collectors.toList());" is 130.,58
ontrack,net.nemerosa.ontrack.service,StructureServiceImpl,getBranchStatusView,Long Statement,The length of the statement "return new BranchStatusView(branch`getLastBuildForBranch(branch)`getPromotionLevelListForBranch(branch.getId()).stream().map(this::toPromotionView).collect(Collectors.toList()));" is 178.,121
ontrack,net.nemerosa.ontrack.service,StructureServiceImpl,getValidationStampRunView,Long Statement,The length of the statement "return new ValidationStampRunView(stamp`runs.stream().filter(run -> run.getValidationStamp().id() == stamp.id()).collect(Collectors.toList()));" is 143.,256
ontrack,net.nemerosa.ontrack.service,StructureServiceImpl,reorderPromotionLevels,Long Statement,The length of the statement "throw new ReorderingSizeException("The reordering request should have the same number of IDs as the number" + " of the promotion levels");" is 138.,329
ontrack,net.nemerosa.ontrack.service,StructureServiceImpl,newPromotionRun,Long Statement,The length of the statement "Validate.isTrue(promotionRun.getPromotionLevel().getBranch().id() == promotionRun.getBuild().getBranch().id()`"Promotion for a promotion level can be done only on the same branch than the build.");" is 197.,346
ontrack,net.nemerosa.ontrack.service,StructureServiceImpl,findValidationStampByName,Long Statement,The length of the statement "return structureRepository.getValidationStampByName(project`branch`validationStamp).filter(vs -> securityService.isProjectFunctionGranted(vs`ProjectView.class));" is 161.,400
ontrack,net.nemerosa.ontrack.service,StructureServiceImpl,findBuildByName,Long Statement,The length of the statement "return structureRepository.getBuildByName(project`branch`build).filter(b -> securityService.isProjectFunctionGranted(b`ProjectView.class));" is 139.,406
ontrack,net.nemerosa.ontrack.service,StructureServiceImpl,reorderValidationStamps,Long Statement,The length of the statement "throw new ReorderingSizeException("The reordering request should have the same number of IDs as the number" + " of the validation stamps");" is 139.,469
ontrack,net.nemerosa.ontrack.service,StructureServiceImpl,newValidationRun,Long Statement,The length of the statement "Validate.isTrue(validationRun.getValidationStamp().getBranch().id() == validationRun.getBuild().getBranch().id()`"Validation run for a validation stamp can be done only on the same branch than the build.");" is 206.,486
ontrack,net.nemerosa.ontrack.service,StructureServiceImpl,newValidationRunStatus,Long Statement,The length of the statement "securityService.checkProjectFunction(validationRun.getBuild().getBranch().getProject().id()`ValidationRunStatusChange.class);" is 125.,521
ontrack,net.nemerosa.ontrack.service,StructureServiceImpl,findProjectByName,Long Statement,The length of the statement "return structureRepository.getProjectByName(project).filter(p -> securityService.isProjectFunctionGranted(p.id()`ProjectView.class));" is 133.,533
ontrack,net.nemerosa.ontrack.service,StructureServiceImpl,findBranchByName,Long Statement,The length of the statement "return structureRepository.getBranchByName(project`branch).filter(b -> securityService.isProjectFunctionGranted(b.projectId()`ProjectView.class));" is 146.,539
ontrack,net.nemerosa.ontrack.service,StructureServiceImpl,findPromotionLevelByName,Long Statement,The length of the statement "return structureRepository.getPromotionLevelByName(project`branch`promotionLevel).filter(pl -> securityService.isProjectFunctionGranted(pl.projectId()`ProjectView.class));" is 171.,545
ontrack,net.nemerosa.ontrack.service,BuildFilterServiceImpl,getBuildFilters,Long Statement,The length of the statement "return buildFilterRepository.findForBranch(account.id()`branchId.getValue()).stream().map(this::loadBuildFilterResource).filter(Optional::isPresent).map(Optional::get).collect(Collectors.toList());" is 197.,45
ontrack,net.nemerosa.ontrack.service,BuildFilterServiceImpl,computeFilter,Long Statement,The length of the statement "Optional<BuildFilter> optFilter=getBuildFilterProviderByType(type).map(provider -> getBuildFilter(branchId`provider`jsonData));" is 127.,70
ontrack,net.nemerosa.ontrack.service,BuildFilterServiceImpl,getEditionForm,Long Statement,The length of the statement "return securityService.getAccount().flatMap(account -> buildFilterRepository.findByBranchAndName(account.id()`branchId.getValue()`name)).flatMap(this::getBuildFilterForm).orElseThrow(BuildFilterNotLoggedException::new);" is 219.,76
ontrack,net.nemerosa.ontrack.service,BuildFilterServiceImpl,deleteFilter,Long Statement,The length of the statement "return securityService.getAccount().map(account -> buildFilterRepository.delete(account.id()`branchId.getValue()`name)).orElse(Ack.NOK);" is 136.,120
ontrack,net.nemerosa.ontrack.service,BuildFilterServiceImpl,getBuildFilterProviderByType,Long Statement,The length of the statement "Optional<? extends BuildFilterProvider<?>> first=buildFilterProviders.stream().filter(provider -> type.equals(provider.getClass().getName())).findFirst();" is 154.,133
ontrack,net.nemerosa.ontrack.service,BuildFilterServiceImpl,loadBuildFilterResource,Long Statement,The length of the statement "return getBuildFilterProviderByType(t.getType()).flatMap(provider -> loadBuildFilterResource((BuildFilterProvider<T>)provider`t.getBranchId()`t.getName()`t.getData()));" is 168.,141
ontrack,net.nemerosa.ontrack.service,BuildFilterServiceImpl,loadBuildFilterResource,Long Statement,The length of the statement "return provider.parse(data).map(parsedData -> new BuildFilterResource<>(ID.of(branchId)`name`provider.getClass().getName()`parsedData));" is 136.,147
ontrack,net.nemerosa.ontrack.service,StandardBuildFilter,filter,Complex Method,Cyclomatic complexity of the method is 10,21
ontrack,net.nemerosa.ontrack.service,StandardBuildFilter,filter,Long Statement,The length of the statement "result=result.acceptIf(buildViewSupplier.get().getPromotionRuns().stream().filter(run -> data.getWithPromotionLevel().equals(run.getPromotionLevel().getName())).findAny().isPresent());" is 184.,21
ontrack,net.nemerosa.ontrack.service,StandardBuildFilter,filter,Long Statement,The length of the statement "result=result.goOnIf(!buildViewSupplier.get().getPromotionRuns().stream().filter(run -> data.getSincePromotionLevel().equals(run.getPromotionLevel().getName())).findAny().isPresent());" is 184.,21
ontrack,net.nemerosa.ontrack.service,StandardBuildFilter,filter,Long Statement,The length of the statement "result=result.goOnIf(!buildViewSupplier.get().getValidationStampRunViews().stream().filter(validationStampRunView -> hasValidationStamp(validationStampRunView`data.getSinceValidationStamp()`data.getSinceValidationStampStatus())).findAny().isPresent());" is 252.,21
ontrack,net.nemerosa.ontrack.service,StandardBuildFilter,filter,Long Statement,The length of the statement "result=result.acceptIf(buildViewSupplier.get().getValidationStampRunViews().stream().filter(validationStampRunView -> hasValidationStamp(validationStampRunView`data.getWithValidationStamp()`data.getWithValidationStampStatus())).findAny().isPresent());" is 251.,21
ontrack,net.nemerosa.ontrack.service,StandardBuildFilter,hasValidationStamp,Long Statement,The length of the statement "return (StringUtils.equals(name`validationStampRunView.getValidationStamp().getName())) && validationStampRunView.isRun() && (StringUtils.isBlank(status) || StringUtils.equals(status`validationStampRunView.getLastStatus().getStatusID().getId()));" is 246.,105
ontrack,net.nemerosa.ontrack.service,DecorationServiceImpl,getDecorations,Long Statement,The length of the statement "return extensionManager.getExtensions(DecorationExtension.class).stream().filter(decorator -> decorator.getScope().contains(entity.getProjectEntityType())).map(decorator -> getDecoration(entity`decorator)).filter(decoration -> decoration != null).collect(Collectors.toList());" is 276.,27
ontrack,net.nemerosa.ontrack.service,PropertyServiceImpl,getPropertyTypeByName,Long Statement,The length of the statement "return (PropertyType<T>)getPropertyTypes().stream().filter(p -> StringUtils.equals(propertyTypeName`p.getClass().getName())).findFirst().orElseThrow(() -> new PropertyTypeNotFoundException(propertyTypeName));" is 208.,53
ontrack,net.nemerosa.ontrack.service,PropertyServiceImpl,getProperties,Long Statement,The length of the statement "return getPropertyTypes().stream().filter(type -> type.getSupportedEntityTypes().contains(entity.getProjectEntityType())).filter(type -> type.canView(entity`securityService)).map(type -> getProperty(type`entity)).map(prop -> prop.editable(prop.getType().canEdit(entity`securityService))).collect(Collectors.toList());" is 317.,61
ontrack,net.nemerosa.ontrack.service,PropertyServiceImpl,deleteProperty,Long Statement,The length of the statement "return propertyRepository.deleteProperty(propertyType.getClass().getName()`entity.getProjectEntityType()`entity.getId());" is 121.,106
ontrack,net.nemerosa.ontrack.service,PropertyServiceImpl,editProperty,Long Statement,The length of the statement "propertyRepository.saveProperty(propertyType.getClass().getName()`entity.getProjectEntityType()`entity.getId()`storage`searchKey);" is 130.,121
ontrack,net.nemerosa.ontrack.service,SearchServiceImpl,search,Long Statement,The length of the statement "return providers.stream().filter(provider -> provider.isTokenSearchable(request.getToken())).flatMap(provider -> provider.search(request.getToken()).stream()).collect(Collectors.toList());" is 188.,23
ontrack,net.nemerosa.ontrack.service,PreferencesServiceImpl,load,Long Statement,The length of the statement "return repository.find(account.id()`preferencesType.getClass().getName()).map(preferencesType::fromStorage).orElse(defaultValue);" is 129.,25
ontrack,net.nemerosa.ontrack.service,ExtensionSearchProvider,search,Long Statement,The length of the statement "return providers().filter(p -> p.isTokenSearchable(token)).flatMap(p -> p.search(token).stream()).collect(Collectors.toList());" is 127.,36
ontrack,net.nemerosa.ontrack.service,ApplicationInfoServiceImpl,getApplicationInfoList,Long Statement,The length of the statement "return providers.stream().flatMap(provider -> provider.getApplicationInfoList().stream()).filter(info -> info != null).collect(Collectors.toList());" is 148.,24
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterProvider,blankForm,Long Statement,The length of the statement "List<PropertyTypeDescriptor> properties=propertyService.getPropertyTypes().stream().filter(type -> type.getSupportedEntityTypes().contains(ProjectEntityType.BUILD)).map(type -> PropertyTypeDescriptor.of(type)).collect(Collectors.toList());" is 239.,45
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterProvider,blankForm,Long Statement,The length of the statement "return Form.create().with(Int.of("count").label("Maximum count").help("Maximum number of builds to display").min(1).value(10)).with(Selection.of("sincePromotionLevel").label("Since promotion level").help("Builds since the last one which was promoted to this level").items(promotionLevels).itemId("name").optional()).with(Selection.of("withPromotionLevel").label("With promotion level").help("Builds with this promotion level").items(promotionLevels).itemId("name").optional()).with(Date.of("afterDate").label("Build after").help("Build created after or on this date").optional()).with(Date.of("beforeDate").label("Build before").help("Build created before or on this date").optional()).with(Selection.of("sinceValidationStamp").label("Since validation stamp").help("Builds since the last one which had this validation stamp").items(validationStamps).itemId("name").optional()).with(Selection.of("sinceValidationStampStatus").label("... with status").items(statuses).optional()).with(Selection.of("withValidationStamp").label("With validation stamp").help("Builds with this validation stamp").items(validationStamps).itemId("name").optional()).with(Selection.of("withValidationStampStatus").label("... with status").items(statuses).optional()).with(Selection.of("sinceProperty").label("Since property").items(properties).itemId("typeName").optional()).with(Text.of("sincePropertyValue").label("... with value").length(40).optional()).with(Selection.of("withProperty").label("With property").items(properties).itemId("typeName").optional()).with(Text.of("withPropertyValue").label("... with value").length(40).optional());" is 1620.,45
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterProvider,blankForm,Magic Number,The method contains a magic number: 10,45
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterProvider,blankForm,Magic Number,The method contains a magic number: 40,45
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterProvider,blankForm,Magic Number,The method contains a magic number: 40,45
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterProvider,fill,Long Statement,The length of the statement "return form.fill("count"`data.getCount()).fill("sincePromotionLevel"`data.getSincePromotionLevel()).fill("withPromotionLevel"`data.getWithPromotionLevel()).fill("afterDate"`data.getAfterDate()).fill("beforeDate"`data.getBeforeDate()).fill("sinceValidationStamp"`data.getSinceValidationStamp()).fill("sinceValidationStampStatus"`data.getSinceValidationStampStatus()).fill("withValidationStamp"`data.getWithValidationStamp()).fill("withValidationStampStatus"`data.getWithValidationStampStatus()).fill("sinceProperty"`data.getSinceProperty()).fill("sincePropertyValue"`data.getSincePropertyValue()).fill("withProperty"`data.getWithProperty()).fill("withPropertyValue"`data.getWithPropertyValue());" is 694.,153
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterProvider,parse,Long Statement,The length of the statement "StandardBuildFilterData filter=StandardBuildFilterData.of(JsonUtils.getInt(data`"count"`10)).withSincePromotionLevel(JsonUtils.get(data`"sincePromotionLevel"`null)).withWithPromotionLevel(JsonUtils.get(data`"withPromotionLevel"`null)).withAfterDate(JsonUtils.getDate(data`"afterDate"`null)).withBeforeDate(JsonUtils.getDate(data`"beforeDate"`null)).withSinceValidationStamp(JsonUtils.get(data`"sinceValidationStamp"`null)).withSinceValidationStampStatus(JsonUtils.get(data`"sinceValidationStampStatus"`null)).withWithValidationStamp(JsonUtils.get(data`"withValidationStamp"`null)).withWithValidationStampStatus(JsonUtils.get(data`"withValidationStampStatus"`null)).withSinceProperty(JsonUtils.get(data`"sinceProperty"`null)).withSincePropertyValue(JsonUtils.get(data`"sincePropertyValue"`null)).withWithProperty(JsonUtils.get(data`"withProperty"`null)).withWithPropertyValue(JsonUtils.get(data`"withPropertyValue"`null));" is 921.,172
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterProvider,parse,Magic Number,The method contains a magic number: 10,172
ontrack,net.nemerosa.ontrack.service,CacheConfig,cacheManager,Magic Number,The method contains a magic number: 600,16
ontrack,net.nemerosa.ontrack.service,PromotionLevelBuildFilterProvider,PromotionLevelBuildFilter,Long Statement,The length of the statement "this.promotionLevelsToFill=new HashSet<>(promotionLevels.stream().map(PromotionLevel::getName).collect(Collectors.toList()));" is 125.,45
ontrack,net.nemerosa.ontrack.service,PromotionLevelBuildFilterProvider,filter,Long Identifier,The length of the identifier remainingPromotionLevelsReached is 31.,51
ontrack,net.nemerosa.ontrack.service,PromotionLevelBuildFilterProvider,filter,Long Statement,The length of the statement "Collection<String> buildPromotionNames=buildView.getPromotionRuns().stream().map(run -> run.getPromotionLevel().getName()).collect(Collectors.toList());" is 152.,51
ontrack,net.nemerosa.ontrack.service,PromotionLevelBuildFilterProvider,filter,Long Statement,The length of the statement "return BuildFilterResult.ok().acceptIf(!remainingPromotionLevelsReached.isEmpty()).goOnIf(!promotionLevelsToFill.isEmpty());" is 124.,51
ontrack,net.nemerosa.ontrack.service,PromotionLevelBuildFilter,PromotionLevelBuildFilter,Long Statement,The length of the statement "this.promotionLevelsToFill=new HashSet<>(promotionLevels.stream().map(PromotionLevel::getName).collect(Collectors.toList()));" is 125.,45
ontrack,net.nemerosa.ontrack.service,PromotionLevelBuildFilter,filter,Long Identifier,The length of the identifier remainingPromotionLevelsReached is 31.,51
ontrack,net.nemerosa.ontrack.service,PromotionLevelBuildFilter,filter,Long Statement,The length of the statement "Collection<String> buildPromotionNames=buildView.getPromotionRuns().stream().map(run -> run.getPromotionLevel().getName()).collect(Collectors.toList());" is 152.,51
ontrack,net.nemerosa.ontrack.service,PromotionLevelBuildFilter,filter,Long Statement,The length of the statement "return BuildFilterResult.ok().acceptIf(!remainingPromotionLevelsReached.isEmpty()).goOnIf(!promotionLevelsToFill.isEmpty());" is 124.,51
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,prepare,Long Statement,The length of the statement "build=Build.of(branch`new NameDescription("1"`"Build 1")`Signature.of("user").withTime(LocalDateTime.of(2014`7`14`13`25`0)));" is 125.,23
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,prepare,Magic Number,The method contains a magic number: 2014,23
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,prepare,Magic Number,The method contains a magic number: 7,23
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,prepare,Magic Number,The method contains a magic number: 14,23
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,prepare,Magic Number,The method contains a magic number: 13,23
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,prepare,Magic Number,The method contains a magic number: 25,23
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,afterDate_nok,Long Statement,The length of the statement "StandardBuildFilter filter=new StandardBuildFilter(StandardBuildFilterData.of(5).withAfterDate(LocalDate.of(2014`7`16))`propertyService);" is 137.,34
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,afterDate_nok,Magic Number,The method contains a magic number: 5,34
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,afterDate_nok,Magic Number,The method contains a magic number: 2014,34
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,afterDate_nok,Magic Number,The method contains a magic number: 7,34
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,afterDate_nok,Magic Number,The method contains a magic number: 16,34
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,afterDate_ok,Long Statement,The length of the statement "StandardBuildFilter filter=new StandardBuildFilter(StandardBuildFilterData.of(5).withAfterDate(LocalDate.of(2014`7`12))`propertyService);" is 137.,51
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,afterDate_ok,Magic Number,The method contains a magic number: 5,51
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,afterDate_ok,Magic Number,The method contains a magic number: 2014,51
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,afterDate_ok,Magic Number,The method contains a magic number: 7,51
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,afterDate_ok,Magic Number,The method contains a magic number: 12,51
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,afterDate_same,Long Statement,The length of the statement "StandardBuildFilter filter=new StandardBuildFilter(StandardBuildFilterData.of(5).withAfterDate(LocalDate.of(2014`7`14))`propertyService);" is 137.,68
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,afterDate_same,Magic Number,The method contains a magic number: 5,68
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,afterDate_same,Magic Number,The method contains a magic number: 2014,68
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,afterDate_same,Magic Number,The method contains a magic number: 7,68
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,afterDate_same,Magic Number,The method contains a magic number: 14,68
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,beforeDate_nok,Long Statement,The length of the statement "StandardBuildFilter filter=new StandardBuildFilter(StandardBuildFilterData.of(5).withBeforeDate(LocalDate.of(2014`7`12))`propertyService);" is 138.,85
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,beforeDate_nok,Magic Number,The method contains a magic number: 5,85
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,beforeDate_nok,Magic Number,The method contains a magic number: 2014,85
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,beforeDate_nok,Magic Number,The method contains a magic number: 7,85
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,beforeDate_nok,Magic Number,The method contains a magic number: 12,85
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,beforeDate_ok,Long Statement,The length of the statement "StandardBuildFilter filter=new StandardBuildFilter(StandardBuildFilterData.of(5).withBeforeDate(LocalDate.of(2014`7`16))`propertyService);" is 138.,102
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,beforeDate_ok,Magic Number,The method contains a magic number: 5,102
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,beforeDate_ok,Magic Number,The method contains a magic number: 2014,102
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,beforeDate_ok,Magic Number,The method contains a magic number: 7,102
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,beforeDate_ok,Magic Number,The method contains a magic number: 16,102
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,beforeDate_same,Long Statement,The length of the statement "StandardBuildFilter filter=new StandardBuildFilter(StandardBuildFilterData.of(5).withAfterDate(LocalDate.of(2014`7`14))`propertyService);" is 137.,119
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,beforeDate_same,Magic Number,The method contains a magic number: 5,119
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,beforeDate_same,Magic Number,The method contains a magic number: 2014,119
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,beforeDate_same,Magic Number,The method contains a magic number: 7,119
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,beforeDate_same,Magic Number,The method contains a magic number: 14,119
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,json_to_afterDate,Long Statement,The length of the statement "assertJsonRead(StandardBuildFilterData.of(2).withAfterDate(LocalDate.of(2014`7`14))`object().with("count"`"2").with("afterDate"`"2014-07-14").end()`StandardBuildFilterData.class);" is 179.,136
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,json_to_afterDate,Magic Number,The method contains a magic number: 2,136
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,json_to_afterDate,Magic Number,The method contains a magic number: 2014,136
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,json_to_afterDate,Magic Number,The method contains a magic number: 7,136
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterTest,json_to_afterDate,Magic Number,The method contains a magic number: 14,136
ontrack,net.nemerosa.ontrack.service,DecorationServiceImplTest,error_decoration_generates_default_error_decoration,Long Statement,The length of the statement "when(decorator.getDecoration(any(ProjectEntity.class))).thenThrow(new RuntimeException("Error while generating the decoration"));" is 129.,18
ontrack,net.nemerosa.ontrack.service,VersionInfoConfigTest,parseDate_correct,Magic Number,The method contains a magic number: 2014,27
ontrack,net.nemerosa.ontrack.service,VersionInfoConfigTest,parseDate_correct,Magic Number,The method contains a magic number: 7,27
ontrack,net.nemerosa.ontrack.service,VersionInfoConfigTest,parseDate_correct,Magic Number,The method contains a magic number: 13,27
ontrack,net.nemerosa.ontrack.service,VersionInfoConfigTest,parseDate_correct,Magic Number,The method contains a magic number: 8,27
ontrack,net.nemerosa.ontrack.service,VersionInfoConfigTest,parseDate_correct,Magic Number,The method contains a magic number: 34,27
ontrack,net.nemerosa.ontrack.service,VersionInfoConfigTest,parseDate_correct,Magic Number,The method contains a magic number: 30,27
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterProviderTest,parse_count_only,Magic Number,The method contains a magic number: 5,30
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterProviderTest,parse_count_only,Magic Number,The method contains a magic number: 5,30
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterProviderTest,parse_with_promotion_level_null,Long Statement,The length of the statement "Optional<StandardBuildFilterData> data=provider.parse(JsonUtils.object().with("count"`5).with("withPromotionLevel"`(String)null).end());" is 136.,38
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterProviderTest,parse_with_promotion_level_null,Magic Number,The method contains a magic number: 5,38
ontrack,net.nemerosa.ontrack.service,StandardBuildFilterProviderTest,parse_with_promotion_level_null,Magic Number,The method contains a magic number: 5,38
ontrack,net.nemerosa.ontrack.service.settings,SettingsInternalServiceImpl,getSecuritySettings,Long Statement,The length of the statement "return SecuritySettings.of().withGrantProjectViewToAll(settingsRepository.getBoolean(SecuritySettings.class`"grantProjectViewToAll"`false));" is 140.,22
ontrack,net.nemerosa.ontrack.service.settings,SettingsInternalServiceImpl,saveSecuritySettings,Long Statement,The length of the statement "settingsRepository.setBoolean(SecuritySettings.class`"grantProjectViewToAll"`securitySettings.isGrantProjectViewToAll());" is 121.,29
ontrack,net.nemerosa.ontrack.service.job,JobServiceImpl,startupOrder,Magic Number,The method contains a magic number: 100,69
ontrack,net.nemerosa.ontrack.service.job,JobServiceImpl,getApplicationInfoList,Long Statement,The length of the statement "return registeredJobs.values().stream().filter(RegisteredJob::isRunning).map(RegisteredJob::getApplicationInfo).collect(Collectors.toList());" is 141.,101
ontrack,net.nemerosa.ontrack.service.job,JobServiceImpl,syncJobs,Long Statement,The length of the statement "Collection<Job> jobs=jobProviders.stream().flatMap(provider -> provider.getJobs().stream()).collect(Collectors.toList());" is 121.,119
ontrack,net.nemerosa.ontrack.service.job,JobServiceImpl,idInSameGroupRunning,Long Statement,The length of the statement "return registeredJobs.values().stream().filter(r -> group.equals(r.getJobGroup()) && id.equals(r.getJobId()) && r.isRunning()).findAny().isPresent();" is 149.,191
ontrack,net.nemerosa.ontrack.service.job,JobServiceImpl,start,Long Statement,The length of the statement "applicationLogService.error(ex`getClass()`String.format("%s/%s/%s"`registeredJob.getJobGroup()`registeredJob.getJobCategory()`registeredJob.getJobId())`registeredJob.getJobDescription()`Optional.ofNullable(registeredJob.getApplicationInfo()).map(ApplicationInfo::getMessage).orElse(null));" is 289.,198
ontrack,net.nemerosa.ontrack.service.security,AuthenticationSourceServiceImpl,AuthenticationSourceServiceImpl,Long Statement,The length of the statement "this.providers=providers.stream().collect(Collectors.toMap(provider -> provider.getSource().getId()`Function.identity()));" is 122.,20
ontrack,net.nemerosa.ontrack.service.security,AuthenticationSourceServiceImpl,getAuthenticationSourceProvider,Long Statement,The length of the statement "return Optional.ofNullable(providers.get(mode)).orElseThrow(() -> new AuthenticationSourceProviderNotFoundException(mode));" is 123.,28
ontrack,net.nemerosa.ontrack.service.security,SecurityServiceImpl,getCurrentAccount,Complex Conditional,The conditional expression authentication != null && authentication.isAuthenticated() && (authentication.getPrincipal() instanceof AccountHolder) is complex.,64
ontrack,net.nemerosa.ontrack.service.security,SecurityServiceImpl,getCurrentAccount,Long Statement,The length of the statement "if (authentication != null && authentication.isAuthenticated() && (authentication.getPrincipal() instanceof AccountHolder)) {" is 125.,64
ontrack,net.nemerosa.ontrack.service.security,SecurityConfiguration,authenticationManager,Long Identifier,The length of the field passwordAuthenticationProvider is 30.,20
ontrack,net.nemerosa.ontrack.service.security,PasswordAuthenticationProvider,PasswordAuthenticationProvider,Long Identifier,The length of the parameter passwordAuthenticationSourceProvider is 36.,26
ontrack,net.nemerosa.ontrack.service.security,PasswordAuthenticationProvider,PasswordAuthenticationProvider,Long Identifier,The length of the field passwordAuthenticationSourceProvider is 36.,26
ontrack,net.nemerosa.ontrack.service.security,PasswordAuthenticationProvider,additionalAuthenticationChecks,Long Statement,The length of the statement "boolean ok=accountRepository.checkPassword(((AccountUserDetails)userDetails).getAccount().id()`encodedPassword -> passwordEncoder.matches(rawPassword`encodedPassword));" is 168.,34
ontrack,net.nemerosa.ontrack.service.security,PasswordAuthenticationProvider,findUser,Long Identifier,The length of the field passwordAuthenticationSourceProvider is 36.,46
ontrack,net.nemerosa.ontrack.service.security,RolesServiceImpl,startupOrder,Magic Number,The method contains a magic number: 50,66
ontrack,net.nemerosa.ontrack.service.security,RolesServiceImpl,initProjectRoles,Long Statement,The length of the statement "register("OWNER"`"Project owner"`"The project owner is allowed to all functions in a project` but for its deletion."`getProjectFunctions().stream().filter(t -> !ProjectDelete.class.isAssignableFrom(t)).collect(Collectors.toList()));" is 232.,79
ontrack,net.nemerosa.ontrack.service.security,RolesServiceImpl,initProjectRoles,Long Statement,The length of the statement "register("VALIDATION_MANAGER"`"Validation manager"`"The validation manager can manage the validation stamps."`Arrays.asList(ValidationStampCreate.class`ValidationStampEdit.class`ValidationStampDelete.class));" is 208.,79
ontrack,net.nemerosa.ontrack.service.security,RolesServiceImpl,initGlobalRoles,Long Statement,The length of the statement "register("ADMINISTRATOR"`"Administrator"`"An administrator is allowed to do everything in the application."`getGlobalFunctions()`getProjectFunctions());" is 152.,121
ontrack,net.nemerosa.ontrack.service.security,RolesServiceImpl,initGlobalRoles,Long Statement,The length of the statement "register("CONTROLLER"`"Controller"`"A controller` is allowed to create builds` promotion runs and validation runs. This role is " + "typically granted to continuous integration tools."`Arrays.asList()`Arrays.asList(BuildCreate.class`PromotionRunCreate.class`ValidationRunCreate.class));" is 286.,121
ontrack,net.nemerosa.ontrack.service.security,RolesServiceImpl,register,Long Parameter List,The method has 5 parameters. ,145
ontrack,net.nemerosa.ontrack.service.security,RolesServiceImpl,register,Long Statement,The length of the statement "register(new GlobalRole(id`name`description`new LinkedHashSet<>(globalFunctions)`new LinkedHashSet<>(projectFunctions)));" is 121.,145
ontrack,net.nemerosa.ontrack.service.security,RunAsAdminAuthentication,RunAsAdminAuthentication,Long Statement,The length of the statement "this.account=Account.of(account.getName()`account.getFullName()`account.getEmail()`SecurityRole.ADMINISTRATOR`account.getAuthenticationSource()).withId(account.getId());" is 169.,23
ontrack,net.nemerosa.ontrack.service.security,ExtensionManagerImpl,startupOrder,Magic Number,The method contains a magic number: 2,37
ontrack,net.nemerosa.ontrack.service.security,ExtensionManagerImpl,getExtensions,Long Statement,The length of the statement "List<Extension> collection=extensions.stream().filter(extensionType::isInstance).filter(this::isExtensionEnabled).collect(Collectors.toList());" is 143.,61
ontrack,net.nemerosa.ontrack.service.security,ExtensionManagerImpl,getAllExtensions,Long Statement,The length of the statement "@SuppressWarnings("unchecked") List<AvailableExtension<T>> collection=extensions.stream().filter(extensionType::isInstance).map(x -> new AvailableExtension<T>((T)x`isExtensionEnabled(x))).collect(Collectors.toList());" is 217.,72
ontrack,net.nemerosa.ontrack.service.security,AccountServiceImpl,AccountServiceImpl,Long Parameter List,The method has 7 parameters. ,34
ontrack,net.nemerosa.ontrack.service.security,AccountServiceImpl,withACL,Long Statement,The length of the statement "return raw.withGlobalRole(roleRepository.findGlobalRoleByAccount(raw.id()).flatMap(rolesService::getGlobalRole)).withProjectRoles(roleRepository.findProjectRoleAssociationsByAccount(raw.id()`rolesService::getProjectRoleAssociation)).withGroups(accountGroupRepository.findByAccount(raw.id()).stream().map(this::groupWithACL).collect(Collectors.toList())).lock();" is 361.,52
ontrack,net.nemerosa.ontrack.service.security,AccountServiceImpl,getAccounts,Long Statement,The length of the statement "return accountRepository.findAll(authenticationSourceService::getAuthenticationSource).stream().map(account -> account.withGroups(accountGroupRepository.findByAccount(account.id()))).collect(Collectors.toList());" is 212.,73
ontrack,net.nemerosa.ontrack.service.security,AccountServiceImpl,create,Long Statement,The length of the statement "Account account=Account.of(input.getName()`input.getFullName()`input.getEmail()`SecurityRole.USER`authenticationSourceService.getAuthenticationSource("password"));" is 163.,82
ontrack,net.nemerosa.ontrack.service.security,AccountServiceImpl,getAccountGroupsForSelection,Long Statement,The length of the statement "Set<Integer> accountGroupIds=accountId.ifSet(accountGroupRepository::findByAccount).orElse(Collections.emptyList()).stream().map(Entity::id).collect(Collectors.toSet());" is 169.,171
ontrack,net.nemerosa.ontrack.service.security,AccountServiceImpl,getAccountGroupsForSelection,Long Statement,The length of the statement "return getAccountGroups().stream().map(group -> AccountGroupSelection.of(group`accountGroupIds.contains(group.id()))).collect(Collectors.toList());" is 147.,171
ontrack,net.nemerosa.ontrack.service.security,AccountServiceImpl,searchPermissionTargets,Long Statement,The length of the statement "targets.addAll(accountRepository.findByNameToken(token`authenticationSourceService::getAuthenticationSource).stream().map(Account::asPermissionTarget).collect(Collectors.toList()));" is 181.,185
ontrack,net.nemerosa.ontrack.service.security,AccountServiceImpl,searchPermissionTargets,Long Statement,The length of the statement "targets.addAll(accountGroupRepository.findByNameToken(token).stream().map(AccountGroup::asPermissionTarget).collect(Collectors.toList()));" is 138.,185
ontrack,net.nemerosa.ontrack.service.security,AccountServiceImpl,saveGlobalPermission,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@7a9a4ef2,207
ontrack,net.nemerosa.ontrack.service.security,AccountServiceImpl,getGlobalPermissions,Long Statement,The length of the statement "permissions.addAll(accountRepository.findAll(authenticationSourceService::getAuthenticationSource).stream().map(this::getGlobalPermission).filter(Optional::isPresent).map(Optional::get).collect(Collectors.toList()));" is 216.,220
ontrack,net.nemerosa.ontrack.service.security,AccountServiceImpl,getGlobalPermissions,Long Statement,The length of the statement "permissions.addAll(accountGroupRepository.findAll().stream().map(this::getGroupGlobalPermission).filter(Optional::isPresent).map(Optional::get).collect(Collectors.toList()));" is 174.,220
ontrack,net.nemerosa.ontrack.service.security,AccountServiceImpl,deleteGlobalPermission,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@42aa19ba,245
ontrack,net.nemerosa.ontrack.service.security,AccountServiceImpl,getAccount,Long Statement,The length of the statement "return accountRepository.getAccount(accountId`authenticationSourceService::getAuthenticationSource).withGroups(accountGroupRepository.findByAccount(accountId.getValue()));" is 171.,290
ontrack,net.nemerosa.ontrack.service.security,AccountServiceImpl,groupWithACL,Long Statement,The length of the statement "return group.withGlobalRole(roleRepository.findGlobalRoleByGroup(group.id()).flatMap(rolesService::getGlobalRole)).withProjectRoles(roleRepository.findProjectRoleAssociationsByGroup(group.id()`rolesService::getProjectRoleAssociation)).lock();" is 242.,297
ontrack,net.nemerosa.ontrack.service.security,AbstractOntrackAuthenticationProvider,retrieveUser,Long Statement,The length of the statement "return t.map(accountService::withACL).map(AccountUserDetails::new).orElseThrow(() -> new UsernameNotFoundException(String.format("User %s cannot be found"`username)));" is 167.,21
ontrack,net.nemerosa.ontrack.service.security,StructureServiceIT,newBranch,Long Statement,The length of the statement "Branch b=asUser().with(branch.getProject().id()`ProjectView.class).call(() -> structureService.getBranch(branch.getId()));" is 122.,44
ontrack,net.nemerosa.ontrack.service.security,StructureServiceIT,getProjectList_all,Magic Number,The method contains a magic number: 3,52
ontrack,net.nemerosa.ontrack.service.security,StructureServiceIT,getProjectList_all,Magic Number,The method contains a magic number: 2,52
ontrack,net.nemerosa.ontrack.service.security,StructureServiceIT,getProjectList_filtered,Long Statement,The length of the statement "List<Project> list=asUser().with(ids[0]`ProjectView.class).with(ids[1]`ProjectEdit.class).call(structureService::getProjectList);" is 129.,62
ontrack,net.nemerosa.ontrack.service.security,StructureServiceIT,getProjectList_filtered,Magic Number,The method contains a magic number: 2,62
ontrack,net.nemerosa.ontrack.service.security,StructureServiceIT,getProjectList_filtered,Magic Number,The method contains a magic number: 2,62
ontrack,net.nemerosa.ontrack.service.security,StructureServiceIT,promotionLevel_image_size_not_acceptable,Magic Number,The method contains a magic number: 16001,115
ontrack,net.nemerosa.ontrack.service.security,StructureServiceIT,validationRun_create,Long Statement,The length of the statement "ValidationRun run=asUser().with(branch.getProject().id()`ValidationRunCreate.class).call(() -> structureService.newValidationRun(ValidationRun.of(build`stamp`0`Signature.of("user")`passed`"Passed test")));" is 205.,164
ontrack,net.nemerosa.ontrack.service.security,StructureServiceIT,doCreateBuild,Long Statement,The length of the statement "return asUser().with(branch.getProject().id()`BuildCreate.class).call(() -> structureService.newBuild(Build.of(branch`nameDescription`Signature.of("user"))));" is 158.,189
ontrack,net.nemerosa.ontrack.service.security,StructureServiceIT,doCreateValidationStamp,Long Statement,The length of the statement "return asUser().with(branch.getProject().id()`ValidationStampCreate.class).call(() -> structureService.newValidationStamp(ValidationStamp.of(branch`nameDescription)));" is 167.,201
ontrack,net.nemerosa.ontrack.service.security,StructureServiceIT,doCreatePromotionLevel,Long Statement,The length of the statement "return asUser().with(branch.getProject().id()`PromotionLevelCreate.class).call(() -> structureService.newPromotionLevel(PromotionLevel.of(branch`nameDescription)));" is 164.,217
ontrack,net.nemerosa.ontrack.service.security,StructureServiceIT,doCreateBranch,Long Statement,The length of the statement "return asUser().with(project.id()`BranchCreate.class).call(() -> structureService.newBranch(Branch.of(project`nameDescription)));" is 129.,232
ontrack,net.nemerosa.ontrack.service.security,StructureServiceIT,doCreateProjects,Magic Number,The method contains a magic number: 3,248
ontrack,net.nemerosa.ontrack.service.security,AccountServiceIT,before,Long Statement,The length of the statement "project=asUser().with(ProjectCreation.class).call(() -> structureService.newProject(Project.of(nameDescription()))).id();" is 121.,26
ontrack,net.nemerosa.ontrack.service.security,AccountServiceIT,account_with_global_role_controller,Long Statement,The length of the statement "asUser().with(AccountManagement.class).call(() -> accountService.saveGlobalPermission(PermissionTargetType.ACCOUNT`id`new PermissionInput("CONTROLLER")));" is 154.,46
ontrack,net.nemerosa.ontrack.service.security,AccountServiceIT,account_with_global_role_controller,Long Statement,The length of the statement "assertTrue("As a controller` must have the right to create validation runs on any project"`account.isGranted(project`ValidationRunCreate.class));" is 145.,46
ontrack,net.nemerosa.ontrack.service.security,AccountServiceIT,account_with_global_role_controller_on_group,Long Statement,The length of the statement "Account accountWithGroup=asUser().with(AccountManagement.class).call(() -> accountService.updateAccount(origAccount.getId()`new AccountInput(origAccount.getName()`origAccount.getFullName()`origAccount.getEmail()`""`Collections.singletonList(group.id()))));" is 256.,63
ontrack,net.nemerosa.ontrack.service.security,AccountServiceIT,account_with_global_role_controller_on_group,Long Statement,The length of the statement "asUser().with(AccountManagement.class).call(() -> accountService.saveGlobalPermission(PermissionTargetType.GROUP`group.id()`new PermissionInput("CONTROLLER")));" is 160.,63
ontrack,net.nemerosa.ontrack.service.security,AccountServiceIT,account_with_global_role_controller_on_group,Long Statement,The length of the statement "Account account=asUser().with(AccountManagement.class).call(() -> accountService.withACL(accountService.getAccount(accountWithGroup.getId())));" is 143.,63
ontrack,net.nemerosa.ontrack.service.security,AccountServiceIT,account_with_global_role_controller_on_group,Long Statement,The length of the statement "assertTrue("As a controller` must have the right to create validation runs on any project"`account.isGranted(project`ValidationRunCreate.class));" is 145.,63
ontrack,net.nemerosa.ontrack.service.security,AccountServiceIT,account,Long Statement,The length of the statement "return asUser().with(AccountManagement.class).call(() -> accountService.create(new AccountInput(TestUtils.uid("A")`"Test account"`"test@test.com"`"secret"`Collections.<Integer>emptyList())));" is 191.,106
ontrack,net.nemerosa.ontrack.service.security,SecurityServiceUnitTest,is_global_grant_project_view_granted_to_all_does_not_work_for_project_edit,Long Statement,The length of the statement "assertFalse("Global grant for the project view does not grant the project edit function"`securityService.isGlobalGrant(ProjectEdit.class));" is 139.,45
ontrack,net.nemerosa.ontrack.service.security,SecurityServiceUnitTest,is_global_grant_project_view_granted_to_all_does_not_work_for_project_config,Long Statement,The length of the statement "assertFalse("Global grant for the project view does not grant the project config function"`securityService.isGlobalGrant(ProjectConfig.class));" is 143.,56
ontrack,net.nemerosa.ontrack.service.security,SecurityServiceUnitTest,project_view_not_granted_for_anonymous_by_default,Long Statement,The length of the statement "assertFalse("Project view is not granted by default for anonymous users"`securityService.isProjectFunctionGranted(1`ProjectView.class));" is 136.,67
ontrack,net.nemerosa.ontrack.service.security,SecurityServiceUnitTest,project_view_granted_when_settings_ok,Long Statement,The length of the statement "assertTrue("Project view is granted for anonymous users when set explicitely"`securityService.isProjectFunctionGranted(1`ProjectView.class));" is 141.,78
ontrack,net.nemerosa.ontrack.service.support,ApplicationLogServiceImpl,error,Long Parameter List,The method has 5 parameters. ,31
ontrack,net.nemerosa.ontrack.service.support,GuavaCacheFactoryBean,GuavaCacheFactoryBean,Long Statement,The length of the statement "this.store=CacheBuilder.newBuilder().expireAfterAccess(expirationAccessTime`TimeUnit.MINUTES).maximumSize(maxSize).build().asMap();" is 131.,15
ontrack,net.nemerosa.ontrack.acceptance,AcceptanceSupport,env,Long Statement,The length of the statement "throw new IllegalStateException(String.format("The %s system property or %s environment variable is required (%s)"`property`envName`name));" is 139.,33
ontrack,net.nemerosa.ontrack.acceptance,ACCGeneral,access_control,Empty catch clause,The method has an empty catch block.,25
ontrack,net.nemerosa.ontrack.repository,AccountGroupJdbcRepository,findByAccount,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().query("SELECT G.* FROM ACCOUNT_GROUPS G " + "INNER JOIN ACCOUNT_GROUP_LINK L ON L.ACCOUNTGROUP = G.ID " + "WHERE L.ACCOUNT = :accountId"`params("accountId"`accountId)`(rs`num) -> toAccountGroup(rs));" is 238.,35
ontrack,net.nemerosa.ontrack.repository,AccountGroupJdbcRepository,linkAccountToGroups,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("DELETE FROM ACCOUNT_GROUP_LINK WHERE ACCOUNT = :accountId"`params("accountId"`accountId));" is 130.,46
ontrack,net.nemerosa.ontrack.repository,AccountGroupJdbcRepository,linkAccountToGroups,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("INSERT INTO ACCOUNT_GROUP_LINK (ACCOUNT` ACCOUNTGROUP) VALUES (:accountId` :groupId)"`params("accountId"`accountId).addValue("groupId"`groupId));" is 185.,46
ontrack,net.nemerosa.ontrack.repository,AccountGroupJdbcRepository,findByNameToken,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().query("SELECT * FROM ACCOUNT_GROUPS WHERE LOWER(NAME) LIKE :filter ORDER BY NAME"`params("filter"`String.format("%%%s%%"`StringUtils.lowerCase(token)))`(rs`num) -> toAccountGroup(rs));" is 223.,62
ontrack,net.nemerosa.ontrack.repository,AccountGroupJdbcRepository,newAccountGroup,Long Statement,The length of the statement "return group.withId(ID.of(dbCreate("INSERT INTO ACCOUNT_GROUPS (NAME` DESCRIPTION) " + "VALUES (:name` :description)"`params("name"`group.getName()).addValue("description"`group.getDescription()))));" is 199.,86
ontrack,net.nemerosa.ontrack.repository,AccountGroupJdbcRepository,getById,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().queryForObject("SELECT * FROM ACCOUNT_GROUPS WHERE ID = :id"`params("id"`groupId.getValue())`(rs`num) -> toAccountGroup(rs));" is 164.,104
ontrack,net.nemerosa.ontrack.repository,AccountGroupJdbcRepository,update,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("UPDATE ACCOUNT_GROUPS SET NAME = :name` DESCRIPTION = :description " + "WHERE ID = :id"`params("name"`group.getName()).addValue("description"`group.getDescription()).addValue("id"`group.id()));" is 233.,113
ontrack,net.nemerosa.ontrack.repository,AccountGroupJdbcRepository,delete,Long Statement,The length of the statement "return Ack.one(getNamedParameterJdbcTemplate().update("DELETE FROM ACCOUNT_GROUPS WHERE ID = :id"`params("id"`groupId.getValue())));" is 132.,128
ontrack,net.nemerosa.ontrack.repository,BuildFilterJdbcRepository,findForBranch,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().query("SELECT * FROM BUILD_FILTERS WHERE ACCOUNTID = :accountId AND BRANCHID = :branchId"`params("branchId"`branchId).addValue("accountId"`accountId)`(rs`row) -> toBuildFilter(rs));" is 220.,34
ontrack,net.nemerosa.ontrack.repository,BuildFilterJdbcRepository,findByBranchAndName,Long Statement,The length of the statement "return Optional.ofNullable(getFirstItem("SELECT * FROM BUILD_FILTERS WHERE ACCOUNTID = :accountId AND BRANCHID = :branchId AND NAME = :name"`params("branchId"`branchId).addValue("accountId"`accountId).addValue("name"`name)`(rs`row) -> toBuildFilter(rs)));" is 255.,43
ontrack,net.nemerosa.ontrack.repository,BuildFilterJdbcRepository,save,Long Parameter List,The method has 5 parameters. ,54
ontrack,net.nemerosa.ontrack.repository,BuildFilterJdbcRepository,save,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("DELETE FROM BUILD_FILTERS WHERE ACCOUNTID = :accountId AND BRANCHID = :branchId AND NAME = :name"`params);" is 146.,54
ontrack,net.nemerosa.ontrack.repository,BuildFilterJdbcRepository,save,Long Statement,The length of the statement "return Ack.one(getNamedParameterJdbcTemplate().update("INSERT INTO BUILD_FILTERS (ACCOUNTID` BRANCHID` NAME` TYPE` DATA) " + "VALUES (:accountId` :branchId` :name` :type` :data)"`params.addValue("type"`type).addValue("data"`writeJson(data))));" is 243.,54
ontrack,net.nemerosa.ontrack.repository,BuildFilterJdbcRepository,delete,Long Statement,The length of the statement "return Ack.one(getNamedParameterJdbcTemplate().update("DELETE FROM BUILD_FILTERS WHERE ACCOUNTID = :accountId AND BRANCHID = :branchId AND NAME = :name"`params("branchId"`branchId).addValue("accountId"`accountId).addValue("name"`name)));" is 237.,70
ontrack,net.nemerosa.ontrack.repository,RoleJdbcRepository,findGlobalRoleByAccount,Long Statement,The length of the statement "return Optional.ofNullable(getFirstItem("SELECT ROLE FROM GLOBAL_AUTHORIZATIONS WHERE ACCOUNT = :accountId"`params("accountId"`accountId)`String.class));" is 153.,23
ontrack,net.nemerosa.ontrack.repository,RoleJdbcRepository,findGlobalRoleByGroup,Long Statement,The length of the statement "return Optional.ofNullable(getFirstItem("SELECT ROLE FROM GROUP_GLOBAL_AUTHORIZATIONS WHERE ACCOUNTGROUP = :groupId"`params("groupId"`groupId)`String.class));" is 158.,34
ontrack,net.nemerosa.ontrack.repository,RoleJdbcRepository,deleteGlobalRoleForAccount,Long Statement,The length of the statement "return Ack.one(getNamedParameterJdbcTemplate().update("DELETE FROM GLOBAL_AUTHORIZATIONS WHERE ACCOUNT = :accountId"`params("accountId"`accountId)));" is 149.,45
ontrack,net.nemerosa.ontrack.repository,RoleJdbcRepository,deleteGlobalRoleForGroup,Long Statement,The length of the statement "return Ack.one(getNamedParameterJdbcTemplate().update("DELETE FROM GROUP_GLOBAL_AUTHORIZATIONS WHERE ACCOUNTGROUP = :groupId"`params("groupId"`groupId)));" is 154.,55
ontrack,net.nemerosa.ontrack.repository,RoleJdbcRepository,findProjectRoleAssociationsByAccount,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().query("SELECT PROJECT` ROLE FROM PROJECT_AUTHORIZATIONS WHERE ACCOUNT = :accountId"`params("accountId"`accountId)`(rs`rowNum) -> projectRoleAssociationMapper.apply(rs.getInt("project")`rs.getString("role"))).stream().filter(Optional::isPresent).map(Optional::get).collect(Collectors.toList());" is 332.,65
ontrack,net.nemerosa.ontrack.repository,RoleJdbcRepository,findProjectRoleAssociationsByGroup,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().query("SELECT PROJECT` ROLE FROM GROUP_PROJECT_AUTHORIZATIONS WHERE ACCOUNTGROUP = :groupId"`params("groupId"`groupId)`(rs`rowNum) -> projectRoleAssociationMapper.apply(rs.getInt("project")`rs.getString("role"))).stream().filter(Optional::isPresent).map(Optional::get).collect(Collectors.toList());" is 337.,83
ontrack,net.nemerosa.ontrack.repository,RoleJdbcRepository,saveGlobalRoleForAccount,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("DELETE FROM GLOBAL_AUTHORIZATIONS WHERE ACCOUNT = :accountId"`params("accountId"`accountId));" is 133.,101
ontrack,net.nemerosa.ontrack.repository,RoleJdbcRepository,saveGlobalRoleForAccount,Long Statement,The length of the statement "return Ack.one(getNamedParameterJdbcTemplate().update("INSERT INTO GLOBAL_AUTHORIZATIONS (ACCOUNT` ROLE) VALUES (:accountId` :role)"`params("accountId"`accountId).addValue("role"`role)));" is 187.,101
ontrack,net.nemerosa.ontrack.repository,RoleJdbcRepository,saveGlobalRoleForGroup,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("DELETE FROM GROUP_GLOBAL_AUTHORIZATIONS WHERE ACCOUNTGROUP = :groupId"`params("groupId"`groupId));" is 138.,115
ontrack,net.nemerosa.ontrack.repository,RoleJdbcRepository,saveGlobalRoleForGroup,Long Statement,The length of the statement "return Ack.one(getNamedParameterJdbcTemplate().update("INSERT INTO GROUP_GLOBAL_AUTHORIZATIONS (ACCOUNTGROUP` ROLE) VALUES (:groupId` :role)"`params("groupId"`groupId).addValue("role"`role)));" is 192.,115
ontrack,net.nemerosa.ontrack.repository,SettingsJdbcRepository,setValue,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("INSERT INTO SETTINGS (CATEGORY` NAME` VALUE) VALUES (:category` :name` :value)"`params.addValue("value"`value));" is 152.,35
ontrack,net.nemerosa.ontrack.repository,SettingsJdbcRepository,getValue,Long Statement,The length of the statement "String value=getFirstItem("SELECT VALUE FROM SETTINGS WHERE CATEGORY = :category AND NAME = :name"`params("category"`category.getName()).addValue("name"`name)`String.class);" is 173.,47
ontrack,net.nemerosa.ontrack.repository,PropertyJdbcRepository,loadProperty,Long Statement,The length of the statement "return getFirstItem(String.format("SELECT * FROM PROPERTIES WHERE TYPE = :type AND %s = :entityId"`entityType.name())`params("type"`typeName).addValue("entityId"`entityId.getValue())`(rs`rowNum) -> toProperty(rs));" is 214.,24
ontrack,net.nemerosa.ontrack.repository,PropertyJdbcRepository,saveProperty,Long Parameter List,The method has 5 parameters. ,36
ontrack,net.nemerosa.ontrack.repository,PropertyJdbcRepository,saveProperty,Long Statement,The length of the statement "Integer propertyId=getFirstItem(String.format("SELECT ID FROM PROPERTIES WHERE TYPE = :type AND %s = :entityId"`entityType.name())`params`Integer.class);" is 153.,36
ontrack,net.nemerosa.ontrack.repository,PropertyJdbcRepository,saveProperty,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("UPDATE PROPERTIES SET JSON = :json` SEARCHKEY = :searchKey WHERE ID = :id"`params.addValue("id"`propertyId));" is 149.,36
ontrack,net.nemerosa.ontrack.repository,PropertyJdbcRepository,saveProperty,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update(String.format("INSERT INTO PROPERTIES(TYPE` %s` SEARCHKEY` JSON) " + "VALUES(:type` :entityId` :searchKey` :json)"`entityType.name())`params);" is 181.,36
ontrack,net.nemerosa.ontrack.repository,PropertyJdbcRepository,deleteProperty,Long Statement,The length of the statement "return Ack.one(getNamedParameterJdbcTemplate().update(String.format("DELETE FROM PROPERTIES WHERE TYPE = :type AND %s = :entityId"`entityType.name())`params("type"`typeName).addValue("entityId"`entityId.getValue())));" is 217.,72
ontrack,net.nemerosa.ontrack.repository,PropertyJdbcRepository,toProperty,Long Statement,The length of the statement "throw new IllegalStateException(String.format("Could not find any entity for property %s with key %s (id = %d)"`typeName`searchKey`id));" is 136.,85
ontrack,net.nemerosa.ontrack.repository,AccountJdbcRepository,checkPassword,Long Statement,The length of the statement "String encodedPassword=getFirstItem("SELECT PASSWORD FROM ACCOUNTS WHERE MODE = 'password' AND ID = :id"`params("id"`accountId)`String.class);" is 142.,33
ontrack,net.nemerosa.ontrack.repository,AccountJdbcRepository,findUserByNameAndSource,Long Statement,The length of the statement "return Optional.ofNullable(getFirstItem("SELECT * FROM ACCOUNTS WHERE MODE = :mode AND NAME = :name"`params("name"`username).addValue("mode"`sourceProvider.getSource().getId())`(rs`rowNum) -> toAccount(rs`mode -> sourceProvider.getSource())));" is 243.,43
ontrack,net.nemerosa.ontrack.repository,AccountJdbcRepository,toAccount,Long Statement,The length of the statement "return Account.of(rs.getString("name")`rs.getString("fullName")`rs.getString("email")`getEnum(SecurityRole.class`rs`"role")`authenticationSourceFunction.apply(rs.getString("mode"))).withId(id(rs));" is 197.,54
ontrack,net.nemerosa.ontrack.repository,AccountJdbcRepository,findAll,Long Statement,The length of the statement "return getJdbcTemplate().query("SELECT * FROM ACCOUNTS ORDER BY NAME"`(rs`num) -> toAccount(rs`authenticationSourceFunction));" is 126.,64
ontrack,net.nemerosa.ontrack.repository,AccountJdbcRepository,newAccount,Long Statement,The length of the statement "int id=dbCreate("INSERT INTO ACCOUNTS (NAME` FULLNAME` EMAIL` MODE` PASSWORD` ROLE) " + "VALUES (:name` :fullName` :email` :mode` :password` :role)"`params("name"`account.getName()).addValue("fullName"`account.getFullName()).addValue("email"`account.getEmail()).addValue("mode"`account.getAuthenticationSource().getId()).addValue("password"`"").addValue("role"`account.getRole().name()));" is 388.,75
ontrack,net.nemerosa.ontrack.repository,AccountJdbcRepository,saveAccount,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("UPDATE ACCOUNTS SET NAME = :name` FULLNAME = :fullName` EMAIL = :email " + "WHERE ID = :id"`params("id"`account.id()).addValue("name"`account.getName()).addValue("fullName"`account.getFullName()).addValue("email"`account.getEmail()));" is 274.,94
ontrack,net.nemerosa.ontrack.repository,AccountJdbcRepository,deleteAccount,Long Statement,The length of the statement "return Ack.one(getNamedParameterJdbcTemplate().update("DELETE FROM ACCOUNTS WHERE ID = :id"`params("id"`accountId.getValue())));" is 128.,110
ontrack,net.nemerosa.ontrack.repository,AccountJdbcRepository,setPassword,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("UPDATE ACCOUNTS SET PASSWORD = :password WHERE ID = :id"`params("id"`accountId).addValue("password"`encodedPassword));" is 158.,120
ontrack,net.nemerosa.ontrack.repository,AccountJdbcRepository,getAccount,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().queryForObject("SELECT * FROM ACCOUNTS WHERE ID = :id"`params("id"`accountId.getValue())`(rs`num) -> toAccount(rs`authenticationSourceFunction));" is 184.,129
ontrack,net.nemerosa.ontrack.repository,AccountJdbcRepository,findByNameToken,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().query("SELECT * FROM ACCOUNTS WHERE LOWER(NAME) LIKE :filter ORDER BY NAME"`params("filter"`String.format("%%%s%%"`StringUtils.lowerCase(token)))`(rs`num) -> toAccount(rs`authenticationSourceFunction));" is 241.,141
ontrack,net.nemerosa.ontrack.repository,ConfigurationJdbcRepository,list,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().query("SELECT * FROM CONFIGURATIONS WHERE TYPE = :type ORDER BY NAME"`params("type"`configurationClass.getName())`(rs`rowNum) -> readJson(configurationClass`rs`"content"));" is 211.,22
ontrack,net.nemerosa.ontrack.repository,ConfigurationJdbcRepository,find,Long Statement,The length of the statement "return Optional.ofNullable(getFirstItem("SELECT * FROM CONFIGURATIONS WHERE TYPE = :type AND NAME = :name"`params("type"`configurationClass.getName()).addValue("name"`name)`(rs`rowNum) -> readJson(configurationClass`rs`"content")));" is 232.,31
ontrack,net.nemerosa.ontrack.repository,ConfigurationJdbcRepository,save,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("UPDATE CONFIGURATIONS SET CONTENT = :content WHERE ID = :id"`params.addValue("content"`writeJson(configuration)).addValue("id"`id));" is 172.,42
ontrack,net.nemerosa.ontrack.repository,ConfigurationJdbcRepository,save,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("INSERT INTO CONFIGURATIONS(TYPE` NAME` CONTENT) VALUES (:type` :name` :content)"`params.addValue("content"`writeJson(configuration)));" is 174.,42
ontrack,net.nemerosa.ontrack.repository,ConfigurationJdbcRepository,delete,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("DELETE FROM CONFIGURATIONS WHERE TYPE = :type AND NAME = :name"`params("type"`configurationClass.getName()).addValue("name"`name));" is 171.,67
ontrack,net.nemerosa.ontrack.repository,PreferencesJdbcRepository,find,Long Statement,The length of the statement "return Optional.ofNullable(getFirstItem("SELECT CONTENT FROM PREFERENCES WHERE ACCOUNTID = :accountId AND TYPE = :type"`params("accountId"`accountId).addValue("type"`type)`String.class)).map(this::readJson);" is 207.,21
ontrack,net.nemerosa.ontrack.repository,PreferencesJdbcRepository,store,Long Statement,The length of the statement "t.update("INSERT INTO PREFERENCES(ACCOUNTID` TYPE` CONTENT) VALUES (:accountId` :type` :content)"`params.addValue("content"`writeJson(data)));" is 142.,32
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,newProject,Long Statement,The length of the statement "int id=dbCreate("INSERT INTO PROJECTS(NAME` DESCRIPTION) VALUES (:name` :description)"`params("name"`project.getName()).addValue("description"`project.getDescription()));" is 170.,33
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,getProject,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().queryForObject("SELECT * FROM PROJECTS WHERE ID = :id"`params("id"`projectId.getValue())`(rs`rowNum) -> toProject(rs));" is 158.,56
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,getProjectByName,Long Statement,The length of the statement "return Optional.ofNullable(getFirstItem("SELECT * FROM PROJECTS WHERE NAME = :name"`params("name"`project)`(rs`rowNum) -> toProject(rs)));" is 138.,69
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,saveProject,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("UPDATE PROJECTS SET NAME = :name` DESCRIPTION = :description WHERE ID = :id"`params("name"`project.getName()).addValue("description"`project.getDescription()).addValue("id"`project.getId().getValue()));" is 242.,80
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,deleteProject,Long Statement,The length of the statement "return Ack.one(getNamedParameterJdbcTemplate().update("DELETE FROM PROJECTS WHERE ID = :id"`params("id"`projectId.getValue())));" is 128.,90
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,getBranch,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().queryForObject("SELECT * FROM BRANCHES WHERE ID = :id"`params("id"`branchId.getValue())`(rs`rowNum) -> toBranch(rs`this::getProject));" is 173.,100
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,getBranchByName,Long Statement,The length of the statement "return getProjectByName(project).map(p -> getFirstItem("SELECT * FROM BRANCHES WHERE PROJECTID = :project AND NAME = :name"`params("name"`branch).addValue("project"`p.id())`(rs`rowNum) -> toBranch(rs`id -> p)));" is 211.,113
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,getBranchesForProject,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().query("SELECT * FROM BRANCHES WHERE PROJECTID = :projectId ORDER BY NAME"`params("projectId"`projectId.getValue())`(rs`rowNum) -> toBranch(rs`id -> project));" is 197.,123
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,newBranch,Long Statement,The length of the statement "int id=dbCreate("INSERT INTO BRANCHES(PROJECTID` NAME` DESCRIPTION) VALUES (:projectId` :name` :description)"`params("name"`branch.getName()).addValue("description"`branch.getDescription()).addValue("projectId"`branch.getProject().id()));" is 238.,133
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,saveBranch,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("UPDATE BRANCHES SET NAME = :name` DESCRIPTION = :description WHERE ID = :id"`params("name"`branch.getName()).addValue("description"`branch.getDescription()).addValue("id"`branch.id()));" is 225.,150
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,deleteBranch,Long Statement,The length of the statement "return Ack.one(getNamedParameterJdbcTemplate().update("DELETE FROM BRANCHES WHERE ID = :id"`params("id"`branchId.getValue())));" is 127.,165
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,builds,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().execute("SELECT * FROM BUILDS WHERE BRANCHID = :branchId ORDER BY ID DESC"`params("branchId"`branch.id())`ps -> {" is 145.,175
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,getLastBuildForBranch,Long Statement,The length of the statement "return getFirstItem("SELECT * FROM BUILDS WHERE BRANCHID = :branch ORDER BY ID DESC LIMIT 1"`params("branch"`branch.id())`(rs`num) -> toBuild(rs`(id) -> branch));" is 162.,197
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,deleteBuild,Long Statement,The length of the statement "return Ack.one(getNamedParameterJdbcTemplate().update("DELETE FROM BUILDS WHERE ID = :id"`params("id"`buildId.getValue())));" is 124.,206
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,toBuild,Long Statement,The length of the statement "return Build.of(branchSupplier.apply(id(rs`"branchId"))`new NameDescription(rs.getString("name")`rs.getString("description"))`readSignature(rs)).withId(id(rs));" is 160.,216
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,newBuild,Long Statement,The length of the statement "int id=dbCreate("INSERT INTO BUILDS(BRANCHID` NAME` DESCRIPTION` CREATION` CREATOR) VALUES (:branchId` :name` :description` :creation` :creator)"`params("name"`build.getName()).addValue("description"`build.getDescription()).addValue("branchId"`build.getBranch().id()).addValue("creation"`dateTimeForDB(build.getSignature().getTime())).addValue("creator"`build.getSignature().getUser().getName()));" is 397.,227
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,saveBuild,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("UPDATE BUILDS SET NAME = :name` DESCRIPTION = :description WHERE ID = :id"`params("name"`build.getName()).addValue("description"`build.getDescription()).addValue("id"`build.id()));" is 220.,245
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,getBuild,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().queryForObject("SELECT * FROM BUILDS WHERE ID = :id"`params("id"`buildId.getValue())`(rs`rowNum) -> toBuild(rs`this::getBranch));" is 168.,261
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,getBuildByName,Long Statement,The length of the statement "return getBranchByName(project`branch).map(b -> getFirstItem("SELECT * FROM BUILDS WHERE NAME = :name AND BRANCHID = :branchId"`params("name"`build).addValue("branchId"`b.id())`(rs`rowNum) -> toBuild(rs`this::getBranch)));" is 222.,275
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,findBuildAfterUsingNumericForm,Long Statement,The length of the statement "return Optional.ofNullable(getFirstItem("SELECT * FROM (SELECT * FROM BUILD WHERE BRANCH = :branch AND NAME REGEXP '[0-9]+') " + "WHERE CONVERT(NAME`INT) >= CONVERT(:name`INT) ORDER BY CONVERT(NAME`INT) " + "LIMIT 1"`params("branch"`branchId.getValue()).addValue("name"`buildName)`(rs`rowNum) -> toBuild(rs`this::getBranch)));" is 326.,284
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,getPromotionLevelListForBranch,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().query("SELECT * FROM PROMOTION_LEVELS WHERE BRANCHID = :branchId ORDER BY ORDERNB"`params("branchId"`branchId.getValue())`(rs`rowNum) -> toPromotionLevel(rs`id -> branch));" is 211.,297
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,newPromotionLevel,Long Statement,The length of the statement "Integer orderNbValue=getFirstItem("SELECT MAX(ORDERNB) FROM promotion_levels WHERE BRANCHID = :branchId"`params("branchId"`promotionLevel.getBranch().id())`Integer.class);" is 171.,307
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,newPromotionLevel,Long Statement,The length of the statement "int id=dbCreate("INSERT INTO PROMOTION_LEVELS(BRANCHID` NAME` DESCRIPTION` ORDERNB) VALUES (:branchId` :name` :description` :orderNb)"`params("name"`promotionLevel.getName()).addValue("description"`promotionLevel.getDescription()).addValue("branchId"`promotionLevel.getBranch().id()).addValue("orderNb"`orderNb));" is 313.,307
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,getPromotionLevel,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().queryForObject("SELECT * FROM PROMOTION_LEVELS WHERE ID = :id"`params("id"`promotionLevelId.getValue())`(rs`rowNum) -> toPromotionLevel(rs`this::getBranch));" is 196.,332
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,getPromotionLevelByName,Long Statement,The length of the statement "return getBranchByName(project`branch).map(b -> getFirstItem("SELECT * FROM PROMOTION_LEVELS WHERE BRANCHID = :branch AND NAME = :name"`params("name"`promotionLevel).addValue("branch"`b.id())`(rs`rowNum) -> toPromotionLevel(rs`this::getBranch)));" is 246.,345
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,getPromotionLevelImage,Long Statement,The length of the statement "return getFirstItem("SELECT IMAGETYPE` IMAGEBYTES FROM PROMOTION_LEVELS WHERE ID = :id"`params("id"`promotionLevelId.getValue())`(rs`rowNum) -> toDocument(rs));" is 160.,354
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,setPromotionLevelImage,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("UPDATE PROMOTION_LEVELS SET IMAGETYPE = :type` IMAGEBYTES = :content WHERE ID = :id"`params("id"`promotionLevelId.getValue()).addValue("type"`document != null ? document.getType() : null).addValue("content"`document != null ? document.getContent() : null));" is 297.,363
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,savePromotionLevel,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("UPDATE PROMOTION_LEVELS SET NAME = :name` DESCRIPTION = :description WHERE ID = :id"`params("name"`promotionLevel.getName()).addValue("description"`promotionLevel.getDescription()).addValue("id"`promotionLevel.id()));" is 257.,373
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,deletePromotionLevel,Long Statement,The length of the statement "return Ack.one(getNamedParameterJdbcTemplate().update("DELETE FROM PROMOTION_LEVELS WHERE ID = :id"`params("id"`promotionLevelId.getValue())));" is 143.,388
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,reorderPromotionLevels,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("UPDATE PROMOTION_LEVELS SET ORDERNB = :order WHERE ID = :id"`params("id"`id).addValue("order"`order++));" is 144.,398
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,newPromotionRun,Long Statement,The length of the statement "return promotionRun.withId(id(dbCreate("INSERT INTO PROMOTION_RUNS(BUILDID` PROMOTIONLEVELID` CREATION` CREATOR` DESCRIPTION) VALUES (:buildId` :promotionLevelId` :creation` :creator` :description)"`params("buildId"`promotionRun.getBuild().id()).addValue("promotionLevelId"`promotionRun.getPromotionLevel().id()).addValue("description"`promotionRun.getDescription()).addValue("creation"`dateTimeForDB(promotionRun.getSignature().getTime())).addValue("creator"`promotionRun.getSignature().getUser().getName()))));" is 512.,409
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,getPromotionRun,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().queryForObject("SELECT * FROM PROMOTION_RUNS WHERE ID = :id"`params("id"`promotionRunId.getValue())`(rs`rowNum) -> toPromotionRun(rs`this::getBuild`this::getPromotionLevel));" is 213.,425
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,getLastPromotionRunsForBuild,Long Statement,The length of the statement "return promotionLevels.stream().map(promotionLevel -> getLastPromotionRun(build`promotionLevel)).filter(Optional::isPresent).map(Optional::get).collect(Collectors.toList());" is 173.,438
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,getLastPromotionRunForPromotionLevel,Long Statement,The length of the statement "return getFirstItem("SELECT * FROM PROMOTION_RUNS WHERE PROMOTIONLEVELID = :promotionLevelId ORDER BY CREATION DESC LIMIT 1"`params("promotionLevelId"`promotionLevel.id())`(rs`rowNum) -> toPromotionRun(rs`this::getBuild`(promotionLevelId) -> promotionLevel));" is 259.,452
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,getLastPromotionRun,Long Statement,The length of the statement "return Optional.ofNullable(getFirstItem("SELECT * FROM PROMOTION_RUNS WHERE BUILDID = :buildId AND PROMOTIONLEVELID = :promotionLevelId ORDER BY CREATION DESC LIMIT 1"`params("buildId"`build.id()).addValue("promotionLevelId"`promotionLevel.id())`(rs`rowNum) -> toPromotionRun(rs`(id) -> build`(id) -> promotionLevel)));" is 319.,463
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,toPromotionRun,Long Statement,The length of the statement "return PromotionRun.of(buildLoader.apply(id(rs`"buildId"))`promotionLevelLoader.apply(id(rs`"promotionLevelId"))`readSignature(rs)`rs.getString("description"));" is 160.,476
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,getValidationStampListForBranch,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().query("SELECT * FROM VALIDATION_STAMPS WHERE BRANCHID = :branchId ORDER BY ORDERNB"`params("branchId"`branchId.getValue())`(rs`rowNum) -> toValidationStamp(rs`id -> branch));" is 213.,487
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,newValidationStamp,Long Statement,The length of the statement "Integer orderNbValue=getFirstItem("SELECT MAX(ORDERNB) FROM VALIDATION_STAMPS WHERE BRANCHID = :branchId"`params("branchId"`validationStamp.getBranch().id())`Integer.class);" is 173.,497
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,newValidationStamp,Long Statement,The length of the statement "int id=dbCreate("INSERT INTO VALIDATION_STAMPS(BRANCHID` NAME` DESCRIPTION` ORDERNB) VALUES (:branchId` :name` :description` :orderNb)"`params("name"`validationStamp.getName()).addValue("description"`validationStamp.getDescription()).addValue("branchId"`validationStamp.getBranch().id()).addValue("orderNb"`orderNb));" is 317.,497
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,getValidationStamp,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().queryForObject("SELECT * FROM VALIDATION_STAMPS WHERE ID = :id"`params("id"`validationStampId.getValue())`(rs`rowNum) -> toValidationStamp(rs`this::getBranch));" is 199.,522
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,getValidationStampByName,Long Statement,The length of the statement "return getBranchByName(project`branch).map(b -> getFirstItem("SELECT * FROM VALIDATION_STAMPS WHERE NAME = :name AND BRANCHID = :branch"`params("name"`validationStamp).addValue("branch"`b.id())`(rs`rowNum) -> toValidationStamp(rs`id -> b)));" is 241.,535
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,getValidationStampImage,Long Statement,The length of the statement "return getFirstItem("SELECT IMAGETYPE` IMAGEBYTES FROM VALIDATION_STAMPS WHERE ID = :id"`params("id"`validationStampId.getValue())`(rs`rowNum) -> toDocument(rs));" is 162.,544
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,setValidationStampImage,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("UPDATE VALIDATION_STAMPS SET IMAGETYPE = :type` IMAGEBYTES = :content WHERE ID = :id"`params("id"`validationStampId.getValue()).addValue("type"`document != null ? document.getType() : null).addValue("content"`document != null ? document.getContent() : null));" is 299.,553
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,saveValidationStamp,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("UPDATE VALIDATION_STAMPS SET NAME = :name` DESCRIPTION = :description WHERE ID = :id"`params("name"`validationStamp.getName()).addValue("description"`validationStamp.getDescription()).addValue("id"`validationStamp.id()));" is 261.,563
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,deleteValidationStamp,Long Statement,The length of the statement "return Ack.one(getNamedParameterJdbcTemplate().update("DELETE FROM VALIDATION_STAMPS WHERE ID = :id"`params("id"`validationStampId.getValue())));" is 145.,578
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,reorderValidationStamps,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("UPDATE VALIDATION_STAMPS SET ORDERNB = :order WHERE ID = :id"`params("id"`id).addValue("order"`order++));" is 145.,588
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,newValidationRun,Long Statement,The length of the statement "int id=dbCreate("INSERT INTO VALIDATION_RUNS(BUILDID` VALIDATIONSTAMPID) VALUES (:buildId` :validationStampId)"`params("buildId"`validationRun.getBuild().id()).addValue("validationStampId"`validationRun.getValidationStamp().id()));" is 231.,599
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,newValidationRun,Long Statement,The length of the statement "validationRun.getValidationRunStatuses().stream().forEach(validationRunStatus -> newValidationRunStatus(id`validationRunStatus));" is 129.,599
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,getValidationRun,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().queryForObject("SELECT * FROM VALIDATION_RUNS WHERE ID = :id"`params("id"`validationRunId.getValue())`(rs`rowNum) -> toValidationRun(rs`this::getBuild`this::getValidationStamp));" is 217.,617
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,getValidationRunsForBuild,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().query("SELECT * FROM VALIDATION_RUNS WHERE BUILDID = :buildId"`params("buildId"`build.id())`(rs`rowNum) -> toValidationRun(rs`id -> build`this::getValidationStamp));" is 204.,630
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,getValidationRunsForValidationStamp,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().query("SELECT * FROM VALIDATION_RUNS WHERE VALIDATIONSTAMPID = :validationStampId ORDER BY ID DESC LIMIT :limit OFFSET :offset"`params("validationStampId"`validationStamp.id()).addValue("limit"`count).addValue("offset"`offset)`(rs`rowNum) -> toValidationRun(rs`this::getBuild`id -> validationStamp));" is 339.,643
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,newValidationRunStatus,Long Statement,The length of the statement "dbCreate("INSERT INTO VALIDATION_RUN_STATUSES(VALIDATIONRUNID` VALIDATIONRUNSTATUSID` CREATION` CREATOR` DESCRIPTION) " + "VALUES (:validationRunId` :validationRunStatusId` :creation` :creator` :description)"`params("validationRunId"`validationRunId).addValue("validationRunStatusId"`validationRunStatus.getStatusID().getId()).addValue("description"`validationRunStatus.getDescription()).addValue("creation"`dateTimeForDB(validationRunStatus.getSignature().getTime())).addValue("creator"`validationRunStatus.getSignature().getUser().getName()));" is 545.,666
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,toValidationRun,Long Statement,The length of the statement "List<ValidationRunStatus> statuses=getNamedParameterJdbcTemplate().query("SELECT * FROM VALIDATION_RUN_STATUSES WHERE VALIDATIONRUNID = :validationRunId ORDER BY CREATION DESC"`params("validationRunId"`id)`(rs1`rowNum) -> ValidationRunStatus.of(readSignature(rs1)`validationRunStatusService.getValidationRunStatus(rs1.getString("validationRunStatusId"))`rs1.getString("description")));" is 385.,678
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,toValidationRun,Long Statement,The length of the statement "int runOrder=getNamedParameterJdbcTemplate().queryForObject("SELECT COUNT(*) FROM VALIDATION_RUNS WHERE BUILDID=:buildId AND VALIDATIONSTAMPID=:validationStampId AND ID <= :id"`params("id"`id).addValue("buildId"`buildId.getValue()).addValue("validationStampId"`validationStampId.getValue())`Integer.class);" is 306.,678
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,toValidationRun,Long Statement,The length of the statement "return ValidationRun.of(buildSupplier.apply(buildId)`validationStampSupplier.apply(validationStampId)`runOrder`statuses).withId(ID.of(id));" is 139.,678
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,toPromotionLevel,Long Statement,The length of the statement "return PromotionLevel.of(branchSupplier.apply(id(rs`"branchId"))`new NameDescription(rs.getString("name")`rs.getString("description"))).withId(id(rs)).withImage(StringUtils.isNotBlank(rs.getString("imagetype")));" is 212.,708
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,toValidationStamp,Long Statement,The length of the statement "return ValidationStamp.of(branchSupplier.apply(id(rs`"branchId"))`new NameDescription(rs.getString("name")`rs.getString("description"))).withId(id(rs)).withImage(StringUtils.isNotBlank(rs.getString("imagetype")));" is 213.,718
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,toBranch,Long Statement,The length of the statement "return Branch.of(projectSupplier.apply(id(rs`"projectId"))`new NameDescription(rs.getString("name")`rs.getString("description"))).withId(id(rs));" is 145.,728
ontrack,net.nemerosa.ontrack.repository,StructureJdbcRepository,toDocument,Complex Conditional,The conditional expression StringUtils.isNotBlank(type) && bytes != null && bytes.length > 0 is complex.,745
ontrack,net.nemerosa.ontrack.repository,PropertyRepository,saveProperty,Long Parameter List,The method has 5 parameters. ,15
ontrack,net.nemerosa.ontrack.repository,BuildFilterRepository,save,Long Parameter List,The method has 5 parameters. ,16
ontrack,net.nemerosa.ontrack.it,AbstractITTestSupport,contextSetup,Long Statement,The length of the statement "TestingAuthenticationToken authentication=new TestingAuthenticationToken((AccountHolder)() -> account`""`account.getRole().name());" is 131.,89
ontrack,net.nemerosa.ontrack.it,AbstractITTestSupport,with,Long Statement,The length of the statement "account.withGlobalRole(Optional.of(new GlobalRole("test"`"Test global role"`""`Collections.singleton(fn)`Collections.emptySet())));" is 131.,108
ontrack,net.nemerosa.ontrack.it,AbstractITTestSupport,with,Long Statement,The length of the statement "account.withProjectRole(new ProjectRoleAssociation(projectId`new ProjectRole("test"`"Test"`""`Collections.singleton(fn))));" is 123.,121
ontrack,net.nemerosa.ontrack.it,AccountCall,contextSetup,Long Statement,The length of the statement "TestingAuthenticationToken authentication=new TestingAuthenticationToken((AccountHolder)() -> account`""`account.getRole().name());" is 131.,89
ontrack,net.nemerosa.ontrack.it,UserCall,with,Long Statement,The length of the statement "account.withGlobalRole(Optional.of(new GlobalRole("test"`"Test global role"`""`Collections.singleton(fn)`Collections.emptySet())));" is 131.,108
ontrack,net.nemerosa.ontrack.it,UserCall,with,Long Statement,The length of the statement "account.withProjectRole(new ProjectRoleAssociation(projectId`new ProjectRole("test"`"Test"`""`Collections.singleton(fn))));" is 123.,121
ontrack,net.nemerosa.ontrack.it,ITConfig,dataSource,Magic Number,The method contains a magic number: 2,23
ontrack,net.nemerosa.ontrack.model.exceptions,ImageFileSizeException,ImageFileSizeException,Magic Number,The method contains a magic number: 1024,4
ontrack,net.nemerosa.ontrack.model.exceptions,ImageFileSizeException,ImageFileSizeException,Magic Number,The method contains a magic number: 1024,4
ontrack,net.nemerosa.ontrack.model.structure,ValidationRun,of,Long Parameter List,The method has 6 parameters. ,55
ontrack,net.nemerosa.ontrack.model.structure,ProjectTest,new_form,Long Statement,The length of the statement "assertJsonWrite(object().with("fields"`array().with(object().with("type"`"text").with("name"`"name").with("label"`"Name").with("required"`true).with("readOnly"`false).with("validation"`"Name is required and must contain only alpha-numeric characters` underscores` points or dashes.").with("help"`"").with("value"`(String)null).with("length"`40).with("regex"`"[A-Za-z0-9_\\.\\-]+").end()).with(object().with("type"`"memo").with("name"`"description").with("label"`"Description").with("required"`false).with("readOnly"`false).with("validation"`(String)null).with("help"`"").with("value"`(String)null).with("length"`500).with("rows"`3).end()).end()).end()`Project.form());" is 668.,23
ontrack,net.nemerosa.ontrack.model.structure,ProjectTest,new_form,Magic Number,The method contains a magic number: 40,23
ontrack,net.nemerosa.ontrack.model.structure,ProjectTest,new_form,Magic Number,The method contains a magic number: 500,23
ontrack,net.nemerosa.ontrack.model.structure,ProjectTest,new_form,Magic Number,The method contains a magic number: 3,23
ontrack,net.nemerosa.ontrack.model.structure,ProjectTest,save_form,Long Statement,The length of the statement "assertJsonWrite(object().with("fields"`array().with(object().with("type"`"text").with("name"`"name").with("label"`"Name").with("required"`true).with("readOnly"`false).with("validation"`"Name is required and must contain only alpha-numeric characters` underscores` points or dashes.").with("help"`"").with("value"`"Name").with("length"`40).with("regex"`"[A-Za-z0-9_\\.\\-]+").end()).with(object().with("type"`"memo").with("name"`"description").with("label"`"Description").with("required"`false).with("readOnly"`false).with("validation"`(String)null).with("help"`"").with("value"`"Description").with("length"`500).with("rows"`3).end()).end()).end()`Project.of(new NameDescription("Name"`"Description")).asForm());" is 711.,58
ontrack,net.nemerosa.ontrack.model.structure,ProjectTest,save_form,Magic Number,The method contains a magic number: 40,58
ontrack,net.nemerosa.ontrack.model.structure,ProjectTest,save_form,Magic Number,The method contains a magic number: 500,58
ontrack,net.nemerosa.ontrack.model.structure,ProjectTest,save_form,Magic Number,The method contains a magic number: 3,58
ontrack,net.nemerosa.ontrack.model.structure,PromotionViewTest,no_build_json,Long Statement,The length of the statement "PromotionView view=new PromotionView(PromotionLevel.of(Branch.of(Project.of(new NameDescription("P"`"Project")).withId(ID.of(1))`new NameDescription("B"`"Branch")).withId(ID.of(1))`new NameDescription("PL"`"Promotion level"))`null);" is 232.,11
ontrack,net.nemerosa.ontrack.model.structure,PromotionViewTest,no_build_json,Long Statement,The length of the statement "assertJsonWrite(object().with("promotionLevel"`object().with("id"`0).with("name"`"PL").with("description"`"Promotion level").with("image"`false).with("branch"`object().with("id"`1).with("name"`"B").with("description"`"Branch").with("project"`object().with("id"`1).with("name"`"P").with("description"`"Project").end()).end()).end()).with("promotionRun"`(String)null).end()`view`PromotionView.class);" is 398.,11
ontrack,net.nemerosa.ontrack.model.structure,PromotionViewTest,build_json,Long Statement,The length of the statement "PromotionView view=new PromotionView(promotionLevel`PromotionRun.of(build`promotionLevel`new Signature(dateTime()`new User("user"))`"Promotion"));" is 146.,48
ontrack,net.nemerosa.ontrack.model.structure,PromotionViewTest,build_json,Long Statement,The length of the statement "assertJsonWrite(object().with("promotionLevel"`object().with("id"`0).with("name"`"PL").with("description"`"Promotion level").with("image"`false).with("branch"`object().with("id"`1).with("name"`"B").with("description"`"Branch").with("project"`object().with("id"`1).with("name"`"P").with("description"`"Project").end()).end()).end()).with("promotionRun"`object().with("id"`0).with("signature"`object().with("time"`dateTimeJson()).with("user"`object().with("name"`"user").end()).end()).with("description"`"Promotion").with("build"`object().with("id"`0).with("name"`"11").with("description"`"Build 11").with("signature"`object().with("time"`dateTimeJson()).with("user"`object().with("name"`"User").end()).end()).end()).end()).end()`view`PromotionView.class);" is 754.,48
ontrack,net.nemerosa.ontrack.model.structure,BuildRequestTest,name_description,Long Statement,The length of the statement "assertEquals(new NameDescription("12"`"Build 12")`new BuildRequest("12"`"Build 12"`Collections.emptyList()).asNameDescription());" is 129.,28
ontrack,net.nemerosa.ontrack.model.structure,BuildRequestTest,from_json_without_properties,Long Statement,The length of the statement "assertJsonRead(new BuildRequest("12"`"Build 12"`Collections.emptyList())`object().with("name"`"12").with("description"`"Build 12").end()`BuildRequest.class);" is 157.,40
ontrack,net.nemerosa.ontrack.model.structure,BuildRequestTest,from_json_with_properties,Long Statement,The length of the statement "assertJsonRead(new BuildRequest("12"`"Build 12"`Arrays.asList(new PropertyCreationRequest("build"`object().with("url"`"http://ci/build/12").end())))`object().with("name"`"12").with("description"`"Build 12").with("properties"`array().with(object().with("propertyTypeName"`"build").with("propertyData"`object().with("url"`"http://ci/build/12").end()).end()).end()).end()`BuildRequest.class);" is 389.,56
ontrack,net.nemerosa.ontrack.model.structure,IDTest,set_to_json,Magic Number,The method contains a magic number: 12,40
ontrack,net.nemerosa.ontrack.model.structure,IDTest,set_to_json,Magic Number,The method contains a magic number: 12,40
ontrack,net.nemerosa.ontrack.model.structure,BranchTest,collection_without_projects,Long Statement,The length of the statement "List<Branch> branches=Arrays.asList(Branch.of(project`new NameDescription("B1"`"Branch 1"))`Branch.of(project`new NameDescription("B2"`"Branch 2")));" is 149.,15
ontrack,net.nemerosa.ontrack.model.structure,BranchTest,collection_without_projects,Long Statement,The length of the statement "assertJsonWrite(array().with(object().with("id"`0).with("name"`"B1").with("description"`"Branch 1").end()).with(object().with("id"`0).with("name"`"B2").with("description"`"Branch 2").end()).end()`branches`List.class);" is 217.,15
ontrack,net.nemerosa.ontrack.model.structure,BranchTest,branch_with_project,Long Statement,The length of the statement "assertJsonWrite(object().with("id"`0).with("name"`"B").with("description"`"Branch").with("project"`object().with("id"`0).with("name"`"PRJ").with("description"`"Project").end()).end()`branch`Branch.class);" is 204.,41
ontrack,net.nemerosa.ontrack.model.settings,SecuritySettings,form,Long Statement,The length of the statement "return Form.create().with(YesNo.of("grantProjectViewToAll").label("Grants project view to all").help("Unless disabled at project level` this would enable any user (even anonymous) " + "to view the content of all projects.").value(isGrantProjectViewToAll()));" is 258.,21
ontrack,net.nemerosa.ontrack.model,AckTest,one_more,Magic Number,The method contains a magic number: 2,43
ontrack,net.nemerosa.ontrack.model.form,DateTime,minuteStep,Magic Number,The method contains a magic number: 60,21
ontrack,net.nemerosa.ontrack.model.form,Form,password,Magic Number,The method contains a magic number: 40,28
ontrack,net.nemerosa.ontrack.model.form,Form,description,Magic Number,The method contains a magic number: 500,37
ontrack,net.nemerosa.ontrack.model.form,Form,description,Magic Number,The method contains a magic number: 3,37
ontrack,net.nemerosa.ontrack.model.form,Form,defaultNameField,Long Statement,The length of the statement "return Text.of("name").label("Name").length(40).regex("[A-Za-z0-9_\\.\\-]+").validation("Name is required and must contain only alpha-numeric characters` underscores` points or dashes.");" is 187.,99
ontrack,net.nemerosa.ontrack.model.form,Form,defaultNameField,Magic Number,The method contains a magic number: 40,99
ontrack,net.nemerosa.ontrack.model.security,Account,of,Long Parameter List,The method has 5 parameters. ,20
ontrack,net.nemerosa.ontrack.model.security,Account,isGranted,Long Statement,The length of the statement "return (SecurityRole.ADMINISTRATOR == role) || accountGroups.stream().anyMatch(group -> group.isGranted(fn)) || authorisations.isGranted(fn);" is 141.,46
ontrack,net.nemerosa.ontrack.model.security,Account,isGranted,Long Statement,The length of the statement "return SecurityRole.ADMINISTRATOR == role || accountGroups.stream().anyMatch(group -> group.isGranted(projectId`fn)) || authorisations.isGranted(projectId`fn);" is 159.,52
ontrack,net.nemerosa.ontrack.model.security,Account,update,Long Statement,The length of the statement "return new Account(id`input.getName()`input.getFullName()`input.getEmail()`authenticationSource`role`accountGroups`authorisations`locked);" is 138.,87
ontrack,net.nemerosa.ontrack.model.security,Authorisations,isGranted,Long Statement,The length of the statement "return (globalRole != null && globalRole.isProjectFunctionGranted(fn)) || projectRoleAssociations.stream().anyMatch(pa -> pa.getProjectId() == projectId && pa.isGranted(fn));" is 174.,30
ontrack,net.nemerosa.ontrack.model.security,AccountTest,projectEdit_other_project,Magic Number,The method contains a magic number: 2,19
ontrack,net.nemerosa.ontrack.model.security,AccountTest,projectEdit_does_not_implies_projectView_on_other_project,Magic Number,The method contains a magic number: 2,37
ontrack,net.nemerosa.ontrack.model.security,AccountTest,account,Long Statement,The length of the statement "return baseAccount().withProjectRole(new ProjectRoleAssociation(1`new ProjectRole("test"`"Test"`""`Collections.singleton(fn))));" is 128.,43
ontrack,net.nemerosa.ontrack.model.security,AccountTest,global_function_granted,Long Statement,The length of the statement "Account account=baseAccount().withGlobalRole(Optional.of(new GlobalRole("test"`"Test"`""`Collections.singleton(GlobalSettings.class)`Collections.emptySet())));" is 159.,61
ontrack,net.nemerosa.ontrack.model.security,ConnectedAccountTest,of,Magic Number,The method contains a magic number: 2,26
ontrack,net.nemerosa.ontrack.model.support,ApplicationLogEntry,ApplicationLogEntry,Long Parameter List,The method has 5 parameters. ,25
ontrack,net.nemerosa.ontrack.model.support,MessageAnnotationUtils,annotate,Complex Conditional,The conditional expression m != null && !m.isOnlyText() && !node.isLeaf() is complex.,19
ontrack,net.nemerosa.ontrack.model.support,MessageAnnotationUtils,end,Complex Conditional,The conditional expression m != null && !m.isOnlyText() && !node.isLeaf() is complex.,45
ontrack,net.nemerosa.ontrack.model.support,MessageAnnotationUtils,annotateAsNode,Complex Method,Cyclomatic complexity of the method is 9,56
ontrack,net.nemerosa.ontrack.model.support,Page,Page,Magic Number,The method contains a magic number: 100,11
ontrack,net.nemerosa.ontrack.model.support,ApplicationLogService,error,Long Parameter List,The method has 5 parameters. ,15
ontrack,net.nemerosa.ontrack.model.support,MessageAnnotationUtilsTest,annotate_as_node_issue_with_one_match,Magic Number,The method contains a magic number: 2,28
ontrack,net.nemerosa.ontrack.model.support,MessageAnnotationUtilsTest,annotate_as_node_issue_and_number_with_one_match,Long Statement,The length of the statement "Node<Markup> root=MessageAnnotationUtils.annotateAsNode("#177 One match"`Arrays.asList(issueMessageAnnotator`numberMessageAnnotator));" is 134.,93
ontrack,net.nemerosa.ontrack.model.support,MessageAnnotationUtilsTest,annotate_as_node_issue_and_number_with_one_match,Magic Number,The method contains a magic number: 2,93
ontrack,net.nemerosa.ontrack.model.support,MessageAnnotationUtilsTest,annotate_as_node_issue_and_number_with_one_match,Magic Number,The method contains a magic number: 2,93
ontrack,net.nemerosa.ontrack.model.support,MessageAnnotationUtilsTest,annotate_as_html_issue_and_number_with_one_match,Long Statement,The length of the statement "String html=MessageAnnotationUtils.annotate("#177 One match"`Arrays.asList(issueMessageAnnotator`numberMessageAnnotator));" is 122.,143
ontrack,net.nemerosa.ontrack.model.support,RegexMessageAnnotatorTest,no_match,Long Statement,The length of the statement "Collection<MessageAnnotation> annotations=new RegexMessageAnnotator(REGEX`annotationFunction).annotate("No match here.");" is 121.,17
ontrack,net.nemerosa.ontrack.model.support,RegexMessageAnnotatorTest,one_match,Long Statement,The length of the statement "Collection<MessageAnnotation> annotations=new RegexMessageAnnotator(REGEX`annotationFunction).annotate("#177 match here.");" is 123.,28
ontrack,net.nemerosa.ontrack.model.support,RegexMessageAnnotatorTest,several_matches,Long Statement,The length of the statement "Collection<MessageAnnotation> annotations=new RegexMessageAnnotator(REGEX`annotationFunction).annotate("#177 #178 matches.");" is 125.,40
ontrack,net.nemerosa.ontrack.model.support,RegexMessageAnnotatorTest,several_matches,Long Statement,The length of the statement "assertEquals(Arrays.asList(annotationFunction.apply("#177")`MessageAnnotation.t(" ")`annotationFunction.apply("#178")`MessageAnnotation.t(" matches."))`annotations);" is 165.,40
ontrack,net.nemerosa.ontrack.model.support,RegexMessageAnnotatorTest,identical_matches,Long Statement,The length of the statement "Collection<MessageAnnotation> annotations=new RegexMessageAnnotator(REGEX`annotationFunction).annotate("#177 #177 matches.");" is 125.,54
ontrack,net.nemerosa.ontrack.model.support,RegexMessageAnnotatorTest,identical_matches,Long Statement,The length of the statement "assertEquals(Arrays.asList(annotationFunction.apply("#177")`MessageAnnotation.t(" ")`annotationFunction.apply("#177")`MessageAnnotation.t(" matches."))`annotations);" is 165.,54
ontrack,net.nemerosa.ontrack.model.support.tree,NodeTest,json,Long Statement,The length of the statement "Node<Markup> root=factory.node(null`asList(factory.node(of("link").attr("url"`"http://test/id/177")`asList(factory.leaf(Markup.text("#"))`factory.node(of("em")`asList(factory.leaf(Markup.text("177"))))))`factory.leaf(Markup.text(" One match"))));" is 246.,14
ontrack,net.nemerosa.ontrack.extension.general,ValidationStampWeatherDecorationExtension,getDecoration,Magic Number,The method contains a magic number: 5,29
ontrack,net.nemerosa.ontrack.extension.general,ValidationStampWeatherDecorationExtension,getDecoration,Magic Number,The method contains a magic number: 2,29
ontrack,net.nemerosa.ontrack.extension.general,ValidationStampWeatherDecorationExtension,getDecoration,Magic Number,The method contains a magic number: 3,29
ontrack,net.nemerosa.ontrack.extension.general,ReleasePropertyType,getEditionForm,Magic Number,The method contains a magic number: 20,42
ontrack,net.nemerosa.ontrack.extension.github,GitHubController,getDescription,Long Statement,The length of the statement "return Resource.of(feature.getFeatureDescription()`uri(MvcUriComponentsBuilder.on(getClass()).getDescription())).with("configurations"`uri(on(getClass()).getConfigurations())`securityService.isGlobalFunctionGranted(GlobalSettings.class));" is 238.,37
ontrack,net.nemerosa.ontrack.extension.github,GitHubController,getConfigurations,Long Statement,The length of the statement "return Resources.of(configurationService.getConfigurations()`uri(on(getClass()).getConfigurations())).with(Link.CREATE`uri(on(getClass()).getConfigurationForm()));" is 163.,48
ontrack,net.nemerosa.ontrack.extension.github,GitHubIssueServiceExtension,getMessageAnnotator,Long Statement,The length of the statement "return MessageAnnotation.of("a").attr("href"`String.format("https://github.com/%s/issues/%s"`configuration.getRepository()`id)).text(key);" is 138.,66
ontrack,net.nemerosa.ontrack.extension.github.service,GitHubConfigurator,configure,Long Statement,The length of the statement "Property<GitHubProjectConfigurationProperty> projectConfig=propertyService.getProperty(branch.getProject()`GitHubProjectConfigurationPropertyType.class);" is 153.,24
ontrack,net.nemerosa.ontrack.extension.github.service,GitHubConfigurator,configure,Long Statement,The length of the statement "return configuration.withRemote(gitHub.getRemote()).withUser(gitHub.getUser()).withPassword(gitHub.getPassword()).withIndexationInterval(gitHub.getIndexationInterval()).withCommitLink(gitHub.getCommitLink()).withFileAtCommitLink(gitHub.getFileAtCommitLink());" is 259.,24
ontrack,net.nemerosa.ontrack.extension.github.resource,GitHubConfigurationResourceDecorator,links,Long Statement,The length of the statement "return resourceContext.links().self(on(GitHubController.class).getConfiguration(configuration.getName())).link(Link.UPDATE`on(GitHubController.class).updateConfigurationForm(configuration.getName())).link(Link.DELETE`on(GitHubController.class).deleteConfiguration(configuration.getName())).build();" is 298.,32
ontrack,net.nemerosa.ontrack.extension.github.model,GitHubConfiguration,form,Long Statement,The length of the statement "return Form.create().with(defaultNameField()).with(Text.of("repository").label("Repository").length(100).regex("[A-Za-z0-9_\\.\\-]+").validation("Repository is required and must be a GitHub repository (account/repository).")).with(Text.of("user").label("User").length(16).optional()).with(Password.of("password").label("Password").length(40).optional()).with(Int.of("indexationInterval").label("Indexation interval").min(0).max(60 * 24).value(0).help("Interval (in minutes) between each indexation of the GitHub repository. A " + "zero value indicates that no indexation must take place automatically and they " + "have to be triggered manually."));" is 649.,69
ontrack,net.nemerosa.ontrack.extension.github.model,GitHubConfiguration,form,Magic Number,The method contains a magic number: 100,69
ontrack,net.nemerosa.ontrack.extension.github.model,GitHubConfiguration,form,Magic Number,The method contains a magic number: 16,69
ontrack,net.nemerosa.ontrack.extension.github.model,GitHubConfiguration,form,Magic Number,The method contains a magic number: 40,69
ontrack,net.nemerosa.ontrack.extension.github.model,GitHubConfiguration,form,Magic Number,The method contains a magic number: 60,69
ontrack,net.nemerosa.ontrack.extension.github.model,GitHubConfiguration,form,Magic Number,The method contains a magic number: 24,69
ontrack,net.nemerosa.ontrack.extension.github.model,GitHubConfiguration,asForm,Long Statement,The length of the statement "return form().with(defaultNameField().readOnly().value(name)).fill("repository"`repository).fill("user"`user).fill("password"`"").fill("indexationInterval"`indexationInterval);" is 176.,102
ontrack,net.nemerosa.ontrack.extension.github.property,GitHubProjectConfigurationPropertyType,getEditionForm,Long Statement,The length of the statement "return Form.create().with(Selection.of("configuration").label("Configuration").help("GitHub configuration to use to access the repository").items(configurationService.getConfigurationDescriptors()).value(value != null ? value.getConfiguration().getName() : null));" is 264.,51
ontrack,net.nemerosa.ontrack.extension.svn,SVNRevisionSearchExtension,getSearchProvider,Long Statement,The length of the statement "return configurationService.getConfigurationDescriptors().stream().map(descriptor -> svnService.getRepository(descriptor.getId())).map(repository -> {" is 150.,42
ontrack,net.nemerosa.ontrack.extension.svn,SVNRevisionSearchExtension,getSearchProvider,Long Statement,The length of the statement ").filter(repositoryRevision -> repositoryRevision != null).map(repositoryRevision -> new SearchResult(String.valueOf(repositoryRevision.getRevisionInfo().getRevision())`getSearchRevisionDescription(repositoryRevision)`uri(on(SVNController.class).revisionInfo(repositoryRevision.getRepository().getConfiguration().getName()`repositoryRevision.getRevisionInfo().getRevision()))`String.format("extension/svn/revision/%s/%d"`repositoryRevision.getRepository().getConfiguration().getName()`repositoryRevision.getRevisionInfo().getRevision())`100)).collect(Collectors.toList());" is 572.,42
ontrack,net.nemerosa.ontrack.extension.svn,SVNRevisionSearchExtension,getSearchProvider,Magic Number,The method contains a magic number: 10,42
ontrack,net.nemerosa.ontrack.extension.svn,SVNRevisionSearchExtension,getSearchProvider,Magic Number,The method contains a magic number: 100,42
ontrack,net.nemerosa.ontrack.extension.svn,SVNRevisionSearchExtension,search,Long Statement,The length of the statement "return configurationService.getConfigurationDescriptors().stream().map(descriptor -> svnService.getRepository(descriptor.getId())).map(repository -> {" is 150.,51
ontrack,net.nemerosa.ontrack.extension.svn,SVNRevisionSearchExtension,search,Long Statement,The length of the statement ").filter(repositoryRevision -> repositoryRevision != null).map(repositoryRevision -> new SearchResult(String.valueOf(repositoryRevision.getRevisionInfo().getRevision())`getSearchRevisionDescription(repositoryRevision)`uri(on(SVNController.class).revisionInfo(repositoryRevision.getRepository().getConfiguration().getName()`repositoryRevision.getRevisionInfo().getRevision()))`String.format("extension/svn/revision/%s/%d"`repositoryRevision.getRepository().getConfiguration().getName()`repositoryRevision.getRevisionInfo().getRevision())`100)).collect(Collectors.toList());" is 572.,51
ontrack,net.nemerosa.ontrack.extension.svn,SVNRevisionSearchExtension,search,Magic Number,The method contains a magic number: 10,51
ontrack,net.nemerosa.ontrack.extension.svn,SVNRevisionSearchExtension,search,Magic Number,The method contains a magic number: 100,51
ontrack,net.nemerosa.ontrack.extension.svn,SVNRevisionSearchExtension,getSearchRevisionDescription,Long Statement,The length of the statement "return String.format("Revision %d in %s repository"`repositoryRevision.getRevisionInfo().getRevision()`repositoryRevision.getRepository().getConfiguration().getName());" is 168.,83
ontrack,net.nemerosa.ontrack.extension.svn,SVNChangeLogExtension,apply,Long Statement,The length of the statement "return !propertyService.getProperty(branch`SVNBranchConfigurationPropertyType.class).isEmpty() && !propertyService.getProperty(branch.getProject()`SVNProjectConfigurationPropertyType.class).isEmpty();" is 200.,29
ontrack,net.nemerosa.ontrack.extension.svn,BuildSVNInformationExtension,BuildSVNInformationExtension,Long Parameter List,The method has 5 parameters. ,35
ontrack,net.nemerosa.ontrack.extension.svn,BuildSVNInformationExtension,getInformation,Long Statement,The length of the statement "Property<SVNBranchConfigurationProperty> branchConfigurationProperty=propertyService.getProperty(build.getBranch()`SVNBranchConfigurationPropertyType.class);" is 157.,49
ontrack,net.nemerosa.ontrack.extension.svn,BuildSVNInformationExtension,getInformation,Long Statement,The length of the statement "Property<SVNProjectConfigurationProperty> projectConfigurationProperty=propertyService.getProperty(build.getBranch().getProject()`SVNProjectConfigurationPropertyType.class);" is 173.,49
ontrack,net.nemerosa.ontrack.extension.svn,SVNBranchSyncActionExtension,getAction,Complex Conditional,The conditional expression entity instanceof Branch && propertyService.hasProperty(entity`SVNBranchConfigurationPropertyType.class) && securityService.isProjectFunctionGranted(entity`BuildCreate.class) is complex.,33
ontrack,net.nemerosa.ontrack.extension.svn,SVNBranchSyncActionExtension,getAction,Long Statement,The length of the statement "if (entity instanceof Branch && propertyService.hasProperty(entity`SVNBranchConfigurationPropertyType.class) && securityService.isProjectFunctionGranted(entity`BuildCreate.class)) {" is 181.,33
ontrack,net.nemerosa.ontrack.extension.svn,SVNIssueSearchExtension,SVNIssueSearchExtension,Long Parameter List,The method has 5 parameters. ,30
ontrack,net.nemerosa.ontrack.extension.svn,SVNIssueSearchExtension,getSearchProvider,Long Statement,The length of the statement "return configurationService.getConfigurationDescriptors().stream().map(descriptor -> svnService.getRepository(descriptor.getId())).map(repository -> svnService.searchIssues(repository`token)).filter(Optional::isPresent).map(Optional::get).map(repositoryIssue -> new SearchResult(repositoryIssue.getIssue().getKey()`getSearchIssueDescription(repositoryIssue)`uri(on(SVNController.class).issueInfo(repositoryIssue.getRepository().getConfiguration().getName()`repositoryIssue.getIssue().getKey()))`String.format("extension/svn/issue/%s/%s"`repositoryIssue.getRepository().getConfiguration().getName()`repositoryIssue.getIssue().getKey())`100)).collect(Collectors.toList());" is 670.,45
ontrack,net.nemerosa.ontrack.extension.svn,SVNIssueSearchExtension,getSearchProvider,Magic Number,The method contains a magic number: 100,45
ontrack,net.nemerosa.ontrack.extension.svn,SVNIssueSearchExtension,search,Long Statement,The length of the statement "return configurationService.getConfigurationDescriptors().stream().map(descriptor -> svnService.getRepository(descriptor.getId())).map(repository -> svnService.searchIssues(repository`token)).filter(Optional::isPresent).map(Optional::get).map(repositoryIssue -> new SearchResult(repositoryIssue.getIssue().getKey()`getSearchIssueDescription(repositoryIssue)`uri(on(SVNController.class).issueInfo(repositoryIssue.getRepository().getConfiguration().getName()`repositoryIssue.getIssue().getKey()))`String.format("extension/svn/issue/%s/%s"`repositoryIssue.getRepository().getConfiguration().getName()`repositoryIssue.getIssue().getKey())`100)).collect(Collectors.toList());" is 670.,57
ontrack,net.nemerosa.ontrack.extension.svn,SVNIssueSearchExtension,search,Magic Number,The method contains a magic number: 100,57
ontrack,net.nemerosa.ontrack.extension.svn,SVNIssueSearchExtension,getSearchIssueDescription,Long Statement,The length of the statement "return String.format("Issue %s in %s repository: %s"`repositoryIssue.getIssue().getKey()`repositoryIssue.getRepository().getConfiguration().getName()`repositoryIssue.getIssue().getSummary());" is 191.,80
ontrack,net.nemerosa.ontrack.extension.svn,SVNController,SVNController,Long Parameter List,The method has 8 parameters. ,46
ontrack,net.nemerosa.ontrack.extension.svn,SVNController,SVNController,Magic Number,The method contains a magic number: 20,46
ontrack,net.nemerosa.ontrack.extension.svn,SVNController,SVNController,Magic Number,The method contains a magic number: 10,46
ontrack,net.nemerosa.ontrack.extension.svn,SVNController,getDescription,Long Statement,The length of the statement "return Resource.of(feature.getFeatureDescription()`uri(MvcUriComponentsBuilder.on(getClass()).getDescription())).with("configurations"`uri(on(getClass()).getConfigurations())`securityService.isGlobalFunctionGranted(GlobalSettings.class));" is 238.,63
ontrack,net.nemerosa.ontrack.extension.svn,SVNController,getConfigurations,Long Statement,The length of the statement "return Resources.of(svnConfigurationService.getConfigurations()`uri(on(getClass()).getConfigurations())).with(Link.CREATE`uri(on(getClass()).getConfigurationForm()));" is 166.,74
ontrack,net.nemerosa.ontrack.extension.svn,SVNController,indexRange,Long Statement,The length of the statement "return new IndexationRange(getConfiguration(name).getIndexationStart()`lastRevisionInfo.getRepositoryRevision()).asForm();" is 122.,129
ontrack,net.nemerosa.ontrack.extension.svn,SVNController,updateConfigurationForm,Long Statement,The length of the statement "return svnConfigurationService.getConfiguration(name).asForm(issueServiceRegistry.getAvailableIssueServiceConfigurations());" is 124.,182
ontrack,net.nemerosa.ontrack.extension.svn,SVNController,issueInfo,Long Statement,The length of the statement "return Resource.of(svnService.getIssueInfo(configuration`key)`uri(on(getClass()).issueInfo(configuration`key))).withView(Build.class);" is 134.,280
ontrack,net.nemerosa.ontrack.extension.svn,SVNController,revisionInfo,Long Statement,The length of the statement "return Resource.of(svnService.getOntrackRevisionInfo(svnService.getRepository(configuration)`revision)`uri(on(getClass()).revisionInfo(configuration`revision))).withView(Build.class);" is 183.,291
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNChangeLogServiceImpl,SVNChangeLogServiceImpl,Long Parameter List,The method has 6 parameters. ,44
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNChangeLogServiceImpl,changeLog,Long Statement,The length of the statement "return new SVNChangeLog(UUID.randomUUID().toString()`branch`svnRepository`getSCMBuildView(svnRepository`request.getFrom())`getSCMBuildView(svnRepository`request.getTo()));" is 171.,60
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNChangeLogServiceImpl,getChangeLogRevisions,Long Statement,The length of the statement "svnClient.log(repository`SVNUtils.toURL(repository.getUrl(reference.getPath()))`SVNRevision.create(reference.getEnd())`SVNRevision.create(reference.getStart())`SVNRevision.create(reference.getEnd())`true`false`0L`true`logEntryCollector);" is 237.,76
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNChangeLogServiceImpl,getChangeLogIssues,Long Statement,The length of the statement "allIssuesLink=configuredIssueService.getLinkForAllIssues(issuesList.stream().map(SVNChangeLogIssue::getIssue).collect(Collectors.toList()));" is 140.,133
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNChangeLogServiceImpl,collectFilesForRevision,Long Statement,The length of the statement "SVNChangeLogFileChange change=new SVNChangeLogFileChange(revisionPaths.getInfo()`revisionPath.getChangeType()`repository.getFileChangeBrowsingURL(path`revisionPaths.getInfo().getRevision()));" is 191.,193
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNChangeLogServiceImpl,createChangeLogRevision,Long Statement,The length of the statement "return SVNServiceUtils.createChangeLogRevision(repository`path`level`svnEntry.getRevision()`svnEntry.getMessage()`svnEntry.getAuthor()`Time.from(svnEntry.getDate()`null));" is 171.,250
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNChangeLogServiceImpl,getSVNBuildPath,Long Statement,The length of the statement "Property<SVNBranchConfigurationProperty> branchConfiguration=propertyService.getProperty(build.getBranch()`SVNBranchConfigurationPropertyType.class);" is 149.,279
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNChangeLogServiceImpl,getSVNRepository,Long Statement,The length of the statement "Property<SVNProjectConfigurationProperty> projectConfiguration=propertyService.getProperty(branch.getProject()`SVNProjectConfigurationPropertyType.class);" is 154.,295
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNSyncServiceImpl,SVNSyncServiceImpl,Long Parameter List,The method has 7 parameters. ,42
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNSyncServiceImpl,launchSync,Long Statement,The length of the statement "Property<SVNProjectConfigurationProperty> projectConfigurationProperty=propertyService.getProperty(branch.getProject()`SVNProjectConfigurationPropertyType.class);" is 162.,60
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNSyncServiceImpl,launchSync,Long Statement,The length of the statement "Property<SVNBranchConfigurationProperty> branchConfigurationProperty=propertyService.getProperty(branch`SVNBranchConfigurationPropertyType.class);" is 146.,60
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNSyncServiceImpl,sync,Long Statement,The length of the statement "SVNProjectConfigurationProperty projectConfigurationProperty=propertyService.getProperty(branch.getProject()`SVNProjectConfigurationPropertyType.class).getValue();" is 163.,92
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNSyncServiceImpl,sync,Long Statement,The length of the statement "SVNBranchConfigurationProperty branchConfigurationProperty=propertyService.getProperty(branch`SVNBranchConfigurationPropertyType.class).getValue();" is 147.,92
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNSyncServiceImpl,sync,Long Statement,The length of the statement "List<TCopyEvent> copies=eventDao.findCopies(repository.getId()`branchConfigurationProperty.getBranchPath()`basePath`(copyEvent) -> SVNUtils.followsBuildPattern(copyEvent.copyToLocation()`buildPathPattern));" is 206.,92
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNSyncServiceImpl,sync,Long Statement,The length of the statement "Optional<Build> build=transactionTemplate.execute(status -> createBuild(syncProperty`branch`copy`buildPathPattern`repository));" is 127.,92
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNSyncServiceImpl,sync,Long Statement,The length of the statement "info.post(String.format("Running build synchronisation from SVN for branch %s/%s: %d build(s) created"`branch.getProject().getName()`branch.getName()`count));" is 158.,92
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNSyncServiceImpl,createBuild,Long Parameter List,The method has 5 parameters. ,134
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNSyncServiceImpl,doCreateBuild,Long Statement,The length of the statement "return structureService.newBuild(Build.of(branch`new NameDescription(buildName`String.format("Build created by SVN synchronisation from tag %s"`copy.getCopyToPath()))`securityService.getCurrentSignature().withTime(revisionTime)));" is 230.,159
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNSyncServiceImpl,createJob,Long Statement,The length of the statement "return String.format("Synchronisation of builds with SVN for branch %s/%s"`branch.getProject().getName()`branch.getName());" is 123.,187
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNSyncServiceImpl,getDescription,Long Statement,The length of the statement "return String.format("Synchronisation of builds with SVN for branch %s/%s"`branch.getProject().getName()`branch.getName());" is 123.,200
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNSyncServiceImpl,getSVNConfiguredBranches,Long Statement,The length of the statement "return structureService.getProjectList().stream().filter(project -> propertyService.hasProperty(project`SVNProjectConfigurationPropertyType.class)).flatMap(project -> structureService.getBranchesForProject(project.getId()).stream()).filter(branch -> propertyService.hasProperty(branch`SVNBranchConfigurationPropertyType.class));" is 328.,221
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNServiceUtils,createChangeLogRevision,Long Parameter List,The method has 7 parameters. ,14
ontrack,net.nemerosa.ontrack.extension.svn.service,IndexationServiceImpl,IndexationServiceImpl,Long Parameter List,The method has 11 parameters. ,56
ontrack,net.nemerosa.ontrack.extension.svn.service,IndexationServiceImpl,loadRepository,Long Statement,The length of the statement "return SVNRepository.of(repositoryId`configuration`getIssueServiceRegistry().getConfiguredIssueService(configuration.getIssueServiceConfigurationIdentifier()));" is 160.,204
ontrack,net.nemerosa.ontrack.extension.svn.service,IndexationServiceImpl,getJobs,Long Statement,The length of the statement "return getSvnConfigurations().stream().filter(config -> config.getIndexationInterval() > 0).map(this::createIndexFromLatestJob).collect(Collectors.toList());" is 157.,276
ontrack,net.nemerosa.ontrack.extension.svn.service,IndexationServiceImpl,indexInTransaction,Long Statement,The length of the statement "List<Long> mergedRevisions=svnClient.getMergedRevisions(repository`SVNUtils.toURL(repository.getConfiguration().getUrl()`branch)`revision);" is 139.,360
ontrack,net.nemerosa.ontrack.extension.svn.service,IndexationServiceImpl,index,Long Statement,The length of the statement "IndexationHandler handler=new IndexationHandler(repository`revision -> infoListener.post(String.format("Indexation on %s is running (%d to %d - at %d - %d%%)"`repository.getConfiguration().getName()`min`max`revision`Math.round(100.0 * (revision - min + 1) / (max - min + 1)))));" is 278.,503
ontrack,net.nemerosa.ontrack.extension.svn.service,IndexationServiceImpl,index,Magic Number,The method contains a magic number: 100.0,503
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNServiceImpl,SVNServiceImpl,Long Parameter List,The method has 9 parameters. ,35
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNServiceImpl,getRevisionInfo,Long Statement,The length of the statement "return new SVNRevisionInfo(t.getRevision()`t.getAuthor()`t.getCreation()`t.getBranch()`t.getMessage()`repository.getRevisionBrowsingURL(t.getRevision()));" is 154.,57
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNServiceImpl,getRepository,Long Statement,The length of the statement "return SVNRepository.of(repositoryDao.getOrCreateByName(configuration.getName())`configuration`issueServiceRegistry.getConfiguredIssueService(configuration.getIssueServiceConfigurationIdentifier()));" is 199.,85
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNServiceImpl,searchIssues,Long Statement,The length of the statement "return issueRevisionDao.findIssueByKey(repository.getId()`token).map(key -> new SVNRepositoryIssue(repository`configuredIssueService.getIssue(key)));" is 149.,97
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNServiceImpl,getIssueInfo,Long Statement,The length of the statement "return createChangeLogRevision(repository`basicInfo.getPath()`0`revision`basicInfo.getMessage()`basicInfo.getAuthor()`basicInfo.getDateTime());" is 143.,112
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNServiceImpl,getIssueInfo,Long Statement,The length of the statement "return new OntrackSVNIssueInfo(repository.getConfiguration()`repository.getConfiguredIssueService().getIssueServiceConfigurationRepresentation()`issue`revisionInfo`mergedRevisionInfos`revisions);" is 195.,112
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNServiceImpl,getOntrackRevisionInfo,Long Statement,The length of the statement "SVNChangeLogRevision changeLogRevision=createChangeLogRevision(repository`basicInfo.getPath()`0`revision`basicInfo.getMessage()`basicInfo.getAuthor()`basicInfo.getDateTime());" is 175.,174
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNServiceImpl,getOntrackRevisionInfo,Long Statement,The length of the statement "Property<SVNProjectConfigurationProperty> projectSvnConfig=propertyService.getProperty(project`SVNProjectConfigurationPropertyType.class);" is 138.,174
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNServiceImpl,getOntrackRevisionInfo,Long Statement,The length of the statement "if (!projectSvnConfig.isEmpty() && repository.getConfiguration().getName().equals(projectSvnConfig.getValue().getConfiguration().getName())) {" is 142.,174
ontrack,net.nemerosa.ontrack.extension.svn.service,SVNServiceImpl,lookupBuild,Long Statement,The length of the statement "Property<SVNBranchConfigurationProperty> configurationProperty=propertyService.getProperty(branch`SVNBranchConfigurationPropertyType.class);" is 140.,239
ontrack,net.nemerosa.ontrack.extension.svn.resource,SVNChangeLogResourceDecorator,links,Long Statement,The length of the statement "return resourceContext.links().link("_revisions"`on(SVNController.class).changeLogRevisions(changeLog.getUuid())).link("_issues"`on(SVNController.class).changeLogIssues(changeLog.getUuid())`changeLog.getScmBranch().getConfiguredIssueService() != null).link("_files"`on(SVNController.class).changeLogFiles(changeLog.getUuid())).build();" is 335.,19
ontrack,net.nemerosa.ontrack.extension.svn.resource,SVNConfigurationResourceDecorator,links,Long Statement,The length of the statement "return resourceContext.links().self(on(SVNController.class).getConfiguration(configuration.getName())).link(Link.UPDATE`on(SVNController.class).updateConfigurationForm(configuration.getName())).link(Link.DELETE`on(SVNController.class).deleteConfiguration(configuration.getName())).link("_indexation"`on(SVNController.class).getLastRevisionInfo(configuration.getName())`globalSettingsGranted).link("_indexationRange"`on(SVNController.class).indexRange(configuration.getName())`globalSettingsGranted).link("_indexationFromLatest"`on(SVNController.class).indexFromLatest(configuration.getName())`globalSettingsGranted).link("_indexationFull"`on(SVNController.class).full(configuration.getName())`globalSettingsGranted).build();" is 724.,32
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNChangeLog,SVNChangeLog,Long Parameter List,The method has 5 parameters. ,28
ontrack,net.nemerosa.ontrack.extension.svn.model,IndexationRange,form,Long Statement,The length of the statement "return Form.create().with(Int.of("from").label("From").min(1).help("Revision to scan from")).with(Int.of("to").label("To").min(1).help("Revision to scan to"));" is 159.,13
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNConfiguration,form,Long Identifier,The length of the parameter availableIssueServiceConfigurations is 35.,32
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNConfiguration,form,Long Statement,The length of the statement "return Form.create().with(defaultNameField()).with(Text.of("url").label("URL").help("URL to the root of a SVN repository")).with(Text.of("user").label("User").length(16).optional()).with(Password.of("password").label("Password").length(40).optional()).with(Text.of("branchPattern").label("Branch pattern").length(250).optional().help("Regular expression applied to SVN paths in order to detect the branches. " + "It defaults to .*/branches/.*")).with(Text.of("tagPattern").label("Tag pattern").length(250).optional().help("Regular expression applied to SVN paths in order to detect the tags. " + "It defaults to .*/tags/.*")).with(Text.of("tagFilterPattern").label("Tag filter pattern").length(100).optional().help("Regular expression applied to tag names. Any tag whose name matches " + "will be excluded from the tags. By default` no tag is excluded.")).with(Text.of("browserForPath").label("Browsing URL for a path").length(400).optional().help("URL that defines how to browse to a path. The path is relative to the " + "repository root and must be parameterized as {path} in the URL.")).with(Text.of("browserForRevision").label("Browsing URL for a revision").length(400).optional().help("URL that defines how to browse to a revision. The revision must be " + "parameterized as {revision} in the URL.")).with(Text.of("browserForChange").label("Browsing URL for a change").length(400).optional().help("URL that defines how to browse to the changes of a path at a given revision. " + "The revision must be parameterized as {revision} in the URL and the path " + "as {path}.")).with(Int.of("indexationInterval").label("Indexation interval").min(0).max(60 * 24).value(0).help("Interval (in minutes) between each indexation of the Subversion repository. A " + "zero value indicates that no indexation must take place automatically and they " + "have to be triggered manually.")).with(Int.of("indexationStart").label("Indexation start").min(1).value(1).help("Revision to start the indexation from.")).with(Selection.of("issueServiceConfigurationIdentifier").label("Issue configuration").help("Select an issue service that is sued to associate tickets and issues to the source.").optional().items(availableIssueServiceConfigurations));" is 2231.,32
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNConfiguration,form,Magic Number,The method contains a magic number: 16,32
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNConfiguration,form,Magic Number,The method contains a magic number: 40,32
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNConfiguration,form,Magic Number,The method contains a magic number: 250,32
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNConfiguration,form,Magic Number,The method contains a magic number: 250,32
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNConfiguration,form,Magic Number,The method contains a magic number: 100,32
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNConfiguration,form,Magic Number,The method contains a magic number: 400,32
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNConfiguration,form,Magic Number,The method contains a magic number: 400,32
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNConfiguration,form,Magic Number,The method contains a magic number: 400,32
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNConfiguration,form,Magic Number,The method contains a magic number: 60,32
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNConfiguration,form,Magic Number,The method contains a magic number: 24,32
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNConfiguration,obfuscate,Long Identifier,The length of the field issueServiceConfigurationIdentifier is 35.,129
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNConfiguration,obfuscate,Long Statement,The length of the statement "return new SVNConfiguration(name`url`user`""`branchPattern`tagPattern`tagFilterPattern`browserForPath`browserForRevision`browserForChange`indexationInterval`indexationStart`issueServiceConfigurationIdentifier);" is 210.,129
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNConfiguration,asForm,Long Identifier,The length of the parameter availableIssueServiceConfigurations is 35.,148
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNConfiguration,asForm,Long Identifier,The length of the field issueServiceConfigurationIdentifier is 35.,148
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNConfiguration,asForm,Long Statement,The length of the statement "return form(availableIssueServiceConfigurations).with(defaultNameField().readOnly().value(name)).fill("url"`url).fill("user"`user).fill("password"`"").fill("branchPattern"`branchPattern).fill("tagPattern"`tagPattern).fill("tagFilterPattern"`tagFilterPattern).fill("browserForPath"`browserForPath).fill("browserForRevision"`browserForRevision).fill("browserForChange"`browserForChange).fill("indexationInterval"`indexationInterval).fill("indexationStart"`indexationStart).fill("issueServiceConfigurationIdentifier"`issueServiceConfigurationIdentifier);" is 551.,148
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNConfiguration,withPassword,Long Identifier,The length of the field issueServiceConfigurationIdentifier is 35.,166
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNConfiguration,withPassword,Long Statement,The length of the statement "return new SVNConfiguration(name`url`user`password`branchPattern`tagPattern`tagFilterPattern`browserForPath`browserForRevision`browserForChange`indexationInterval`indexationStart`issueServiceConfigurationIdentifier);" is 216.,166
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNConfigurationTest,getRevisionBrowsingURL,Magic Number,The method contains a magic number: 123,16
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNTestFixtures,configuration,Long Statement,The length of the statement "return new SVNConfiguration("Name"`"http://host/repository"`"user"`"secret"`""`""`""`"http://browser/file/{path}"`"http://browser/revision/{revision}"`"http://browser/file/{path}/{revision}"`0`1`"");" is 199.,8
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNChangeLogTest,none,Long Statement,The length of the statement "SCMBuildView<SVNHistory> scmBuildFrom=new SCMBuildView<>(BuildView.of(Build.of(branch`new NameDescription("10"`"Build 10")`Signature.of("user")))`new SVNHistory(new SVNReference("/project/trunk"`"http://server/project/trunk"`100000`Time.now())));" is 246.,18
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNChangeLogTest,none,Magic Number,The method contains a magic number: 100000,18
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNChangeLogTest,simple,Long Statement,The length of the statement "SCMBuildView<SVNHistory> scmBuildFrom=new SCMBuildView<>(BuildView.of(Build.of(branch`new NameDescription("10"`"Build 10")`Signature.of("user")))`new SVNHistory(new SVNReference("/project/trunk"`"http://server/project/trunk"`110000`Time.now())));" is 246.,64
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNChangeLogTest,simple,Long Statement,The length of the statement "SCMBuildView<SVNHistory> scmBuildTo=new SCMBuildView<>(BuildView.of(Build.of(branch`new NameDescription("20"`"Build 20")`Signature.of("user")))`new SVNHistory(new SVNReference("/project/trunk"`"http://server/project/trunk"`120000`Time.now())));" is 244.,64
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNChangeLogTest,simple,Magic Number,The method contains a magic number: 110000,64
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNChangeLogTest,simple,Magic Number,The method contains a magic number: 120000,64
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNChangeLogTest,simple,Magic Number,The method contains a magic number: 110000,64
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNChangeLogTest,simple,Magic Number,The method contains a magic number: 120000,64
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNChangeLogTest,branch_low,Long Statement,The length of the statement "SCMBuildView<SVNHistory> scmBuildFrom=new SCMBuildView<>(BuildView.of(Build.of(branch`new NameDescription("10"`"Build 10")`Signature.of("user")))`new SVNHistory(new SVNReference("/project/branches/10"`"http://server/project/branches/10"`110000`Time.now())`new SVNReference("/project/trunk"`"http://server/project/trunk"`100000`Time.now())));" is 341.,111
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNChangeLogTest,branch_low,Long Statement,The length of the statement "SCMBuildView<SVNHistory> scmBuildTo=new SCMBuildView<>(BuildView.of(Build.of(branch`new NameDescription("5"`"Build 5")`Signature.of("user")))`new SVNHistory(new SVNReference("/project/trunk"`"http://server/project/trunk"`90000`Time.now())));" is 241.,111
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNChangeLogTest,branch_low,Magic Number,The method contains a magic number: 110000,111
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNChangeLogTest,branch_low,Magic Number,The method contains a magic number: 100000,111
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNChangeLogTest,branch_low,Magic Number,The method contains a magic number: 90000,111
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNChangeLogTest,branch_low,Magic Number,The method contains a magic number: 2,111
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNChangeLogTest,branch_low,Magic Number,The method contains a magic number: 110000,111
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNChangeLogTest,branch_low,Magic Number,The method contains a magic number: 90000,111
ontrack,net.nemerosa.ontrack.extension.svn.model,SVNChangeLogTest,branch_low,Magic Number,The method contains a magic number: 100000,111
ontrack,net.nemerosa.ontrack.extension.svn.property,SVNBranchConfigurationPropertyType,canEdit,Long Statement,The length of the statement "return securityService.isProjectFunctionGranted(entity.projectId()`ProjectConfig.class) && propertyService.hasProperty(((Branch)entity).getProject()`SVNProjectConfigurationPropertyType.class);" is 192.,41
ontrack,net.nemerosa.ontrack.extension.svn.property,SVNBranchConfigurationPropertyType,getEditionForm,Long Statement,The length of the statement "return Form.create().with(Text.of("branchPath").label("Branch path").help("Path of the branch in the Subversion repository. The path is relative to the root " + "of the repository.").value(value != null ? value.getBranchPath() : "/project/branches/xxx")).with(Text.of("buildPath").label("Build path").help("Path of a tag in the Subversion repository using a build name. The path is " + "computed relative to the root of the repository. The {build} placeholder is used " + "to define the location where to replace the path fragment by the build name. An"+ "option expression can follow the build keyword: {build:expression}. In this case "+ "the build name must match the expression` where * stands for any character. For example: "+ "{build:2.7.*} will match build 2.7.0-15` but not 2.8.0").value(value != null ? value.getBuildPath() : "/project/tags/{build}"));" is 862.,58
ontrack,net.nemerosa.ontrack.extension.svn.property,SVNBranchConfigurationPropertyType,forStorage,Long Statement,The length of the statement "return format(MapBuilder.params().with("branchPath"`value.getBranchPath()).with("buildPath"`value.getBuildPath()).get());" is 121.,82
ontrack,net.nemerosa.ontrack.extension.svn.property,SVNSyncPropertyType,canEdit,Long Statement,The length of the statement "return securityService.isProjectFunctionGranted(entity`ProjectConfig.class) && propertyService.hasProperty(entity`SVNBranchConfigurationPropertyType.class);" is 156.,44
ontrack,net.nemerosa.ontrack.extension.svn.property,SVNSyncPropertyType,getEditionForm,Long Statement,The length of the statement "return Form.create().with(YesNo.of("override").label("Override builds").help("Can the existing builds be overridden by a synchronisation? If yes` " + "the existing validation and promotion runs would be lost as well.").value(value != null && value.isOverride())).with(Int.of("interval").label("Sync. interval (min)").min(0).max(60 * 24 * 7).help("Interval in minutes for the synchronisation. If 0` the synchronisation " + "must be done manually").value(value != null ? value.getInterval() : 0));" is 495.,64
ontrack,net.nemerosa.ontrack.extension.svn.property,SVNSyncPropertyType,getEditionForm,Magic Number,The method contains a magic number: 60,64
ontrack,net.nemerosa.ontrack.extension.svn.property,SVNSyncPropertyType,getEditionForm,Magic Number,The method contains a magic number: 24,64
ontrack,net.nemerosa.ontrack.extension.svn.property,SVNSyncPropertyType,getEditionForm,Magic Number,The method contains a magic number: 7,64
ontrack,net.nemerosa.ontrack.extension.svn.property,SVNProjectConfigurationPropertyType,getEditionForm,Long Statement,The length of the statement "return Form.create().with(Selection.of("configuration").label("Configuration").help("SVN configuration to use to access the repository").items(configurationService.getConfigurationDescriptors()).value(value != null ? value.getConfiguration().getName() : null)).with(Text.of("projectPath").label("Project path").help("Path of the main project branch (trunk) in this configuration. The path is relative to the root " + "of the repository.").value(value != null ? value.getProjectPath() : "/project/trunk"));" is 505.,52
ontrack,net.nemerosa.ontrack.extension.svn.property,SVNProjectConfigurationPropertyType,forStorage,Long Statement,The length of the statement "return format(MapBuilder.params().with("configuration"`value.getConfiguration().getName()).with("projectPath"`value.getProjectPath()).get());" is 141.,70
ontrack,net.nemerosa.ontrack.extension.svn.db,SVNEventJdbcDao,createCopyEvent,Long Parameter List,The method has 5 parameters. ,23
ontrack,net.nemerosa.ontrack.extension.svn.db,SVNEventJdbcDao,createCopyEvent,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("INSERT INTO EXT_SVN_COPY (REPOSITORY` REVISION` COPYFROMPATH` COPYFROMREVISION` COPYTOPATH) VALUES (:repository` :revision` :copyFromPath` :copyFromRevision` :copyToPath)"`params("revision"`revision).addValue("repository"`repositoryId).addValue("copyFromPath"`copyFromPath).addValue("copyFromRevision"`copyFromRevision).addValue("copyToPath"`copyToPath));" is 395.,23
ontrack,net.nemerosa.ontrack.extension.svn.db,SVNEventJdbcDao,createStopEvent,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("INSERT INTO EXT_SVN_STOP (REPOSITORY` REVISION` PATH) VALUES (:repository` :revision` :path)"`params("revision"`revision).addValue("repository"`repositoryId).addValue("path"`path));" is 221.,35
ontrack,net.nemerosa.ontrack.extension.svn.db,SVNEventJdbcDao,getLastCopyEvent,Long Statement,The length of the statement "return getFirstItem("SELECT * FROM EXT_SVN_COPY WHERE REPOSITORY = :repository AND COPYTOPATH = :path AND REVISION <= :revision ORDER BY REVISION DESC LIMIT 1"`params("path"`path).addValue("revision"`revision).addValue("repository"`repositoryId)`(rs`rowNum) -> toCopyEvent(rs));" is 278.,44
ontrack,net.nemerosa.ontrack.extension.svn.db,SVNEventJdbcDao,toCopyEvent,Long Statement,The length of the statement "return new TCopyEvent(rs.getInt("repository")`rs.getLong("revision")`rs.getString("copyFromPath")`rs.getLong("copyFromRevision")`rs.getString("copyToPath"));" is 157.,52
ontrack,net.nemerosa.ontrack.extension.svn.db,SVNEventJdbcDao,getFirstCopyAfter,Long Statement,The length of the statement "return getFirstItem("SELECT * FROM EXT_SVN_COPY WHERE REPOSITORY = :repository AND COPYFROMPATH = :path AND COPYFROMREVISION >= :revision"`params("path"`location.getPath()).addValue("revision"`location.getRevision()).addValue("repository"`repositoryId)`(rs`rowNum) -> new SVNLocation(rs.getString("copyToPath")`rs.getLong("revision")));" is 336.,62
ontrack,net.nemerosa.ontrack.extension.svn.db,SVNEventJdbcDao,findCopies,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().execute("SELECT * FROM EXT_SVN_COPY WHERE REPOSITORY = :repositoryId " + "AND COPYFROMPATH = :fromPath " + "AND COPYTOPATH LIKE :toPath "+ "ORDER BY REVISION ASC"`params("repositoryId"`repositoryId).addValue("fromPath"`fromPath).addValue("toPath"`toPathPrefix + "%")`ps -> {" is 313.,74
ontrack,net.nemerosa.ontrack.extension.svn.db,SVNRevisionJdbcDao,getLast,Long Statement,The length of the statement "Long value=getNamedParameterJdbcTemplate().queryForObject("SELECT MAX(REVISION) FROM EXT_SVN_REVISION WHERE REPOSITORY = :repositoryId"`params("repositoryId"`repositoryId)`Long.class);" is 184.,29
ontrack,net.nemerosa.ontrack.extension.svn.db,SVNRevisionJdbcDao,addRevision,Long Parameter List,The method has 6 parameters. ,38
ontrack,net.nemerosa.ontrack.extension.svn.db,SVNRevisionJdbcDao,addRevision,Long Statement,The length of the statement "t.update("INSERT INTO EXT_SVN_REVISION (REPOSITORY` REVISION` AUTHOR` CREATION` MESSAGE` BRANCH) " + "VALUES (:repositoryId` :revision` :author` :creation` :message` :branch)"`params.addValue("author"`author).addValue("creation"`dateTimeForDB(dateTime)).addValue("message"`Objects.toString(StringUtils.abbreviate(message`MESSAGE_LENGTH)`"")).addValue("branch"`branch));" is 369.,38
ontrack,net.nemerosa.ontrack.extension.svn.db,SVNRevisionJdbcDao,addMergedRevisions,Long Statement,The length of the statement "t.update("INSERT INTO SVN_EXT_MERGE_REVISION (REPOSITORY` REVISION` TARGET) " + "VALUES (:repository` :mergedRevision` :revision)"`params("mergedRevision"`mergedRevision).addValue("repository"`repositoryId).addValue("revision"`revision));" is 238.,55
ontrack,net.nemerosa.ontrack.extension.svn.db,SVNRevisionJdbcDao,getLastRevision,Long Statement,The length of the statement "return getFirstItem("SELECT * FROM EXT_SVN_REVISION WHERE REPOSITORY = :repositoryId ORDER BY REVISION DESC LIMIT 1"`params("repositoryId"`repositoryId)`(rs`rowNum) -> toRevision(rs));" is 184.,68
ontrack,net.nemerosa.ontrack.extension.svn.db,SVNRevisionJdbcDao,toRevision,Long Statement,The length of the statement "return new TRevision(rs.getInt("REPOSITORY")`rs.getLong("REVISION")`rs.getString("AUTHOR")`dateTimeFromDB(rs.getString("CREATION"))`rs.getString("MESSAGE")`rs.getString("BRANCH"));" is 180.,76
ontrack,net.nemerosa.ontrack.extension.svn.db,SVNRevisionJdbcDao,get,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().queryForObject("SELECT * FROM EXT_SVN_REVISION WHERE REPOSITORY = :repository AND REVISION = :revision"`params("revision"`revision).addValue("repository"`repositoryId)`(rs`rowNum) -> toRevision(rs));" is 238.,87
ontrack,net.nemerosa.ontrack.extension.svn.db,SVNRevisionJdbcDao,getMergesForRevision,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().queryForList("SELECT TARGET FROM EXT_SVN_MERGE_REVISION WHERE REPOSITORY = :repository AND REVISION = :revision ORDER BY TARGET"`params("revision"`revision).addValue("repository"`repositoryId)`Long.class);" is 244.,100
ontrack,net.nemerosa.ontrack.extension.svn.db,SVNRevisionDao,addRevision,Long Parameter List,The method has 6 parameters. ,10
ontrack,net.nemerosa.ontrack.extension.svn.db,SVNEventDao,createCopyEvent,Long Parameter List,The method has 5 parameters. ,10
ontrack,net.nemerosa.ontrack.extension.svn.db,SVNDBInitConfig,getOrder,Magic Number,The method contains a magic number: 20,38
ontrack,net.nemerosa.ontrack.extension.svn.db,SVNRepositoryJdbcDao,getByName,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().queryForObject("SELECT ID FROM EXT_SVN_REPOSITORY WHERE NAME = :name"`params("name"`name)`Integer.class);" is 144.,42
ontrack,net.nemerosa.ontrack.extension.svn.db,SVNIssueRevisionJdbcDao,link,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().update("INSERT INTO EXT_SVN_REVISION_ISSUE (REPOSITORY` REVISION` ISSUE) VALUES (:repository` :revision` :key)"`params("revision"`revision).addValue("key"`key).addValue("repository"`repositoryId));" is 229.,25
ontrack,net.nemerosa.ontrack.extension.svn.db,SVNIssueRevisionJdbcDao,findIssuesByRevision,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().queryForList("SELECT ISSUE FROM EXT_SVN_REVISION_ISSUE WHERE REPOSITORY = :repository AND REVISION = :revision ORDER BY ISSUE"`params("revision"`revision).addValue("repository"`repositoryId)`String.class);" is 244.,38
ontrack,net.nemerosa.ontrack.extension.svn.db,SVNIssueRevisionJdbcDao,findIssueByKey,Long Statement,The length of the statement "return Optional.ofNullable(getFirstItem("SELECT ISSUE FROM EXT_SVN_REVISION_ISSUE WHERE REPOSITORY = :repository AND ISSUE = :issue ORDER BY REVISION LIMIT 1"`params("repository"`repositoryId).addValue("issue"`issueKey)`String.class));" is 235.,47
ontrack,net.nemerosa.ontrack.extension.svn.db,SVNIssueRevisionJdbcDao,findRevisionsByIssue,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().queryForList("SELECT REVISION FROM EXT_SVN_REVISION_ISSUE WHERE REPOSITORY = :repository AND ISSUE = :key ORDER BY REVISION DESC"`params("key"`issueKey).addValue("repository"`repositoryId)`Long.class);" is 240.,58
ontrack,net.nemerosa.ontrack.extension.svn.support,SVNUtilsTest,followsBuildPattern_tag_prefix_ok,Magic Number,The method contains a magic number: 100000L,12
ontrack,net.nemerosa.ontrack.extension.svn.support,SVNUtilsTest,followsBuildPattern_tag_prefix_nok,Magic Number,The method contains a magic number: 100000L,17
ontrack,net.nemerosa.ontrack.extension.svn.support,SVNUtilsTest,followsBuildPattern_tag_ok,Magic Number,The method contains a magic number: 100000L,22
ontrack,net.nemerosa.ontrack.extension.svn.support,SVNUtilsTest,followsBuildPattern_tag_nok,Magic Number,The method contains a magic number: 100000L,27
ontrack,net.nemerosa.ontrack.extension.svn.support,SVNUtilsTest,followsBuildPattern_revision_ok,Magic Number,The method contains a magic number: 100000L,32
ontrack,net.nemerosa.ontrack.extension.svn.support,SVNUtilsTest,followsBuildPattern_revision_nok,Magic Number,The method contains a magic number: 100000L,37
ontrack,net.nemerosa.ontrack.extension.svn.support,SVNUtilsTest,getBuildName_tag_prefix,Magic Number,The method contains a magic number: 100000L,42
ontrack,net.nemerosa.ontrack.extension.svn.support,SVNUtilsTest,getBuildName_tag_prefix_nok,Magic Number,The method contains a magic number: 100000L,47
ontrack,net.nemerosa.ontrack.extension.svn.support,SVNUtilsTest,getBuildName_tag,Magic Number,The method contains a magic number: 100000L,52
ontrack,net.nemerosa.ontrack.extension.svn.support,SVNUtilsTest,getBuildName_revision,Magic Number,The method contains a magic number: 123456,57
ontrack,net.nemerosa.ontrack.extension.svn.support,SVNUtilsTest,getBuildName_revision_nok,Magic Number,The method contains a magic number: 123456,62
ontrack,net.nemerosa.ontrack.extension.svn.client,SVNClientImpl,log,Long Parameter List,The method has 10 parameters. ,68
ontrack,net.nemerosa.ontrack.extension.svn.client,SVNClientImpl,log,Long Statement,The length of the statement "getLogClient(repository).doLog(url`null`pegRevision`startRevision`stopRevision`stopOnCopy`discoverChangedPaths`includeMergedRevisions`limit`null`isvnLogEntryHandler);" is 166.,68
ontrack,net.nemerosa.ontrack.extension.svn.client,SVNClientImpl,getMergedRevisions,Complex Method,Cyclomatic complexity of the method is 10,78
ontrack,net.nemerosa.ontrack.extension.svn.client,SVNClientImpl,getRevisionPaths,Long Statement,The length of the statement "getDiffClient(repository).doDiffStatus(rootUrl`SVNRevision.create(revision - 1)`rootUrl`SVNRevision.create(revision)`SVNDepth.INFINITY`false`diffStatus -> {" is 156.,174
ontrack,net.nemerosa.ontrack.extension.svn.client,SVNClientImpl,getReference,Magic Number,The method contains a magic number: 2,219
ontrack,net.nemerosa.ontrack.extension.svn.client,SVNClientImpl,getReference,Magic Number,The method contains a magic number: 10,219
ontrack,net.nemerosa.ontrack.extension.svn.client,SVNClient,log,Long Parameter List,The method has 10 parameters. ,18
ontrack,net.nemerosa.ontrack.extension.jira,JIRAServiceExtension,getMessageAnnotator,Long Statement,The length of the statement "return Optional.of(new RegexMessageAnnotator(JIRAConfiguration.ISSUE_PATTERN`key -> MessageAnnotation.of("a").attr("href"`configuration.getIssueURL(key)).text(key)));" is 166.,70
ontrack,net.nemerosa.ontrack.extension.jira,JIRAServiceExtension,getLinkForAllIssues,Long Statement,The length of the statement "return format("%s/secure/IssueNavigator.jspa?reset=true&mode=hide&jqlQuery=%s"`configuration.getUrl()`URLEncoder.encode(format("key in (%s)"`StringUtils.join(issues.stream().map(i -> String.format("\"%s\""`i.getKey())).collect(Collectors.toList())`"`"))`"UTF-8"));" is 264.,83
ontrack,net.nemerosa.ontrack.extension.jira,JIRAConfigurationResourceDecorator,links,Long Statement,The length of the statement "return resourceContext.links().self(on(JIRAController.class).getConfiguration(configuration.getName())).link(Link.UPDATE`on(JIRAController.class).updateConfigurationForm(configuration.getName())).link(Link.DELETE`on(JIRAController.class).deleteConfiguration(configuration.getName())).build();" is 292.,25
ontrack,net.nemerosa.ontrack.extension.jira,JIRAConfiguration,form,Long Statement,The length of the statement "return Form.create().with(defaultNameField()).url().with(Text.of("user").label("User").length(16).optional()).with(Password.of("password").label("Password").length(40).optional());" is 180.,29
ontrack,net.nemerosa.ontrack.extension.jira,JIRAConfiguration,form,Magic Number,The method contains a magic number: 16,29
ontrack,net.nemerosa.ontrack.extension.jira,JIRAConfiguration,form,Magic Number,The method contains a magic number: 40,29
ontrack,net.nemerosa.ontrack.extension.jira,JIRAController,getDescription,Long Statement,The length of the statement "return Resource.of(feature.getFeatureDescription()`uri(MvcUriComponentsBuilder.on(getClass()).getDescription())).with("configurations"`uri(on(getClass()).getConfigurations())`securityService.isGlobalFunctionGranted(GlobalSettings.class));" is 238.,33
ontrack,net.nemerosa.ontrack.extension.jira,JIRAController,getConfigurations,Long Statement,The length of the statement "return Resources.of(jiraConfigurationService.getConfigurations()`uri(on(getClass()).getConfigurations())).with(Link.CREATE`uri(on(getClass()).getConfigurationForm()));" is 167.,44
ontrack,net.nemerosa.ontrack.extension.jira,JIRAServiceTest,update_blank_password,Long Statement,The length of the statement "when(configurationRepository.find(JIRAConfiguration.class`"test")).thenReturn(Optional.of(new JIRAConfiguration("test"`"http://host"`"user"`"secret")));" is 152.,29
ontrack,net.nemerosa.ontrack.extension.jira,JIRAServiceTest,update_blank_password_for_different_user,Long Statement,The length of the statement "when(configurationRepository.find(JIRAConfiguration.class`"test")).thenReturn(Optional.of(new JIRAConfiguration("test"`"http://host"`"user"`"secret")));" is 152.,40
ontrack,net.nemerosa.ontrack.extension.jira,JIRAServiceExtensionTest,before,Long Statement,The length of the statement "service=new JIRAServiceExtension(new JIRAExtensionFeature()`jiraConfigurationService`jiraSessionFactory`transactionService);" is 124.,37
ontrack,net.nemerosa.ontrack.extension.jira,JIRAServiceExtensionTest,getMessageAnnotator,Long Statement,The length of the statement "String message=MessageAnnotationUtils.annotate("TEST-12` PRJ-12` PRJ-13 List of issues"`Collections.singletonList(annotator.get()));" is 132.,83
ontrack,net.nemerosa.ontrack.extension.jira,JIRAServiceExtensionTest,getMessageAnnotator,Long Statement,The length of the statement "assertEquals("<a href=\"http://jira/browse/TEST-12\">TEST-12</a>` <a href=\"http://jira/browse/PRJ-12\">PRJ-12</a>` <a href=\"http://jira/browse/PRJ-13\">PRJ-13</a> List of issues"`message);" is 190.,83
ontrack,net.nemerosa.ontrack.extension.jira,JIRAServiceExtensionTest,getLinkForAllIssues_two_issues,Long Statement,The length of the statement "assertEquals(String.format("http://jira/secure/IssueNavigator.jspa?reset=true&mode=hide&jqlQuery=%s"`URLEncoder.encode("key in (\"PRJ-13\"`\"PRJ-15\")"`"UTF-8"))`link);" is 168.,132
ontrack,net.nemerosa.ontrack.extension.jira.tx,JIRASessionFactoryImpl,create,Long Statement,The length of the statement "JsonClient jsonClient=clientFactory.getJsonClient(new ClientConnection(configuration.getUrl()`configuration.getUser()`configuration.getPassword()));" is 148.,22
ontrack,net.nemerosa.ontrack.extension.jira.client,JIRAClientImpl,toIssue,Long Statement,The length of the statement "return new JIRAIssue(configuration.getIssueURL(key)`key`fieldValue(node`"summary")`status`field(node`"assignee").path("name").asText()`parseFromJIRA(fieldValue(node`"updated"))`fields`affectedVersions`fixVersions);" is 214.,50
ontrack,net.nemerosa.ontrack.extension.jira.client,JIRAClientImplTest,parseFromJIRA,Magic Number,The method contains a magic number: 2014,20
ontrack,net.nemerosa.ontrack.extension.jira.client,JIRAClientImplTest,parseFromJIRA,Magic Number,The method contains a magic number: 6,20
ontrack,net.nemerosa.ontrack.extension.jira.client,JIRAClientImplTest,parseFromJIRA,Magic Number,The method contains a magic number: 5,20
ontrack,net.nemerosa.ontrack.extension.jira.client,JIRAClientImplTest,parseFromJIRA,Magic Number,The method contains a magic number: 14,20
ontrack,net.nemerosa.ontrack.extension.jira.client,JIRAClientImplTest,parseFromJIRA,Magic Number,The method contains a magic number: 51,20
ontrack,net.nemerosa.ontrack.extension.jira.client,JIRAClientImplTest,toIssue,Magic Number,The method contains a magic number: 2014,30
ontrack,net.nemerosa.ontrack.extension.jira.client,JIRAClientImplTest,toIssue,Magic Number,The method contains a magic number: 6,30
ontrack,net.nemerosa.ontrack.extension.jira.client,JIRAClientImplTest,toIssue,Magic Number,The method contains a magic number: 18,30
ontrack,net.nemerosa.ontrack.extension.jira.client,JIRAClientImplTest,toIssue,Magic Number,The method contains a magic number: 15,30
ontrack,net.nemerosa.ontrack.extension.jira.client,JIRAClientImplTest,toIssue,Magic Number,The method contains a magic number: 12,30
ontrack,net.nemerosa.ontrack.extension.jira.client,JIRAClientImplTest,toIssue,Magic Number,The method contains a magic number: 52,30
ontrack,net.nemerosa.ontrack.extension.jira.client,JIRAClientImplTest,toIssue,Magic Number,The method contains a magic number: 369000000,30
ontrack,net.nemerosa.ontrack.json,ObjectMapperFactory,create,Long Statement,The length of the statement "AnnotationIntrospector pair=AnnotationIntrospector.pair(config.getAnnotationIntrospector()`new ConstructorPropertiesAnnotationIntrospector());" is 142.,18
ontrack,net.nemerosa.ontrack.json,ProxyAnnotation,of,Long Statement,The length of the statement "return (A)Proxy.newProxyInstance(annotationType.getClassLoader()`new Class[]{annotationType}`new AnnotationInvocationHandler<A>(annotationType`properties));" is 156.,11
ontrack,net.nemerosa.ontrack.json,JsonUtils,toObject,Complex Method,Cyclomatic complexity of the method is 9,49
ontrack,net.nemerosa.ontrack.json,JsonUtils,toObject,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@1975b364,49
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,toJson,Long Statement,The length of the statement "assertEquals("\"2014-03-20T20:44:00Z\""`ObjectMapperFactory.create().writeValueAsString(LocalDateTime.of(2014`3`20`20`44)));" is 124.,14
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,toJson,Magic Number,The method contains a magic number: 2014,14
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,toJson,Magic Number,The method contains a magic number: 3,14
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,toJson,Magic Number,The method contains a magic number: 20,14
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,toJson,Magic Number,The method contains a magic number: 20,14
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,toJson,Magic Number,The method contains a magic number: 44,14
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,fromJson_with_zone,Long Statement,The length of the statement "assertEquals(LocalDateTime.of(2014`3`20`7`30)`ObjectMapperFactory.create().readValue("\"2014-03-20T07:30:00.000Z\""`LocalDateTime.class));" is 138.,44
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,fromJson_with_zone,Magic Number,The method contains a magic number: 2014,44
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,fromJson_with_zone,Magic Number,The method contains a magic number: 3,44
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,fromJson_with_zone,Magic Number,The method contains a magic number: 20,44
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,fromJson_with_zone,Magic Number,The method contains a magic number: 7,44
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,fromJson_with_zone,Magic Number,The method contains a magic number: 30,44
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,fromJson_without_zone,Long Statement,The length of the statement "assertEquals(LocalDateTime.of(2014`3`20`7`30)`ObjectMapperFactory.create().readValue("\"2014-03-20T07:30:00.000\""`LocalDateTime.class));" is 137.,52
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,fromJson_without_zone,Magic Number,The method contains a magic number: 2014,52
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,fromJson_without_zone,Magic Number,The method contains a magic number: 3,52
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,fromJson_without_zone,Magic Number,The method contains a magic number: 20,52
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,fromJson_without_zone,Magic Number,The method contains a magic number: 7,52
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,fromJson_without_zone,Magic Number,The method contains a magic number: 30,52
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,fromJson_without_millis,Long Statement,The length of the statement "assertEquals(LocalDateTime.of(2014`3`20`7`30)`ObjectMapperFactory.create().readValue("\"2014-03-20T07:30:00\""`LocalDateTime.class));" is 133.,60
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,fromJson_without_millis,Magic Number,The method contains a magic number: 2014,60
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,fromJson_without_millis,Magic Number,The method contains a magic number: 3,60
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,fromJson_without_millis,Magic Number,The method contains a magic number: 20,60
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,fromJson_without_millis,Magic Number,The method contains a magic number: 7,60
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,fromJson_without_millis,Magic Number,The method contains a magic number: 30,60
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,fromJson_without_seconds,Long Statement,The length of the statement "assertEquals(LocalDateTime.of(2014`3`20`7`30)`ObjectMapperFactory.create().readValue("\"2014-03-20T07:30\""`LocalDateTime.class));" is 130.,68
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,fromJson_without_seconds,Magic Number,The method contains a magic number: 2014,68
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,fromJson_without_seconds,Magic Number,The method contains a magic number: 3,68
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,fromJson_without_seconds,Magic Number,The method contains a magic number: 20,68
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,fromJson_without_seconds,Magic Number,The method contains a magic number: 7,68
ontrack,net.nemerosa.ontrack.json,JDKLocalDateTimeSerializerTest,fromJson_without_seconds,Magic Number,The method contains a magic number: 30,68
ontrack,net.nemerosa.ontrack.json,JDKLocalTimeSerializerTest,toJson,Magic Number,The method contains a magic number: 20,14
ontrack,net.nemerosa.ontrack.json,JDKLocalTimeSerializerTest,toJson,Magic Number,The method contains a magic number: 44,14
ontrack,net.nemerosa.ontrack.json,JDKLocalTimeSerializerTest,fromJson,Magic Number,The method contains a magic number: 7,30
ontrack,net.nemerosa.ontrack.json,JDKLocalTimeSerializerTest,fromJson,Magic Number,The method contains a magic number: 30,30
ontrack,net.nemerosa.ontrack.json,JDKLocalDateDeserializerTest,date_only,Magic Number,The method contains a magic number: 2014,22
ontrack,net.nemerosa.ontrack.json,JDKLocalDateDeserializerTest,date_only,Magic Number,The method contains a magic number: 7,22
ontrack,net.nemerosa.ontrack.json,JDKLocalDateDeserializerTest,date_only,Magic Number,The method contains a magic number: 14,22
ontrack,net.nemerosa.ontrack.json,JDKLocalDateDeserializerTest,date_time_zone,Magic Number,The method contains a magic number: 2014,30
ontrack,net.nemerosa.ontrack.json,JDKLocalDateDeserializerTest,date_time_zone,Magic Number,The method contains a magic number: 7,30
ontrack,net.nemerosa.ontrack.json,JDKLocalDateDeserializerTest,date_time_zone,Magic Number,The method contains a magic number: 14,30
ontrack,net.nemerosa.ontrack.json,JDKLocalDateDeserializerTest,date_time,Magic Number,The method contains a magic number: 2014,38
ontrack,net.nemerosa.ontrack.json,JDKLocalDateDeserializerTest,date_time,Magic Number,The method contains a magic number: 7,38
ontrack,net.nemerosa.ontrack.json,JDKLocalDateDeserializerTest,date_time,Magic Number,The method contains a magic number: 14,38
ontrack,net.nemerosa.ontrack.client,JsonClientImpl,post,Long Statement,The length of the statement "return httpClient.post(this::toJson`new StringEntity(objectMapper.writeValueAsString(data)`ContentType.create("application/json"`"UTF-8"))`path`parameters);" is 156.,27
ontrack,net.nemerosa.ontrack.client,OTHttpClientImpl,baseHandleResponse,Complex Method,Cyclomatic complexity of the method is 9,101
ontrack,net.nemerosa.ontrack.extension.git,GitController,GitController,Long Parameter List,The method has 5 parameters. ,45
ontrack,net.nemerosa.ontrack.extension.git,GitController,GitController,Magic Number,The method contains a magic number: 20,45
ontrack,net.nemerosa.ontrack.extension.git,GitController,GitController,Magic Number,The method contains a magic number: 10,45
ontrack,net.nemerosa.ontrack.extension.git,GitController,getDescription,Long Statement,The length of the statement "return Resource.of(feature.getFeatureDescription()`uri(MvcUriComponentsBuilder.on(getClass()).getDescription())).with("configurations"`uri(on(getClass()).getConfigurations())`securityService.isGlobalFunctionGranted(GlobalSettings.class));" is 238.,63
ontrack,net.nemerosa.ontrack.extension.git,GitController,getConfigurations,Long Statement,The length of the statement "return Resources.of(configurationService.getConfigurations()`uri(on(getClass()).getConfigurations())).with(Link.CREATE`uri(on(getClass()).getConfigurationForm()));" is 163.,74
ontrack,net.nemerosa.ontrack.extension.git,GitController,updateConfigurationForm,Long Statement,The length of the statement "return configurationService.getConfiguration(name).asForm(issueServiceRegistry.getAvailableIssueServiceConfigurations());" is 121.,121
ontrack,net.nemerosa.ontrack.extension.git,GitBuildSyncActionExtension,getAction,Complex Conditional,The conditional expression entity instanceof Branch && gitService.isBranchConfiguredForGit((Branch)entity) && securityService.isProjectFunctionGranted(entity`BuildCreate.class) is complex.,31
ontrack,net.nemerosa.ontrack.extension.git,GitBuildSyncActionExtension,getAction,Long Statement,The length of the statement "if (entity instanceof Branch && gitService.isBranchConfiguredForGit((Branch)entity) && securityService.isProjectFunctionGranted(entity`BuildCreate.class)) {" is 156.,31
ontrack,net.nemerosa.ontrack.extension.git.service,DefaultGitConfigurator,configure,Long Statement,The length of the statement "Property<GitProjectConfigurationProperty> projectConfig=propertyService.getProperty(branch.getProject()`GitProjectConfigurationPropertyType.class);" is 147.,25
ontrack,net.nemerosa.ontrack.extension.git.service,DefaultGitConfigurator,configure,Long Statement,The length of the statement "Property<GitBranchConfigurationProperty> branchConfig=propertyService.getProperty(branch`GitBranchConfigurationPropertyType.class);" is 131.,25
ontrack,net.nemerosa.ontrack.extension.git.service,GitServiceImpl,GitServiceImpl,Long Parameter List,The method has 7 parameters. ,43
ontrack,net.nemerosa.ontrack.extension.git.service,GitServiceImpl,changeLog,Long Statement,The length of the statement "return new GitChangeLog(UUID.randomUUID().toString()`branch`configuration`getSCMBuildView(configuration`branch`request.getFrom())`getSCMBuildView(configuration`branch`request.getTo()));" is 185.,96
ontrack,net.nemerosa.ontrack.extension.git.service,GitServiceImpl,getChangeLogIssues,Long Statement,The length of the statement "ConfiguredIssueService configuredIssueService=issueServiceRegistry.getConfiguredIssueService(configuration.getIssueServiceConfigurationIdentifier());" is 149.,139
ontrack,net.nemerosa.ontrack.extension.git.service,GitServiceImpl,getChangeLogIssues,Long Statement,The length of the statement "IssueServiceConfigurationRepresentation issueServiceConfiguration=configuredIssueService.getIssueServiceConfigurationRepresentation();" is 134.,139
ontrack,net.nemerosa.ontrack.extension.git.service,GitServiceImpl,toUICommits,Long Identifier,The length of the identifier issueServiceConfigurationIdentifier is 35.,180
ontrack,net.nemerosa.ontrack.extension.git.service,GitServiceImpl,toUICommits,Long Statement,The length of the statement "ConfiguredIssueService configuredIssueService=issueServiceRegistry.getConfiguredIssueService(issueServiceConfigurationIdentifier);" is 130.,180
ontrack,net.nemerosa.ontrack.extension.git.service,GitServiceImpl,toUICommits,Long Statement,The length of the statement "return commits.stream().map(commit -> new GitUICommit(commit`MessageAnnotationUtils.annotate(commit.getShortMessage()`messageAnnotators)`MessageAnnotationUtils.annotate(commit.getFullMessage()`messageAnnotators)`StringUtils.replace(commitLink`"{commit}"`commit.getId()))).collect(Collectors.toList());" is 301.,180
ontrack,net.nemerosa.ontrack.extension.git.service,GitServiceImpl,getBranchConfiguration,Long Statement,The length of the statement "configuration=configuration.withName(format("%s/%s/%s"`branch.getProject().getName()`branch.getName()`configuration.getRemote()));" is 130.,223
ontrack,net.nemerosa.ontrack.extension.git.service,GitServiceImpl,buildSync,Long Statement,The length of the statement "structureService.newBuild(Build.of(branch`new NameDescription(buildName`"Imported from Git tag " + tagName)`securityService.getCurrentSignature().withTime(tag.getTime())));" is 172.,312
ontrack,net.nemerosa.ontrack.extension.git.resource,GitChangeLogResourceDecorator,links,Long Statement,The length of the statement "return resourceContext.links().link("_commits"`on(GitController.class).changeLogCommits(changeLog.getUuid())).link("_issues"`on(GitController.class).changeLogIssues(changeLog.getUuid())`StringUtils.isNotBlank(changeLog.getScmBranch().getIssueServiceConfigurationIdentifier())).build();" is 285.,20
ontrack,net.nemerosa.ontrack.extension.git.resource,GitConfigurationResourceDecorator,links,Long Statement,The length of the statement "return resourceContext.links().self(on(GitController.class).getConfiguration(configuration.getName())).link(Link.UPDATE`on(GitController.class).updateConfigurationForm(configuration.getName())).link(Link.DELETE`on(GitController.class).deleteConfiguration(configuration.getName())).build();" is 289.,32
ontrack,net.nemerosa.ontrack.extension.git.model,GitChangeLog,GitChangeLog,Long Parameter List,The method has 5 parameters. ,19
ontrack,net.nemerosa.ontrack.extension.git.model,GitConfiguration,form,Long Identifier,The length of the parameter availableIssueServiceConfigurations is 35.,91
ontrack,net.nemerosa.ontrack.extension.git.model,GitConfiguration,form,Long Statement,The length of the statement "return Form.create().with(defaultNameField()).with(Text.of("remote").label("Remote").help("Remote path to the source repository")).with(Text.of("user").label("User").length(16).optional()).with(Password.of("password").label("Password").length(40).optional()).with(Text.of("commitLink").label("Commit link").length(250).optional().help("Link to a commit` using {commit} as placeholder")).with(Text.of("fileAtCommitLink").label("File at commit link").length(250).optional().help("Link to a file at a given commit` using {commit} and {path} as placeholders")).with(Int.of("indexationInterval").label("Indexation interval").min(0).max(60 * 24).value(0).help("Interval (in minutes) between each indexation of the Git repository. A " + "zero value indicates that no indexation must take place automatically and they " + "have to be triggered manually.")).with(Selection.of("issueServiceConfigurationIdentifier").label("Issue configuration").help("Select an issue service that is sued to associate tickets and issues to the source.").optional().items(availableIssueServiceConfigurations));" is 1082.,91
ontrack,net.nemerosa.ontrack.extension.git.model,GitConfiguration,form,Magic Number,The method contains a magic number: 16,91
ontrack,net.nemerosa.ontrack.extension.git.model,GitConfiguration,form,Magic Number,The method contains a magic number: 40,91
ontrack,net.nemerosa.ontrack.extension.git.model,GitConfiguration,form,Magic Number,The method contains a magic number: 250,91
ontrack,net.nemerosa.ontrack.extension.git.model,GitConfiguration,form,Magic Number,The method contains a magic number: 250,91
ontrack,net.nemerosa.ontrack.extension.git.model,GitConfiguration,form,Magic Number,The method contains a magic number: 60,91
ontrack,net.nemerosa.ontrack.extension.git.model,GitConfiguration,form,Magic Number,The method contains a magic number: 24,91
ontrack,net.nemerosa.ontrack.extension.git.model,GitConfiguration,asForm,Long Identifier,The length of the parameter availableIssueServiceConfigurations is 35.,144
ontrack,net.nemerosa.ontrack.extension.git.model,GitConfiguration,asForm,Long Identifier,The length of the field issueServiceConfigurationIdentifier is 35.,144
ontrack,net.nemerosa.ontrack.extension.git.model,GitConfiguration,asForm,Long Statement,The length of the statement "return form(availableIssueServiceConfigurations).with(defaultNameField().readOnly().value(name)).fill("remote"`remote).fill("user"`user).fill("password"`"").fill("commitLink"`commitLink).fill("fileAtCommitLink"`fileAtCommitLink).fill("indexationInterval"`indexationInterval).fill("issueServiceConfigurationIdentifier"`issueServiceConfigurationIdentifier);" is 355.,144
ontrack,net.nemerosa.ontrack.extension.git.model,GitConfiguration,merge,Long Identifier,The length of the field issueServiceConfigurationIdentifier is 35.,176
ontrack,net.nemerosa.ontrack.extension.git.model,GitConfiguration,merge,Long Statement,The length of the statement "return new GitConfiguration(name`defaultIfBlank(configuration.remote`remote)`defaultIfBlank(configuration.branch`branch)`defaultIfBlank(configuration.user`user)`defaultIfBlank(configuration.password`password)`defaultIfBlank(configuration.commitLink`commitLink)`defaultIfBlank(configuration.fileAtCommitLink`fileAtCommitLink)`configuration.indexationInterval > 0 ? configuration.indexationInterval : indexationInterval`defaultIfBlank(configuration.issueServiceConfigurationIdentifier`issueServiceConfigurationIdentifier));" is 521.,176
ontrack,net.nemerosa.ontrack.extension.git.property,GitProjectConfigurationPropertyType,getEditionForm,Long Statement,The length of the statement "return Form.create().with(Selection.of("configuration").label("Configuration").help("Git configuration to use to access the repository").items(configurationService.getConfigurationDescriptors()).value(value != null ? value.getConfiguration().getName() : null));" is 261.,51
ontrack,net.nemerosa.ontrack.extension.git.client,GitDiffEntry,getReferencePath,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@52bae38d,13
ontrack,net.nemerosa.ontrack.extension.git.client,GitDiffEntry,getReferenceId,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@7a7fcaf6,26
ontrack,net.nemerosa.ontrack.extension.git.client.impl,DefaultGitClient,getGitTagFromRef,Magic Number,The method contains a magic number: 1000L,36
ontrack,net.nemerosa.ontrack.extension.git.client.impl,DefaultGitClient,log,Magic Number,The method contains a magic number: 1000,77
ontrack,net.nemerosa.ontrack.extension.git.client.impl,DefaultGitClient,diff,Long Statement,The length of the statement "List<DiffEntry> entries=git.diff().setShowNameAndStatusOnly(true).setOldTree(getTreeIterator(commitFrom.getId())).setNewTree(getTreeIterator(commitTo.getId())).call();" is 167.,127
ontrack,net.nemerosa.ontrack.extension.git.client.impl,DefaultGitClient,diff,Long Statement,The length of the statement "return new GitDiff(commitFrom`commitTo`Lists.transform(entries`diff -> new GitDiffEntry(toChangeType(diff.getChangeType())`diff.getOldPath()`diff.getNewPath())));" is 162.,127
ontrack,net.nemerosa.ontrack.extension.git.client.impl,DefaultGitClient,toChangeType,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@688a7bca,293
ontrack,net.nemerosa.ontrack.extension.git.client.impl,DefaultGitClient,toCommit,Long Statement,The length of the statement "return new GitCommit(getId(revCommit)`getShortId(revCommit)`toPerson(revCommit.getAuthorIdent())`toPerson(revCommit.getCommitterIdent())`Time.from(1000L * revCommit.getCommitTime())`revCommit.getFullMessage()`revCommit.getShortMessage());" is 238.,335
ontrack,net.nemerosa.ontrack.extension.git.client.impl,DefaultGitClient,toCommit,Magic Number,The method contains a magic number: 1000L,335
ontrack,net.nemerosa.ontrack.extension.git.client.impl,DefaultGitRepositoryManagerTest,getRepositoryId_1,Long Statement,The length of the statement "assertEquals("git___github_com_nemerosa_ontrack_git_master"`new DefaultGitRepositoryManager(null).getRepositoryId("git://github.com/nemerosa/ontrack.git"`"master"));" is 165.,9
ontrack,net.nemerosa.ontrack.extension.git.client.impl,DefaultGitRepositoryManagerTest,getRepositoryId_2,Long Statement,The length of the statement "assertEquals("git_github_com_nemerosa_ontrack_git_master"`new DefaultGitRepositoryManager(null).getRepositoryId("git@github.com:nemerosa/ontrack.git"`"master"));" is 161.,16
ontrack,net.nemerosa.ontrack.extension.git.client.impl,DefaultGitRepositoryManagerTest,getRepositoryId_3,Long Statement,The length of the statement "assertEquals("https___github_com_nemerosa_ontrack_git_master"`new DefaultGitRepositoryManager(null).getRepositoryId("https://github.com/nemerosa/ontrack.git"`"master"));" is 169.,23
ontrack,net.nemerosa.ontrack.extension.git.client.impl,DefaultGitRepositoryManagerTest,getRepositoryId_4,Long Statement,The length of the statement "assertEquals("git___github_com_nemerosa_ontrack_git_1_x"`new DefaultGitRepositoryManager(null).getRepositoryId("git://github.com/nemerosa/ontrack.git"`"1.x"));" is 159.,30
ontrack,net.nemerosa.ontrack.extension.git.client.plot,GitPlotRenderer,drawLine,Long Parameter List,The method has 6 parameters. ,59
ontrack,net.nemerosa.ontrack.ref,ValidationRunStatusServiceRef,getNextValidationRunStatusList,Long Statement,The length of the statement "return getValidationRunStatus(id).getFollowingStatuses().stream().map(this::getValidationRunStatus).collect(Collectors.toList());" is 129.,36
ontrack,net.nemerosa.ontrack.ref,ValidationRunStatusServiceRef,startupOrder,Magic Number,The method contains a magic number: 10,55
