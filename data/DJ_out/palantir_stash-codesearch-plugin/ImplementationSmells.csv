Project Name,Package Name,Type Name,Method Name,Implementation Smell,Cause of the Smell,Method start line no
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.repository,RepositoryServiceManagerImpl,getRepositoryMap,Empty catch clause,The method has an empty catch block.,46
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.repository,RepositoryServiceManagerImpl,getBranchMap,Long Statement,The length of the statement "RepositoryBranchesRequest rbr=new RepositoryBranchesRequest.Builder().repository(repository).order(RefOrder.ALPHABETICAL).build();" is 130.,77
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SourceSearch,search,Complex Conditional,The conditional expression j >= 0 && j < sourceLines.length && !includeLine[j] is complex.,88
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SourceSearch,search,Complex Method,Cyclomatic complexity of the method is 14,88
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SourceSearch,search,Long Parameter List,The method has 5 parameters. ,88
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchFilterUtils,projectRepositoryFilter,Long Statement,The length of the statement "return boolFilter().must(termFilter("project"`project)).must(termFilter("repository"`repository)).cache(true).cacheKey("CACHE^PROJECTREPOFILTER^" + project + "^"+ repository);" is 175.,54
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchFilterUtils,authorFilter,Complex Method,Cyclomatic complexity of the method is 9,196
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchServlet,SearchServlet,Long Parameter List,The method has 9 parameters. ,107
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchServlet,searchHitToDataMap,Complex Conditional,The conditional expression repoObject != null && repoObject.getProject().getKey().equals(project) && repoObject.getSlug().equals(repository) is complex.,148
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchServlet,searchHitToDataMap,Long Parameter List,The method has 5 parameters. ,148
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchServlet,searchHitToDataMap,Long Statement,The length of the statement "hitData.put("hash"`getStringFromMap(hitSource`"hash")).put("subject"`getStringFromMap(hitSource`"subject")).put("body"`getStringFromMap(hitSource`"body")).put("commitDate"`getDateStringFromMap(hitSource`"commitdate")).put("authorName"`getStringFromMap(hitSource`"authorname")).put("authorEmail"`getStringFromMap(hitSource`"authoremail"));" is 338.,148
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchServlet,searchHitToDataMap,Long Statement,The length of the statement "hitData.put("path"`path).put("blob"`getStringFromMap(hitSource`"blob")).put("primaryRef"`primaryRef).put("sourceLines"`searchedContents.getJoinedLines()).put("sourceLineNums"`searchedContents.getJoinedLineNums()).put("isPreview"`searchedContents.isPreview()).put("shownLines"`searchedContents.getLines().length).put("excessLines"`searchedContents.getExcess()).put("extension"`extension).put("noHighlight"`noHighlight.contains(extension));" is 438.,148
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchServlet,doGet,Complex Conditional,The conditional expression params.showStatistics && aggs != null && !aggs.asList().isEmpty() is complex.,240
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchServlet,doGet,Complex Method,Cyclomatic complexity of the method is 20,240
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchServlet,doGet,Long Method,The method has 146 lines of code.,240
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchServlet,doGet,Long Statement,The length of the statement "resp.sendRedirect(propertiesService.getLoginUri(URI.create(req.getRequestURL() + (req.getQueryString() == null ? "" : "?" + req.getQueryString()))).toASCIIString());" is 165.,240
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchServlet,doGet,Long Statement,The length of the statement "SearchRequestBuilder esReq=es.getClient().prepareSearch(ES_SEARCHALIAS).setFrom(startIndex).setSize(pageSize).setTimeout(searchTimeout).setFetchSource(true);" is 157.,240
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchServlet,doGet,Long Statement,The length of the statement "QueryStringQueryBuilder queryStringQuery=queryString(params.searchString).analyzeWildcard(true).lenient(true).defaultOperator(QueryStringQueryBuilder.Operator.AND);" is 164.,240
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchServlet,doGet,Long Statement,The length of the statement "queryStringQuery.field("commit.subject"`commitSubjectBoost).field("commit.hash"`commitHashBoost).field("commit.body"`commitBodyBoost);" is 134.,240
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchServlet,doGet,Long Statement,The length of the statement "FilterBuilder filter=andFilter(boolFilter().must(repoMap == null ? matchAllFilter() : sf.aclFilter(repoMap)`sf.refFilter(params.refNames.split("`"))`sf.projectFilter(params.projectKeys.split("`"))`sf.repositoryFilter(params.repoNames.split("`"))`sf.extensionFilter(params.extensions.split("`"))`sf.authorFilter(params.authorNames.split("`")))`sf.dateRangeFilter(params.committedAfter`params.committedBefore));" is 409.,240
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchServlet,doGet,Long Statement,The length of the statement "esReq.setQuery(finalQuery).setHighlighterPreTags("\u0001").setHighlighterPostTags("\u0001").addHighlightedField("contents"`1`maxFragments);" is 139.,240
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchServlet,doGet,Long Statement,The length of the statement "esReq.addAggregation(cardinality("authorCardinality").field("authoremail.untouched").precisionThreshold(1000)).addAggregation(terms("authorRanking").field("authoremail.untouched").size(25)).addAggregation(percentiles("charcountPercentiles").field("charcount").percentiles(PERCENTILES)).addAggregation(extendedStats("charcountStats").field("charcount")).addAggregation(filter("commitCount").filter(typeFilter("commit"))).addAggregation(cardinality("extensionCardinality").field("extension").precisionThreshold(1000)).addAggregation(terms("extensionRanking").field("extension").size(25)).addAggregation(percentiles("linecountPercentiles").field("linecount").percentiles(PERCENTILES)).addAggregation(extendedStats("linecountStats").field("linecount"));" is 749.,240
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchServlet,doGet,Long Statement,The length of the statement "statistics=new ImmutableMap.Builder<String`Object>().put("authorCardinality"`authorCardinality.getValue()).put("authorRanking"`getSoyRankingList(authorRanking`commitCount.getDocCount())).put("charcount"`new ImmutableMap.Builder<String`Object>().put("average"`charcountStats.getAvg()).put("max"`Math.round(charcountStats.getMax())).put("min"`Math.round(charcountStats.getMin())).put("percentiles"`getSoyPercentileList(charcountPercentiles`PERCENTILES)).put("sum"`Math.round(charcountStats.getSum())).build()).put("commitcount"`commitCount.getDocCount()).put("extensionCardinality"`extensionCardinality.getValue()).put("extensionRanking"`getSoyRankingList(extensionRanking`charcountStats.getCount())).put("filecount"`charcountStats.getCount()).put("linecount"`new ImmutableMap.Builder<String`Object>().put("average"`linecountStats.getAvg()).put("max"`Math.round(linecountStats.getMax())).put("min"`Math.round(linecountStats.getMin())).put("percentiles"`getSoyPercentileList(linecountPercentiles`PERCENTILES)).put("sum"`Math.round(linecountStats.getSum())).build()).build();" is 1071.,240
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchServlet,doGet,Long Statement,The length of the statement "ImmutableMap<String`Object> data=new ImmutableMap.Builder<String`Object>().put("pages"`pages).put("currentPage"`params.page).put("prevParams"`params.soyParams).put("doSearch"`params.doSearch).put("totalHits"`totalHits).put("hitArray"`hitArray).put("statistics"`statistics).put("error"`error).put("fullUri"`fullUri).put("baseUrl"`propertiesService.getBaseUrl().toASCIIString()).put("resultFrom"`Math.min(totalHits`params.page * pageSize + 1)).put("resultTo"`Math.min(totalHits`(params.page + 1) * pageSize)).put("searchTime"`searchTime).build();" is 544.,240
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchServlet,doGet,Long Statement,The length of the statement "soyTemplateRenderer.render(resp.getWriter()`"com.palantir.stash.stash-code-search:codesearch-soy"`"plugin.page.codesearch.searchPage"`data);" is 140.,240
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchServlet,doGet,Magic Number,The method contains a magic number: 1000,240
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchServlet,doGet,Magic Number,The method contains a magic number: 25,240
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchServlet,doGet,Magic Number,The method contains a magic number: 1000,240
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchServlet,doGet,Magic Number,The method contains a magic number: 25,240
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.search,SearchServlet,getSoyRankingList,Long Statement,The length of the statement "builder.add(ImmutableMap.<String`Object>of("other"`true`"key"`"Other"`"count"`otherCount`"proportion"`((double)otherCount / totalCount)));" is 138.,501
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdaterImpl,SearchUpdaterImpl,Long Parameter List,The method has 7 parameters. ,112
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdaterImpl,SearchUpdaterImpl,Magic Number,The method contains a magic number: 5,112
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdaterImpl,getIndexFromAlias,Long Statement,The length of the statement "ImmutableOpenMap<String`List<AliasMetaData>> aliasMap=es.getClient().admin().indices().prepareGetAliases(alias).get().getAliases();" is 131.,139
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdaterImpl,initializeAliasedIndex,Long Statement,The length of the statement "es.getClient().admin().indices().prepareCreate(newIndex).addMapping("latestindexed"`jsonBuilder().startObject().startObject("properties").startObject("project").field("type"`"string").field("index"`"not_analyzed").endObject().startObject("repository").field("type"`"string").field("index"`"not_analyzed").endObject().startObject("ref").field("type"`"string").field("index"`"not_analyzed").endObject().startObject("hash").field("type"`"string").field("index"`"not_analyzed").endObject().endObject().endObject()).addMapping("commit"`jsonBuilder().startObject().startObject("properties").startObject("project").field("type"`"string").field("index"`"not_analyzed").endObject().startObject("repository").field("type"`"string").field("index"`"not_analyzed").endObject().startObject("refs").field("type"`"multi_field").startObject("fields").startObject("refs").field("type"`"string").field("index_analyzer"`"ref_analyzer").field("search_analyzer"`"ref_analyzer").endObject().startObject("untouched").field("type"`"string").field("index"`"not_analyzed").endObject().endObject().endObject().startObject("authorname").field("type"`"string").field("index_analyzer"`"name_analyzer").field("search_analyzer"`"name_analyzer").endObject().startObject("authoremail").field("type"`"multi_field").startObject("fields").startObject("authoremail").field("type"`"string").field("index_analyzer"`"email_analyzer").field("search_analyzer"`"email_analyzer").endObject().startObject("untouched").field("type"`"string").field("index"`"not_analyzed").endObject().endObject().endObject().startObject("body").field("type"`"string").endObject().startObject("subject").field("type"`"string").endObject().startObject("commitdate").field("type"`"date").field("format"`"date_time").endObject().startObject("hash").field("type"`"string").field("index"`"not_analyzed").endObject().endObject().endObject()).addMapping("file"`jsonBuilder().startObject().startObject("properties").startObject("project").field("type"`"string").field("index"`"not_analyzed").endObject().startObject("repository").field("type"`"string").field("index"`"not_analyzed").endObject().startObject("refs").field("type"`"multi_field").startObject("fields").startObject("refs").field("type"`"string").field("index_analyzer"`"ref_analyzer").field("search_analyzer"`"ref_analyzer").endObject().startObject("untouched").field("type"`"string").field("index"`"not_analyzed").endObject().endObject().endObject().startObject("blob").field("type"`"string").field("index"`"not_analyzed").endObject().startObject("path").field("type"`"string").field("index_analyzer"`"path_analyzer").field("search_analyzer"`"path_analyzer").endObject().startObject("extension").field("type"`"string").field("index"`"not_analyzed").endObject().startObject("contents").field("type"`"string").field("index_analyzer"`"code_analyzer").field("search_analyzer"`"code_analyzer").endObject().startObject("charcount").field("type"`"integer").startObject("fielddata").field("format"`"doc_values").endObject().endObject().startObject("linecount").field("type"`"integer").startObject("fielddata").field("format"`"doc_values").endObject().endObject().endObject().endObject()).setSettings(jsonBuilder().startObject().startObject("analysis").startObject("analyzer").startObject("email_analyzer").field("type"`"pattern").field("pattern"`"[^A-Za-z0-9_]+").endObject().startObject("name_analyzer").field("type"`"pattern").field("pattern"`"[^A-Za-z0-9_]+").endObject().startObject("ref_analyzer").field("type"`"pattern").field("pattern"`"/").endObject().startObject("code_analyzer").field("type"`"pattern").field("pattern"`"[^A-Za-z0-9_]+").endObject().startObject("path_analyzer").field("type"`"pattern").field("pattern"`"[/\\\\.]").endObject().endObject().startObject("filter").endObject().endObject().endObject()).get();" is 3810.,152
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdaterImpl,acquireLock,Empty catch clause,The method has an empty catch block.,386
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdaterImpl,submitAsyncUpdateImpl,Complex Conditional,The conditional expression !ref.matches(refRegex) && (defaultBranch == null || !ref.equals(defaultBranch) || !"HEAD".matches(refRegex)) is complex.,471
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdaterImpl,submitAsyncUpdateImpl,Empty catch clause,The method has an empty catch block.,471
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdaterImpl,submitAsyncUpdateImpl,Long Statement,The length of the statement "log.warn("Job pool is currently blocked: not executing update job on {}/{}:{}"`repository.getProject().getKey()`repository.getSlug()`ref);" is 138.,471
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdaterImpl,waitForFuture,Empty catch clause,The method has an empty catch block.,507
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdaterImpl,runWithBlockedJobPool,Magic Number,The method contains a magic number: 5,548
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdaterImpl,runWithBlockedJobPool,Magic Number,The method contains a magic number: 100,548
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdaterImpl,reindexRepository,Long Statement,The length of the statement "es.getClient().prepareDeleteByQuery(ES_UPDATEALIAS).setRouting(projectKey + '^' + repositorySlug).setQuery(QueryBuilders.filteredQuery(QueryBuilders.matchAllQuery()`sfu.projectRepositoryFilter(projectKey`repositorySlug))).get();" is 228.,570
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdaterImpl,reindexRepository,Magic Number,The method contains a magic number: 5,570
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdaterImpl,reindexRepository,Magic Number,The method contains a magic number: 200,570
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdaterImpl,reindexAll,Long Statement,The length of the statement "es.getClient().admin().indices().prepareUpdateSettings(ES_UPDATEALIAS).setSettings(ImmutableSettings.builder().put("index.refresh_interval"`"-1")).get();" is 153.,619
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdaterImpl,reindexAll,Long Statement,The length of the statement "es.getClient().admin().indices().prepareUpdateSettings(ES_UPDATEALIAS).setSettings(ImmutableSettings.builder().put("index.refresh_interval"`"1s")).get();" is 153.,619
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdaterImpl,refreshConcurrencyLimit,Magic Number,The method contains a magic number: 5,670
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdaterImpl,refreshConcurrencyLimit,Magic Number,The method contains a magic number: 5,670
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,CatFileOutputHandler,isBinary,Magic Number,The method contains a magic number: 256,34
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,CatFileOutputHandler,process,Magic Number,The method contains a magic number: 2,82
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,equals,Long Statement,The length of the statement "return repository.getSlug().equals(other.repository.getSlug()) && repository.getProject().getKey().equals(other.repository.getProject().getKey()) && ref.equals(other.ref);" is 171.,59
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,getLatestIndexedHash,Long Statement,The length of the statement "String hash=client.prepareGet(ES_UPDATEALIAS`"latestindexed"`toString()).setRouting(getRepoDesc()).get().getSourceAsMap().get("hash").toString();" is 145.,94
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,getLatestIndexedHash,Magic Number,The method contains a magic number: 40,94
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,addLatestIndexedNote,Long Statement,The length of the statement "client.prepareIndex(ES_UPDATEALIAS`"latestindexed"`toString()).setSource(jsonBuilder().startObject().field("project"`repository.getProject().getKey()).field("repository"`repository.getSlug()).field("ref"`ref).field("hash"`commitHash).endObject()).setRouting(getRepoDesc()).get();" is 279.,131
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,getLatestHash,Long Statement,The length of the statement "String newHash=builderFactory.builder(repository).command("show-ref").argument("--verify").argument(ref).build(new StringOutputHandler(plf)).call().split("\\s+")[0];" is 165.,152
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,getLatestHash,Magic Number,The method contains a magic number: 40,152
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,buildDeleteFromRef,Long Statement,The length of the statement "return client.prepareUpdate(ES_UPDATEALIAS`type`id).setScript("ctx._source.refs.contains(ref) ? ((ctx._source.refs.size() > 1) " + "? (ctx._source.refs.remove(ref)) : (ctx.op = \"delete\")) : (ctx.op = \"none\")").setScriptLang("mvel").addScriptParam("ref"`ref).setRetryOnConflict(MAX_ES_RETRIES).setRouting(getRepoDesc());" is 323.,172
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,buildAddToRef,Long Statement,The length of the statement "return client.prepareUpdate(ES_UPDATEALIAS`type`id).setScript("ctx._source.refs.contains(ref) " + "? (ctx.op = \"none\") : (ctx._source.refs += ref)").setScriptLang("mvel").addScriptParam("ref"`ref).setRetryOnConflict(MAX_ES_RETRIES).setRouting(getRepoDesc());" is 260.,183
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doReindex,Long Statement,The length of the statement "SearchRequestBuilder esReq=client.prepareSearch(ES_UPDATEALIAS).setSize(1000).setFetchSource(false).setRouting(getRepoDesc()).setQuery(filteredQuery(matchAllQuery()`andFilter(sfu.projectRepositoryFilter(repository.getProject().getKey()`repository.getSlug())`sfu.exactRefFilter(ref))));" is 285.,219
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doReindex,Magic Number,The method contains a magic number: 1000,219
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Complex Method,Cyclomatic complexity of the method is 32,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Long Method,The method has 193 lines of code.,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Long Statement,The length of the statement "String[] diffToks=builderFactory.builder(repository).command("diff").argument("--raw").argument("--abbrev=40").argument("-z").argument(prevHash).argument(newHash).build(new StringOutputHandler(plf)).call().split("\u0000");" is 222.,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Long Statement,The length of the statement "String[] catFileMetadata=builderFactory.builder(repository).command("cat-file").argument("--batch-check").inputHandler(catFileInput).build(new StringOutputHandler(plf)).call().split("\n");" is 188.,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Long Statement,The length of the statement "String[] fileContents=builderFactory.builder(repository).command("cat-file").argument("--batch=").inputHandler(catFileInput).build(catFileOutput).call();" is 153.,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Long Statement,The length of the statement "requestBuffer.add(buildAddFileToRef(client`blob`path).setUpsert(jsonBuilder().startObject().field("project"`repository.getProject().getKey()).field("repository"`repository.getSlug()).field("blob"`blob).field("path"`path).field("extension"`FilenameUtils.getExtension(path).toLowerCase()).field("contents"`fileContent).field("charcount"`fileContent.length()).field("linecount"`countLines(fileContent)).startArray("refs").value(ref).endArray().endObject()));" is 455.,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Long Statement,The length of the statement "deletedCommits=builderFactory.builder(repository).command("rev-list").argument(prevHash).argument("^" + newHash).build(new StringOutputHandler(plf)).call().split("\n+");" is 169.,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Long Statement,The length of the statement "newCommits=builderFactory.builder(repository).command("log").argument("--format=%H%x02%ct%x02%an%x02%ae%x02%s%x02%b%x03").argument(newHash).argument("^" + prevHash).build(new StringOutputHandler(plf)).call().split("\u0003");" is 224.,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Long Statement,The length of the statement "requestBuffer.add(buildAddCommitToRef(client`hash).setUpsert(jsonBuilder().startObject().field("project"`repository.getProject().getKey()).field("repository"`repository.getSlug()).field("hash"`hash).field("commitdate"`new Date(timestamp)).field("authorname"`authorName).field("authoremail"`authorEmail).field("subject"`subject).field("body"`body).startArray("refs").value(ref).endArray().endObject()));" is 402.,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Magic Number,The method contains a magic number: 5,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Magic Number,The method contains a magic number: 4,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Magic Number,The method contains a magic number: 2,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Magic Number,The method contains a magic number: 3,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Magic Number,The method contains a magic number: 2,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Magic Number,The method contains a magic number: 2,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Magic Number,The method contains a magic number: 40,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Magic Number,The method contains a magic number: 40,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Magic Number,The method contains a magic number: 6,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Magic Number,The method contains a magic number: 1000,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Magic Number,The method contains a magic number: 2,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Magic Number,The method contains a magic number: 3,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Magic Number,The method contains a magic number: 4,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Magic Number,The method contains a magic number: 6,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Magic Number,The method contains a magic number: 5,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,doUpdate,Magic Number,The method contains a magic number: 40,251
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.updater,SearchUpdateJobImpl,countLines,Complex Conditional,The conditional expression (prevChar == '\r' && c != '\n') || prevChar == '\n' is complex.,555
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,GlobalSettings,getMaxConcurrentIndexing,Long Identifier,The length of the field MAX_CONCURRENT_INDEXING_DEFAULT is 31.,33
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,GlobalSettings,getNoHighlightExtensions,Long Identifier,The length of the field NO_HIGHLIGHT_EXTENSIONS_DEFAULT is 31.,58
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,GlobalSettingsServlet,GlobalSettingsServlet,Long Parameter List,The method has 6 parameters. ,76
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,GlobalSettingsServlet,verifySysAdmin,Long Statement,The length of the statement "resp.sendRedirect(propertiesService.getLoginUri(URI.create(req.getRequestURL() + (req.getQueryString() == null ? "" : "?" + req.getQueryString()))).toASCIIString());" is 165.,128
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,GlobalSettingsServlet,renderPage,Long Statement,The length of the statement "ImmutableMap<String`Object> data=new ImmutableMap.Builder<String`Object>().put("settings"`globalSettings).put("errors"`errors).build();" is 135.,152
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,GlobalSettingsServlet,renderPage,Long Statement,The length of the statement "soyTemplateRenderer.render(resp.getWriter()`"com.palantir.stash.stash-code-search:codesearch-soy"`"plugin.page.codesearch.globalSettingsPage"`data);" is 148.,152
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,GlobalSettingsServlet,doPost,Long Method,The method has 114 lines of code.,179
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,GlobalSettingsServlet,doPost,Long Statement,The length of the statement "maxConcurrentIndexing=parseInt("Indexing Concurrency Limit"`MAX_CONCURRENT_INDEXING_LB`MAX_CONCURRENT_INDEXING_UB`req.getParameter("maxConcurrentIndexing"));" is 157.,179
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,GlobalSettingsServlet,doPost,Long Statement,The length of the statement "commitHashBoost=parseDouble("Commit Hash Boost"`COMMIT_HASH_BOOST_LB`COMMIT_HASH_BOOST_UB`req.getParameter("commitHashBoost"));" is 127.,179
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,GlobalSettingsServlet,doPost,Long Statement,The length of the statement "commitSubjectBoost=parseDouble("Commit Subject Boost"`COMMIT_SUBJECT_BOOST_LB`COMMIT_SUBJECT_BOOST_UB`req.getParameter("commitSubjectBoost"));" is 142.,179
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,GlobalSettingsServlet,doPost,Long Statement,The length of the statement "commitBodyBoost=parseDouble("Commit Body Boost"`COMMIT_BODY_BOOST_LB`COMMIT_BODY_BOOST_UB`req.getParameter("commitBodyBoost"));" is 127.,179
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,GlobalSettingsServlet,doPost,Long Statement,The length of the statement "settings=settingsManager.setGlobalSettings(indexingEnabled`maxConcurrentIndexing`maxFileSize`searchTimeout`noHighlightExtensions`maxPreviewLines`maxMatchLines`maxFragments`pageSize`commitHashBoost`commitSubjectBoost`commitBodyBoost`fileNameBoost);" is 247.,179
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,RepositorySettingsServlet,RepositorySettingsServlet,Long Parameter List,The method has 7 parameters. ,58
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,RepositorySettingsServlet,verifyLoggedIn,Long Statement,The length of the statement "resp.sendRedirect(propertiesService.getLoginUri(URI.create(req.getRequestURL() + (req.getQueryString() == null ? "" : "?" + req.getQueryString()))).toASCIIString());" is 165.,76
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,RepositorySettingsServlet,verifyRepoAdmin,Long Statement,The length of the statement "log.warn("User {} is not a repo administrator of {}/{}"`req.getRemoteUser()`repository.getProject().getKey()`repository.getSlug());" is 131.,94
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,RepositorySettingsServlet,renderPage,Long Parameter List,The method has 5 parameters. ,107
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,RepositorySettingsServlet,renderPage,Long Statement,The length of the statement "ImmutableMap<String`Object> data=new ImmutableMap.Builder<String`Object>().put("repository"`repository).put("settings"`repositorySettings).put("errors"`errors).build();" is 168.,107
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,RepositorySettingsServlet,renderPage,Long Statement,The length of the statement "soyTemplateRenderer.render(resp.getWriter()`"com.palantir.stash.stash-code-search:codesearch-soy"`"plugin.page.codesearch.repositorySettingsPage"`data);" is 152.,107
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,RepositorySettingsServlet,doPost,Long Statement,The length of the statement "log.info("User {} submitted an async reindex for {}^{}"`req.getRemoteUser()`repository.getProject().getKey()`repository.getSlug());" is 131.,143
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,RepositorySettingsServlet,getRepository,Magic Number,The method contains a magic number: 2,213
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,RepositorySettingsServlet,getRepository,Magic Number,The method contains a magic number: 2,213
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,SettingsManagerImpl,setGlobalSettings,Long Parameter List,The method has 13 parameters. ,43
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,SettingsManagerImpl,setGlobalSettings,Long Statement,The length of the statement "return ao.create(GlobalSettings.class`new DBParam("GLOBAL_SETTINGS_ID"`ID)`new DBParam("INDEXING_ENABLED"`indexingEnabled)`new DBParam("MAX_CONCURRENT_INDEXING"`maxConcurrentIndexing)`new DBParam("MAX_FILE_SIZE"`maxFileSize)`new DBParam("SEARCH_TIMEOUT"`searchTimeout)`new DBParam("NO_HIGHLIGHT_EXTENSIONS"`noHighlightExtensions)`new DBParam("MAX_PREVIEW_LINES"`maxPreviewLines)`new DBParam("MAX_MATCH_LINES"`maxMatchLines)`new DBParam("MAX_FRAGMENTS"`maxFragments)`new DBParam("PAGE_SIZE"`pageSize)`new DBParam("COMMIT_HASH_BOOST"`commitHashBoost)`new DBParam("COMMIT_SUBJECT_BOOST"`commitSubjectBoost)`new DBParam("COMMIT_BODY_BOOST"`commitBodyBoost)`new DBParam("FILE_NAME_BOOST"`fileNameBoost));" is 699.,43
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,SettingsManager,setGlobalSettings,Long Parameter List,The method has 13 parameters. ,13
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,GlobalSettingsServletTest,getTestWhenNotLoggedIn,Long Statement,The length of the statement "Mockito.doThrow(new AuthorisationException(new KeyedMessage("testException"`"testException"`"testException"))).when(pvs).validateAuthenticated();" is 145.,67
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,GlobalSettingsServletTest,getTestWhenNotSysAdmin,Long Statement,The length of the statement "Mockito.doThrow(new AuthorisationException(new KeyedMessage("testException"`"testException"`"testException"))).when(pvs).validateForGlobal(Permission.SYS_ADMIN);" is 161.,79
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,GlobalSettingsServletTest,getTest,Long Statement,The length of the statement "@SuppressWarnings({"unchecked"`"rawtypes"}) ArgumentCaptor<Map<String`Object>> mapCaptor=ArgumentCaptor.forClass((Class<Map<String`Object>>)(Class)Map.class);" is 158.,91
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,GlobalSettingsServletTest,getTest,Long Statement,The length of the statement "Mockito.verify(str).render(Mockito.eq(pw)`Mockito.eq("com.palantir.stash.stash-code-search:codesearch-soy")`Mockito.eq("plugin.page.codesearch.globalSettingsPage")`mapCaptor.capture());" is 185.,91
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,GlobalSettingsServletTest,postTest,Long Statement,The length of the statement "Mockito.verify(sm).setGlobalSettings(Mockito.eq(GlobalSettings.INDEXING_ENABLED_DEFAULT)`Mockito.eq(GlobalSettings.MAX_CONCURRENT_INDEXING_DEFAULT)`Mockito.eq(GlobalSettings.MAX_FILE_SIZE_DEFAULT)`Mockito.eq(GlobalSettings.SEARCH_TIMEOUT_DEFAULT)`Mockito.eq(GlobalSettings.NO_HIGHLIGHT_EXTENSIONS_DEFAULT)`Mockito.eq(GlobalSettings.MAX_PREVIEW_LINES_DEFAULT)`Mockito.eq(GlobalSettings.MAX_MATCH_LINES_DEFAULT)`Mockito.eq(GlobalSettings.MAX_FRAGMENTS_DEFAULT)`Mockito.eq(GlobalSettings.PAGE_SIZE_DEFAULT)`AdditionalMatchers.eq(GlobalSettings.COMMIT_HASH_BOOST_DEFAULT`1E-9)`AdditionalMatchers.eq(GlobalSettings.COMMIT_SUBJECT_BOOST_DEFAULT`1E-9)`AdditionalMatchers.eq(GlobalSettings.COMMIT_BODY_BOOST_DEFAULT`1E-9)`AdditionalMatchers.eq(GlobalSettings.FILE_NAME_BOOST_DEFAULT`1E-9));" is 782.,107
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,GlobalSettingsServletTest,postTest,Magic Number,The method contains a magic number: 1E-9,107
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,GlobalSettingsServletTest,postTest,Magic Number,The method contains a magic number: 1E-9,107
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,GlobalSettingsServletTest,postTest,Magic Number,The method contains a magic number: 1E-9,107
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.admin,GlobalSettingsServletTest,postTest,Magic Number,The method contains a magic number: 1E-9,107
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.elasticsearch,ElasticSearchImpl,ElasticSearchImpl,Magic Number,The method contains a magic number: 2,22
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.elasticsearch,RequestBuffer,RequestBuffer,Magic Number,The method contains a magic number: 500,26
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.validator,GitVersionValidator,validateVersion,Long Statement,The length of the statement "throw new IllegalStateException("Invalid Git Version '" + versionNumber + "'` must be equal to or greater than '"+ REQUIRED_GIT_VERSION_STRING+ "'");" is 149.,44
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch.validator,GitVersionValidator,validateVersion,Magic Number,The method contains a magic number: 2,44
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch,AtlassianPluginTest,testStringsInPluginXml,Complex Method,Cyclomatic complexity of the method is 12,65
palantir_stash-codesearch-plugin,com.palantir.stash.codesearch,AtlassianPluginTest,testStringsInPluginXml,Magic Number,The method contains a magic number: 4096,65
