Project Name,Package Name,Type Name,Method Name,Implementation Smell,Cause of the Smell,Method start line no
javers_javers,org.javers.spring.boot.sql,JaversSqlAutoConfiguration,javersSqlRepository,Long Statement,The length of the statement "return SqlRepositoryBuilder.sqlRepository().withSchema(javersSqlProperties.getSqlSchema()).withConnectionProvider(connectionProvider).withDialect(javersSqlDialectName()).withSchemaManagementEnabled(javersSqlProperties.isSqlSchemaManagementEnabled()).withGlobalIdCacheDisabled(javersSqlProperties.isSqlGlobalIdCacheDisabled()).withGlobalIdTableName(javersSqlProperties.getSqlGlobalIdTableName()).withCommitTableName(javersSqlProperties.getSqlCommitTableName()).withSnapshotTableName(javersSqlProperties.getSqlSnapshotTableName()).withCommitPropertyTableName(javersSqlProperties.getSqlCommitPropertyTableName()).build();" is 618.,76
javers_javers,org.javers.spring.boot.sql,JaversSqlAutoConfiguration,javers,Long Statement,The length of the statement "JaversBuilder javersBuilder=TransactionalJpaJaversBuilder.javers().withTxManager(transactionManager).registerJaversRepository(sqlRepository).withObjectAccessHook(javersSqlProperties.createObjectAccessHookInstance()).withProperties(javersSqlProperties);" is 252.,93
javers_javers,org.javers.spring.boot,TestApplication,javersBuilderPlugin,Magic Number,The method contains a magic number: 2,61
javers_javers,org.javers.spring,JaversSpringProperties,isSpringDataAuditableRepositoryAspectEnabled,Long Identifier,The length of the field springDataAuditableRepositoryAspectEnabled is 42.,18
javers_javers,org.javers.spring,JaversSpringProperties,setSpringDataAuditableRepositoryAspectEnabled,Long Identifier,The length of the parameter springDataAuditableRepositoryAspectEnabled is 42.,26
javers_javers,org.javers.spring,JaversSpringProperties,setSpringDataAuditableRepositoryAspectEnabled,Long Identifier,The length of the field springDataAuditableRepositoryAspectEnabled is 42.,26
javers_javers,org.javers.spring,JaversSpringProperties,createObjectAccessHookInstance,Long Statement,The length of the statement "throw new JaversException(JaversExceptionCode.CLASS_IS_NOT_INSTANCE_OF`objectAccessHook`ObjectAccessHook.class.getName());" is 122.,40
javers_javers,org.javers.spring.auditable.aspect,JaversCommitAdvice,commitShallowDelete,Long Statement,The length of the statement "javers.commitShallowDelete(author`domainObject`Maps.merge(commitPropertiesProvider.provideForDeletedObject(domainObject)`commitPropertiesProvider.provide()));" is 158.,96
javers_javers,org.javers.spring.auditable.aspect,JaversCommitAdvice,commitShallowDeleteById,Long Statement,The length of the statement "javers.commitShallowDeleteById(author`instanceId(domainObjectId`domainType)`Maps.merge(commitPropertiesProvider.provideForDeleteById(domainType`domainObjectId)`commitPropertiesProvider.provide()));" is 197.,104
javers_javers,org.javers.spring.auditable.aspect,JaversCommitAdvice,commitSaveMethodArgumentsAsync,Long Statement,The length of the statement "List<CompletableFuture<Commit>> futures=AspectUtil.collectArguments(pjp).stream().map(arg -> commitObjectAsync(arg)).collect(Collectors.toList());" is 146.,112
javers_javers,org.javers.spring.auditable.aspect.springdata,AbstractSpringAuditableRepositoryAspect,onSave,Long Statement,The length of the statement "getRepositoryInterface(pjp).ifPresent(i -> AspectUtil.collectReturnedObjects(returnedObject).forEach(javersCommitAdvice::commitObject));" is 136.,26
javers_javers,org.javers.spring.boot.mongo,JaversDedicatedMongoFactory,createMongoDatabase,Long Statement,The length of the statement "Builder clientBuilder=mongoClientSettings.map(s -> MongoClientSettings.builder(s)).orElse(MongoClientSettings.builder());" is 121.,27
javers_javers,org.javers.spring.boot.mongo,JaversDedicatedMongoFactory,getCredentials,Long Statement,The length of the statement "String database=properties.getMongodb().getAuthenticationDatabase() != null ? properties.getMongodb().getAuthenticationDatabase() : properties.getMongodb().getDatabase();" is 170.,63
javers_javers,org.javers.spring.boot.mongo,JaversMongoProperties,isDocumentDbCompatibilityEnabled,Long Identifier,The length of the field documentDbCompatibilityEnabled is 30.,21
javers_javers,org.javers.spring.boot.mongo,JaversMongoProperties,setDocumentDbCompatibilityEnabled,Long Identifier,The length of the parameter documentDbCompatibilityEnabled is 30.,25
javers_javers,org.javers.spring.boot.mongo,JaversMongoProperties,setDocumentDbCompatibilityEnabled,Long Identifier,The length of the field documentDbCompatibilityEnabled is 30.,25
javers_javers,org.javers.spring.boot.mongo,JaversMongoAutoConfiguration,javers,Long Statement,The length of the statement "JaversBuilder javersBuilder=TransactionalMongoJaversBuilder.javers().registerJaversRepository(javersRepository).withTxManager(mongoTransactionManager.orElse(null)).withProperties(javersMongoProperties).withObjectAccessHook(javersMongoProperties.createObjectAccessHookInstance());" is 279.,76
javers_javers,org.javers.spring.boot.mongo,JaversMongoAutoConfiguration,initJaversMongoDatabase,Long Statement,The length of the statement "logger.info("connecting Javers to primary Mongo database '{}' configured in spring.data.mongodb properties"`mongoDatabase.getName());" is 133.,104
javers_javers,org.javers.spring.boot.mongo,JaversMongoAutoConfiguration,initJaversMongoDatabase,Long Statement,The length of the statement "logger.info("connecting Javers to dedicated Mongo database '{}' configured in javers.mongodb properties"`mongoDatabase.getName());" is 130.,104
javers_javers,org.javers.spring.boot.mongo,TestApplication,javersBuilderPlugin,Magic Number,The method contains a magic number: 2,68
javers_javers,org.javers.hibernate.integration,HibernateUnproxyObjectAccessHook,fromLazyInitializer,Long Statement,The length of the statement "return Optional.of(new ObjectAccessProxy(() -> lazyInitializer.getImplementation()`lazyInitializer.getPersistentClass()`lazyInitializer.getIdentifier()));" is 154.,27
javers_javers,org.javers.spring.jpa,TransactionalJpaJaversBuilder,build,Long Statement,The length of the statement "Javers javersTransactional=new JaversTransactionalJpaDecorator(javersCore`getContainerComponent(JaversSqlRepository.class)`txManager);" is 134.,28
javers_javers,org.javers.spring.jpa,JaversTransactionalJpaDecorator,registerRollbackListener,Long Statement,The length of the statement "if (TransactionSynchronizationManager.isSynchronizationActive() && TransactionSynchronizationManager.isActualTransactionActive()) {" is 131.,70
javers_javers,org.javers.spring.example,JaversSpringJpaApplicationConfigExample,javers,Long Statement,The length of the statement "JaversSqlRepository sqlRepository=SqlRepositoryBuilder.sqlRepository().withConnectionProvider(jpaConnectionProvider()).withDialect(DialectName.H2).build();" is 155.,46
javers_javers,org.javers.spring.example,JaversSpringJpaApplicationConfigExample,javers,Long Statement,The length of the statement "return TransactionalJpaJaversBuilder.javers().withTxManager(txManager).withObjectAccessHook(new HibernateUnproxyObjectAccessHook()).registerJaversRepository(sqlRepository).build();" is 180.,46
javers_javers,org.javers.repository.mongo,MongoRepository,mongoRepositoryWithDocumentDBCompatibility,Long Statement,The length of the statement "return new MongoRepository(mongo`mongoRepositoryConfiguration().withDialect(DOCUMENT_DB).withCacheSize(cacheSize).build());" is 123.,55
javers_javers,org.javers.repository.mongo,MongoRepository,getSnapshots,Long Statement,The length of the statement "return snapshotIdentifiers.isEmpty() ? Collections.<CdoSnapshot>emptyList() : queryForSnapshots(createSnapshotIdentifiersQuery(snapshotIdentifiers)`Optional.<QueryParams>empty());" is 179.,128
javers_javers,org.javers.repository.mongo,MongoRepository,createSnapshotIdentifiersQuery,Long Statement,The length of the statement "List<Bson> descFilters=snapshotIdentifiers.stream().map(snapshotIdentifier -> Filters.and(createIdQuery(snapshotIdentifier.getGlobalId())`createVersionQuery(snapshotIdentifier.getVersion()))).collect(toImmutableList());" is 219.,186
javers_javers,org.javers.repository.mongo,MongoRepository,applyQueryParams,Complex Method,Cyclomatic complexity of the method is 14,278
javers_javers,org.javers.repository.mongo,MongoRepository,applyQueryParams,Long Statement,The length of the statement "query=Filters.and(query`Filters.lte(COMMIT_ID`params.toCommitId().get().valueAsNumber().doubleValue() + COMMIT_ID_PRECISION));" is 126.,278
javers_javers,org.javers.repository.mongo,MongoRepository,applyQueryParams,Long Statement,The length of the statement "query=Filters.and(query`Filters.or(params.changedProperties().stream().map(it -> new BasicDBObject(CHANGED_PROPERTIES`it)).collect(Collectors.toList())));" is 154.,278
javers_javers,org.javers.repository.mongo,MongoRepository,commitIdFilter,Long Statement,The length of the statement "return Filters.and(Filters.gte(COMMIT_ID`commitId.valueAsNumber().doubleValue() - COMMIT_ID_PRECISION)`Filters.lte(COMMIT_ID`commitId.valueAsNumber().doubleValue() + COMMIT_ID_PRECISION));" is 188.,325
javers_javers,org.javers.repository.mongo,MongoRepository,addCommitPropertiesFilter,Long Statement,The length of the statement "List<Bson> propertyFilters=commitProperties.entrySet().stream().map(commitProperty -> new BasicDBObject(COMMIT_PROPERTIES`new BasicDBObject("$elemMatch"`new BasicDBObject("key"`commitProperty.getKey()).append("value"`new BasicDBObject("$in"`commitProperty.getValue()))))).collect(toImmutableList());" is 299.,346
javers_javers,org.javers.repository.mongo,MongoRepository,addCommitPropertiesLikeFilter,Long Statement,The length of the statement "List<Bson> propertyFilters=commitProperties.entrySet().stream().map(commitProperty -> new BasicDBObject(COMMIT_PROPERTIES`new BasicDBObject("$elemMatch"`new BasicDBObject("key"`commitProperty.getKey()).append("value"`new BasicDBObject("$regex"`commitProperty.getValue()))))).collect(toImmutableList());" is 302.,356
javers_javers,org.javers.repository.mongo,MongoRepositoryConfiguration,getSnapshotCollectionName,Long Identifier,The length of the field DEFAULT_SNAPSHOT_COLLECTION_NAME is 32.,22
javers_javers,org.javers.repository.mongo,DocumentConverter,fromJsonElement,Complex Method,Cyclomatic complexity of the method is 10,33
javers_javers,org.javers.repository.mongo,DocumentConverter,createJsonElement,Complex Method,Cyclomatic complexity of the method is 9,78
javers_javers,org.javers.repository.mongo,MongoSchemaManager,ensureSchema,Long Statement,The length of the statement "snapshots.createIndex(new BasicDBObject(COMMIT_PROPERTIES + ".key"`ASC).append(COMMIT_PROPERTIES + ".value"`ASC)`new IndexOptions().name(COMMIT_PROPERTIES_INDEX_NAME));" is 168.,48
javers_javers,org.javers.repository.mongo,MongoSchemaManager,ensureSchema,Long Statement,The length of the statement "Document update=new Document("eval"`"function() { \n" + " db." + snapshotCollectionName + ".find().forEach( \n"+ " function(snapshot) { \n"+ " snapshot.commitMetadata.id = Number(snapshot.commitMetadata.id); \n"+ " db."+ snapshotCollectionName+ ".save(snapshot); } \n"+ " ); "+ " return 'ok'; \n"+ "}");" is 303.,48
javers_javers,org.javers.spring.mongodb,DBRefUnproxyObjectAccessHook,createAccessor,Long Statement,The length of the statement "return Optional.of(new ObjectAccessProxy(() -> proxy.getTarget()`proxy.getTarget().getClass()`proxy.toDBRef().getId().toString()));" is 131.,10
javers_javers,org.javers.spring.mongodb,TransactionalMongoJaversBuilder,build,Long Statement,The length of the statement "logger.info("creating Javers' MongoRepository without multi-document transactions support` " + "as there is no MongoTransactionManager provided");" is 146.,56
javers_javers,org.javers.spring.mongodb.example,JaversSpringMongoApplicationConfigExample,javers,Long Statement,The length of the statement "return TransactionalMongoJaversBuilder.javers().registerJaversRepository(new MongoRepository(mongo())).withTxManager(mongoTransactionManager.orElse(null)).build();" is 163.,44
javers_javers,org.javers.spring.mongodb.example,JaversSpringMongoApplicationConfigExample,javersAsyncAuditExecutor,Magic Number,The method contains a magic number: 2,115
javers_javers,org.javers.repository.sql,SqlRepositoryConfiguration,SqlRepositoryConfiguration,Long Parameter List,The method has 7 parameters. ,20
javers_javers,org.javers.repository.sql,SqlRepositoryBuilder,build,Long Statement,The length of the statement "SqlRepositoryConfiguration config=new SqlRepositoryConfiguration(globalIdCacheDisabled`schemaName`schemaManagementEnabled`globalIdTableName`commitTableName`snapshotTableName`commitPropertyTableName);" is 199.,107
javers_javers,org.javers.repository.sql,SqlRepositoryBuilder,build,Long Statement,The length of the statement "PolyJDBC polyJDBC=PolyJDBCBuilder.polyJDBC(dialectName.getPolyDialect()`config.getSchemaName()).usingManagedConnections(() -> connectionProvider.getConnection()).build();" is 170.,107
javers_javers,org.javers.repository.sql,JaversSqlRepository,JaversSqlRepository,Long Parameter List,The method has 7 parameters. ,41
javers_javers,org.javers.repository.sql,JaversSqlRepository,getLatest,Long Statement,The length of the statement "return globalIds.stream().map(id -> finder.getLatest(id`session`false)).filter(it -> it.isPresent()).map(it -> it.get()).collect(Collectors.toList());" is 150.,64
javers_javers,org.javers.repository.sql,JaversSqlRepository,persist,Long Statement,The length of the statement "long commitPk=commitRepository.save(commit.getAuthor()`commit.getProperties()`commit.getCommitDate()`commit.getCommitDateInstant()`commit.getId()`session);" is 155.,83
javers_javers,org.javers.repository.sql.schema,TableNameProvider,getCommitPropertyTableName,Long Identifier,The length of the field DEFAULT_COMMIT_PROPERTY_TABLE_NAME is 34.,77
javers_javers,org.javers.repository.sql.schema,JaversSchemaManager,JaversSchemaManager,Long Parameter List,The method has 5 parameters. ,34
javers_javers,org.javers.repository.sql.schema,JaversSchemaManager,addCommitDateInstantColumnIfNeeded,Magic Number,The method contains a magic number: 30,67
javers_javers,org.javers.repository.sql.schema,JaversSchemaManager,addCommitDateInstantColumnIfNeeded,Magic Number,The method contains a magic number: 30,67
javers_javers,org.javers.repository.sql.schema,JaversSchemaManager,alterMySqlCommitDateColumn,Magic Number,The method contains a magic number: 19,78
javers_javers,org.javers.repository.sql.schema,JaversSchemaManager,alterCommitIdColumnIfNeeded,Magic Number,The method contains a magic number: 12,103
javers_javers,org.javers.repository.sql.schema,JaversSchemaManager,handleUnsupportedDialect,Long Statement,The length of the statement "logger.error("\nno DB schema migration script for {} :(\nplease contact with JaVers team` javers@javers.org"`dialect.getCode());" is 128.,147
javers_javers,org.javers.repository.sql.schema,JaversSchemaManager,relationExists,Long Statement,The length of the statement "ResultSet resultSet=metadata.getTables(catalog`convertCase(schemaName`metadata)`convertCase(name`metadata)`new String[]{"TABLE"});" is 130.,231
javers_javers,org.javers.repository.sql.schema,JaversSchemaManager,relationExists,Long Statement,The length of the statement "while (tableSchemaName != null && !tableSchemaName.equalsIgnoreCase("public") && !tableSchemaName.equals("") && (!(this.dialect instanceof MsSqlDialect) || !tableSchemaName.equalsIgnoreCase("dbo")) && (!(this.dialect instanceof OracleDialect) || !tableSchemaName.equalsIgnoreCase("system")));" is 292.,231
javers_javers,org.javers.repository.sql.schema,JaversSchemaManager,relationExists,Long Statement,The length of the statement "throw new SchemaInspectionException("RELATION_LOOKUP_ERROR"`"Failed to obtain tables metadata when checking table " + name`var4);" is 129.,231
javers_javers,org.javers.repository.sql.schema,JaversSchemaManager,addIndex,Long Statement,The length of the statement "String ddl=IndexBuilder.index(dialect`indexName).indexing(indexedCols.indexedColNames()).on(tableName.nameWithSchema()).build().ddl();" is 134.,328
javers_javers,org.javers.repository.sql.schema,FixedSchemaFactory,snapshotTableSchema,Long Statement,The length of the statement "relationBuilder.withAttribute().string(SNAPSHOT_TYPE).withMaxLength(200).and().withAttribute().longAttr(SNAPSHOT_VERSION).and().withAttribute().text(SNAPSHOT_STATE).and().withAttribute().text(SNAPSHOT_CHANGED).and().withAttribute().string(SNAPSHOT_MANAGED_TYPE).withMaxLength(200).and();" is 287.,65
javers_javers,org.javers.repository.sql.schema,FixedSchemaFactory,snapshotTableSchema,Magic Number,The method contains a magic number: 200,65
javers_javers,org.javers.repository.sql.schema,FixedSchemaFactory,snapshotTableSchema,Magic Number,The method contains a magic number: 200,65
javers_javers,org.javers.repository.sql.schema,FixedSchemaFactory,commitTableSchema,Long Statement,The length of the statement "relationBuilder.withAttribute().string(COMMIT_AUTHOR).withMaxLength(200).and().withAttribute().timestamp(COMMIT_COMMIT_DATE).and().withAttribute().string(COMMIT_COMMIT_DATE_INSTANT).withMaxLength(30).and().withAttribute().number(COMMIT_COMMIT_ID).withIntegerPrecision(22).withDecimalPrecision(2).and().build();" is 310.,85
javers_javers,org.javers.repository.sql.schema,FixedSchemaFactory,commitTableSchema,Magic Number,The method contains a magic number: 200,85
javers_javers,org.javers.repository.sql.schema,FixedSchemaFactory,commitTableSchema,Magic Number,The method contains a magic number: 30,85
javers_javers,org.javers.repository.sql.schema,FixedSchemaFactory,commitTableSchema,Magic Number,The method contains a magic number: 22,85
javers_javers,org.javers.repository.sql.schema,FixedSchemaFactory,commitTableSchema,Magic Number,The method contains a magic number: 2,85
javers_javers,org.javers.repository.sql.schema,FixedSchemaFactory,commitPropertiesTableSchema,Long Statement,The length of the statement "relationBuilder.primaryKey(tableName.localName() + "_pk").using(COMMIT_PROPERTY_COMMIT_FK`COMMIT_PROPERTY_NAME).and().withAttribute().string(COMMIT_PROPERTY_NAME).withMaxLength(MAX_INDEX_KEY_LEN_IN_MYSQL).notNull().and().withAttribute().string(COMMIT_PROPERTY_VALUE).withMaxLength(600).and();" is 292.,102
javers_javers,org.javers.repository.sql.schema,FixedSchemaFactory,commitPropertiesTableSchema,Long Statement,The length of the statement "columnsIndex(tableName`schema`new IndexedCols(new String[]{COMMIT_PROPERTY_NAME`COMMIT_PROPERTY_VALUE}`new int[]{0`MAX_INDEX_KEY_LEN_IN_MYSQL}));" is 145.,102
javers_javers,org.javers.repository.sql.schema,FixedSchemaFactory,commitPropertiesTableSchema,Magic Number,The method contains a magic number: 600,102
javers_javers,org.javers.repository.sql.schema,FixedSchemaFactory,globalIdTableSchema,Long Statement,The length of the statement "relationBuilder.withAttribute().string(GLOBAL_ID_LOCAL_ID).withMaxLength(MAX_INDEX_KEY_LEN_IN_MYSQL).and().withAttribute().string(GLOBAL_ID_FRAGMENT).withMaxLength(200).and().withAttribute().string(GLOBAL_ID_TYPE_NAME).withMaxLength(200).and();" is 244.,128
javers_javers,org.javers.repository.sql.schema,FixedSchemaFactory,globalIdTableSchema,Magic Number,The method contains a magic number: 200,128
javers_javers,org.javers.repository.sql.schema,FixedSchemaFactory,globalIdTableSchema,Magic Number,The method contains a magic number: 200,128
javers_javers,org.javers.repository.sql.schema,FixedSchemaFactory,foreignKey,Complex Conditional,The conditional expression isPartOfPrimaryKey && (dialect instanceof DB2Dialect || dialect instanceof DB2400Dialect) is complex.,152
javers_javers,org.javers.repository.sql.schema,FixedSchemaFactory,foreignKey,Long Parameter List,The method has 6 parameters. ,152
javers_javers,org.javers.repository.sql.schema,FixedSchemaFactory,foreignKey,Long Statement,The length of the statement "longAttributeBuilder.and().foreignKey(tableName.localName() + "_" + fkColName).on(fkColName).references(targetTableName`targetPkColName).and();" is 143.,152
javers_javers,org.javers.repository.sql.schema,FixedSchemaFactory,primaryKey,Long Statement,The length of the statement "relationBuilder.withAttribute().longAttr(pkColName).withAdditionalModifiers("AUTO_INCREMENT").notNull().and().primaryKey("jv_" + pkColName).using(pkColName).and();" is 163.,190
javers_javers,org.javers.repository.sql.finders,CdoSnapshotFinder,getSnapshots,Long Statement,The length of the statement "List<SnapshotDbIdentifier> snapshotIdentifiersWithPk=snapshotIdentifiers.stream().map(si -> globalIdRepository.findGlobalIdPk(si.getGlobalId()`session).map(id -> new SnapshotDbIdentifier(si`id))).filter(Optional::isPresent).map(Optional::get).collect(toList());" is 261.,59
javers_javers,org.javers.repository.sql.finders,CdoSnapshotFinder,getStateHistory,Long Statement,The length of the statement "return globalIdPk.map(idPk -> fetchCdoSnapshots(q -> q.addGlobalIdFilter(idPk)`queryParams`session)).orElse(Collections.emptyList());" is 133.,81
javers_javers,org.javers.repository.sql.finders,CdoSnapshotFinder,fetchCdoSnapshots,Long Statement,The length of the statement "List<CommitPropertyDTO> commitPropertyDTOs=commitPropertyFinder.findCommitPropertiesOfSnaphots(serializedSnapshots.stream().map(it -> it.getCommitPk()).collect(toList())`session);" is 179.,88
javers_javers,org.javers.repository.sql.finders,CdoSnapshotFinder,fetchCdoSnapshots,Long Statement,The length of the statement "return Lists.transform(serializedSnapshots`serializedSnapshot -> jsonConverter.fromSerializedSnapshot(serializedSnapshot));" is 123.,88
javers_javers,org.javers.repository.sql.finders,CdoSnapshotFinder,selectMaxSnapshotPrimaryKey,Long Statement,The length of the statement "Optional<Long> maxPrimaryKey=session.select("MAX(" + SNAPSHOT_PK + ")").from(tableNameProvider.getSnapshotTableNameWithSchema()).and(SNAPSHOT_GLOBAL_ID_FK`globalIdPk).queryName("select max snapshot's PK").queryForOptionalLong();" is 228.,104
javers_javers,org.javers.repository.sql.finders,CommitPropertyFinder,findCommitPropertiesOfSnaphots,Long Statement,The length of the statement "return session.select(COMMIT_PROPERTY_COMMIT_FK + "` " + COMMIT_PROPERTY_NAME+ "` "+ COMMIT_PROPERTY_VALUE).from(tableNameProvider.getCommitPropertyTableNameWithSchema()).queryName("commit properties").and(COMMIT_PROPERTY_COMMIT_FK + " in (" + Joiner.on("`").join(commitPKs)+ ")").executeQuery(resultSet -> new CommitPropertyDTO(resultSet.getLong(COMMIT_PROPERTY_COMMIT_FK)`resultSet.getString(COMMIT_PROPERTY_NAME)`resultSet.getString(COMMIT_PROPERTY_VALUE)));" is 461.,21
javers_javers,org.javers.repository.sql.finders,SnapshotQuery,SnapshotQuery,Long Statement,The length of the statement "this.selectBuilder=session.select(SNAPSHOT_STATE + "` " + SNAPSHOT_TYPE+ "` "+ SNAPSHOT_VERSION+ "` "+ SNAPSHOT_CHANGED+ "` "+ SNAPSHOT_MANAGED_TYPE+ "` "+ COMMIT_PK+ "` "+ COMMIT_AUTHOR+ "` "+ COMMIT_COMMIT_DATE+ "` "+ COMMIT_COMMIT_DATE_INSTANT+ "` "+ COMMIT_COMMIT_ID+ "` "+ "g."+ GLOBAL_ID_LOCAL_ID+ "` "+ "g."+ GLOBAL_ID_FRAGMENT+ "` "+ "g."+ GLOBAL_ID_OWNER_ID_FK+ "` "+ "o."+ GLOBAL_ID_LOCAL_ID+ " owner_"+ GLOBAL_ID_LOCAL_ID+ "` "+ "o."+ GLOBAL_ID_FRAGMENT+ " owner_"+ GLOBAL_ID_FRAGMENT+ "` "+ "o."+ GLOBAL_ID_TYPE_NAME+ " owner_"+ GLOBAL_ID_TYPE_NAME).from(tableNames.getSnapshotTableNameWithSchema() + " INNER JOIN " + tableNames.getCommitTableNameWithSchema()+ " ON "+ COMMIT_PK+ " = "+ SNAPSHOT_COMMIT_FK+ " INNER JOIN "+ tableNames.getGlobalIdTableNameWithSchema()+ " g ON g."+ GLOBAL_ID_PK+ " = "+ SNAPSHOT_GLOBAL_ID_FK+ " LEFT OUTER JOIN "+ tableNames.getGlobalIdTableNameWithSchema()+ " o ON o."+ GLOBAL_ID_PK+ " = g."+ GLOBAL_ID_OWNER_ID_FK).queryName("snapshots");" is 983.,30
javers_javers,org.javers.repository.sql.finders,SnapshotQuery,applyQueryParams,Long Statement,The length of the statement "selectBuilder.append("AND (" + queryParams.changedProperties().stream().map(it -> SNAPSHOT_CHANGED + " LIKE '%" + it+ "%'").collect(Collectors.joining(" OR ")) + ")");" is 167.,64
javers_javers,org.javers.repository.sql.finders,SnapshotQuery,applyQueryParams,Long Statement,The length of the statement "selectBuilder.and(COMMIT_COMMIT_ID + " IN (" + queryParams.commitIds().stream().map(c -> c.valueAsNumber().toString()).collect(Collectors.joining("`"))+ ")");" is 158.,64
javers_javers,org.javers.repository.sql.finders,SnapshotQuery,addGlobalIdFilter,Long Statement,The length of the statement "selectBuilder.and("( g." + GLOBAL_ID_PK + " = ? OR g."+ GLOBAL_ID_OWNER_ID_FK+ " = ? )"`longParam(globalIdPk)`longParam(globalIdPk));" is 133.,125
javers_javers,org.javers.repository.sql.finders,SnapshotQuery,addSnapshotIdentifiersFilter,Long Statement,The length of the statement "snapshotDbIdentifiers.forEach(si -> selectBuilder.append("(" + SNAPSHOT_GLOBAL_ID_FK + " = ? AND "+ SNAPSHOT_VERSION+ " = ?) OR"`longParam(si.getGlobalIdPk())`longParam(si.getVer())));" is 184.,136
javers_javers,org.javers.repository.sql.finders,SnapshotQuery,addVoOwnerEntityFilter,Long Statement,The length of the statement "selectBuilder.and("o." + GLOBAL_ID_TYPE_NAME + " = ?"`Parameter.stringParam(ownerTypeName)).and("g." + GLOBAL_ID_FRAGMENT + " = ?"`Parameter.stringParam(fragment));" is 164.,148
javers_javers,org.javers.repository.sql.finders,SnapshotQuery,addManagedTypesFilter,Long Statement,The length of the statement "selectBuilder.and("( " + basePredicate + " OR g.owner_id_fk in ( "+ " select g1."+ GLOBAL_ID_PK+ " from "+ snapshotTableName()+ " s1 "+ " INNER JOIN "+ globalIdTableName()+ " g1 ON g1."+ GLOBAL_ID_PK+ "= s1."+ SNAPSHOT_GLOBAL_ID_FK+ " and s1."+ basePredicate+ ")"+ ")");" is 270.,153
javers_javers,org.javers.repository.sql.finders,SnapshotQuery,addCommitPropertyFilter,Long Statement,The length of the statement "selectBuilder.and("EXISTS (" + " SELECT * FROM " + commitPropertyTableName() + " WHERE "+ COMMIT_PROPERTY_COMMIT_FK+ " = "+ COMMIT_PK+ " AND "+ COMMIT_PROPERTY_NAME+ " = ?"+ " AND "+ COMMIT_PROPERTY_VALUE+ " IN ( "+ nMarks+ "))"`stringParam(propertyName)`listParam(propertyValue));" is 281.,176
javers_javers,org.javers.repository.sql.finders,SnapshotQuery,addCommitPropertyLikeFilter,Long Statement,The length of the statement "selectBuilder.and("EXISTS (" + " SELECT * FROM " + commitPropertyTableName() + " WHERE "+ COMMIT_PROPERTY_COMMIT_FK+ " = "+ COMMIT_PK+ " AND "+ COMMIT_PROPERTY_NAME+ " = ?"+ " AND "+ COMMIT_PROPERTY_VALUE+ " LIKE ?)"`stringParam(propertyName)`stringParam("%" + propertyValue + "%"));" is 283.,189
javers_javers,org.javers.repository.sql.repositories,GlobalIdRepository,findGlobalIdPkInDB,Long Statement,The length of the statement "select.and(GLOBAL_ID_FRAGMENT`valueObjectId.getFragment()).and(GLOBAL_ID_OWNER_ID_FK`ownerFk.get()).queryName("find PK of valueObjectId");" is 138.,68
javers_javers,org.javers.repository.sql.repositories,GlobalIdRepository,findGlobalIdPkInDB,Long Statement,The length of the statement "select.and(GLOBAL_ID_LOCAL_ID`jsonConverter.toJson(((InstanceId)globalId).getCdoId())).and(GLOBAL_ID_TYPE_NAME`globalId.getTypeName()).queryName("find PK of InstanceId");" is 170.,68
javers_javers,org.javers.repository.sql.repositories,GlobalIdRepository,insert,Long Statement,The length of the statement "insert=session.insert("InstanceId").value(GLOBAL_ID_TYPE_NAME`globalId.getTypeName()).value(GLOBAL_ID_LOCAL_ID`jsonConverter.toJson(((InstanceId)globalId).getCdoId()));" is 168.,95
javers_javers,org.javers.repository.sql.repositories,GlobalIdRepository,insert,Long Statement,The length of the statement "return insert.into(getGlobalIdTableNameWithSchema()).sequence(GLOBAL_ID_PK`getGlobalIdPkSeqName().nameWithSchema()).executeAndGetSequence();" is 140.,95
javers_javers,org.javers.repository.sql.repositories,CommitMetadataRepository,save,Long Parameter List,The method has 6 parameters. ,27
javers_javers,org.javers.repository.sql.repositories,CommitMetadataRepository,save,Long Statement,The length of the statement "long commitPk=session.insert("Commit").into(getCommitTableNameWithSchema()).value(COMMIT_AUTHOR`author).value(COMMIT_COMMIT_DATE`date).value(COMMIT_COMMIT_DATE_INSTANT`UtilTypeCoreAdapters.serialize(dateInstant)).value(COMMIT_COMMIT_ID`commitId.valueAsNumber()).sequence(COMMIT_PK`getCommitPkSeqName().nameWithSchema()).executeAndGetSequence();" is 344.,27
javers_javers,org.javers.repository.sql.repositories,CommitMetadataRepository,insertCommitProperties,Long Statement,The length of the statement "session.insert("CommitProperty").into(getCommitPropertyTableNameWithSchema()).value(COMMIT_PROPERTY_COMMIT_FK`commitPk).value(COMMIT_PROPERTY_NAME`property.getKey()).value(COMMIT_PROPERTY_VALUE`property.getValue()).execute();" is 225.,41
javers_javers,org.javers.repository.sql.repositories,CommitMetadataRepository,isCommitPersisted,Long Statement,The length of the statement "long count=session.select("count(*)").from(getCommitTableNameWithSchema()).and(COMMIT_COMMIT_ID`commitId.valueAsNumber()).queryForLong("isCommitPersisted");" is 156.,52
javers_javers,org.javers.repository.sql.repositories,CommitMetadataRepository,selectMaxCommitId,Long Statement,The length of the statement "return session.select("MAX(" + COMMIT_COMMIT_ID + ")").from(getCommitTableNameWithSchema()).queryForOptionalBigDecimal("max CommitId");" is 135.,72
javers_javers,org.javers.repository.sql.repositories,CdoSnapshotRepository,save,Long Statement,The length of the statement "session.insert("Snapshot").into(getSnapshotTableNameWithSchema()).value(SNAPSHOT_TYPE`cdoSnapshot.getType().toString()).value(SNAPSHOT_GLOBAL_ID_FK`globalIdPk).value(SNAPSHOT_COMMIT_FK`commitIdPk).value(SNAPSHOT_VERSION`cdoSnapshot.getVersion()).value(SNAPSHOT_STATE`jsonConverter.toJson(cdoSnapshot.getState())).value(SNAPSHOT_CHANGED`jsonConverter.toJson(cdoSnapshot.getChanged())).value(SNAPSHOT_MANAGED_TYPE`cdoSnapshot.getManagedType().getName()).sequence(SNAPSHOT_PK`getSnapshotTablePkSeqName().nameWithSchema()).execute();" is 529.,23
javers_javers,org.javers.repository.sql.session,Sequence,nextValue,Long Statement,The length of the statement "long currentSequenceValue=session.executeQueryForLong(new Select("SELECT next from seq " + sequenceName`sequenceGenerator.nextFromSequenceAsSelect(sequenceName)));" is 163.,25
javers_javers,org.javers.repository.sql.session,Sequence,nextLocalValue,Long Statement,The length of the statement "throw new SequenceLimitReachedException("Sequence " + sequenceName + " has reached its limit of "+ currentLimit+ ". "+ "Before fetching value` check if recalculation is needed using recalculationNeeded() method.");" is 214.,35
javers_javers,org.javers.repository.sql.session,Session,executeInsertAndGetSequence,Long Parameter List,The method has 5 parameters. ,42
javers_javers,org.javers.repository.sql.session,Session,executeInsertAndGetSequence,Long Statement,The length of the statement "Insert insertQuery=new Insert(queryName`Lists.add(parameters`new Parameter.LongParameter(primaryKeyFieldName`newId))`tableName);" is 128.,42
javers_javers,org.javers.repository.sql.session,Session,executeInsert,Long Parameter List,The method has 5 parameters. ,65
javers_javers,org.javers.repository.sql.session,Session,executeInsert,Long Statement,The length of the statement "Insert insertQuery=new Insert(queryName`Lists.add(parameters`new Parameter.InlinedParameter(primaryKeyFieldName`nextFromSequenceExpression + " * 100"))`tableName);" is 163.,65
javers_javers,org.javers.repository.sql.session,Session,logStats,Long Statement,The length of the statement "logger.trace("SQL session '" + sessionName + "' finished. {} statement(s) executed in {} millis."`statementExecutors.values().stream().mapToInt(i -> i.getExecutionCount()).sum()`statementExecutors.values().stream().mapToLong(i -> i.getExecutionTotalMillis()).sum());" is 266.,127
javers_javers,org.javers.repository.sql.session,PreparedStatementExecutor,printStats,Long Statement,The length of the statement "return ToStringBuilder.rPad(queryName`32) + " executed " + executionCount+ " time(s) in "+ executionTotalMillis+ " millis` SQL: "+ rawSql;" is 138.,132
javers_javers,org.javers.repository.sql.session,PreparedStatementExecutor,printStats,Magic Number,The method contains a magic number: 32,132
javers_javers,org.javers.repository.sql.session,Query,findParameter,Long Statement,The length of the statement "return params.stream().filter(it -> it.getName().equals(name)).findFirst().orElseThrow(() -> new JaversException(JaversExceptionCode.RUNTIME_EXCEPTION`"parameter '" + name + "' not found in raw SQL '"+ rawSQL+ "'"));" is 216.,43
javers_javers,org.javers.repository.inmemory,InMemoryRepository,applyQueryParams,Complex Method,Cyclomatic complexity of the method is 9,122
javers_javers,org.javers.repository.inmemory,InMemoryRepository,filterSnapshotsByCommitDate,Long Statement,The length of the statement "return Lists.positiveFilter(snapshots`snapshot -> isDateInRange(queryParams`snapshot.getCommitMetadata().getCommitDate()));" is 123.,164
javers_javers,org.javers.repository.inmemory,InMemoryRepository,filterSnapshotsByCommitDateInstant,Long Statement,The length of the statement "return Lists.positiveFilter(snapshots`snapshot -> isInstantInRange(queryParams`snapshot.getCommitMetadata().getCommitDateInstant()));" is 133.,179
javers_javers,org.javers.repository.inmemory,InMemoryRepository,filterSnapshotsByCommitProperties,Long Statement,The length of the statement "return actualCommitProperties.containsKey(commitProperty.getKey()) && commitProperty.getValue().contains(actualCommitProperties.get(commitProperty.getKey()));" is 158.,194
javers_javers,org.javers.repository.inmemory,InMemoryRepository,filterSnapshotsByCommitPropertiesLike,Long Statement,The length of the statement "return actualCommitProperties.containsKey(commitProperty.getKey()) && actualCommitProperties.get(commitProperty.getKey()).contains(commitProperty.getValue());" is 158.,204
javers_javers,org.javers.repository.inmemory,InMemoryRepository,getPersistedIdentifiers,Long Statement,The length of the statement "return Lists.positiveFilter(new ArrayList<>(snapshotIdentifiers)`snapshotIdentifier -> contains(snapshotIdentifier.getGlobalId()) && snapshotIdentifier.getVersion() <= readSnapshots(snapshotIdentifier.getGlobalId()).size());" is 224.,246
javers_javers,org.javers.repository.jql,VoOwnerFilter,matches,Long Statement,The length of the statement "return valueObjectId.getOwnerId().getTypeName().equals(ownerEntity.getName()) && valueObjectId.getFragment().equals(path);" is 122.,29
javers_javers,org.javers.repository.jql,JqlQuery,validate,Long Statement,The length of the statement "throw new JaversException(JaversExceptionCode.MALFORMED_JQL`"toCommitId() filter can be used only with CommitIdGenerator.SYNCHRONIZED_SEQUENCE");" is 145.,52
javers_javers,org.javers.repository.jql,JqlQuery,validate,Long Statement,The length of the statement "throw new JaversException(JaversExceptionCode.MALFORMED_JQL`"aggregate filter can be enabled only when querying for Entities` in byClass() and byInstanceId() queries");" is 168.,52
javers_javers,org.javers.repository.jql,JqlQuery,validate,Long Statement,The length of the statement "throw new JaversException(JaversExceptionCode.MALFORMED_JQL`"maxGapsToFill can be used only in the DEEP_PLUS query scope");" is 123.,52
javers_javers,org.javers.repository.jql,JqlQuery,toString,Long Statement,The length of the statement "return "JqlQuery {\n" + " " + filterDefinition + "\n"+ " "+ queryParams+ "\n"+ " shadowScope: "+ shadowScopeDef.getScope()+ "\n"+ streamStats().map(it -> " " + it + "\n").orElse("")+ "}";" is 187.,73
javers_javers,org.javers.repository.jql,JqlQuery,changeLimit,Long Statement,The length of the statement "return new JqlQuery(filterDefinition`QueryParamsBuilder.copy(queryParams).limit(newLimit).skip(newSkip).build()`shadowScopeDef);" is 128.,115
javers_javers,org.javers.repository.jql,JqlModule,getImplementations,Long Statement,The length of the statement "return Lists.<Class>asList(QueryRunner.class`ShadowQueryRunner.class`ShadowStreamQueryRunner.class`ChangesQueryRunner.class`SnapshotQueryRunner.class`QueryCompiler.class);" is 171.,14
javers_javers,org.javers.repository.jql,ShadowQueryRunner,queryForShadows,Long Statement,The length of the statement "List<Shadow> shadows=commitTable.rootsForQuery(query).stream().map(r -> shadowFactory.createShadow(r.root`r.context`(cm`targetId) -> commitTable.referenceResolver(cm`targetId))).collect(toList());" is 196.,49
javers_javers,org.javers.repository.jql,QueryRunner,validateSnapshotQueryLimit,Long Statement,The length of the statement "throw new JaversException(JaversExceptionCode.MALFORMED_JQL`"QueryBuilder.snapshotQueryLimit() can be used only in Shadow queries. " + "You can't use it with " + method + ". Please do not confuse QueryBuilder.snapshotQueryLimit() with QueryBuilder.limit().");" is 259.,49
javers_javers,org.javers.repository.api,JaversRepository,getLatest,Long Statement,The length of the statement "return globalIds.stream().map(id -> getLatest(id)).filter(it -> it.isPresent()).map(it -> it.get()).collect(Collectors.toList());" is 129.,76
javers_javers,org.javers.repository.api,QueryParams,QueryParams,Long Parameter List,The method has 17 parameters. ,40
javers_javers,org.javers.repository.api,QueryParams,toString,Long Statement,The length of the statement "return ToStringBuilder.toString(this`"aggregate"`aggregate`"from"`from`"fromInstant"`fromInstant`"to"`to`"toInstant"`toInstant`"toCommitId"`toCommitId`"commitIds"`commitIds`"changeProperties"`changedProperties`"version"`version`"author"`author`"snapshotType"`snapshotType`"limit"`limit`"skip"`skip`"snapshotQueryLimit"`snapshotQueryLimit);" is 339.,189
javers_javers,org.javers.repository.api,PreviousSnapshotsCalculator,getMissingPreviousSnapshots,Long Identifier,The length of the identifier missingPreviousSnapshotIdentifiers is 34.,44
javers_javers,org.javers.repository.api,PreviousSnapshotsCalculator,getMissingPreviousSnapshots,Long Statement,The length of the statement "List<SnapshotIdentifier> missingPreviousSnapshotIdentifiers=determineMissingPreviousSnapshotIdentifiers(previousSnapshots`snapshots);" is 133.,44
javers_javers,org.javers.repository.api,PreviousSnapshotsCalculator,determineMissingPreviousSnapshotIdentifiers,Long Identifier,The length of the identifier missingPreviousSnapshotIdentifiers is 34.,50
javers_javers,org.javers.repository.api,PreviousSnapshotsCalculator,determineMissingPreviousSnapshotIdentifiers,Long Statement,The length of the statement "List<SnapshotIdentifier> missingPreviousSnapshotIdentifiers=snapshots.stream().filter(snapshot -> !(snapshot.isInitial() || snapshot.isTerminal())).map(snapshot -> SnapshotIdentifier.from(snapshot).previous()).filter(previousSnapshotIdentifier -> !previousSnapshots.containsKey(previousSnapshotIdentifier)).collect(toImmutableList());" is 334.,50
javers_javers,org.javers.repository.api,QueryParamsBuilder,build,Long Statement,The length of the statement "return new QueryParams(limit`skip`from`fromInstant`to`toInstant`commitIds`version`author`commitProperties`commitPropertiesLike`aggregate`changedProperties`toCommitId`snapshotType`loadCommitProps`snapshotQueryLimit);" is 215.,234
javers_javers,org.javers.repository.api,JaversExtendedRepository,getHistoricals,Long Statement,The length of the statement "return delegate.getStateHistory(globalId`QueryParamsBuilder.withLimit(limit).withChildValueObjects(withChildValueObjects).toCommitId(timePoint).build());" is 153.,101
javers_javers,org.javers.repository.api,JaversExtendedRepository,getHistoricals,Long Statement,The length of the statement "return delegate.getStateHistory(globalId`QueryParamsBuilder.withLimit(limit).withChildValueObjects(withChildValueObjects).to(timePoint).build());" is 145.,123
javers_javers,org.javers.repository.api,JaversExtendedRepository,filterChangesByPropertyNames,Long Statement,The length of the statement "return Lists.positiveFilter(changes`input -> input instanceof PropertyChange && queryParams.changedProperties().contains(((PropertyChange)input).getPropertyName()));" is 165.,171
javers_javers,org.javers.java8support,Java8TypeAdapters,adapters,Long Statement,The length of the statement "return (List)Lists.immutableListOf(new LocalDateTypeAdapter()`new LocalDateTimeTypeAdapter()`new LocalTimeTypeAdapter()`new YearTypeAdapter()`new ZonedDateTimeTypeAdapter()`new ZoneOffsetTypeAdapter()`new OffsetDateTimeTypeAdapter()`new InstantTypeAdapter()`new PeriodTypeAdapter()`new DurationTypeAdapter());" is 309.,14
javers_javers,org.javers.java8support,Java8TypeAdapters,valueTypes,Long Statement,The length of the statement "return (List)Lists.immutableListOf(buildValueType(LocalDate.class`v -> v.getYear() + "`" + v.getMonthValue()+ "`"+ v.getDayOfMonth())`buildValueType(LocalDateTime.class`v -> v.toString().replace("T"`"`"))`buildValueType(LocalTime.class`v -> v.getHour() + "`" + v.getMinute()+ "`"+ v.getSecond()+ "`"+ v.getNano())`buildValueType(Year.class`v -> v.toString())`buildValueType(ZonedDateTime.class`v -> v.toLocalDateTime().toString() + "`" + v.getOffset()+ "`"+ v.getZone().getId())`buildValueType(ZoneOffset.class`v -> v.getTotalSeconds() + "")`buildValueType(OffsetDateTime.class`v -> v.toLocalDateTime().toString() + "`" + v.getOffset())`buildValueType(Instant.class`v -> v.getEpochSecond() + "`" + v.getNano())`buildValueType(Period.class`v -> v.getYears() + "`" + v.getMonths()+ "`"+ v.getDays())`buildValueType(Duration.class`v -> v.getSeconds() + "`" + v.getNano()));" is 870.,28
javers_javers,org.javers.mongosupport,RequiredMongoSupportPredicate,test,Long Identifier,The length of the field JAVERS_MONGO_REPOSITORY_CLASS_NAME is 34.,10
javers_javers,org.javers.common.exception,JaversException,JaversException,Long Statement,The length of the statement "super(String.format(RUNTIME_EXCEPTION.getMessage()`"Cause: " + throwable.getClass().getName() + " - "+ throwable.getMessage())`throwable);" is 138.,14
javers_javers,org.javers.common.reflection,JaversField,getEvenIfPrivate,Long Statement,The length of the statement "throw new JaversException(JaversExceptionCode.PROPERTY_ACCESS_ERROR`this`onObject.getClass().getSimpleName()`e.getClass().getName() + ": " + e.getMessage());" is 157.,30
javers_javers,org.javers.common.reflection,JaversField,setEvenIfPrivate,Long Statement,The length of the statement "throw new JaversException(JaversExceptionCode.PROPERTY_SETTING_ERROR`valueType`this`ie.getClass().getName() + " - " + ie.getMessage());" is 135.,42
javers_javers,org.javers.common.reflection,JaversField,setEvenIfPrivate,Long Statement,The length of the statement "throw new JaversException(JaversExceptionCode.PROPERTY_ACCESS_ERROR`this`onObject.getClass().getSimpleName()`e.getClass().getName() + ": " + e.getMessage());" is 157.,42
javers_javers,org.javers.common.reflection,JaversGetter,getEvenIfPrivate,Long Statement,The length of the statement "throw new JaversException(JaversExceptionCode.PROPERTY_ACCESS_ERROR`this`onObject.getClass().getSimpleName()`e.getClass().getName() + ": " + e.getMessage());" is 157.,45
javers_javers,org.javers.common.reflection,JaversGetter,setEvenIfPrivate,Long Statement,The length of the statement "setterMethod.orElseThrow(() -> new JaversException(JaversExceptionCode.SETTER_NOT_FOUND`getRawMember().getName()`getRawMember().getDeclaringClass().getName()));" is 160.,57
javers_javers,org.javers.common.reflection,JaversGetter,setEvenIfPrivate,Long Statement,The length of the statement "throw new JaversException(JaversExceptionCode.SETTER_INVOCATION_ERROR`setterMethod.get().getName()`onObject.getClass().getName()`e);" is 132.,57
javers_javers,org.javers.common.reflection,JaversGetter,getterNameWithoutPrefix,Magic Number,The method contains a magic number: 3,97
javers_javers,org.javers.common.reflection,JaversGetter,getterNameWithoutPrefix,Magic Number,The method contains a magic number: 3,97
javers_javers,org.javers.common.reflection,JaversGetter,getterNameWithoutPrefix,Magic Number,The method contains a magic number: 2,97
javers_javers,org.javers.common.reflection,JaversGetter,getterNameWithoutPrefix,Magic Number,The method contains a magic number: 2,97
javers_javers,org.javers.common.reflection,JaversGetterFactory,findAllGetters,Long Statement,The length of the statement "Arrays.stream(clazz.getDeclaredMethods()).filter(method -> isGetter(method) && !method.isBridge()).filter(method -> !isOverridden(method`getters)).map(getter -> createJaversGetter(getter`context)).filter(getter -> excludeDuplicatedProperties(getter`getters)).forEach(getters::add);" is 281.,39
javers_javers,org.javers.common.reflection,JaversGetterFactory,isGetter,Long Statement,The length of the statement "return hasGetOrIsPrefix(rawMethod) && hasNoParamters(rawMethod) && returnsSomething(rawMethod)&& isNotStatic(rawMethod)&& isNotNative(rawMethod);" is 145.,67
javers_javers,org.javers.common.reflection,JaversGetterFactory,isOverridden,Long Statement,The length of the statement "return isSubClass(parent`toCheck) && sameMethodName(parent`toCheck) && returnTypeCovariant(parent`toCheck)&& sameArguments(parent`toCheck);" is 139.,99
javers_javers,org.javers.common.reflection,JaversGetterFactory,hasInheritedId,Long Statement,The length of the statement "Arrays.asList(clazz.getDeclaredMethods()).stream().filter(parent -> isOverridden(parent`concrete)).findFirst().ifPresent(parent -> overridden.add(parent));" is 155.,131
javers_javers,org.javers.common.reflection,JaversMember,getOnMissingProperty,Long Statement,The length of the statement "Optional<JaversMember> mirror=mirrorMembersMemoized.computeIfAbsent(onObject.getClass()`c -> ReflectionUtil.getMirrorMember(this`c));" is 133.,118
javers_javers,org.javers.common.reflection,ReflectionUtil,newInstance,Long Statement,The length of the statement "logger.error("failed to create new instance of " + clazz.getName() + "` argument resolver for arg["+ i+ "] "+ types[i].getName()+ " thrown exception: "+ e.getMessage());" is 169.,58
javers_javers,org.javers.common.reflection,ReflectionUtil,newInstance,Complex Conditional,The conditional expression isPrivate(constructor) || isProtected(constructor) || constructor.getParameterCount() > 0 is complex.,90
javers_javers,org.javers.common.reflection,ReflectionUtil,isPersistentField,Long Statement,The length of the statement "return !Modifier.isTransient(field.getModifiers()) && !Modifier.isStatic(field.getModifiers()) && !field.getName().equals("this$0");" is 132.,146
javers_javers,org.javers.common.reflection,ReflectionUtil,findClasses,Long Statement,The length of the statement "return new ClassGraph().whitelistPackages(packages).enableAnnotationInfo().scan().getClassesWithAnnotation(annotation.getName()).loadClasses();" is 143.,175
javers_javers,org.javers.common.reflection,ReflectionUtil,looksLikeId,Long Statement,The length of the statement "return getAnnotations(member).stream().map(ann -> ann.annotationType().getSimpleName()).anyMatch(annName -> annName.equals(Property.ID_ANN) || annName.equals(Property.EMBEDDED_ID_ANN));" is 185.,290
javers_javers,org.javers.common.collections,Arrays,length,Complex Method,Cyclomatic complexity of the method is 10,82
javers_javers,org.javers.common.collections,Sets,wrapNull,Complex Conditional,The conditional expression set == null || set == MissingProperty.INSTANCE || !(set instanceof Set) is complex.,23
javers_javers,org.javers.common.collections,Primitives,getPrimitiveAndBoxTypes,Long Statement,The length of the statement "return java.util.Collections.unmodifiableList(Stream.concat(PRIMITIVE_NUMBER_TYPES.stream()`PRIMITIVE_TYPES.stream()).collect(Collectors.toList()));" is 148.,28
javers_javers,org.javers.common.collections,Maps,wrapNull,Complex Conditional,The conditional expression map == null || map == MissingProperty.INSTANCE || !(map instanceof Map) is complex.,15
javers_javers,org.javers.common.collections,Lists,wrapNull,Complex Conditional,The conditional expression list == null || list == MissingProperty.INSTANCE || !(list instanceof List) is complex.,18
javers_javers,org.javers.common.string,PrettyValuePrinter,format,Complex Method,Cyclomatic complexity of the method is 8,32
javers_javers,org.javers.common.string,ShaDigest,longDigest,Magic Number,The method contains a magic number: 2,21
javers_javers,org.javers.common.string,ShaDigest,longDigest,Magic Number,The method contains a magic number: 0xff,21
javers_javers,org.javers.common.string,ToStringBuilder,toString,Magic Number,The method contains a magic number: 2,79
javers_javers,org.javers.common.string,ToStringBuilder,toString,Magic Number,The method contains a magic number: 2,79
javers_javers,org.javers.common.string,ToStringBuilder,isNullOrEmpty,Complex Method,Cyclomatic complexity of the method is 8,106
javers_javers,org.javers.common.string,ToStringBuilder,rPad,Magic Number,The method contains a magic number: 3,145
javers_javers,org.javers.shadow,ShadowGraphBuilder,assembleShallowReferenceShadow,Long Statement,The length of the statement "CdoSnapshotState state=cdoSnapshotState().withPropertyValue(shallowReferenceType.getIdProperty()`instanceId.getCdoId()).build();" is 128.,61
javers_javers,org.javers.shadow,ShadowGraphBuilder,followReferences,Long Statement,The length of the statement "if (typeMapper.isContainerOfManagedTypes(property.getType()) || typeMapper.isKeyValueTypeWithManagedTypes(property.getType())) {" is 128.,117
javers_javers,org.javers.shadow,ShadowGraphBuilder,followReferences,Long Statement,The length of the statement "currentNode.addEnumerableWiring(property`propertyType.map(containerWithRefs`(value) -> passValueOrCreateNodeFromRef(value`property)`true));" is 139.,117
javers_javers,org.javers.shadow,ShadowGraphBuilder,createOrReuseNodeFromRef,Long Statement,The length of the statement "EntityType shallowReferenceType=property.getType() instanceof EntityType ? property.getType() : (EntityType)typeMapper.getJaversManagedType(globalId);" is 150.,158
javers_javers,org.javers.core.changelog,ChangeListTraverser,traverse,Complex Conditional,The conditional expression !change.getAffectedGlobalId().equals(lastGlobalId) && !(change instanceof NewObject || change instanceof ObjectRemoved) is complex.,23
javers_javers,org.javers.core.changelog,ChangeListTraverser,traverse,Complex Method,Cyclomatic complexity of the method is 14,23
javers_javers,org.javers.core.changelog,ChangeListTraverser,traverse,Long Statement,The length of the statement "if (!change.getAffectedGlobalId().equals(lastGlobalId) && !(change instanceof NewObject || change instanceof ObjectRemoved)) {" is 126.,23
javers_javers,org.javers.core.changelog,SimpleTextChangeLog,onCommit,Long Statement,The length of the statement "appendln("commit " + commitMetadata.getId() + "` author: "+ commitMetadata.getAuthor()+ "` "+ PrettyValuePrinter.getDefault().format(commitMetadata.getCommitDate()));" is 166.,37
javers_javers,org.javers.core.changelog,SimpleTextChangeLog,onValueChange,Long Statement,The length of the statement "appendln(" value changed on '" + valueChange.getPropertyName() + "' property: '"+ PrettyValuePrinter.getDefault().format(valueChange.getLeft())+ "' -> '"+ PrettyValuePrinter.getDefault().format(valueChange.getRight())+ "'");" is 224.,48
javers_javers,org.javers.core.changelog,SimpleTextChangeLog,onReferenceChange,Long Statement,The length of the statement "appendln(" reference changed on '" + referenceChange.getPropertyName() + "' property: '"+ referenceChange.getLeft()+ "' -> '"+ referenceChange.getRight()+ "'");" is 160.,56
javers_javers,org.javers.core,ChangesByCommit,toString,Long Statement,The length of the statement "b.append("Commit " + commitMetadata.getId() + " done by "+ commitMetadata.getAuthor()+ " at "+ valuePrinter.format(commitMetadata.getCommitDate())+ " :\n");" is 156.,46
javers_javers,org.javers.core,JaversBuilder,withProperties,Complex Method,Cyclomatic complexity of the method is 9,812
javers_javers,org.javers.core,JaversBuilder,bootRepository,Long Statement,The length of the statement "logger.info("using fake InMemoryRepository` register actual Repository implementation via JaversBuilder.registerJaversRepository()");" is 133.,909
javers_javers,org.javers.core,Changes,groupByCommit,Long Statement,The length of the statement "Map<CommitMetadata`List<Change>> changesByCommit=changes.stream().collect(groupingBy(c -> c.getCommitMetadata().orElseThrow(() -> new IllegalStateException("No CommitMetadata in this Change"))`() -> new LinkedHashMap<>()`toList()));" is 232.,50
javers_javers,org.javers.core,Changes,getPropertyChanges,Long Statement,The length of the statement "return (List)changes.stream().filter(it -> it instanceof PropertyChange && ((PropertyChange)it).getPropertyName().equals(propertyName)).collect(Collectors.toList());" is 165.,96
javers_javers,org.javers.core,Changes,groupByObject,Long Statement,The length of the statement "Map<GlobalId`List<Change>> changesByObject=changes.stream().collect(groupingBy(c -> c.getAffectedGlobalId().masterObjectId()));" is 127.,103
javers_javers,org.javers.core,Changes,getChangesByType,Long Statement,The length of the statement "return (List)unmodifiableList(changes.stream().filter(input -> type.isAssignableFrom(input.getClass())).collect(Collectors.toList()));" is 134.,133
javers_javers,org.javers.core,CoreConfiguration,CoreConfiguration,Long Parameter List,The method has 8 parameters. ,30
javers_javers,org.javers.core,JaversCore,JaversCore,Long Parameter List,The method has 8 parameters. ,58
javers_javers,org.javers.core,JaversCore,commit,Long Statement,The length of the statement "logger.info(commit.toString() + "` done in " + (stop - start)+ " millis (diff:{}` persist:{})"`(stopCreate - start)`(stop - stopCreate));" is 137.,78
javers_javers,org.javers.core,JaversCore,assertJaversTypeNotValueTypeOrPrimitiveType,Long Statement,The length of the statement "throw new JaversException(COMMITTING_TOP_LEVEL_VALUES_NOT_SUPPORTED`jType.getClass().getSimpleName()`currentVersion.getClass().getSimpleName());" is 144.,97
javers_javers,org.javers.core,JaversCore,commitAsync,Long Statement,The length of the statement "CompletableFuture<Commit> commit=supplyAsync(() -> commitFactory.create(author`commitProperties`currentVersion)`executor).thenApply(it -> new CommitWithTimestamp(it`System.currentTimeMillis())).thenApplyAsync(it -> {" is 216.,114
javers_javers,org.javers.core,JaversCore,logCommitMessage,Long Statement,The length of the statement "logger.info(persistedCommit.toString() + "` done asynchronously in " + (stop - start)+ " millis (diff:{}` persist:{})"`(creationTime - start)`(stop - creationTime));" is 165.,133
javers_javers,org.javers.core,ChangesByObject,getNewObjects,Long Statement,The length of the statement "return (List)changes.stream().filter(c -> c instanceof NewObject).sorted(Comparator.comparingInt(it -> it.getAffectedGlobalId().value().length())).collect(Collectors.toList());" is 176.,46
javers_javers,org.javers.core,ChangesByObject,getObjectsRemoved,Long Statement,The length of the statement "return (List)changes.stream().filter(c -> c instanceof ObjectRemoved).sorted(Comparator.comparingInt(it -> it.getAffectedGlobalId().value().length())).collect(Collectors.toList());" is 180.,52
javers_javers,org.javers.core,ChangesByObject,getPropertyChanges,Long Statement,The length of the statement "return (List)changes.stream().filter(c -> c instanceof PropertyChange).sorted(Comparator.comparing(a -> ((PropertyChange)a).getPropertyNameWithPath())).collect(Collectors.toList());" is 181.,58
javers_javers,org.javers.core,ChangesByObject,toString,Complex Conditional,The conditional expression !getPropertyChanges().isEmpty() && getNewObjects().size() == 0 && getObjectsRemoved().size() == 0 is complex.,64
javers_javers,org.javers.core,CoreConfigurationBuilder,build,Long Statement,The length of the statement "return new CoreConfiguration(prettyValuePrinter`mappingStyle`listCompareAlgorithm`initialChanges`commitIdGenerator`customCommitIdGenerator`terminalChanges`prettyPrint);" is 168.,34
javers_javers,org.javers.core,CoreConfigurationBuilder,withCommitIdGenerator,Long Statement,The length of the statement "Validate.argumentCheck(commitIdGenerator != CommitIdGenerator.CUSTOM`"use withCustomCommitIdGenerator(Supplier<CommitId>)");" is 124.,58
javers_javers,org.javers.core.metamodel.type,DynamicMappingStrategy,map,Long Statement,The length of the statement "logger.debug("javersType of '{}' mapped as IgnoredType by {}"`clazz.getSimpleName()`ignoredClassesStrategy.getClass().getName());" is 129.,23
javers_javers,org.javers.core.metamodel.type,CustomValueComparatorNullSafe,equals,Complex Conditional,The conditional expression (o1 == null && o2 != null) || (o1 != null && o2 == null) is complex.,15
javers_javers,org.javers.core.metamodel.type,InstanceIdFactory,dehydratedLocalId,Long Statement,The length of the statement "return new CompositeDehydratedLocalId(compositeLocalId.entrySet().stream().sorted(Map.Entry.comparingByKey()).map(e -> dehydratedLocalId(entityType.getProperty(e.getKey())`e.getValue())).collect(Collectors.toList()));" is 217.,79
javers_javers,org.javers.core.metamodel.type,InstanceIdFactory,idTypeNotSupported,Long Statement,The length of the statement "return new JaversException(JaversExceptionCode.ID_TYPE_NOT_SUPPORTED`entityType.getIdProperty().getType().getClass().getSimpleName()`entityType.getIdProperty().getType().getName()`entityType.getBaseJavaClass().getName());" is 221.,95
javers_javers,org.javers.core.metamodel.type,ManagedPropertiesFilter,ManagedPropertiesFilter,Long Statement,The length of the statement "this.includedProperties.addAll(allSourceProperties.stream().filter(p -> p.isHasIncludedAnn()).collect(Collectors.toSet()));" is 123.,24
javers_javers,org.javers.core.metamodel.type,ManagedPropertiesFilter,ManagedPropertiesFilter,Long Statement,The length of the statement "logger.debug("Included properties have been provided and thus any @Transient or @DiffIgnore annotation will be disregarded for class " + baseJavaClass.getName());" is 162.,24
javers_javers,org.javers.core.metamodel.type,ManagedPropertiesFilter,ManagedPropertiesFilter,Long Statement,The length of the statement "this.ignoredProperties.addAll(allSourceProperties.stream().filter(p -> p.hasTransientAnn()).collect(Collectors.toSet()));" is 121.,24
javers_javers,org.javers.core.metamodel.type,ManagedPropertiesFilter,filter,Long Statement,The length of the statement "return propertyNames.stream().map(p -> allProperties.stream().filter(jp -> jp.getName().equals(p)).findFirst().orElseThrow(() -> new JaversException(JaversExceptionCode.PROPERTY_NOT_FOUND`p`baseJavaClass.getName()))).collect(Collectors.toSet());" is 245.,62
javers_javers,org.javers.core.metamodel.type,ParametrizedDehydratedType,hashCode,Magic Number,The method contains a magic number: 31,56
javers_javers,org.javers.core.metamodel.type,UnknownType,UnknownType,Long Statement,The length of the statement "logger.warn("Missing class definition with @TypeName '" + typeName + "'` \n"+ "cant't properly deserialize its Snapshots from JaversRepository.\n"+ "To fix this issue provide the fully-qualified package name of the class "+ "named '"+ typeName+ "' in the packagesToScan property.");" is 282.,20
javers_javers,org.javers.core.metamodel.type,MapType,MapType,Magic Number,The method contains a magic number: 2,19
javers_javers,org.javers.core.metamodel.type,MapType,mapEntrySet,Long Parameter List,The method has 6 parameters. ,56
javers_javers,org.javers.core.metamodel.type,MapType,mapEntrySet,Long Parameter List,The method has 5 parameters. ,83
javers_javers,org.javers.core.metamodel.type,TypeFactory,infer,Long Statement,The length of the statement "logger.debug("javersType for '{}' spawned as {} from prototype {}"`javaRichType.getTypeName()`jType.getClass().getSimpleName()`prototype.get());" is 144.,88
javers_javers,org.javers.core.metamodel.type,TypeFactory,infer,Long Statement,The length of the statement "logger.debug("javersType for '{}' inferred from annotations as {}"`javaRichType.getTypeName()`jType.getClass().getSimpleName());" is 128.,88
javers_javers,org.javers.core.metamodel.type,TypeFactory,inferFromHints,Long Statement,The length of the statement "logger.debug("javersType for '{}' inferred as {}` based on {} "`richType.getTypeName()`jType.getClass().getSimpleName()`vote.getClass().getSimpleName());" is 153.,125
javers_javers,org.javers.core.metamodel.type,TypeFactory,spawnFromPrototype,Long Statement,The length of the statement "ManagedClass managedClass=managedClassFactory.createFromPrototype(javaRichType.javaClass`javaRichType.getScan()`managedPrototype.getManagedClass().getManagedPropertiesFilter());" is 177.,137
javers_javers,org.javers.core.metamodel.type,TypeFactory,createDefaultType,Long Statement,The length of the statement "return create(valueObjectDefinition(t.javaClass).withTypeName(t.getScan().typeName()).defaultType().build()`t.getScan());" is 121.,154
javers_javers,org.javers.core.metamodel.type,TypeFactory,inferFromAnnotations,Long Statement,The length of the statement "return Optional.of(create(entityDefinition(t.javaClass).withTypeName(t.getAnnTypeName()).withShallowReference().build()`t.getScan()));" is 134.,162
javers_javers,org.javers.core.metamodel.type,EntityType,getIdOf,Long Statement,The length of the statement "throw new JaversException(JaversExceptionCode.NOT_INSTANCE_OF`getName()`getBaseJavaClass().getName()`instance.getClass().getName());" is 132.,90
javers_javers,org.javers.core.metamodel.type,EntityType,getIdOf,Long Statement,The length of the statement "Map compositeId=java.util.Collections.unmodifiableMap(idProperties.stream().filter(p -> p.get(instance) != null).collect(Collectors.toMap(p -> p.getName()`p -> p.get(instance))));" is 179.,90
javers_javers,org.javers.core.metamodel.type,SetType,map,Long Statement,The length of the statement "return unmodifiableSet((Set)sourceCol.stream().map(sourceVal -> sourceVal == null ? null : mapFunction.apply(sourceVal)).filter(mappedVal -> !filterNulls || mappedVal != null).collect(Collectors.toSet()));" is 205.,31
javers_javers,org.javers.core.metamodel.type,ListType,map,Long Statement,The length of the statement "return unmodifiableList((List)sourceCol.stream().map(sourceVal -> sourceVal == null ? null : mapFunction.apply(sourceVal)).filter(mappedVal -> !filterNulls || mappedVal != null).collect(toList()));" is 197.,39
javers_javers,org.javers.core.metamodel.type,PrimitiveOrValueType,PrimitiveOrValueType,Long Statement,The length of the statement "this.valueComparator=(comparator == null || comparator.handlesNulls()) ? comparator : new CustomValueComparatorNullSafe<>(comparator);" is 134.,24
javers_javers,org.javers.core.metamodel.type,PrimitiveOrValueType,isStringy,Long Statement,The length of the statement "return String.class == getBaseJavaClass() || CharSequence.class == getBaseJavaClass() || char.class == getBaseJavaClass() || Character.class == getBaseJavaClass();" is 163.,48
javers_javers,org.javers.core.metamodel.type,ManagedClassFactory,create,Long Statement,The length of the statement "ManagedPropertiesFilter managedPropertiesFilter=new ManagedPropertiesFilter(def.getBaseJavaClass()`allProperties`def.getPropertiesFilter());" is 140.,24
javers_javers,org.javers.core.metamodel.type,CollectionType,map,Long Statement,The length of the statement "return unmodifiableList((List)sourceCol.stream().map(sourceVal -> sourceVal == null ? null : mapFunction.apply(sourceVal)).filter(mappedVal -> !filterNulls || mappedVal != null).collect(toList()));" is 197.,69
javers_javers,org.javers.core.metamodel.type,TypeMapper,getJaversClassType,Long Statement,The length of the statement "throw new JaversException(JaversExceptionCode.CLASS_MAPPING_ERROR`javaType`jType.getClass().getSimpleName()`ClassType.class.getSimpleName());" is 141.,106
javers_javers,org.javers.core.metamodel.type,TypeMapper,getJaversManagedType,Long Statement,The length of the statement "throw new JaversException(JaversExceptionCode.MANAGED_CLASS_MAPPING_ERROR`javaClass`mType.getClass().getSimpleName()`expectedType.getSimpleName());" is 147.,157
javers_javers,org.javers.core.metamodel.type,TypeMapper,registerClientsClass,Long Statement,The length of the statement "logger.debug("javersType of '{}' " + "mapped explicitly to {}"`def.getBaseJavaClass().getSimpleName()`newType.getClass().getSimpleName());" is 138.,203
javers_javers,org.javers.core.metamodel.type,EntityTypeFactory,findDefaultIdProperties,Long Statement,The length of the statement "JaversExceptionCode code=isShallowReference ? JaversExceptionCode.SHALLOW_REF_ENTITY_WITHOUT_ID : JaversExceptionCode.ENTITY_WITHOUT_ID;" is 136.,38
javers_javers,org.javers.core.metamodel.type,JaversProperty,JaversProperty,Long Statement,The length of the statement "super(property.getMember()`property.hasTransientAnn()`property.hasShallowReferenceAnn()`property.getName()`property.isHasIncludedAnn());" is 136.,21
javers_javers,org.javers.core.metamodel.type,JaversProperty,toString,Long Statement,The length of the statement "return getMember().memberType() + " " + getType().getClass().getSimpleName()+ ":"+ typeName(getMember().getGenericResolvedType())+ " "+ getName()+ (getMember().memberType().equals("Getter") ? "()" : "")+ "` declared in "+ getDeclaringClass().getSimpleName();" is 258.,66
javers_javers,org.javers.core.metamodel.type,EnumerableType,filterToList,Long Statement,The length of the statement "return (List)unmodifiableList(items(source).filter(item -> item != null && filter.isAssignableFrom(item.getClass())).collect(Collectors.toList()));" is 147.,63
javers_javers,org.javers.core.metamodel.scanner,ClassAnnotationsScanner,scan,Long Statement,The length of the statement "Optional<Class<? extends Annotation>> javersTypeAnnotation=JAVERS_TYPE_ANNOTATIONS.stream().filter(annTypes::contains).findFirst();" is 131.,35
javers_javers,org.javers.core.metamodel.scanner,ClassAnnotationsScanner,typeFromAnnotation,Long Statement,The length of the statement "Optional<Class<? extends Annotation>> javersTypeAnnotation=JAVERS_TYPE_ANNOTATIONS.stream().filter(annTypes::contains).findFirst();" is 131.,55
javers_javers,org.javers.core.metamodel.scanner,ScannerModule,getImplementations,Long Statement,The length of the statement "return (Collection)Lists.asList(ClassScanner.class`ClassAnnotationsScanner.class`AnnotationNamesProvider.class`usedPropertyScanner);" is 132.,23
javers_javers,org.javers.core.metamodel.scanner,AnnotationNamesProvider,hasTransientPropertyAnn,Long Statement,The length of the statement "return annTypes.contains(JaversAnnotationsNameSpace.DIFF_IGNORE_ANN) || annTypes.stream().anyMatch(annType -> transientPropertyAliases.contains(annType.getSimpleName()));" is 170.,48
javers_javers,org.javers.core.metamodel.scanner,AnnotationNamesProvider,findAnnotation,Long Statement,The length of the statement "Optional<Annotation> jTypeName=annotations.stream().filter(ann -> javersAnnType.isAssignableFrom(ann.getClass())).findAny();" is 124.,74
javers_javers,org.javers.core.metamodel.scanner,PropertyScanner,scan,Long Statement,The length of the statement "properties.add(new Property(member`hasTransientAnn || isIgnoredInType`hasShallowReferenceAnn`customPropertyName`hasIncludeAnn));" is 128.,23
javers_javers,org.javers.core.metamodel.object,CdoSnapshotBuilder,emptyCopyOf,Long Statement,The length of the statement "return cdoSnapshot().withGlobalId(snapshot.getGlobalId()).withManagedType(snapshot.getManagedType()).withCommitMetadata(snapshot.getCommitMetadata()).withType(snapshot.getType());" is 179.,32
javers_javers,org.javers.core.metamodel.object,GlobalId,getTypeNameShort,Magic Number,The method contains a magic number: 2,60
javers_javers,org.javers.core.metamodel.object,ValueObjectId,getParentValueObjectIds,Long Statement,The length of the statement "return segments.stream().limit(segments.size() - 1).map(s -> new ValueObjectId(this.getTypeName()`ownerId`s)).collect(Collectors.toSet());" is 138.,61
javers_javers,org.javers.core.metamodel.object,GlobalIdPathParser,parseChildValueObjectFromPathSegments,Complex Conditional,The conditional expression segments.size() == 1 || segments.size() == 2 && property.getType() instanceof EnumerableType is complex.,20
javers_javers,org.javers.core.metamodel.object,GlobalIdPathParser,parseChildValueObjectFromPathSegments,Magic Number,The method contains a magic number: 2,20
javers_javers,org.javers.core.metamodel.object,GlobalIdFactory,createId,Long Statement,The length of the statement "return new ValueObjectIdWithPlaceholder(targetManagedType.getName()`getRootOwnerId(ownerContext)`parentFragment`localPath`ownerContext.requiresObjectHasher());" is 159.,36
javers_javers,org.javers.core.metamodel.object,GlobalIdFactory,createInstanceId,Long Statement,The length of the statement "return entity.map(e -> e.createIdFromInstanceId(localId)).orElseGet(() -> new InstanceId(typeName`localId`ToStringBuilder.smartToString(localId)));" is 147.,120
javers_javers,org.javers.core.metamodel.object,CdoSnapshot,CdoSnapshot,Long Parameter List,The method has 7 parameters. ,35
javers_javers,org.javers.core.metamodel.object,CdoSnapshot,toString,Long Statement,The length of the statement "stringBuilder.append("Snapshot{commit:").append(getCommitMetadata().getId()).append("` ").append("id:").append(getGlobalId()).append("` ").append("version:").append(getVersion()).append("` ").append("state:" + getState() + "}");" is 228.,174
javers_javers,org.javers.core.metamodel.clazz,ClientsClassDefinition,ClientsClassDefinition,Long Statement,The length of the statement "argumentCheck(!(includedProperties.size() > 0 && ignoredProperties.size() > 0)`"Can't create ClientsClassDefinition for " + baseJavaClass.getSimpleName() + "` you can't define both ignored and included properties");" is 215.,38
javers_javers,org.javers.core.metamodel.property,Property,Property,Long Parameter List,The method has 5 parameters. ,27
javers_javers,org.javers.core.metamodel.property,Property,Property,Long Parameter List,The method has 5 parameters. ,37
javers_javers,org.javers.core.graph,ObjectHasher,hash,Long Statement,The length of the statement "String jsonState=objects.stream().map(cdo -> snapshotFactory.createSnapshotStateNoRefs(cdo)).map(state -> jsonConverter.toJson(state)).sorted().collect(Collectors.joining("\n"));" is 178.,23
javers_javers,org.javers.core.graph,LiveCdo,enrichHashIfNeeded,Long Statement,The length of the statement "List<LiveCdo> descendantVOs=descendants.get().stream().filter(cdo -> cdo.getGlobalId() instanceof ValueObjectId).collect(Collectors.toList());" is 142.,29
javers_javers,org.javers.core.graph,GraphFactoryModule,getImplementations,Long Statement,The length of the statement "return (Collection)Lists.asList(LiveCdoFactory.class`CollectionsCdoFactory.class`LiveGraphFactory.class`ObjectHasher.class`ObjectGraphBuilder.class`ObjectAccessHookDoNothingImpl.class);" is 185.,16
javers_javers,org.javers.core.graph,LiveGraphFactory,createLiveGraph,Long Statement,The length of the statement "return new CollectionsGraphBuilder(new ObjectGraphBuilder(typeMapper`liveCdoFactory)`collectionsCdoFactory).buildGraph(wrappedCollection`clazz);" is 144.,25
javers_javers,org.javers.core.graph,MultiEdge,getDehydratedPropertyValue,Long Identifier,The length of the field memoizedDehydratedPropertyValue is 31.,28
javers_javers,org.javers.core.graph,EdgeBuilder,hasShallowReferenceItems,Long Statement,The length of the statement "return keyValueType.getKeyJaversType() instanceof ShallowReferenceType || keyValueType.getValueJaversType() instanceof ShallowReferenceType;" is 140.,79
javers_javers,org.javers.core.graph,ObjectGraphBuilder,buildGraphFromCdo,Long Statement,The length of the statement "logger.debug("live graph assembled` object nodes: {}` entities: {}` valueObjects: {}"`nodeReuser.nodesCount()`nodeReuser.entitiesCount()`nodeReuser.voCount());" is 159.,57
javers_javers,org.javers.core.graph,ObjectGraphBuilder,getNonEmptyEnumerablesWithManagedTypes,Long Statement,The length of the statement "return (typeMapper.isContainerOfManagedTypes(enumerableType) || typeMapper.isKeyValueTypeWithManagedTypes(enumerableType));" is 123.,135
javers_javers,org.javers.core.graph,LiveCdoWrapper,LiveCdoWrapper,Long Statement,The length of the statement "argumentCheck(managedType.isInstance(wrappedCdo)`"wrappedCdo is not an instance of given managedType '" + managedType.getBaseJavaClass().getSimpleName() + "' but '"+ wrappedCdo.getClass().getSimpleName()+ "'");" is 210.,11
javers_javers,org.javers.core.json,JsonConverterBuilder,registerJsonAdvancedTypeAdapter,Long Statement,The length of the statement "JsonSerializer jsonSerializer=(value`type`jsonSerializationContext) -> adapter.toJson(value`type`jsonSerializationContext);" is 123.,130
javers_javers,org.javers.core.json,JsonConverterBuilder,registerJsonAdvancedTypeAdapter,Long Statement,The length of the statement "JsonDeserializer jsonDeserializer=(jsonElement`type`jsonDeserializationContext) -> adapter.fromJson(jsonElement`type`jsonDeserializationContext);" is 145.,130
javers_javers,org.javers.core.json,JsonConverterBuilder,registerJsonTypeAdapterForType,Long Statement,The length of the statement "JsonDeserializer jsonDeserializer=(jsonElement`type`jsonDeserializationContext) -> adapter.fromJson(jsonElement`jsonDeserializationContext);" is 140.,160
javers_javers,org.javers.core.json.typeadapter.util,UtilTypeCoreAdapters,adapters,Long Statement,The length of the statement "return (List)Lists.immutableListOf(new JavaUtilDateTypeAdapter()`new JavaSqlDateTypeAdapter()`new JavaSqlTimestampTypeAdapter()`new JavaSqlTimeTypeAdapter()`new FileTypeAdapter()`new UUIDTypeAdapter());" is 202.,75
javers_javers,org.javers.core.json.typeadapter.change,ChangeTypeAdaptersModule,getImplementations,Long Statement,The length of the statement "return (Collection)Lists.asList(MapChangeTypeAdapter.class`ArrayChangeTypeAdapter.class`ListChangeTypeAdapter.class`SetChangeTypeAdapter.class`NewObjectTypeAdapter.class`ValueChangeTypeAdapter.class`ObjectRemovedTypeAdapter.class`ChangeTypeAdapter.class`ReferenceChangeTypeAdapter.class);" is 288.,18
javers_javers,org.javers.core.json.typeadapter.change,ChangeTypeAdapter,deserializeStub,Long Statement,The length of the statement "PropertyChangeType propertyChangeType=jsonObject.get(PROPERTY_CHANGE_TYPE) != null ? PropertyChangeType.valueOf(jsonObject.get(PROPERTY_CHANGE_TYPE).getAsString()) : PropertyChangeType.PROPERTY_VALUE_CHANGED;" is 208.,77
javers_javers,org.javers.core.json.typeadapter.commit,CdoSnapshotAssembler,assembleGlobalId,Complex Conditional,The conditional expression ownerFragment != null || ownerLocalId != null || ownerCdoType != null is complex.,32
javers_javers,org.javers.core.json.typeadapter.commit,GlobalIdTypeAdapter,parseValueObjectId,Long Statement,The length of the statement "Validate.argumentCheck(jsonObject.get(VALUE_OBJECT_FIELD) != null`"empty " + VALUE_OBJECT_FIELD + " in json:"+ jsonObject);" is 123.,54
javers_javers,org.javers.core.json.typeadapter.commit,GlobalIdTypeAdapter,parseInstanceId,Long Statement,The length of the statement "return entityMaybe.map(entity -> deserializeInstanceId(cdoIdElement`entity`context)).orElseGet(() -> new InstanceId(typeName`context.deserialize(cdoIdElement`Object.class)`cdoIdElement.getAsString()));" is 201.,63
javers_javers,org.javers.core.json.typeadapter.commit,GlobalIdTypeAdapter,hasStringField,Long Statement,The length of the statement "return json.has(childName) && json.get(childName) instanceof JsonPrimitive && ((JsonPrimitive)json.get(childName)).isString();" is 126.,130
javers_javers,org.javers.core.json.typeadapter.commit,CdoSnapshotTypeAdapter,fromJson,Long Statement,The length of the statement "ManagedType managedType=typeMapper.getJaversManagedTypeMaybe(duckType`ManagedType.class).orElseGet(() -> new UnknownType(duckType.getTypeName()));" is 146.,42
javers_javers,org.javers.core.json.typeadapter.commit,CdoSnapshotTypeAdapter,fromJson,Long Statement,The length of the statement "return builder.withState(snapshotState).withVersion(version).withCommitMetadata(commitMetadata).withChangedProperties(changedProperties).build();" is 145.,42
javers_javers,org.javers.core.json.typeadapter.commit,CdoSnapshotStateDeserializer,decodePropertyValue,Long Statement,The length of the statement "logger.info("Can't deserialize type-safely the Snapshot property: " + javersProperty + ". JSON value: "+ propertyElement+ ". Looks like a type mismatch after refactoring of "+ javersProperty.getDeclaringClass().getSimpleName()+ " class.");" is 239.,51
javers_javers,org.javers.core.json.typeadapter.commit,CdoSnapshotStateDeserializer,ifPrimitivesOnBothSides,Long Statement,The length of the statement "return expectedJaversType instanceof PrimitiveOrValueType && ((PrimitiveOrValueType)expectedJaversType).isJsonPrimitive() && propertyElement instanceof JsonPrimitive;" is 166.,115
javers_javers,org.javers.core.json.typeadapter.commit,CdoSnapshotStateDeserializer,matches,Long Statement,The length of the statement "return (jsonPrimitive.isNumber() && javersPrimitive.isNumber()) || (jsonPrimitive.isString() && javersPrimitive.isStringy()) || (jsonPrimitive.isBoolean() && javersPrimitive.isBoolean());" is 187.,138
javers_javers,org.javers.core.json.typeadapter.commit,CommitTypeAdaptersModule,getImplementations,Long Statement,The length of the statement "return (Collection)Lists.asList(CdoSnapshotTypeAdapter.class`GlobalIdTypeAdapter.class`CommitIdTypeAdapter.class`JsonElementFakeAdapter.class`CdoSnapshotStateTypeAdapter.class`CommitMetadataTypeAdapter.class);" is 209.,17
javers_javers,org.javers.core.diff,Diff,getObjectsByChangeType,Long Statement,The length of the statement "return Lists.transform(getChangesByType(type)`input -> input.getAffectedObject().<JaversException>orElseThrow(() -> new JaversException(AFFECTED_CDO_IS_NOT_AVAILABLE)));" is 169.,48
javers_javers,org.javers.core.diff,Diff,getObjectsWithChangedProperty,Long Statement,The length of the statement "return Lists.transform(getPropertyChanges(propertyName)`input -> input.getAffectedObject().<JaversException>orElseThrow(() -> new JaversException(AFFECTED_CDO_IS_NOT_AVAILABLE)));" is 179.,60
javers_javers,org.javers.core.diff,Diff,getPropertyChanges,Long Statement,The length of the statement "return (List)getChanges(input -> input instanceof PropertyChange && ((PropertyChange)input).getPropertyName().equals(propertyName));" is 132.,102
javers_javers,org.javers.core.diff,NodePair,getPropertiesFromBothSides,Long Statement,The length of the statement "Set<String> leftNames=left.getManagedType().getProperties().stream().map(it -> it.getName()).collect(Collectors.toSet());" is 121.,100
javers_javers,org.javers.core.diff,NodePair,getPropertiesFromBothSides,Long Statement,The length of the statement "return Stream.concat(left.getManagedType().getProperties().stream()`right.getManagedType().getProperties().stream().filter(it -> !leftNames.contains(it.getName()))).collect(Collectors.toList());" is 194.,100
javers_javers,org.javers.core.diff,DiffFactory,DiffFactory,Long Parameter List,The method has 5 parameters. ,40
javers_javers,org.javers.core.diff,DiffFactory,buildGraph,Long Statement,The length of the statement "throw new JaversException(JaversExceptionCode.COMPARING_TOP_LEVEL_VALUES_NOT_SUPPORTED`jType.getClass().getSimpleName()`handle.getClass().getSimpleName());" is 155.,92
javers_javers,org.javers.core.diff.appenders,NewObjectAppender,getChangeSet,Long Statement,The length of the statement "return (Set)graphPair.getOnlyOnRight().stream().filter(it -> !(it.getManagedType() instanceof ValueObjectType)).map(input -> new NewObject(input.getGlobalId()`input.wrappedCdo()`graphPair.getCommitMetadata())).collect(Collectors.toSet());" is 238.,13
javers_javers,org.javers.core.diff.appenders,ReferenceChangeAppender,calculateChanges,Long Statement,The length of the statement "return new ReferenceChange(pair.createPropertyChangeMetadata(property)`leftId`rightId`pair.getLeftPropertyValue(property)`pair.getRightPropertyValue(property));" is 160.,21
javers_javers,org.javers.core.diff.appenders,MapChangeAppender,calculateChanges,Long Statement,The length of the statement "return new MapChange(pair.createPropertyChangeMetadata(property)`changes`(Map)pair.getLeftPropertyValueAndSanitize(property)`(Map)pair.getRightPropertyValueAndSanitize(property));" is 179.,35
javers_javers,org.javers.core.diff.appenders,ObjectRemovedAppender,getChangeSet,Long Statement,The length of the statement "return (Set)graphPair.getOnlyOnLeft().stream().filter(it -> !(it.getManagedType() instanceof ValueObjectType)).map(input -> new ObjectRemoved(input.getGlobalId()`input.wrappedCdo()`graphPair.getCommitMetadata())).collect(Collectors.toSet());" is 241.,13
javers_javers,org.javers.core.diff.appenders,ListAsSetChangeAppender,calculateChanges,Long Statement,The length of the statement "return new ListChange(pair.createPropertyChangeMetadata(property)`setChange.getChanges()`(List)pair.getLeftPropertyValueAndSanitize(property)`(List)pair.getRightPropertyValueAndSanitize(property));" is 197.,29
javers_javers,org.javers.core.diff.appenders,HashWrapper,wrapValuesIfNeeded,Long Statement,The length of the statement "return (Set)set.stream().map(it -> new HashWrapper(it`itemType::equals`customType::valueToString)).collect(Collectors.toSet());" is 127.,41
javers_javers,org.javers.core.diff.appenders,HashWrapper,wrapKeysIfNeeded,Long Statement,The length of the statement "return (Map)map.entrySet().stream().collect(Collectors.toMap(e -> new HashWrapper(((Map.Entry)e).getKey()`keyType::equals`customType::valueToString)`e -> ((Map.Entry)e).getValue()));" is 182.,51
javers_javers,org.javers.core.diff.appenders,CorePropertyChangeAppender,renderNotParametrizedWarningIfNeeded,Long Statement,The length of the statement "logger.warn("Unknown {} type in {} property: {}. Defaulting to {}` see {}.{}"`parameterName`colType`property.toString()`DEFAULT_TYPE_PARAMETER.getSimpleName()`CorePropertyChangeAppender.class.getSimpleName()`GENERIC_TYPE_NOT_PARAMETRIZED);" is 239.,28
javers_javers,org.javers.core.diff.appenders,OptionalChangeAppender,calculateChanges,Long Statement,The length of the statement "return new ReferenceChange(pair.createPropertyChangeMetadata(property)`first(pair.getLeftReferences(property))`first(pair.getRightReferences(property))`flat(pair.getLeftPropertyValue(property))`flat(pair.getRightPropertyValue(property)));" is 238.,27
javers_javers,org.javers.core.diff.appenders,DiffAppendersModule,getImplementations,Long Statement,The length of the statement "return (Collection)Lists.asList(NewObjectAppender.class`MapChangeAppender.class`CollectionAsListChangeAppender.class`listChangeAppender`SetChangeAppender.class`ArrayChangeAppender.class`ObjectRemovedAppender.class`ReferenceChangeAppender.class`OptionalChangeAppender.class`ValueChangeAppender.class);" is 300.,23
javers_javers,org.javers.core.diff.appenders,ListToMapAppenderAdapter,calculateChangesInList,Long Statement,The length of the statement "List<EntryChange> entryChanges=mapChangeAppender.calculateEntryChanges(asMap(leftList)`asMap(rightList)`listType.getItemJaversType());" is 134.,22
javers_javers,org.javers.core.diff.appenders,ArrayChangeAppender,calculateChanges,Long Statement,The length of the statement "return new ArrayChange(pair.createPropertyChangeMetadata(property)`elementChanges`pair.getLeftPropertyValueAndSanitize(property)`pair.getRightPropertyValueAndSanitize(property));" is 178.,33
javers_javers,org.javers.core.diff.appenders.levenshtein,LevenshteinListChangeAppender,createListChange,Long Parameter List,The method has 5 parameters. ,46
javers_javers,org.javers.core.diff.appenders.levenshtein,StepsToChanges,convert,Complex Method,Cyclomatic complexity of the method is 8,20
javers_javers,org.javers.core.diff.changetype,ReferenceChange,ReferenceChange,Long Parameter List,The method has 5 parameters. ,23
javers_javers,org.javers.core.diff.changetype,ReferenceChange,prettyPrint,Long Statement,The length of the statement "return valuePrinter.formatWithQuotes(getPropertyNameWithPath()) + " property with reference " + valuePrinter.formatWithQuotes(getRight())+ " added";" is 148.,69
javers_javers,org.javers.core.diff.changetype,ReferenceChange,prettyPrint,Long Statement,The length of the statement "return valuePrinter.formatWithQuotes(getPropertyNameWithPath()) + " property with reference " + valuePrinter.formatWithQuotes(getLeft())+ " removed";" is 149.,69
javers_javers,org.javers.core.diff.changetype,ReferenceChange,prettyPrint,Long Statement,The length of the statement "return valuePrinter.formatWithQuotes(getPropertyNameWithPath()) + " reference " + valuePrinter.formatWithQuotes(getLeft())+ " unset";" is 133.,69
javers_javers,org.javers.core.diff.changetype,ReferenceChange,prettyPrint,Long Statement,The length of the statement "return valuePrinter.formatWithQuotes(getPropertyNameWithPath()) + " reference changed: " + valuePrinter.formatWithQuotes(getLeft())+ " -> "+ valuePrinter.formatWithQuotes(getRight());" is 183.,69
javers_javers,org.javers.core.diff.changetype,ReferenceChange,equals,Long Statement,The length of the statement "return super.equals(that) && Objects.equals(this.getLeft()`that.getLeft()) && Objects.equals(this.getRight()`that.getRight());" is 126.,95
javers_javers,org.javers.core.diff.changetype,ReferenceChange,toString,Long Statement,The length of the statement "return this.getClass().getSimpleName() + "{ property: '" + getPropertyName()+ "'`"+ " left:"+ valuePrinter.formatWithQuotes(getLeft())+ "` "+ " right:"+ valuePrinter.formatWithQuotes(getRight())+ " }";" is 201.,114
javers_javers,org.javers.core.diff.changetype,ValueChange,prettyPrint,Long Statement,The length of the statement "return valuePrinter.formatWithQuotes(getPropertyNameWithPath()) + " property with value " + valuePrinter.formatWithQuotes(right.unwrap())+ " added";" is 148.,33
javers_javers,org.javers.core.diff.changetype,ValueChange,prettyPrint,Long Statement,The length of the statement "return valuePrinter.formatWithQuotes(getPropertyNameWithPath()) + " property with value " + valuePrinter.formatWithQuotes(left.unwrap())+ " removed";" is 149.,33
javers_javers,org.javers.core.diff.changetype,ValueChange,prettyPrint,Long Statement,The length of the statement "return valuePrinter.formatWithQuotes(getPropertyNameWithPath()) + " value " + valuePrinter.formatWithQuotes(getLeft())+ " unset";" is 129.,33
javers_javers,org.javers.core.diff.changetype,ValueChange,prettyPrint,Long Statement,The length of the statement "return valuePrinter.formatWithQuotes(getPropertyNameWithPath()) + " changed: " + valuePrinter.formatWithQuotes(getLeft())+ " -> "+ valuePrinter.formatWithQuotes(getRight());" is 173.,33
javers_javers,org.javers.core.diff.changetype,ValueChange,equals,Long Statement,The length of the statement "return super.equals(that) && Objects.equals(this.getLeft()`that.getLeft()) && Objects.equals(this.getRight()`that.getRight());" is 126.,59
javers_javers,org.javers.core.diff.changetype,ValueChange,toString,Long Statement,The length of the statement "return this.getClass().getSimpleName() + "{ property: '" + getPropertyName()+ "'`"+ " left:"+ printer.formatWithQuotes(getLeft())+ "` "+ " right:"+ printer.formatWithQuotes(getRight())+ " }";" is 191.,78
javers_javers,org.javers.core.diff.changetype.map,KeyValueChange,toString,Long Statement,The length of the statement "return this.getClass().getSimpleName() + "{ property: '" + getPropertyName()+ "'`"+ " entryChanges:"+ changes.size()+ " }";" is 123.,96
javers_javers,org.javers.core.diff.changetype.map,EntryValueChange,prettyPrint,Long Statement,The length of the statement "return "· entry [" + valuePrinter.formatWithQuotes(getKey()) + " : "+ valuePrinter.formatWithQuotes(getLeftValue())+ "] -> ["+ valuePrinter.formatWithQuotes(getKey())+ " : "+ valuePrinter.formatWithQuotes(getRightValue())+ "]";" is 227.,46
javers_javers,org.javers.core.diff.changetype.map,EntryValueChange,equals,Long Statement,The length of the statement "return super.equals(that) && Objects.equals(this.leftValue`that.leftValue) && Objects.equals(this.rightValue`that.rightValue);" is 126.,54
javers_javers,org.javers.core.diff.changetype.map,EntryAdded,prettyPrint,Long Statement,The length of the statement "return "· entry [" + valuePrinter.formatWithQuotes(getKey()) + " : "+ valuePrinter.formatWithQuotes(getValue())+ "] added";" is 123.,23
javers_javers,org.javers.core.diff.changetype.map,EntryRemoved,prettyPrint,Long Statement,The length of the statement "return "· entry [" + valuePrinter.formatWithQuotes(getKey()) + " : "+ valuePrinter.formatWithQuotes(getValue())+ "] removed";" is 125.,23
javers_javers,org.javers.core.diff.changetype.container,ContainerChange,toString,Long Statement,The length of the statement "return this.getClass().getSimpleName() + "{ property: '" + getPropertyName()+ "'`"+ " elementChanges:"+ changes.size()+ "` left.size: "+ getLeftSize()+ "` right.size: "+ getRightSize()+ "}";" is 190.,107
javers_javers,org.javers.core.diff.changetype.container,ElementValueChange,prettyPrint,Long Statement,The length of the statement "return getIndex() + ". " + valuePrinter.formatWithQuotes(getLeftValue())+ " changed to "+ valuePrinter.formatWithQuotes(getRightValue());" is 137.,37
javers_javers,org.javers.core.diff.changetype.container,ElementValueChange,equals,Long Statement,The length of the statement "return super.equals(that) && Objects.equals(this.getLeftValue()`that.getLeftValue()) && Objects.equals(this.getRightValue()`that.getRightValue());" is 146.,44
javers_javers,org.javers.core.commit,HandedOutIds,maintainQueueSize,Magic Number,The method contains a magic number: 2,35
javers_javers,org.javers.core.commit,HandedOutIds,maintainQueueSize,Magic Number,The method contains a magic number: 10,35
javers_javers,org.javers.core.commit,CommitFactoryModule,getImplementations,Long Statement,The length of the statement "return (Collection)Lists.asList(CommitFactory.class`CommitSeqGenerator.class`CommitIdFactory.class`DistributedCommitSeqGenerator.class);" is 136.,17
javers_javers,org.javers.core.commit,CommitId,valueOf,Magic Number,The method contains a magic number: 2,26
javers_javers,org.javers.core.commit,CommitId,valueOf,Magic Number,The method contains a magic number: 2,36
javers_javers,org.javers.core.commit,CommitId,valueAsNumber,Magic Number,The method contains a magic number: 2,56
javers_javers,org.javers.core.commit,CommitId,valueAsNumber,Magic Number,The method contains a magic number: 2,56
javers_javers,org.javers.core.commit,CommitMetadata,CommitMetadata,Long Parameter List,The method has 5 parameters. ,23
javers_javers,org.javers.core.commit,NullCommitMetadata,NullCommitMetadata,Long Parameter List,The method has 5 parameters. ,10
javers_javers,org.javers.core.commit,CommitFactory,CommitFactory,Long Parameter List,The method has 8 parameters. ,40
javers_javers,org.javers.core.commit,CommitFactory,createCommit,Long Statement,The length of the statement "List<CdoSnapshot> changedCdoSnapshots=changedCdoSnapshotsFactory.create(currentGraph`latestSnapshotGraph.cdos()`commitMetadata);" is 128.,73
javers_javers,org.javers.core.snapshot,ChangedCdoSnapshotsFactory,createSnapshot,Long Statement,The length of the statement "return isNewlyCreated(previousSnapshot) ? createInitialSnapshot(commitMetadata`liveNode) : createUpdateSnapshot(commitMetadata`liveNode`previousSnapshot.get());" is 160.,49
javers_javers,org.javers.core.snapshot,SnapshotDiffer,addInitialChanges,Long Statement,The length of the statement "Diff initialDiff=diffFactory.create(emptySnapshotGraph()`snapshotGraph(initialSnapshot)`commitMetadata(initialSnapshot));" is 121.,54
javers_javers,org.javers.core.snapshot,SnapshotDiffer,addTerminalChanges,Long Statement,The length of the statement "Diff terminalDiff=diffFactory.create(snapshotGraph(previousSnapshot)`snapshotGraph(terminalSnapshot)`commitMetadata(terminalSnapshot));" is 135.,59
javers_javers,org.javers.core.snapshot,SnapshotDiffer,addChanges,Long Statement,The length of the statement "Diff diff=diffFactory.create(snapshotGraph(previousSnapshot)`snapshotGraph(currentSnapshot)`commitMetadata(currentSnapshot));" is 125.,67
javers_javers,org.javers.core.snapshot,SnapshotFactory,createTerminal,Long Statement,The length of the statement "return cdoSnapshot().withGlobalId(globalId).withManagedType(managedType).withCommitMetadata(commitMetadata).withType(TERMINAL).withVersion(previous != null ? (previous.getVersion() + 1) : 1).build();" is 199.,31
javers_javers,org.javers.core.snapshot,SnapshotFactory,createInitial,Long Statement,The length of the statement "return initSnapshotBuilder(liveNode`commitMetadata).withState(createSnapshotState(liveNode)).withType(INITIAL).markAllAsChanged().withVersion(1L).build();" is 154.,42
javers_javers,org.javers.core.snapshot,SnapshotFactory,createUpdate,Long Statement,The length of the statement "return initSnapshotBuilder(liveNode`commitMetadata).withState(createSnapshotState(liveNode)).withType(UPDATE).markChanged(previous).withVersion(previous.getVersion() + 1).build();" is 179.,51
javers_javers,org.javers.core.snapshot,SnapshotFactory,initSnapshotBuilder,Long Statement,The length of the statement "return cdoSnapshot().withGlobalId(liveNode.getGlobalId()).withCommitMetadata(commitMetadata).withManagedType(liveNode.getManagedType());" is 136.,102
javers_javers,org.javers.core.snapshot,SnapshotGraphFactory,createLatest,Long Statement,The length of the statement "Set<SnapshotNode> snapshotNodes=javersRepository.getLatest(globalIds).stream().map(SnapshotNode::new).collect(Collectors.toSet());" is 130.,22
javers_javers,org.javers.core.snapshot,SnapshotModule,getImplementations,Long Statement,The length of the statement "return (Collection)Lists.asList(SnapshotFactory.class`SnapshotDiffer.class`SnapshotGraphFactory.class`ChangedCdoSnapshotsFactory.class);" is 136.,17
javers_javers,org.javers.jodasupport,JodaAddOns,deserialize,Magic Number,The method contains a magic number: 19,17
javers_javers,org.javers.guava,MultimapType,MultimapType,Magic Number,The method contains a magic number: 2,25
javers_javers,org.javers.guava,MultimapTypeAdapter,fromJson,Magic Number,The method contains a magic number: 2,18
javers_javers,org.javers.guava,MultisetChangeAppender,calculateChanges,Long Statement,The length of the statement "return new MultisetChange(pair.createPropertyChangeMetadata(property)`entryChanges`(Multiset)pair.getLeftPropertyValue(property)`(Multiset)pair.getRightPropertyValue(property));" is 177.,35
javers_javers,org.javers.core.examples,ShadowStreamExample,shouldFindShadowsAndStream,Long Statement,The length of the statement "Employee employeeV5=shadows.filter(shadow -> shadow.getCommitId().getMajorId() == 5).map(shadow -> shadow.get()).findFirst().orElse(null);" is 138.,15
javers_javers,org.javers.core.examples,ShadowStreamExample,shouldFindShadowsAndStream,Magic Number,The method contains a magic number: 10,15
javers_javers,org.javers.core.examples,ShadowStreamExample,shouldFindShadowsAndStream,Magic Number,The method contains a magic number: 1_000,15
javers_javers,org.javers.core.examples,ShadowStreamExample,shouldFindShadowsAndStream,Magic Number,The method contains a magic number: 5,15
javers_javers,org.javers.core.examples,ShadowStreamExample,shouldFindShadowsAndStream,Magic Number,The method contains a magic number: 5_000,15
javers_javers,org.javers.core.examples,BasicEntityDiffExample,shouldCompareTwoEntities,Long Statement,The length of the statement "Employee frodoOld=EmployeeBuilder.Employee("Frodo").withAge(40).withPosition("Townsman").withSalary(10_000).withPrimaryAddress(new Address("Shire")).withSkills("management").withSubordinates(new Employee("Sam")).build();" is 220.,16
javers_javers,org.javers.core.examples,BasicEntityDiffExample,shouldCompareTwoEntities,Long Statement,The length of the statement "Employee frodoNew=EmployeeBuilder.Employee("Frodo").withAge(41).withPosition("Hero").withBoss(new Employee("Gandalf")).withPrimaryAddress(new Address("Mordor")).withSalary(12_000).withSkills("management"`"agile coaching").withSubordinates(new Employee("Sméagol")`new Employee("Sam")).build();" is 292.,16
javers_javers,org.javers.core.examples,BasicEntityDiffExample,shouldCompareTwoEntities,Magic Number,The method contains a magic number: 40,16
javers_javers,org.javers.core.examples,BasicEntityDiffExample,shouldCompareTwoEntities,Magic Number,The method contains a magic number: 10_000,16
javers_javers,org.javers.core.examples,BasicEntityDiffExample,shouldCompareTwoEntities,Magic Number,The method contains a magic number: 41,16
javers_javers,org.javers.core.examples,BasicEntityDiffExample,shouldCompareTwoEntities,Magic Number,The method contains a magic number: 12_000,16
javers_javers,org.javers.core.examples,BasicEntityDiffExample,shouldCompareTwoEntities,Magic Number,The method contains a magic number: 14,16
javers_javers,org.javers.core.examples,EmployeeHierarchiesDiffExample,shouldDetectHired,Long Statement,The length of the statement "Employee newBoss=new Employee("Big Boss").addSubordinates(new Employee("Great Developer")`new Employee("Hired One")`new Employee("Hired Second"));" is 146.,13
javers_javers,org.javers.core.examples,EmployeeHierarchiesDiffExample,shouldDetectHired,Long Statement,The length of the statement "assertThat(diff.getObjectsByChangeType(NewObject.class)).hasSize(2).containsOnly(new Employee("Hired One")`new Employee("Hired Second"));" is 137.,13
javers_javers,org.javers.core.examples,EmployeeHierarchiesDiffExample,shouldDetectHired,Magic Number,The method contains a magic number: 2,13
javers_javers,org.javers.core.examples,EmployeeHierarchiesDiffExample,shouldDetectFired,Long Statement,The length of the statement "Employee oldBoss=new Employee("Big Boss").addSubordinates(new Employee("Great Developer")`new Employee("Team Lead").addSubordinates(new Employee("Another Dev")`new Employee("To Be Fired")));" is 190.,39
javers_javers,org.javers.core.examples,EmployeeHierarchiesDiffExample,shouldDetectFired,Long Statement,The length of the statement "Employee newBoss=new Employee("Big Boss").addSubordinates(new Employee("Great Developer")`new Employee("Team Lead").addSubordinates(new Employee("Another Dev")));" is 162.,39
javers_javers,org.javers.core.examples,EmployeeHierarchiesDiffExample,shouldDetectSalaryChange,Long Statement,The length of the statement "Employee oldBoss=new Employee("Big Boss").addSubordinates(new Employee("Noisy Manager")`new Employee("Great Developer"`10000));" is 127.,67
javers_javers,org.javers.core.examples,EmployeeHierarchiesDiffExample,shouldDetectSalaryChange,Long Statement,The length of the statement "Employee newBoss=new Employee("Big Boss").addSubordinates(new Employee("Noisy Manager")`new Employee("Great Developer"`20000));" is 127.,67
javers_javers,org.javers.core.examples,EmployeeHierarchiesDiffExample,shouldDetectSalaryChange,Magic Number,The method contains a magic number: 10000,67
javers_javers,org.javers.core.examples,EmployeeHierarchiesDiffExample,shouldDetectSalaryChange,Magic Number,The method contains a magic number: 20000,67
javers_javers,org.javers.core.examples,EmployeeHierarchiesDiffExample,shouldDetectSalaryChange,Magic Number,The method contains a magic number: 10000,67
javers_javers,org.javers.core.examples,EmployeeHierarchiesDiffExample,shouldDetectSalaryChange,Magic Number,The method contains a magic number: 20000,67
javers_javers,org.javers.core.examples,EmployeeHierarchiesDiffExample,shouldDetectBossChange,Long Statement,The length of the statement "Employee oldBoss=new Employee("Big Boss").addSubordinates(new Employee("Manager One").addSubordinate(new Employee("Great Developer"))`new Employee("Manager Second"));" is 166.,95
javers_javers,org.javers.core.examples,EmployeeHierarchiesDiffExample,shouldDetectBossChange,Long Statement,The length of the statement "Employee newBoss=new Employee("Big Boss").addSubordinates(new Employee("Manager One")`new Employee("Manager Second").addSubordinate(new Employee("Great Developer")));" is 166.,95
javers_javers,org.javers.core.examples,ChangeLogExample,changesPrintingExampleWithGrouping,Magic Number,The method contains a magic number: 1_000,15
javers_javers,org.javers.core.examples,ChangeLogExample,changesPrintingExampleWithGrouping,Magic Number,The method contains a magic number: 10_000,15
javers_javers,org.javers.core.examples,ChangeLogExample,changesPrintingExampleWithGrouping,Magic Number,The method contains a magic number: 11_000,15
javers_javers,org.javers.core.examples,ChangeLogExample,changesPrintingExampleWithGrouping,Magic Number,The method contains a magic number: 2_000,15
javers_javers,org.javers.core.examples,ChangeLogExample,shouldPrintTextChangeLog,Magic Number,The method contains a magic number: 9_000,51
javers_javers,org.javers.core.examples,ChangeLogExample,shouldPrintTextChangeLog,Magic Number,The method contains a magic number: 11_000,51
javers_javers,org.javers.core.examples.model,Employee,Employee,Magic Number,The method contains a magic number: 10000,45
javers_javers,org.javers.core.examples.model,Employee,toString,Long Statement,The length of the statement "return ToStringBuilder.toString(this`"name"`name`"salary"`salary`"boss"`boss != null ? boss.name : ""`"subordinates"`subordinates.size()`"primaryAddress"`primaryAddress);" is 170.,169
javers_javers,org.javers.core.cases,ChangedPropertyNamesForNullifiedValuesCase,shouldCalculateChangedPropertyNamesForNullifiedValues,Magic Number,The method contains a magic number: 11,21
