Project Name,Package Name,Type Name,Method Name,Implementation Smell,Cause of the Smell,Method start line no
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,ConfluentAvroRecordBufferSerializer,createConfluentRecordHeader,Magic Number,The method contains a magic number: 5,36
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,ConfluentAvroRecordBufferSerializer,createConfluentRecordHeader,Magic Number,The method contains a magic number: 24,36
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,ConfluentAvroRecordBufferSerializer,createConfluentRecordHeader,Magic Number,The method contains a magic number: 0xff,36
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,ConfluentAvroRecordBufferSerializer,createConfluentRecordHeader,Magic Number,The method contains a magic number: 2,36
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,ConfluentAvroRecordBufferSerializer,createConfluentRecordHeader,Magic Number,The method contains a magic number: 16,36
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,ConfluentAvroRecordBufferSerializer,createConfluentRecordHeader,Magic Number,The method contains a magic number: 0xff,36
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,ConfluentAvroRecordBufferSerializer,createConfluentRecordHeader,Magic Number,The method contains a magic number: 3,36
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,ConfluentAvroRecordBufferSerializer,createConfluentRecordHeader,Magic Number,The method contains a magic number: 8,36
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,ConfluentAvroRecordBufferSerializer,createConfluentRecordHeader,Magic Number,The method contains a magic number: 0xff,36
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,ConfluentAvroRecordBufferSerializer,createConfluentRecordHeader,Magic Number,The method contains a magic number: 4,36
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,ConfluentAvroRecordBufferSerializer,createConfluentRecordHeader,Magic Number,The method contains a magic number: 0xff,36
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,Serializers,createConfluentAvroSerializer,Long Statement,The length of the statement "return schema.confluentId.map(ConfluentAvroRecordBufferSerializer::new).orElseThrow(() -> new IllegalArgumentException("Cannot create Confluent-compatible serializer without registry id"));" is 189.,40
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,KafkaFlusher,sendBatch,Long Statement,The length of the statement "final List<Future<RecordMetadata>> sendResults=batch.stream().map(producer::send).collect(Collectors.toCollection(() -> new ArrayList<>(batchSize)));" is 149.,57
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,KafkaFlusher,sendBatch,Long Statement,The length of the statement "logger.debug("Finished sending event (partyId={}) to Kafka: topic/partition/offset = {}/{}/{}"`record.key()`metadata.topic()`metadata.partition()`metadata.offset());" is 165.,57
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,KafkaFlushingPool,KafkaFlushingPool,Long Parameter List,The method has 5 parameters. ,32
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,KafkaFlushingPool,KafkaFlushingPool,Long Statement,The length of the statement "super(numThreads`maxWriteQueue`String.format("Kafka Flusher [%s]"`Objects.requireNonNull(name))`() -> new KafkaFlusher(topic`producer));" is 136.,32
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,ConfluentAvroRecordBufferSerializerTest,serializedRecordsAreConfluentCompatible,Magic Number,The method contains a magic number: 0x1DEFACED,34
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,ConfluentAvroRecordBufferSerializerTest,serializedRecordsAreConfluentCompatible,Magic Number,The method contains a magic number: 0x1d,34
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,ConfluentAvroRecordBufferSerializerTest,serializedRecordsAreConfluentCompatible,Magic Number,The method contains a magic number: 0xef,34
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,ConfluentAvroRecordBufferSerializerTest,serializedRecordsAreConfluentCompatible,Magic Number,The method contains a magic number: 2,34
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,ConfluentAvroRecordBufferSerializerTest,serializedRecordsAreConfluentCompatible,Magic Number,The method contains a magic number: 0xac,34
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,ConfluentAvroRecordBufferSerializerTest,serializedRecordsAreConfluentCompatible,Magic Number,The method contains a magic number: 3,34
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,ConfluentAvroRecordBufferSerializerTest,serializedRecordsAreConfluentCompatible,Magic Number,The method contains a magic number: 0xed,34
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,ConfluentAvroRecordBufferSerializerTest,serializedRecordsAreConfluentCompatible,Magic Number,The method contains a magic number: 4,34
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,ConfluentAvroRecordBufferSerializerTest,serializedRecordsAreConfluentCompatible,Magic Number,The method contains a magic number: 5,34
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,ConfluentAvroRecordBufferSerializerTest,generateAvroRecord,Long Statement,The length of the statement "final GenericRecord record=new GenericRecordBuilder(DefaultEventRecord.getClassSchema()).set("detectedDuplicate"`false).set("detectedCorruption"`false).set("firstInSession"`false).set("timestamp"`Instant.EPOCH.toEpochMilli()).set("clientTimestamp"`0L).set("remoteHost"`"localhost").build();" is 290.,53
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,ConfluentAvroRecordBufferSerializerTest,generateAvroRecord,Long Statement,The length of the statement "return AvroRecordBuffer.fromRecord(DivolteIdentifier.generate(0L)`DivolteIdentifier.generate(1L)`"-"`Instant.EPOCH`record);" is 123.,53
divolte_divolte-collector,io.divolte.server.topicsinks.kafka,DivolteIdentifierSerializerTest,serializerShouldPrependIdWithVersion,Magic Number,The method contains a magic number: 42,26
divolte_divolte-collector,io.divolte.server.topicsinks,TopicFlusher,process,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@43a66540,51
divolte_divolte-collector,io.divolte.server.topicsinks.pubsub,GoogleCloudPubSubFlusher,buildRecord,Long Identifier,The length of the field MESSAGE_ATTRIBUTE_SCHEMA_FINGERPRINT is 36.,77
divolte_divolte-collector,io.divolte.server.topicsinks.pubsub,GoogleCloudPubSubFlusher,buildRecord,Long Identifier,The length of the field MESSAGE_ATTRIBUTE_SCHEMA_CONFLUENT_ID is 37.,77
divolte_divolte-collector,io.divolte.server.topicsinks.pubsub,GoogleCloudPubSubFlusher,buildRecord,Long Statement,The length of the statement "final PubsubMessage.Builder builder=PubsubMessage.newBuilder().putAttributes(MESSAGE_ATTRIBUTE_SCHEMA_FINGERPRINT`schemaFingerprint).putAttributes(MESSAGE_ATTRIBUTE_PARTYID`record.getPartyId().toString()).putAttributes(MESSAGE_ATTRIBUTE_EVENTID`record.getEventId()).putAttributes(MESSAGE_ATTRIBUTE_TIMESTAMP`DateTimeFormatter.ISO_INSTANT.format(record.getTimestamp())).setData(ByteString.copyFrom(record.getByteBuffer()));" is 422.,77
divolte_divolte-collector,io.divolte.server.topicsinks.pubsub,GoogleCloudPubSubFlusher,buildRecord,Long Statement,The length of the statement "return schemaConfluentId.map(id -> builder.putAttributes(MESSAGE_ATTRIBUTE_SCHEMA_CONFLUENT_ID`id)).orElse(builder).build();" is 124.,77
divolte_divolte-collector,io.divolte.server.topicsinks.pubsub,GoogleCloudPubSubFlusher,sendBatch,Long Statement,The length of the statement "final List<ApiFuture<String>> sendResults=batch.stream().map(publisher::publish).collect(Collectors.toCollection(() -> new ArrayList<>(batchSize)));" is 148.,91
divolte_divolte-collector,io.divolte.server.topicsinks.pubsub,GoogleCloudPubSubFlusher,sendBatch,Long Statement,The length of the statement "logger.debug("Finished sending event (partyId={}` eventId={}) to Pub/Sub: messageId = {}"`message.getAttributesOrDefault(MESSAGE_ATTRIBUTE_PARTYID`"N/A")`message.getAttributesOrDefault(MESSAGE_ATTRIBUTE_EVENTID`"N/A")`messageId);" is 229.,91
divolte_divolte-collector,io.divolte.server.topicsinks.pubsub,GoogleCloudPubSubFlusher,sendBatch,Long Statement,The length of the statement "logger.debug("Transient error sending event (partyId={}` eventId={}) to Pub/Sub; retrying."`message.getAttributesOrDefault(MESSAGE_ATTRIBUTE_PARTYID`"N/A")`message.getAttributesOrDefault(MESSAGE_ATTRIBUTE_EVENTID`"N/A")`cause);" is 227.,91
divolte_divolte-collector,io.divolte.server.topicsinks.pubsub,GoogleCloudPubSubFlusher,sendBatch,Long Statement,The length of the statement "logger.warn("Permanent error sending event (partyId={}` eventId={}) to Pub/Sub; abandoning."`message.getAttributesOrDefault(MESSAGE_ATTRIBUTE_PARTYID`"N/A")`message.getAttributesOrDefault(MESSAGE_ATTRIBUTE_EVENTID`"N/A")`cause);" is 228.,91
divolte_divolte-collector,io.divolte.server.topicsinks.pubsub,GoogleCloudPubSubFlusher,sendBatch,Long Statement,The length of the statement "logger.error("Unknown error sending event (partyId={}` eventId={}) to Pub/Sub; abandoning."`message.getAttributesOrDefault(MESSAGE_ATTRIBUTE_PARTYID`"N/A")`message.getAttributesOrDefault(MESSAGE_ATTRIBUTE_EVENTID`"N/A")`cause);" is 227.,91
divolte_divolte-collector,io.divolte.server.topicsinks.pubsub,GoogleCloudPubSubFlushingPool,GoogleCloudPubSubFlushingPool,Long Parameter List,The method has 6 parameters. ,35
divolte_divolte-collector,io.divolte.server.topicsinks.pubsub,GoogleCloudPubSubFlushingPool,GoogleCloudPubSubFlushingPool,Long Statement,The length of the statement "super(numThreads`maxWriteQueue`String.format("Google Cloud Pub/Sub Flusher [%s]"`Objects.requireNonNull(name))`() -> new GoogleCloudPubSubFlusher(publisher`schema));" is 165.,35
divolte_divolte-collector,io.divolte.server.topicsinks.pubsub,GoogleCloudPubSubFlusherTest,resetMessages,Long Statement,The length of the statement "when(mockPublisher.publish(any(PubsubMessage.class))).thenAnswer(invocationOnMock -> completedFuture(String.valueOf(messageIdCounter++)));" is 138.,83
divolte_divolte-collector,io.divolte.server.topicsinks.pubsub,GoogleCloudPubSubFlusherTest,generateMessage,Long Statement,The length of the statement "final GenericRecord record=new GenericRecordBuilder(MINIMAL_SCHEMA).set("partyId"`partyId.toString()).set("sessionId"`sessionId.toString()).set("counter"`generatedEventCounter++).build();" is 187.,105
divolte_divolte-collector,io.divolte.server.topicsinks.pubsub,GoogleCloudPubSubFlusherTest,testMessageBatchSentToPublisher,Long Statement,The length of the statement "final Queue<Item<AvroRecordBuffer>> items=Stream.generate(this::generateMessage).limit(10).map(this::itemFromAvroRecordBuffer).collect(Collectors.toCollection(() -> new ArrayBlockingQueue<>(10)));" is 196.,159
divolte_divolte-collector,io.divolte.server.topicsinks.pubsub,GoogleCloudPubSubFlusherTest,testMessageBatchSentToPublisher,Magic Number,The method contains a magic number: 10,159
divolte_divolte-collector,io.divolte.server.topicsinks.pubsub,GoogleCloudPubSubFlusherTest,testMessageBatchSentToPublisher,Magic Number,The method contains a magic number: 10,159
divolte_divolte-collector,io.divolte.server.topicsinks.pubsub,GoogleCloudPubSubFlusherTest,testMessageBatchSentToPublisher,Magic Number,The method contains a magic number: 10,159
divolte_divolte-collector,io.divolte.server.topicsinks.pubsub,GoogleCloudPubSubFlusherTest,testMessagesHavePartyIdAttribute,Long Statement,The length of the statement "assertEquals(partyId.orElseThrow(IllegalStateException::new).toString()`deliveredMessage.getAttributesOrThrow("partyIdentifier"));" is 130.,199
divolte_divolte-collector,io.divolte.server.topicsinks.pubsub,GoogleCloudPubSubFlusherTest,testMessagesHaveEventIdAttribute,Long Statement,The length of the statement "assertEquals(sessionId.orElseThrow(IllegalStateException::new).toString() + "-0"`deliveredMessage.getAttributesOrThrow("eventIdentifier"));" is 139.,207
divolte_divolte-collector,io.divolte.server.topicsinks.pubsub,GoogleCloudPubSubFlusherTest,testMessagesHaveSchemaFingerprint,Long Statement,The length of the statement "final String expectedFingerPrint=BaseEncoding.base64Url().encode(Hashing.sha256().hashString(SchemaNormalization.toParsingForm(MINIMAL_SCHEMA)`StandardCharsets.UTF_8).asBytes()).replace("="`"");" is 194.,222
divolte_divolte-collector,io.divolte.server.topicsinks.pubsub,GoogleCloudPubSubFlusherTest,testMessagesHaveConfluentIdIfKnown,Magic Number,The method contains a magic number: 0x252,239
divolte_divolte-collector,io.divolte.server.topicsinks.pubsub,GoogleCloudPubSubFlusherTest,testMessagesAreRetriedOnRetriableFailure,Long Statement,The length of the statement "when(publisher.publish(any(PubsubMessage.class))).thenReturn(failedFuture(new ApiException("simulated transient failure"`new IOException()`GrpcStatusCode.of(Status.Code.INTERNAL)`true))).thenAnswer(invocationOnMock -> completedFuture(String.valueOf(messageIdCounter++)));" is 271.,246
divolte_divolte-collector,io.divolte.server.topicsinks.pubsub,GoogleCloudPubSubFlusherTest,testMessagesAreRetriedOnRetriableFailure,Magic Number,The method contains a magic number: 2,246
divolte_divolte-collector,io.divolte.server.topicsinks.pubsub,GoogleCloudPubSubFlusherTest,testMessagesAreAbandonedOnNonRetriableFailure,Long Statement,The length of the statement "when(publisher.publish(any(PubsubMessage.class))).thenReturn(failedFuture(new ApiException("simulated permanent failure"`new IOException()`GrpcStatusCode.of(Status.Code.NOT_FOUND)`false)));" is 189.,265
divolte_divolte-collector,io.divolte.server,ClientSideCookieEventHandler,ClientSideCookieEventHandler,Long Statement,The length of the statement "this.transparentImage=ByteBuffer.wrap(Resources.toByteArray(Resources.getResource("transparent1x1.gif"))).asReadOnlyBuffer();" is 125.,87
divolte_divolte-collector,io.divolte.server,ClientSideCookieEventHandler,handleRequest,Long Statement,The length of the statement "exchange.getResponseHeaders().put(Headers.CONTENT_TYPE`"image/gif").put(Headers.ETAG`SENTINEL_ETAG_VALUE).put(Headers.CACHE_CONTROL`"private` no-cache` proxy-revalidate").put(Headers.PRAGMA`"no-cache").put(Headers.EXPIRES`"Fri` 14 Apr 1995 11:30:00 GMT");" is 255.,100
divolte_divolte-collector,io.divolte.server,ClientSideCookieEventHandler,handleRequest,Long Statement,The length of the statement "logger.debug("Improper request received from {}."`Optional.ofNullable(exchange.getSourceAddress()).map(InetSocketAddress::getHostString).orElse("<UNKNOWN HOST>"));" is 163.,100
divolte_divolte-collector,io.divolte.server,ClientSideCookieEventHandler,logEvent,Long Statement,The length of the statement "final DivolteIdentifier partyId=queryParamFromExchange(exchange`PARTY_ID_QUERY_PARAM).flatMap(DivolteIdentifier::tryParse).orElseThrow(IncompleteRequestException::new);" is 168.,148
divolte_divolte-collector,io.divolte.server,ClientSideCookieEventHandler,browserEventData,Long Identifier,The length of the field VIEWPORT_PIXEL_WIDTH_QUERY_PARAM is 32.,194
divolte_divolte-collector,io.divolte.server,ClientSideCookieEventHandler,browserEventData,Long Identifier,The length of the field VIEWPORT_PIXEL_HEIGHT_QUERY_PARAM is 33.,194
divolte_divolte-collector,io.divolte.server,ClientSideCookieEventHandler,browserEventData,Long Identifier,The length of the field SCREEN_PIXEL_WIDTH_QUERY_PARAM is 30.,194
divolte_divolte-collector,io.divolte.server,ClientSideCookieEventHandler,browserEventData,Long Identifier,The length of the field SCREEN_PIXEL_HEIGHT_QUERY_PARAM is 31.,194
divolte_divolte-collector,io.divolte.server,ClientSideCookieEventHandler,browserEventData,Long Identifier,The length of the field DEVICE_PIXEL_RATIO_QUERY_PARAM is 30.,194
divolte_divolte-collector,io.divolte.server,ClientSideCookieEventHandler,browserEventData,Long Statement,The length of the statement "return new DivolteEvent.BrowserEventData(pageViewId`queryParamFromExchange(exchange`LOCATION_QUERY_PARAM)`queryParamFromExchange(exchange`REFERER_QUERY_PARAM)`queryParamFromExchange(exchange`VIEWPORT_PIXEL_WIDTH_QUERY_PARAM).map(ClientSideCookieEventHandler::tryParseBase36Int)`queryParamFromExchange(exchange`VIEWPORT_PIXEL_HEIGHT_QUERY_PARAM).map(ClientSideCookieEventHandler::tryParseBase36Int)`queryParamFromExchange(exchange`SCREEN_PIXEL_WIDTH_QUERY_PARAM).map(ClientSideCookieEventHandler::tryParseBase36Int)`queryParamFromExchange(exchange`SCREEN_PIXEL_HEIGHT_QUERY_PARAM).map(ClientSideCookieEventHandler::tryParseBase36Int)`queryParamFromExchange(exchange`DEVICE_PIXEL_RATIO_QUERY_PARAM).map(ClientSideCookieEventHandler::tryParseBase36Int));" is 751.,194
divolte_divolte-collector,io.divolte.server,ClientSideCookieEventHandler,isRequestChecksumCorrect,Long Statement,The length of the statement "return queryParamFromExchange(exchange`CHECKSUM_QUERY_PARAM).map(ClientSideCookieEventHandler::tryParseBase36Long).map((expectedChecksum) -> {" is 142.,208
divolte_divolte-collector,io.divolte.server,ClientSideCookieEventHandler,isRequestChecksumCorrect,Long Statement,The length of the statement "logger.debug("Checksum mismatch detected; expected {} but was {} for request string: {}"`Long.toString(expectedChecksum`36)`Integer.toString(requestChecksum`36)`canonicalRequestString);" is 185.,208
divolte_divolte-collector,io.divolte.server,ClientSideCookieEventHandler,isRequestChecksumCorrect,Magic Number,The method contains a magic number: 36,208
divolte_divolte-collector,io.divolte.server,ClientSideCookieEventHandler,isRequestChecksumCorrect,Magic Number,The method contains a magic number: 36,208
divolte_divolte-collector,io.divolte.server,ClientSideCookieEventHandler,tryParseBase36Long,Magic Number,The method contains a magic number: 36,263
divolte_divolte-collector,io.divolte.server,ClientSideCookieEventHandler,tryParseBase36Int,Magic Number,The method contains a magic number: 36,272
divolte_divolte-collector,io.divolte.server,Mapping,Mapping,Long Parameter List,The method has 5 parameters. ,45
divolte_divolte-collector,io.divolte.server,Mapping,defaultRecordMapping,Long Statement,The length of the statement "final DslRecordMapping result=new DslRecordMapping(DefaultEventRecord.getClassSchema()`new UserAgentParserAndCache(vc)`Optional.empty());" is 137.,70
divolte_divolte-collector,io.divolte.server,Mapping,map,Complex Conditional,The conditional expression (keepDuplicates || !duplicate) && (keepCorrupted || !parsedEvent.corruptEvent) is complex.,102
divolte_divolte-collector,io.divolte.server,Mapping,map,Long Statement,The length of the statement "final AvroRecordBuffer avroBuffer=AvroRecordBuffer.fromRecord(parsedEvent.partyId`parsedEvent.sessionId`parsedEvent.eventId`parsedEvent.requestStartTime`avroRecord);" is 165.,102
divolte_divolte-collector,io.divolte.server,AsyncRequestBodyReceiver,receive,Long Statement,The length of the statement "final Optional<Integer> contentLength=Optional.ofNullable(exchange.getRequestHeaders().getFirst(Headers.CONTENT_LENGTH)).map(Ints::tryParse);" is 141.,78
divolte_divolte-collector,io.divolte.server,AsyncRequestBodyReceiver,receive,Long Statement,The length of the statement "final int provisionChunks=contentLength.map(AsyncRequestBodyReceiver::calculateChunks).orElseGet(preallocateChunks::get);" is 121.,78
divolte_divolte-collector,io.divolte.server,AsyncRequestBodyReceiver,receive,Long Statement,The length of the statement "logger.info("Rejecting request; anticipated content length ({}) will exceed exceed maximum allowed {})"`contentLength`maximumChunks * ChunkyByteBuffer.CHUNK_SIZE);" is 163.,78
divolte_divolte-collector,io.divolte.server,AsyncRequestBodyReceiver,receive,Complex Method,Cyclomatic complexity of the method is 8,133
divolte_divolte-collector,io.divolte.server,AsyncRequestBodyReceiver,receive,Long Statement,The length of the statement "ChunkyByteBuffer.fill(channel`provisionChunks`contentLength.isPresent() ? provisionChunks : maximumChunks`new ChunkyByteBuffer.CompletionHandler(){" is 147.,133
divolte_divolte-collector,io.divolte.server,AsyncRequestBodyReceiver,receive,Long Statement,The length of the statement "Connectors.executeRootHandler(exchange -> exchange.setStatusCode(StatusCodes.INTERNAL_SERVER_ERROR).endExchange()`exchange);" is 124.,133
divolte_divolte-collector,io.divolte.server,AsyncRequestBodyReceiver,receive,Long Statement,The length of the statement "logger.warn("Bad request from {}; content length ({}) didn't match actual body length ({})."`getPeerHost(exchange)`contentLength.orElse(-1)`bodyLength);" is 152.,133
divolte_divolte-collector,io.divolte.server,AsyncRequestBodyReceiver,receive,Long Statement,The length of the statement "logger.info("Updated default body buffer size from {} to {}"`currentNumChunks * ChunkyByteBuffer.CHUNK_SIZE`newNumChunks * ChunkyByteBuffer.CHUNK_SIZE);" is 152.,133
divolte_divolte-collector,io.divolte.server,AsyncRequestBodyReceiver,failed,Long Statement,The length of the statement "Connectors.executeRootHandler(exchange -> exchange.setStatusCode(StatusCodes.INTERNAL_SERVER_ERROR).endExchange()`exchange);" is 124.,161
divolte_divolte-collector,io.divolte.server,AsyncRequestBodyReceiver,completed,Long Statement,The length of the statement "logger.warn("Bad request from {}; content length ({}) didn't match actual body length ({})."`getPeerHost(exchange)`contentLength.orElse(-1)`bodyLength);" is 152.,170
divolte_divolte-collector,io.divolte.server,AsyncRequestBodyReceiver,completed,Long Statement,The length of the statement "logger.info("Updated default body buffer size from {} to {}"`currentNumChunks * ChunkyByteBuffer.CHUNK_SIZE`newNumChunks * ChunkyByteBuffer.CHUNK_SIZE);" is 152.,170
divolte_divolte-collector,io.divolte.server,JsonEventHandler,handleRequest,Long Statement,The length of the statement "logger.debug("Improper request received from {}."`Optional.ofNullable(exchange.getSourceAddress()).map(InetSocketAddress::getHostString).orElse("<UNKNOWN HOST>"));" is 163.,70
divolte_divolte-collector,io.divolte.server,JsonEventHandler,logEvent,Long Statement,The length of the statement "final DivolteIdentifier partyId=queryParamFromExchange(exchange`partyIdParameter).flatMap(DivolteIdentifier::tryParse).orElseThrow(IncompleteRequestException::new);" is 164.,97
divolte_divolte-collector,io.divolte.server,DivolteIdentifier,DivolteIdentifier,Magic Number,The method contains a magic number: 36,55
divolte_divolte-collector,io.divolte.server,DivolteIdentifier,equals,Long Statement,The length of the statement "return this == other || null != other && getClass() == other.getClass() && value.equals(((DivolteIdentifier)other).value);" is 122.,73
divolte_divolte-collector,io.divolte.server,DivolteIdentifier,tryParse,Long Statement,The length of the statement "return parts.size() == 3 && VERSION_STRING.equals(parts.get(0)) ? Optional.of(new DivolteIdentifier(Long.parseLong(parts.get(1)`36)`parts.get(2))) : Optional.empty();" is 166.,79
divolte_divolte-collector,io.divolte.server,DivolteIdentifier,tryParse,Magic Number,The method contains a magic number: 3,79
divolte_divolte-collector,io.divolte.server,DivolteIdentifier,tryParse,Magic Number,The method contains a magic number: 36,79
divolte_divolte-collector,io.divolte.server,DivolteIdentifier,tryParse,Magic Number,The method contains a magic number: 2,79
divolte_divolte-collector,io.divolte.server,DivolteIdentifier,generate,Magic Number,The method contains a magic number: 24,94
divolte_divolte-collector,io.divolte.server,JavaScriptHandler,handleRequest,Long Statement,The length of the statement "logger.debug("Requested received for {} from {}"`resource.getResourceName()`exchange.getSourceAddress().getHostString());" is 121.,63
divolte_divolte-collector,io.divolte.server,JavaScriptHandler,handleRequest,Long Statement,The length of the statement "if (null != acceptEncoding && acceptEncoding.stream().anyMatch((header) -> Iterables.contains(HEADER_SPLITTER.split(header)`"gzip"))) {" is 135.,63
divolte_divolte-collector,io.divolte.server,IncomingRequestProcessor,IncomingRequestProcessor,Long Parameter List,The method has 5 parameters. ,55
divolte_divolte-collector,io.divolte.server,IncomingRequestProcessor,IncomingRequestProcessor,Long Statement,The length of the statement "final Map<String`Mapping> mappingsByName=vc.configuration().mappings.entrySet().stream().collect(Collectors.toMap(Map.Entry::getKey`kv -> new Mapping(vc`kv.getKey()`geoipLookupService`schemaRegistry`listener)));" is 211.,55
divolte_divolte-collector,io.divolte.server,IncomingRequestProcessor,IncomingRequestProcessor,Long Statement,The length of the statement "final ArrayList<ImmutableList<Mapping>> sourceMappingResult=IntStream.range(0`vc.configuration().sources.size()).<ImmutableList<Mapping>>mapToObj(ignored -> ImmutableList.of()).collect(Collectors.toCollection(ArrayList::new));" is 226.,55
divolte_divolte-collector,io.divolte.server,IncomingRequestProcessor,IncomingRequestProcessor,Long Statement,The length of the statement "vc.configuration().mappings.entrySet().stream().flatMap(kv -> kv.getValue().sources.stream().map(s -> Maps.immutableEntry(vc.configuration().sourceIndex(s)`kv.getKey()))).collect(Collectors.groupingBy(Map.Entry::getKey`Collectors.mapping(e -> mappingsByName.get(e.getValue())`ImmutableList.toImmutableList()))).forEach(sourceMappingResult::set);" is 345.,55
divolte_divolte-collector,io.divolte.server,IncomingRequestProcessor,IncomingRequestProcessor,Long Statement,The length of the statement "final ArrayList<ImmutableList<ProcessingPool<?`AvroRecordBuffer>>> mappingMappingResult=IntStream.range(0`vc.configuration().mappings.size()).<ImmutableList<ProcessingPool<?`AvroRecordBuffer>>>mapToObj(ignored -> ImmutableList.of()).collect(Collectors.toCollection(ArrayList::new));" is 282.,55
divolte_divolte-collector,io.divolte.server,IncomingRequestProcessor,IncomingRequestProcessor,Long Statement,The length of the statement "vc.configuration().mappings.entrySet().stream().map(kv -> Maps.immutableEntry(vc.configuration().mappingIndex(kv.getKey())`kv.getValue().sinks.stream().filter(sinksByName::containsKey).map(sinksByName::get).collect(ImmutableList.toImmutableList()))).forEach(kv -> mappingMappingResult.set(kv.getKey()`kv.getValue()));" is 317.,55
divolte_divolte-collector,io.divolte.server,IncomingRequestProcessor,process,Long Statement,The length of the statement "logger.debug("Improper request received from {}."`Optional.ofNullable(item.payload.exchange.getSourceAddress()).map(InetSocketAddress::getHostString).orElse("<UNKNOWN HOST>"));" is 176.,140
divolte_divolte-collector,io.divolte.server,IncomingRequestProcessor,process,Long Statement,The length of the statement "mappingsBySourceIndex.get(item.sourceId).stream().map(mapping -> mapping.map(item`event`duplicate)).filter(Optional::isPresent).map(Optional::get).forEach(bufferItem -> sinksByMappingIndex.get(bufferItem.sourceId).forEach(sink -> sink.enqueue(bufferItem)));" is 257.,140
divolte_divolte-collector,io.divolte.server,PingHandler,handleRequest,Long Statement,The length of the statement "exchange.setStatusCode(HTTP_UNAVAILABLE).getResponseSender().send("No p*ng for you` shutting down"`StandardCharsets.UTF_8);" is 123.,45
divolte_divolte-collector,io.divolte.server,AllowedMethodsHandler,handleRequest,Long Statement,The length of the statement "exchange.getResponseHeaders().put(Headers.ALLOW`allowedMethodHeader).put(Headers.CONTENT_TYPE`"text/plain; charset=utf-8");" is 123.,54
divolte_divolte-collector,io.divolte.server,MappingTestServer,main,Long Statement,The length of the statement "final MappingTestServer server=new MappingTestServer(options.valueOf(parser.schemaOption)`options.valueOf(parser.mappingOption)`port`host);" is 139.,69
divolte_divolte-collector,io.divolte.server,MappingTestServer,handleEvent,Long Statement,The length of the statement "final DivolteEvent.BrowserEventData browserEventData=new DivolteEvent.BrowserEventData(get(payload`"page_view_id"`String.class).orElse(generatedPageViewId)`get(payload`"location"`String.class)`get(payload`"referer"`String.class)`get(payload`"viewport_pixel_width"`Integer.class)`get(payload`"viewport_pixel_height"`Integer.class)`get(payload`"screen_pixel_width"`Integer.class)`get(payload`"screen_pixel_height"`Integer.class)`get(payload`"device_pixel_ratio"`Integer.class));" is 476.,129
divolte_divolte-collector,io.divolte.server,MappingTestServer,handleEvent,Long Statement,The length of the statement "final DivolteEvent divolteEvent=DivolteEvent.createBrowserEvent(exchange`get(payload`"corrupt"`Boolean.class).orElse(false)`get(payload`"party_id"`String.class).flatMap(DivolteIdentifier::tryParse).orElse(DivolteIdentifier.generate())`get(payload`"session_id"`String.class).flatMap(DivolteIdentifier::tryParse).orElse(DivolteIdentifier.generate())`get(payload`"event_id"`String.class).orElse(generatedPageViewId + "0")`now`now`get(payload`"new_party_id"`Boolean.class).orElse(false)`get(payload`"first_in_session"`Boolean.class).orElse(false)`get(payload`"event_type"`String.class)`() -> get(payload`"parameters"`JsonNode.class)`browserEventData);" is 647.,129
divolte_divolte-collector,io.divolte.server,MappingTestServer,handleEvent,Long Statement,The length of the statement "exchange.getResponseChannel().write(ByteBuffer.wrap(mapper.newRecordFromExchange(divolteEvent).toString().getBytes(StandardCharsets.UTF_8)));" is 141.,129
divolte_divolte-collector,io.divolte.server,DivolteEvent,DivolteEvent,Long Parameter List,The method has 14 parameters. ,107
divolte_divolte-collector,io.divolte.server,DivolteEvent,createBrowserEvent,Long Parameter List,The method has 12 parameters. ,137
divolte_divolte-collector,io.divolte.server,DivolteEvent,createBrowserEvent,Long Statement,The length of the statement "return new DivolteEvent(originatingExchange`corruptEvent`partyCookie`sessionCookie`eventId`BrowserSource.EVENT_SOURCE_NAME`requestStartTime`clientUtcOffset`newPartyId`firstInSession`eventType`eventParametersProducer`Optional.of(browserEvent)`Optional.empty());" is 260.,137
divolte_divolte-collector,io.divolte.server,DivolteEvent,createJsonEvent,Long Parameter List,The method has 12 parameters. ,168
divolte_divolte-collector,io.divolte.server,DivolteEvent,createJsonEvent,Long Statement,The length of the statement "return new DivolteEvent(originatingExchange`false`partyCookie`sessionCookie`eventId`eventSource`requestStartTime`clientTime`newPartyId`firstInSession`eventType`eventParametersProducer`Optional.empty()`Optional.of(jsonEvent));" is 225.,168
divolte_divolte-collector,io.divolte.server,SchemaRegistry,SchemaRegistry,Long Statement,The length of the statement "final ImmutableMap<String`Optional<String>> schemaLocationsByMapping=ImmutableMap.copyOf(Maps.transformValues(mappings`config -> config.schemaFile));" is 149.,44
divolte_divolte-collector,io.divolte.server,SchemaRegistry,SchemaRegistry,Long Statement,The length of the statement "final ImmutableMap<Optional<String>`Schema> schemasByLocation=schemaLocationsByMapping.values().stream().distinct().collect(ImmutableMap.toImmutableMap(Function.identity()`SchemaRegistry::loadSchema));" is 201.,44
divolte_divolte-collector,io.divolte.server,SchemaRegistry,SchemaRegistry,Long Statement,The length of the statement "schemasByMappingName=ImmutableMap.copyOf(Maps.transformValues(mappings`config -> new DivolteSchema(schemasByLocation.get(config.schemaFile)`config.confluentId)));" is 162.,44
divolte_divolte-collector,io.divolte.server,ShortTermDuplicateMemory,isProbablyDuplicate,Long Statement,The length of the statement "final long signature=Longs.fromBytes(hashBytes[8]`hashBytes[9]`hashBytes[10]`hashBytes[11]`hashBytes[12]`hashBytes[13]`hashBytes[14]`hashBytes[15]);" is 148.,139
divolte_divolte-collector,io.divolte.server,ShortTermDuplicateMemory,isProbablyDuplicate,Magic Number,The method contains a magic number: 2,139
divolte_divolte-collector,io.divolte.server,ShortTermDuplicateMemory,isProbablyDuplicate,Magic Number,The method contains a magic number: 3,139
divolte_divolte-collector,io.divolte.server,ShortTermDuplicateMemory,isProbablyDuplicate,Magic Number,The method contains a magic number: 8,139
divolte_divolte-collector,io.divolte.server,ShortTermDuplicateMemory,isProbablyDuplicate,Magic Number,The method contains a magic number: 9,139
divolte_divolte-collector,io.divolte.server,ShortTermDuplicateMemory,isProbablyDuplicate,Magic Number,The method contains a magic number: 10,139
divolte_divolte-collector,io.divolte.server,ShortTermDuplicateMemory,isProbablyDuplicate,Magic Number,The method contains a magic number: 11,139
divolte_divolte-collector,io.divolte.server,ShortTermDuplicateMemory,isProbablyDuplicate,Magic Number,The method contains a magic number: 12,139
divolte_divolte-collector,io.divolte.server,ShortTermDuplicateMemory,isProbablyDuplicate,Magic Number,The method contains a magic number: 13,139
divolte_divolte-collector,io.divolte.server,ShortTermDuplicateMemory,isProbablyDuplicate,Magic Number,The method contains a magic number: 14,139
divolte_divolte-collector,io.divolte.server,ShortTermDuplicateMemory,isProbablyDuplicate,Magic Number,The method contains a magic number: 15,139
divolte_divolte-collector,io.divolte.server,Server,Server,Long Statement,The length of the statement "final ImmutableSet<String> referencedSinkNames=vc.configuration().mappings.values().stream().flatMap(mc -> mc.sinks.stream()).collect(ImmutableSet.toImmutableSet());" is 165.,64
divolte_divolte-collector,io.divolte.server,Server,Server,Long Statement,The length of the statement "sinks=vc.configuration().sinks.entrySet().stream().filter(sink -> referencedSinkNames.contains(sink.getKey())).filter(sink -> vc.configuration().global.hdfs.enabled || !(sink.getValue() instanceof HdfsSinkConfiguration)).filter(sink -> vc.configuration().global.gcs.enabled || !(sink.getValue() instanceof GoogleCloudStorageSinkConfiguration)).filter(sink -> vc.configuration().global.kafka.enabled || !(sink.getValue() instanceof KafkaSinkConfiguration)).filter(sink -> vc.configuration().global.gcps.enabled || !(sink.getValue() instanceof GoogleCloudPubSubSinkConfiguration)).collect(ImmutableMap.toImmutableMap(Map.Entry::getKey`sink -> sink.getValue().getFactory().create(vc`sink.getKey()`schemaRegistry)));" is 712.,64
divolte_divolte-collector,io.divolte.server,Server,Server,Long Statement,The length of the statement "final ImmutableMap<String`HttpSource> sources=vc.configuration().sources.entrySet().parallelStream().collect(ImmutableMap.toImmutableMap(Map.Entry::getKey`source -> source.getValue().createSource(vc`source.getKey()`incomingRequestProcessingPool)));" is 248.,64
divolte_divolte-collector,io.divolte.server,Server,Server,Long Statement,The length of the statement "final GracefulShutdownHandler rootHandler=new GracefulShutdownHandler(vc.configuration().global.server.useXForwardedFor ? new ProxyAdjacentPeerAddressHandler(canonicalPathHandler) : canonicalPathHandler);" is 204.,64
divolte_divolte-collector,io.divolte.server,Server,Server,Long Statement,The length of the statement "undertow=Undertow.builder().addHttpListener(port`host.orElse(null)).setHandler(vc.configuration().global.server.debugRequests ? new RequestDumpingHandler(rootHandler) : rootHandler).build();" is 190.,64
divolte_divolte-collector,io.divolte.server,Server,createStaticResourceHandler,Long Statement,The length of the statement "final ResourceManager cachedResources=new CachingResourceManager(100`65536`new DirectBufferCache(1024`10`10480)`staticResources`(int)Duration.ofDays(1).getSeconds());" is 166.,149
divolte_divolte-collector,io.divolte.server,Server,createStaticResourceHandler,Magic Number,The method contains a magic number: 100,149
divolte_divolte-collector,io.divolte.server,Server,createStaticResourceHandler,Magic Number,The method contains a magic number: 65536,149
divolte_divolte-collector,io.divolte.server,Server,createStaticResourceHandler,Magic Number,The method contains a magic number: 1024,149
divolte_divolte-collector,io.divolte.server,Server,createStaticResourceHandler,Magic Number,The method contains a magic number: 10,149
divolte_divolte-collector,io.divolte.server,Server,createStaticResourceHandler,Magic Number,The method contains a magic number: 10480,149
divolte_divolte-collector,io.divolte.server,ProxyAdjacentPeerAddressHandler,handleRequest,Long Statement,The length of the statement "Optional.ofNullable(exchange.getRequestHeaders().getFirst(Headers.X_FORWARDED_PROTO)).ifPresent(exchange::setRequestScheme);" is 124.,39
divolte_divolte-collector,io.divolte.server,AvroRecordBuffer,AvroRecordBuffer,Long Parameter List,The method has 5 parameters. ,48
divolte_divolte-collector,io.divolte.server,AvroRecordBuffer,fromRecord,Long Parameter List,The method has 5 parameters. ,93
divolte_divolte-collector,io.divolte.server,AvroRecordBuffer,fromRecord,Magic Number,The method contains a magic number: 1.1,93
divolte_divolte-collector,io.divolte.server,AvroRecordBuffer,toString,Long Statement,The length of the statement "return MoreObjects.toStringHelper(this).add("partyId"`getPartyId()).add("sessionId"`getSessionId()).add("size"`size()).toString();" is 130.,126
divolte_divolte-collector,io.divolte.server,JsonSource,JsonSource,Long Statement,The length of the statement "this(sourceName`vc.configuration().getSourceConfiguration(sourceName`JsonSourceConfiguration.class).eventPath`processingPool`vc.configuration().sourceIndex(sourceName)`vc.configuration().getSourceConfiguration(sourceName`JsonSourceConfiguration.class).partyIdParameter`vc.configuration().getSourceConfiguration(sourceName`JsonSourceConfiguration.class).maximumBodySize);" is 370.,37
divolte_divolte-collector,io.divolte.server,JsonSource,JsonSource,Long Parameter List,The method has 6 parameters. ,48
divolte_divolte-collector,io.divolte.server,ChunkyByteBuffer,ChunkyByteBuffer,Long Statement,The length of the statement "Preconditions.checkArgument(0 < initialChunkCount && initialChunkCount <= maxChunkCount`"Initial chunk count (%s) must be greater than 0 and less than or equal to the maximum chunk count (%s)"`initialChunkCount`maxChunkCount);" is 226.,59
divolte_divolte-collector,io.divolte.server,ChunkyByteBuffer,getBufferUsed,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@47855d5a,71
divolte_divolte-collector,io.divolte.server,ChunkyByteBuffer,fillBuffers,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@bd83f1d,91
divolte_divolte-collector,io.divolte.server,ChunkyByteBuffer,waitForEndOfStream,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@6a8042de,146
divolte_divolte-collector,io.divolte.server,JsonContentHandler,handleRequest,Complex Conditional,The conditional expression null != contentType && contentType.size() == 1 && contentType.getFirst().toLowerCase(Locale.ROOT).equals("application/json") is complex.,39
divolte_divolte-collector,io.divolte.server,JsonContentHandler,handleRequest,Long Statement,The length of the statement "if (null != contentType && contentType.size() == 1 && contentType.getFirst().toLowerCase(Locale.ROOT).equals("application/json")) {" is 131.,39
divolte_divolte-collector,io.divolte.server,IncomingRequestProcessingPool,IncomingRequestProcessingPool,Long Parameter List,The method has 5 parameters. ,53
divolte_divolte-collector,io.divolte.server,IncomingRequestProcessingPool,IncomingRequestProcessingPool,Long Statement,The length of the statement "super(vc.configuration().global.mapper.threads`vc.configuration().global.mapper.bufferSize`"Incoming Request Processor"`() -> new IncomingRequestProcessor(vc`sinksByName`geoipLookupService`schemaRegistry`listener));" is 215.,53
divolte_divolte-collector,io.divolte.server,BrowserSource,BrowserSource,Long Statement,The length of the statement "this(sourceName`vc.configuration().getSourceConfiguration(sourceName`BrowserSourceConfiguration.class).prefix`vc.configuration().getSourceConfiguration(sourceName`BrowserSourceConfiguration.class).eventSuffix`vc.configuration().getSourceConfiguration(sourceName`BrowserSourceConfiguration.class).httpResponseDelay`loadTrackingJavaScript(vc`sourceName)`processingPool`vc.configuration().sourceIndex(sourceName));" is 411.,48
divolte_divolte-collector,io.divolte.server,BrowserSource,BrowserSource,Long Parameter List,The method has 7 parameters. ,60
divolte_divolte-collector,io.divolte.server,BrowserSource,BrowserSource,Long Statement,The length of the statement "final ClientSideCookieEventHandler clientSideCookieEventHandler=new ClientSideCookieEventHandler(processingPool`sourceIndex);" is 125.,60
divolte_divolte-collector,io.divolte.server,BrowserSource,BrowserSource,Long Statement,The length of the statement "final HttpHandler delayedHandler=httpResponseDelay.isZero() ? clientSideCookieEventHandler : new ResponseDelayingHandler(clientSideCookieEventHandler`httpResponseDelay.toNanos()`TimeUnit.NANOSECONDS);" is 200.,60
divolte_divolte-collector,io.divolte.server,SeleniumJavaScriptTest,shouldRegenerateIDsOnForwardNavigation,Long Statement,The length of the statement "final Runnable[] actions={() -> gotoPage(BASIC)`() -> gotoPage(BASIC_COPY)`driver.navigate()::back`driver.navigate()::forward};" is 127.,94
divolte_divolte-collector,io.divolte.server,SeleniumJavaScriptTest,shouldSignalWhenLateLoaded,Magic Number,The method contains a magic number: 30,110
divolte_divolte-collector,io.divolte.server,SeleniumJavaScriptTest,shouldGenerateIDsOnComplexSeriesOfEvents,Long Statement,The length of the statement "final Runnable[] actions={() -> gotoPage(BASIC)`() -> gotoPage(BASIC_COPY)`() -> gotoPage(BASIC)`() -> gotoPage(BASIC_COPY)`() -> gotoPage(BASIC)`driver.navigate()::back`driver.navigate()::back`() -> driver.findElement(By.id("custom")).click()`driver.navigate()::forward`driver.navigate()::refresh`driver.navigate()::back`() -> gotoPage(PAGE_VIEW_SUPPLIED)`driver.navigate()::back};" is 382.,130
divolte_divolte-collector,io.divolte.server,SeleniumJavaScriptTest,shouldSignalWhenOpeningPage,Long Statement,The length of the statement "assertThat(eventData.clientTime`allOf(greaterThan(now.minus(12`ChronoUnit.HOURS))`lessThan(now.plus(12`ChronoUnit.HOURS))));" is 124.,192
divolte_divolte-collector,io.divolte.server,SeleniumJavaScriptTest,shouldSignalWhenOpeningPage,Magic Number,The method contains a magic number: 12,192
divolte_divolte-collector,io.divolte.server,SeleniumJavaScriptTest,shouldSignalWhenOpeningPage,Magic Number,The method contains a magic number: 12,192
divolte_divolte-collector,io.divolte.server,SeleniumJavaScriptTest,shouldSignalWhenOpeningPage,Magic Number,The method contains a magic number: 50,192
divolte_divolte-collector,io.divolte.server,SeleniumJavaScriptTest,shouldSignalWhenOpeningPage,Magic Number,The method contains a magic number: 50,192
divolte_divolte-collector,io.divolte.server,SeleniumJavaScriptTest,shouldSignalWhenOpeningPage,Magic Number,The method contains a magic number: 50,192
divolte_divolte-collector,io.divolte.server,SeleniumJavaScriptTest,shouldSignalWhenOpeningPage,Magic Number,The method contains a magic number: 50,192
divolte_divolte-collector,io.divolte.server,SeleniumJavaScriptTest,shouldSendCustomEvent,Long Statement,The length of the statement "assertEquals("{\"a\":{}`" + "\"b\":\"c\"`" + "\"c\":\"A string with lots of things to escape\u2026 !+~?=;()-_[]<>%|^`&\\\"'\"`"+ "\"d\":{\"a\":[]`\"b\":\"g\"}`"+ "\"e\":[\"1\"`\"2\"]`"+ "\"f\":42`"+ "\"g\":53.2`"+ "\"h\":-37`"+ "\"i\":-7.83E-9`"+ "\"j\":true`"+ "\"k\":false`"+ "\"l\":null`"+ "\"m\":\"2015-06-13T15:49:33.002Z\"`"+ "\"n\":{}`"+ "\"o\":[{}`{\"a\":\"b\"}`{\"c\":\"d\"}]`"+ "\"p\":[null`null`{\"a\":\"b\"}`\"custom\"`null`{}]`"+ "\"q\":{}}"`customEventParameters.get());" is 484.,256
divolte_divolte-collector,io.divolte.server,SeleniumJavaScriptTest,shouldSetAppropriateCookies,Long Statement,The length of the statement "final Optional<DivolteIdentifier> parsedPartyCookieOption=DivolteIdentifier.tryParse(driver.manage().getCookieNamed(BrowserSourceConfiguration.DEFAULT_BROWSER_SOURCE_CONFIGURATION.partyCookie).getValue());" is 205.,293
divolte_divolte-collector,io.divolte.server,SeleniumJavaScriptTest,shouldSetAppropriateCookies,Long Statement,The length of the statement "final Optional<DivolteIdentifier> parsedSessionCookieOption=DivolteIdentifier.tryParse(driver.manage().getCookieNamed(BrowserSourceConfiguration.DEFAULT_BROWSER_SOURCE_CONFIGURATION.sessionCookie).getValue());" is 209.,293
divolte_divolte-collector,io.divolte.server,SeleniumJavaScriptTest,shouldFlushEventsBeforeClickOut,Long Statement,The length of the statement "assertEquals("Event index parameter incorrect for event #" + i`Optional.of(i)`eventData.eventParametersProducer.get().map(jsonNode -> jsonNode.get("i").asInt()));" is 162.,371
divolte_divolte-collector,io.divolte.server,SeleniumJavaScriptTest,shouldFlushEventsBeforeClickOut,Magic Number,The method contains a magic number: 10,371
divolte_divolte-collector,io.divolte.server,SeleniumJavaScriptTest,shouldFlushEventsBeforeClickOut,Magic Number,The method contains a magic number: 30,371
divolte_divolte-collector,io.divolte.server,SeleniumJavaScriptTest,shouldInvokeFlushCallbackImmediatelyIfNoEventsPending,Long Statement,The length of the statement "assertEquals(Optional.of(true)`event.eventParametersProducer.get().map(jsonNode -> jsonNode.get("callbackWasImmediate").asBoolean()));" is 134.,404
divolte_divolte-collector,io.divolte.server,SeleniumJavaScriptTest,shouldTimeoutIfRequiredOnFlushBeforeClickOut,Magic Number,The method contains a magic number: 1000,421
divolte_divolte-collector,io.divolte.server,SeleniumJavaScriptTest,shouldTimeoutIfRequiredOnFlushBeforeClickOut,Magic Number,The method contains a magic number: 1000,421
divolte_divolte-collector,io.divolte.server,SeleniumJavaScriptTest,shouldTimeoutIfRequiredOnFlushBeforeClickOut,Magic Number,The method contains a magic number: 10,421
divolte_divolte-collector,io.divolte.server,ProxyAdjacentPeerAddressHandlerTest,shouldObtainRightMostAddressFromChain,Magic Number,The method contains a magic number: 200,52
divolte_divolte-collector,io.divolte.server,ProxyAdjacentPeerAddressHandlerTest,shouldObtainSingleValueWithoutCommas,Magic Number,The method contains a magic number: 200,65
divolte_divolte-collector,io.divolte.server,ProxyAdjacentPeerAddressHandlerTest,shouldAllowWhitespaceAfterComma,Magic Number,The method contains a magic number: 200,78
divolte_divolte-collector,io.divolte.server,ProxyAdjacentPeerAddressHandlerTest,shouldAllowMultipleXffHeaders,Magic Number,The method contains a magic number: 200,91
divolte_divolte-collector,io.divolte.server,ShortTermDuplicateMemoryTest,shouldForgetAboutRequestHashesAfterSomeTime,Magic Number,The method contains a magic number: 2,110
divolte_divolte-collector,io.divolte.server,ShortTermDuplicateMemoryTest,request,Magic Number,The method contains a magic number: 200,135
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldPopulateFlatFields,Long Statement,The length of the statement "Stream.of("sessionStart"`"unreliable"`"dupe"`"ts"`"location"`"referer"`"userAgentString"`"userAgentName"`"userAgentFamily"`"userAgentVendor"`"userAgentType"`"userAgentVersion"`"userAgentDeviceCategory"`"userAgentOsFamily"`"userAgentOsVersion"`"userAgentOsVendor"`"client"`"session"`"pageview"`"event"`"viewportWidth"`"viewportHeight"`"screenWidth"`"screenHeight"`"pixelRatio"`"eventType").forEach((v) -> assertNotNull(record.get(v)));" is 434.,92
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldPopulateFlatFields,Magic Number,The method contains a magic number: 1018,92
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldPopulateFlatFields,Magic Number,The method contains a magic number: 1018,92
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldPopulateFlatFields,Magic Number,The method contains a magic number: 1024,92
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldPopulateFlatFields,Magic Number,The method contains a magic number: 1024,92
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldPopulateFlatFields,Magic Number,The method contains a magic number: 2,92
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldMatchRegexAndExtractGroups,Long Statement,The length of the statement "final EventPayload event=request("http://www.example.com/path/with/42/about.html"`"http://www.example.com/path/with/13/contact.html");" is 134.,201
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldParseUriComponents,Long Statement,The length of the statement "final EventPayload event=request("https://www.example.com:8080/path/to/resource/page.html?q=multiple+words+%24%23%25%26&p=10&p=20"`"http://example.com/path/to/resource/page.html?q=divolte&p=42#/client/side/path?x=value&y=42");" is 226.,210
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldParseUriComponents,Long Statement,The length of the statement "assertEquals(ImmutableMap.of("p"`Arrays.asList("10"`"20")`"q"`Collections.singletonList("multiple words $#%&"))`event.record.get("uriQuery"));" is 142.,210
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldParseUriComponents,Magic Number,The method contains a magic number: 8080,210
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldParseUriComponentsRaw,Long Statement,The length of the statement "final EventPayload event=request("http://example.com/path/to/resource%20and%20such/page.html?q=multiple+words+%24%23%25%26&p=42#/client/side/path?x=value&y=42&q=multiple+words+%24%23%25%26");" is 191.,232
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldParseMinimalUri,Long Statement,The length of the statement "final EventPayload event=request("http://example.com/path/?q=divolte#/client/side/path?x=value&y=42&q=multiple+words+%24%23%25%26");" is 132.,242
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldNormalizeHeadersBeforeExtraction,Long Statement,The length of the statement "assertEquals(Arrays.asList("first"`"second"`"third"`"fourth"`"fifth"`"sixth`still_sixth"`"seventh"`" eighth`\"still eighth "`"ninth still ninth"`"last")`event.record.get("headerList"));" is 185.,296
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldExtractJsonPathFromCustomEventParameters,Long Statement,The length of the statement "assertEquals("[{\"name\": \"apple\"` \"count\": 3` \"price\": 1.23}` {\"name\": \"pear\"` \"count\": 1` \"price\": 0.89}]"`GenericData.get().toString(event.record.get("items")));" is 178.,323
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldExtractJsonPathFromCustomEventParameters,Magic Number,The method contains a magic number: 42,323
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldExtractJsonPathFromCustomEventParameters,Magic Number,The method contains a magic number: 1.23,323
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldExtractJsonPathFromCustomEventParameters,Magic Number,The method contains a magic number: 0.89,323
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldMapAllEventParameters,Long Statement,The length of the statement "assertEquals("{\"foo\": \"string\"` \"bar\": \"42\"` \"items\": [{\"count\": 3` \"price\": 1.23}` {\"count\": 1` \"price\": 0.89}]}"`GenericData.get().toString(event.record.get("paramRecord")));" is 194.,344
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldMapAllGeoIpFields,Long Statement,The length of the statement "final ImmutableMap<String`Object> mappingConfig=ImmutableMap.of("divolte.mappings.test.mapping_script_file"`geoMappingFile.getAbsolutePath()`"divolte.mappings.test.schema_file"`avroFile.getAbsolutePath());" is 205.,370
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldMapAllGeoIpFields,Long Statement,The length of the statement "final Config geoConfig=ConfigFactory.parseMap(mappingConfig).withFallback(ConfigFactory.parseResources("base-test-server.conf")).withFallback(ConfigFactory.parseResources("reference-test.conf"));" is 195.,370
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldMapAllGeoIpFields,Long Statement,The length of the statement "final CityResponse mockResponseWithEverything=loadFromClassPath("/city-response-with-everything.json"`new TypeReference<CityResponse>(){" is 136.,370
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldMapAllGeoIpFields,Long Statement,The length of the statement "final Map<String`Object> expectedMapping=loadFromClassPath("/city-response-expected-mapping.json"`new TypeReference<Map<String`Object>>(){" is 138.,370
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldMapAllGeoIpFields,Long Statement,The length of the statement "final DslRecordMapper mapper=new DslRecordMapper(vc`geoMappingFile.getAbsolutePath()`new Schema.Parser().parse(Resources.toString(Resources.getResource("TestRecord.avsc")`StandardCharsets.UTF_8))`Optional.of(mockLookupService));" is 228.,370
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldMapLiteralsOntoCorrectTypes,Magic Number,The method contains a magic number: 42L,432
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldMapLiteralsOntoCorrectTypes,Magic Number,The method contains a magic number: 42,432
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldMapLiteralsOntoCorrectTypes,Magic Number,The method contains a magic number: 42.0,432
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,hexDump,Magic Number,The method contains a magic number: 2,525
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,hexDump,Magic Number,The method contains a magic number: 4,525
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,hexDump,Magic Number,The method contains a magic number: 0x0f,525
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,hexDump,Magic Number,The method contains a magic number: 16,525
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,hexDump,Magic Number,The method contains a magic number: 0x0f,525
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,hexDump,Magic Number,The method contains a magic number: 16,525
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,digestingMissingValueShouldBeNoop,Long Statement,The length of the statement "assertByteBufferEquals(ByteBuffer.wrap(MessageDigest.getInstance("sha-256").digest())`(ByteBuffer)event.record.get("digestBinary"));" is 132.,582
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldSupportDigestingToBase64,Long Statement,The length of the statement "assertEquals(StandardCharsets.UTF_8.decode(Base64.getEncoder().encode(digest(event.event.eventId))).toString()`event.record.get("digestString"));" is 145.,590
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,shouldSupportSeededDigesting,Long Statement,The length of the statement "final ImmutableList<String> values=ImmutableList.of((String)event.record.get("digestString")`(String)event.record.get("digestString2")`(String)event.record.get("digestString3"));" is 178.,599
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,request,Magic Number,The method contains a magic number: 200,641
divolte_divolte-collector,io.divolte.server,DslRecordMapperTest,setupServer,Long Statement,The length of the statement "final ImmutableMap<String`Object> mappingConfig=ImmutableMap.of("divolte.mappings.test.mapping_script_file"`mappingFile.getAbsolutePath()`"divolte.mappings.test.schema_file"`avroFile.getAbsolutePath());" is 202.,676
divolte_divolte-collector,io.divolte.server,SeleniumTestBase,fetchSeleniumLogs,Long Statement,The length of the statement "logs.get(logType).getAll().forEach(logEntry -> logger.info("{}: [{}] {}"`Instant.ofEpochMilli(logEntry.getTimestamp() * 1000)`logEntry.getLevel()`logEntry.getMessage()));" is 170.,137
divolte_divolte-collector,io.divolte.server,SeleniumTestBase,fetchSeleniumLogs,Magic Number,The method contains a magic number: 1000,137
divolte_divolte-collector,io.divolte.server,SeleniumTestBase,sauceLabBrowsersToTest,Long Statement,The length of the statement "browserList=ImmutableList.of(new Object[]{(Supplier<DesiredCapabilities>)() -> LOCAL_RUN_CAPABILITIES`"Local JS test run"});" is 124.,179
divolte_divolte-collector,io.divolte.server,SeleniumTestBase,sauceLabBrowsersToTest,Long Statement,The length of the statement "return browserList.stream().flatMap((browser) -> ImmutableList.of(new Object[]{browser[0]`browser[1]`false}`new Object[]{browser[0]`browser[1]`true}).stream()).collect(Collectors.toList());" is 189.,179
divolte_divolte-collector,io.divolte.server,SeleniumTestBase,waitDivolteLoaded,Magic Number,The method contains a magic number: 30,251
divolte_divolte-collector,io.divolte.server,SeleniumTestBase,doSetUp,Magic Number,The method contains a magic number: 30,257
divolte_divolte-collector,io.divolte.server,SeleniumTestBase,doSetUp,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@373d1692,257
divolte_divolte-collector,io.divolte.server,SeleniumTestBase,setupBrowserStack,Long Statement,The length of the statement "final String bsUserName=Optional.ofNullable(System.getenv(BS_USER_NAME_ENV_VAR)).orElseThrow(() -> new RuntimeException("When using 'browserstack' as Selenium driver` please set the BrowserStack username " + "in the " + BS_USER_NAME_ENV_VAR + " env var."));" is 257.,284
divolte_divolte-collector,io.divolte.server,SeleniumTestBase,setupBrowserStack,Long Statement,The length of the statement "final String bsApiKey=Optional.ofNullable(System.getenv(BS_API_KEY_ENV_VAR)).orElseThrow(() -> new RuntimeException("When using 'browserstack' as Selenium driver` please set the BrowserStack username " + "in the " + BS_API_KEY_ENV_VAR + " env var."));" is 251.,284
divolte_divolte-collector,io.divolte.server,SeleniumTestBase,setupSauceLabs,Long Statement,The length of the statement "final String sauceUserName=Optional.ofNullable(System.getenv(SAUCE_USER_NAME_ENV_VAR)).orElseThrow(() -> new RuntimeException("When using 'sauce' as Selenium driver` please set the SauceLabs username " + "in the " + SAUCE_USER_NAME_ENV_VAR + " env var."));" is 256.,304
divolte_divolte-collector,io.divolte.server,SeleniumTestBase,setupSauceLabs,Long Statement,The length of the statement "final String sauceApiKey=Optional.ofNullable(System.getenv(SAUCE_API_KEY_ENV_VAR)).orElseThrow(() -> new RuntimeException("When using 'sauce' as Selenium driver` please set the SauceLabs username " + "in the " + SAUCE_API_KEY_ENV_VAR + " env var."));" is 250.,304
divolte_divolte-collector,io.divolte.server,SeleniumTestBase,setupSauceLabs,Long Statement,The length of the statement "final RemoteWebDriver remoteDriver=new RemoteWebDriver(new URL(String.format("http://%s:%s@%s:%d/wd/hub"`sauceUserName`sauceApiKey`sauceHost`saucePort))`caps);" is 159.,304
divolte_divolte-collector,io.divolte.server,SeleniumTestBase,setupSauceLabs,Magic Number,The method contains a magic number: 4445,304
divolte_divolte-collector,io.divolte.server,SeleniumTestBase,setupLocalChrome,Long Identifier,The length of the field CHROME_DRIVER_LOCATION_ENV_VAR is 30.,350
divolte_divolte-collector,io.divolte.server,SeleniumTestBase,setupLocalChrome,Long Statement,The length of the statement "System.setProperty("webdriver.chrome.driver"`Optional.ofNullable(System.getenv(CHROME_DRIVER_LOCATION_ENV_VAR)).orElseThrow(() -> new RuntimeException("When using 'chrome' as Selenium driver` please set the location of the " + "Chrome driver manager server thingie in the env var: " + CHROME_DRIVER_LOCATION_ENV_VAR)));" is 319.,350
divolte_divolte-collector,io.divolte.server,ServerPingTest,shouldRespondToHealthCheck,Magic Number,The method contains a magic number: 10,52
divolte_divolte-collector,io.divolte.server,ServerPingTest,shouldRespondToHealthCheck,Magic Number,The method contains a magic number: 100,52
divolte_divolte-collector,io.divolte.server,ServerPingTest,shouldRespondToHealthCheck,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@3c52e20c,52
divolte_divolte-collector,io.divolte.server,ServerPingTest,pingServer,Long Statement,The length of the statement "final String body=new String(IOExceptions.wrap(() -> ByteStreams.toByteArray(conn.getInputStream())).get()`StandardCharsets.UTF_8);" is 131.,91
divolte_divolte-collector,io.divolte.server,DivolteIdentifierTest,divolteIdentifiersShouldBeUnique,Magic Number,The method contains a magic number: 100000,28
divolte_divolte-collector,io.divolte.server,DivolteIdentifierTest,divolteIdentifiersShouldBeUnique,Magic Number,The method contains a magic number: 2,28
divolte_divolte-collector,io.divolte.server,DivolteIdentifierTest,divolteIdentifiersShouldEncodeTimestamp,Magic Number,The method contains a magic number: 42,39
divolte_divolte-collector,io.divolte.server,DivolteIdentifierTest,divolteIdentifiersShouldEncodeTimestamp,Magic Number,The method contains a magic number: 42L,39
divolte_divolte-collector,io.divolte.server,DivolteIdentifierTest,equalCookieValuesShouldBeConsistentWithHashcodeAndEquals,Magic Number,The method contains a magic number: 42,45
divolte_divolte-collector,io.divolte.server,DivolteIdentifierTest,equalCookieValuesShouldBeConsistentWithHashcodeAndEquals,Magic Number,The method contains a magic number: 42,45
divolte_divolte-collector,io.divolte.server,DivolteIdentifierTest,divolteIdentifiersShouldParseVersionAndTimestamp,Magic Number,The method contains a magic number: 42L,56
divolte_divolte-collector,io.divolte.server,RequestChecksumTest,request,Magic Number,The method contains a magic number: 200,158
divolte_divolte-collector,io.divolte.server,ServerTestUtils,findFreePort,Magic Number,The method contains a magic number: 2,77
divolte_divolte-collector,io.divolte.server,ServerTestUtils,createMockBrowserEvent,Long Statement,The length of the statement "return new DivolteEvent(mockExchange`false`DivolteIdentifier.generate()`DivolteIdentifier.generate()`"mockEventId"`"mockEventSource"`now`now`true`true`Optional.empty()`Optional::empty`Optional.empty()`Optional.empty());" is 219.,206
divolte_divolte-collector,io.divolte.server,ChunkyByteBufferInputStreamTest,shouldEofOnSingleEmptyBuffers,Magic Number,The method contains a magic number: 10,42
divolte_divolte-collector,io.divolte.server,ChunkyByteBufferInputStreamTest,shouldEofOnAllEmptyBuffers,Magic Number,The method contains a magic number: 10,49
divolte_divolte-collector,io.divolte.server,ChunkyByteBufferInputStreamTest,shouldEofOnAllEmptyBuffers,Magic Number,The method contains a magic number: 20,49
divolte_divolte-collector,io.divolte.server,ChunkyByteBufferInputStreamTest,assertStreamEof,Magic Number,The method contains a magic number: 10,63
divolte_divolte-collector,io.divolte.server,ChunkyByteBufferInputStreamTest,assertStreamEof,Magic Number,The method contains a magic number: 10,63
divolte_divolte-collector,io.divolte.server,ChunkyByteBufferInputStreamTest,assertStreamEof,Magic Number,The method contains a magic number: 10,63
divolte_divolte-collector,io.divolte.server,ChunkyByteBufferInputStreamTest,shouldReadSingleBuffer,Magic Number,The method contains a magic number: 10,70
divolte_divolte-collector,io.divolte.server,ChunkyByteBufferInputStreamTest,shouldReadMultipleBuffer,Magic Number,The method contains a magic number: 10,81
divolte_divolte-collector,io.divolte.server,ChunkyByteBufferInputStreamTest,shouldReadMultipleBuffer,Magic Number,The method contains a magic number: 10,81
divolte_divolte-collector,io.divolte.server,ChunkyByteBufferInputStreamTest,shouldSkipNullBuffers,Magic Number,The method contains a magic number: 10,95
divolte_divolte-collector,io.divolte.server,ChunkyByteBufferInputStreamTest,shouldSkipNullBuffers,Magic Number,The method contains a magic number: 10,95
divolte_divolte-collector,io.divolte.server,ChunkyByteBufferInputStreamTest,shouldDribbleMultipleBuffers,Magic Number,The method contains a magic number: 10,108
divolte_divolte-collector,io.divolte.server,ChunkyByteBufferInputStreamTest,shouldDribbleMultipleBuffers,Magic Number,The method contains a magic number: 10,108
divolte_divolte-collector,io.divolte.server,ChunkyByteBufferInputStreamTest,shouldDribbleMultipleBuffers,Magic Number,The method contains a magic number: 10,108
divolte_divolte-collector,io.divolte.server,JsonSourceTest,startRequest,Long Statement,The length of the statement "final String url=String.format(urlTemplate.orElseThrow(() -> new IllegalStateException("No URL template available"))`testServer.host`testServer.port);" is 150.,96
divolte_divolte-collector,io.divolte.server,JsonSourceTest,shouldRejectRequestsWithoutPartyId,Long Identifier,The length of the field JSON_EVENT_WITHOUT_PARTYID_URL_TEMPLATE is 39.,168
divolte_divolte-collector,io.divolte.server,JsonSourceTest,shouldRejectRequestsWithBrokenPartyId,Long Identifier,The length of the field JSON_EVENT_WITH_BROKEN_PARTYID_URL_TEMPLATE is 43.,177
divolte_divolte-collector,io.divolte.server,JsonSourceTest,shouldRejectRequestsWithBodyLessThanContentLength,Long Statement,The length of the statement "Assume.assumeTrue("Cannot manipulate content-length headers; try setting 'sun.net.http.allowRestrictedHeaders'."`null != conn.getRequestProperty("content-length"));" is 164.,198
divolte_divolte-collector,io.divolte.server,JsonSourceTest,shouldRejectRequestsWithBodyMoreThanContentLength,Long Statement,The length of the statement "Assume.assumeTrue("Cannot manipulate content-length headers; try setting 'sun.net.http.allowRestrictedHeaders'."`null != conn.getRequestProperty("content-length"));" is 164.,217
divolte_divolte-collector,io.divolte.server,JsonSourceTest,buildBigJsonPayload,Magic Number,The method contains a magic number: 8,236
divolte_divolte-collector,io.divolte.server,JsonSourceTest,shouldRejectRequestsWithTooLargeBody,Magic Number,The method contains a magic number: 128,261
divolte_divolte-collector,io.divolte.server,JsonSourceTest,shouldAcceptBodyLargerThanOneChunk,Long Statement,The length of the statement "final HttpURLConnection conn=request(buildBigJsonPayload(ChunkyByteBuffer.CHUNK_SIZE * 2)`c -> c.setChunkedStreamingMode(8));" is 125.,284
divolte_divolte-collector,io.divolte.server,JsonSourceTest,shouldAcceptBodyLargerThanOneChunk,Magic Number,The method contains a magic number: 3,284
divolte_divolte-collector,io.divolte.server,JsonSourceTest,shouldAcceptBodyLargerThanOneChunk,Magic Number,The method contains a magic number: 2,284
divolte_divolte-collector,io.divolte.server,JsonSourceTest,shouldAcceptBodyLargerThanOneChunk,Magic Number,The method contains a magic number: 8,284
divolte_divolte-collector,io.divolte.server,JsonSourceTest,buildCompleteJsonEvent,Long Statement,The length of the statement "final ObjectNode root=JSON_MAPPER.createObjectNode().put("event_type"`"complete-event").put("client_timestamp_iso"`"2016-06-01T18:54:16.123Z").put("session_id"`"0:ikfm9ufy:4PxwWyVYSjqHW_ZZBQjZ3EiIovxYMBFY").put("event_id"`"3c54b1491693aa646914e6feeb4a47d1").put("is_new_party"`true).put("is_new_session"`true);" is 310.,297
divolte_divolte-collector,io.divolte.server,JsonSourceTest,shouldReceiveCompleteJsonEvent,Magic Number,The method contains a magic number: 60,310
divolte_divolte-collector,io.divolte.server,JsonSourceTest,buildMinimumJsonEvent,Long Statement,The length of the statement "return JSON_MAPPER.createObjectNode().put("client_timestamp_iso"`"2016-06-01T18:54:16.123Z").put("session_id"`"0:ikfm9ufy:4PxwWyVYSjqHW_ZZBQjZ3EiIovxYMBFZ").put("event_id"`"3c54b1491693aa646914e6feeb4a47d2").put("is_new_party"`true).put("is_new_session"`true);" is 260.,337
divolte_divolte-collector,io.divolte.server,JsonSourceTest,shouldReceiveMinimumJsonEvent,Magic Number,The method contains a magic number: 60,346
divolte_divolte-collector,io.divolte.server,ServerSinkSourceConfigurationTest,request,Magic Number,The method contains a magic number: 200,114
divolte_divolte-collector,io.divolte.server,ServerSinkSourceConfigurationTest,shouldRegisterExplicitSourceOnly,Magic Number,The method contains a magic number: 404,171
divolte_divolte-collector,io.divolte.server,ServerSinkSourceConfigurationTest,shouldOnlyRegisterExplicitSourceMappingSink,Long Statement,The length of the statement "startServer("mapping-configuration-explicit.conf"`ImmutableMap.of("divolte.sinks.test-hdfs-sink.file_strategy.working_dir"`avroDirectory.toString()`"divolte.sinks.test-hdfs-sink.file_strategy.publish_dir"`avroDirectory.toString()));" is 232.,224
divolte_divolte-collector,io.divolte.server,ServerSinkSourceConfigurationTest,shouldOnlyRegisterExplicitSourceMappingSink,Long Statement,The length of the statement "assertFalse("Default location (/tmp) shouldn't have any new logged events."`defaultAvroFileLocator.listNewRecords().findFirst().isPresent());" is 141.,224
divolte_divolte-collector,io.divolte.server,ServerSinkSourceConfigurationTest,shouldSupportMultipleSinks,Long Statement,The length of the statement "startServer("hdfs-sink-multiple.conf"`ImmutableMap.of("divolte.sinks.test-hdfs-sink-1.file_strategy.working_dir"`avroDirectory1.toString()`"divolte.sinks.test-hdfs-sink-1.file_strategy.publish_dir"`avroDirectory1.toString()`"divolte.sinks.test-hdfs-sink-2.file_strategy.working_dir"`avroDirectory2.toString()`"divolte.sinks.test-hdfs-sink-2.file_strategy.publish_dir"`avroDirectory2.toString()));" is 396.,248
divolte_divolte-collector,io.divolte.server,ServerSinkSourceConfigurationTest,shouldSupportMultipleSinks,Long Statement,The length of the statement "assertFalse("Default location (/tmp) shouldn't have any new logged events."`defaultAvroFileLocator.listNewRecords().findFirst().isPresent());" is 141.,248
divolte_divolte-collector,io.divolte.server,ServerSinkSourceConfigurationTest,shouldSupportMultipleSinks,Long Statement,The length of the statement "assertEquals("Wrong number of new events logged in second location"`1`explicitAvroFileLocator2.listNewRecords().count());" is 121.,248
divolte_divolte-collector,io.divolte.server,ServerSinkSourceConfigurationTest,shouldSupportMultipleMappings,Long Statement,The length of the statement "startServer("mapping-configuration-independent.conf"`ImmutableMap.of("divolte.sinks.sink-1.file_strategy.working_dir"`avroDirectory1.toString()`"divolte.sinks.sink-1.file_strategy.publish_dir"`avroDirectory1.toString()`"divolte.sinks.sink-2.file_strategy.working_dir"`avroDirectory2.toString()`"divolte.sinks.sink-2.file_strategy.publish_dir"`avroDirectory2.toString()));" is 371.,278
divolte_divolte-collector,io.divolte.server,ServerSinkSourceConfigurationTest,shouldSupportMultipleMappings,Long Statement,The length of the statement "assertEquals("Wrong number of new events logged in second location"`2`explicitAvroFileLocator2.listNewRecords().count());" is 121.,278
divolte_divolte-collector,io.divolte.server,ServerSinkSourceConfigurationTest,shouldSupportMultipleMappings,Magic Number,The method contains a magic number: 2,278
divolte_divolte-collector,io.divolte.server,ServerSinkSourceConfigurationTest,shouldSupportMultipleMappingsPerSource,Long Statement,The length of the statement "startServer("mapping-configuration-shared-source.conf"`ImmutableMap.of("divolte.sinks.sink-1.file_strategy.working_dir"`avroDirectory1.toString()`"divolte.sinks.sink-1.file_strategy.publish_dir"`avroDirectory1.toString()`"divolte.sinks.sink-2.file_strategy.working_dir"`avroDirectory2.toString()`"divolte.sinks.sink-2.file_strategy.publish_dir"`avroDirectory2.toString()));" is 373.,309
divolte_divolte-collector,io.divolte.server,ServerSinkSourceConfigurationTest,shouldSupportMultipleMappingsPerSource,Long Statement,The length of the statement "assertEquals("Wrong number of new events logged in second location"`1`explicitAvroFileLocator2.listNewRecords().count());" is 121.,309
divolte_divolte-collector,io.divolte.server,ServerSinkSourceConfigurationTest,shouldSupportMultipleMappingsPerSink,Long Statement,The length of the statement "startServer("mapping-configuration-shared-sink.conf"`ImmutableMap.of("divolte.sinks.only-sink.file_strategy.working_dir"`avroDirectory.toString()`"divolte.sinks.only-sink.file_strategy.publish_dir"`avroDirectory.toString()));" is 225.,336
divolte_divolte-collector,io.divolte.server,ServerSinkSourceConfigurationTest,shouldSupportMultipleMappingsPerSink,Magic Number,The method contains a magic number: 2,336
divolte_divolte-collector,io.divolte.server,ServerSinkSourceConfigurationTest,shouldSupportComplexSourceMappingSinkConfigurations,Long Statement,The length of the statement "startServer("mapping-configuration-interdependent.conf"`new ImmutableMap.Builder<String`Object>().put("divolte.sinks.sink-1.file_strategy.working_dir"`avroDirectory1.toString()).put("divolte.sinks.sink-1.file_strategy.publish_dir"`avroDirectory1.toString()).put("divolte.sinks.sink-2.file_strategy.working_dir"`avroDirectory2.toString()).put("divolte.sinks.sink-2.file_strategy.publish_dir"`avroDirectory2.toString()).put("divolte.sinks.sink-3.file_strategy.working_dir"`avroDirectory3.toString()).put("divolte.sinks.sink-3.file_strategy.publish_dir"`avroDirectory3.toString()).put("divolte.sinks.sink-4.file_strategy.working_dir"`avroDirectory4.toString()).put("divolte.sinks.sink-4.file_strategy.publish_dir"`avroDirectory4.toString()).build());" is 747.,358
divolte_divolte-collector,io.divolte.server,ServerSinkSourceConfigurationTest,shouldSupportComplexSourceMappingSinkConfigurations,Long Statement,The length of the statement "assertEquals("Wrong number of new events logged in second location"`2`explicitAvroFileLocator2.listNewRecords().count());" is 121.,358
divolte_divolte-collector,io.divolte.server,ServerSinkSourceConfigurationTest,shouldSupportComplexSourceMappingSinkConfigurations,Long Statement,The length of the statement "assertEquals("Wrong number of new events logged in fourth location"`2`explicitAvroFileLocator4.listNewRecords().count());" is 121.,358
divolte_divolte-collector,io.divolte.server,ServerSinkSourceConfigurationTest,shouldSupportComplexSourceMappingSinkConfigurations,Magic Number,The method contains a magic number: 2,358
divolte_divolte-collector,io.divolte.server,ServerSinkSourceConfigurationTest,shouldSupportComplexSourceMappingSinkConfigurations,Magic Number,The method contains a magic number: 2,358
divolte_divolte-collector,io.divolte.server,ServerSinkSourceConfigurationTest,shouldSupportComplexSourceMappingSinkConfigurations,Magic Number,The method contains a magic number: 5,358
divolte_divolte-collector,io.divolte.server,ServerSinkSourceConfigurationTest,shouldSupportComplexSourceMappingSinkConfigurations,Magic Number,The method contains a magic number: 2,358
divolte_divolte-collector,io.divolte.server.mincode,MincodeFactory,hasFormat,Complex Method,Cyclomatic complexity of the method is 10,74
divolte_divolte-collector,io.divolte.server.mincode,MincodeFactory,hasFormat,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@4e10a6b,74
divolte_divolte-collector,io.divolte.server.mincode,MincodeFactory,createParser,Long Statement,The length of the statement "return null != _inputDecorator ? createParser(new CharArrayReader(content`offset`len)) : _createParser(content`offset`len`_createContext(content`true)`false);" is 158.,153
divolte_divolte-collector,io.divolte.server.mincode,MincodeFactory,_createParser,Long Parameter List,The method has 5 parameters. ,174
divolte_divolte-collector,io.divolte.server.mincode,MincodeParser,_finishString,Complex Method,Cyclomatic complexity of the method is 9,92
divolte_divolte-collector,io.divolte.server.mincode,MincodeParser,_finishString,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@26558c25,92
divolte_divolte-collector,io.divolte.server.mincode,MincodeParser,_finishString,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@790387fb,92
divolte_divolte-collector,io.divolte.server.mincode,MincodeParser,nextToken,Complex Method,Cyclomatic complexity of the method is 19,198
divolte_divolte-collector,io.divolte.server.mincode,MincodeParser,nextToken,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@526a5855,198
divolte_divolte-collector,io.divolte.server.mincode,MincodeParser,nextIntegerRecord,Magic Number,The method contains a magic number: 36,318
divolte_divolte-collector,io.divolte.server.mincode,MincodeParser,setNumberValue,Empty catch clause,The method has an empty catch block.,329
divolte_divolte-collector,io.divolte.server.mincode,MincodeParser,getText,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@5e54a221,372
divolte_divolte-collector,io.divolte.server.mincode,MincodeParser,getTextCharacters,Complex Method,Cyclomatic complexity of the method is 9,396
divolte_divolte-collector,io.divolte.server.mincode,MincodeParser,getTextCharacters,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@54ea396a,396
divolte_divolte-collector,io.divolte.server.mincode,MincodeParser,getTextLength,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@31334053,431
divolte_divolte-collector,io.divolte.server.mincode,MincodeParser,getTextOffset,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@311b1ed0,454
divolte_divolte-collector,io.divolte.server.mincode,MincodeParserSamplesTest,samples,Long Statement,The length of the statement "return StreamSupport.stream(samples.spliterator()`false).map(jsonNode -> new Object[]{jsonNode.path("title").asText("N/A")`Objects.requireNonNull(jsonNode.get("json")`"Missing JSON sample")`Objects.requireNonNull(jsonNode.get("code")`"Missing Mincode sample").asText()}).collect(Collectors.toList());" is 300.,50
divolte_divolte-collector,io.divolte.server.mincode,MincodeParserSamplesTest,getCurrentValue,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@4aa5e778,122
divolte_divolte-collector,io.divolte.server.mincode,MincodeParserTest,testLargeStringMincodeDecoding,Long Statement,The length of the statement "assertEquals("Text size should be relatively prime to the buffer size."`BigInteger.ONE`BigInteger.valueOf(recordTemplate.length()).gcd(BigInteger.valueOf(JACKSON_BUFFER_SIZE)));" is 177.,66
divolte_divolte-collector,io.divolte.server.mincode,MincodeParserTest,testLargeStringMincodeDecoding,Magic Number,The method contains a magic number: 2,66
divolte_divolte-collector,io.divolte.server.mincode,MincodeParserTest,createLargeStringValue,Magic Number,The method contains a magic number: 3,148
divolte_divolte-collector,io.divolte.server.mincode,MincodeParserTest,testFloatingPointIntegerRecord,Magic Number,The method contains a magic number: 1234,220
divolte_divolte-collector,io.divolte.server.mincode,MincodeFactoryTest,testReadingFromPartOfByteArray,Magic Number,The method contains a magic number: 780,89
divolte_divolte-collector,io.divolte.server.mincode,MincodeFactoryTest,testReadingFromPartOfByteArray,Magic Number,The method contains a magic number: 45,89
divolte_divolte-collector,io.divolte.server.mincode,MincodeFactoryTest,testReadingFromPartOfByteArray,Magic Number,The method contains a magic number: 45,89
divolte_divolte-collector,io.divolte.server.mincode,MincodeFactoryTest,testReadingFromPartOfCharArray,Magic Number,The method contains a magic number: 780,141
divolte_divolte-collector,io.divolte.server.mincode,MincodeFactoryTest,testReadingFromPartOfCharArray,Magic Number,The method contains a magic number: 45,141
divolte_divolte-collector,io.divolte.server.mincode,MincodeFactoryTest,testReadingFromPartOfCharArray,Magic Number,The method contains a magic number: 45,141
divolte_divolte-collector,io.divolte.server.mincode,MincodeFactoryTest,testDataDetector,Long Statement,The length of the statement "assertEquals(factory.getFormatName()`detector.findFormat(MINCODE.getBytes(StandardCharsets.UTF_8)).getMatchedFormatName());" is 123.,152
divolte_divolte-collector,io.divolte.server.mincode,MincodeFactoryTest,invert,Magic Number,The method contains a magic number: 0xff,165
divolte_divolte-collector,io.divolte.server.mincode,MincodeFactoryTest,invert,Magic Number,The method contains a magic number: 0xffff,176
divolte_divolte-collector,io.divolte.server.recordmapping,AvroGenericRecordMapper,checkValid,Complex Method,Cyclomatic complexity of the method is 16,77
divolte_divolte-collector,io.divolte.server.recordmapping,AvroGenericRecordMapper,checkValid,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@4f01a62f,77
divolte_divolte-collector,io.divolte.server.recordmapping,AvroGenericRecordMapper,read,Complex Method,Cyclomatic complexity of the method is 15,146
divolte_divolte-collector,io.divolte.server.recordmapping,AvroGenericRecordMapper,read,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@649b5644,146
divolte_divolte-collector,io.divolte.server.recordmapping,AvroGenericRecordMapper,readRecord,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@d1f2999,211
divolte_divolte-collector,io.divolte.server.recordmapping,AvroGenericRecordMapper,createSymbols,Long Statement,The length of the statement "return schema.getEnumSymbols().stream().collect(ImmutableMap.toImmutableMap(symbol -> symbol`symbol -> new GenericData.EnumSymbol(schema`symbol)));" is 147.,251
divolte_divolte-collector,io.divolte.server.recordmapping,AvroGenericRecordMapper,readEnum,Long Statement,The length of the statement "final ImmutableMap<String`GenericEnumSymbol> symbols=enumSymbols.computeIfAbsent(targetSchema`AvroGenericRecordMapper::createSymbols);" is 134.,259
divolte_divolte-collector,io.divolte.server.recordmapping,AvroGenericRecordMapper,readMap,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@68e49165,292
divolte_divolte-collector,io.divolte.server.recordmapping,AvroGenericRecordMapper,resolveUnion,Magic Number,The method contains a magic number: 2,324
divolte_divolte-collector,io.divolte.server.recordmapping,AvroGenericRecordMapper,resolveUnion,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@2a167288,324
divolte_divolte-collector,io.divolte.server.recordmapping,AvroGenericRecordMapper,checkValidUnion,Long Statement,The length of the statement "return resolvedSchema.map(s -> checkValid(s`alreadyChecked)).orElseGet(() -> Optional.of(new ValidationError("Unsupported union encountered; only trivial unions with null are supported: " + targetSchema`targetSchema)));" is 219.,357
divolte_divolte-collector,io.divolte.server.recordmapping,AvroGenericRecordMapper,unknownEnumValueException,Long Statement,The length of the statement "return InvalidFormatException.from(parser`"Symbol " + symbol + " is not valid for enumeration "+ targetSchema.getName()`symbol`null);" is 133.,414
divolte_divolte-collector,io.divolte.server.recordmapping,AvroGenericRecordMapper,unsupportedUnionException,Long Statement,The length of the statement "return JsonMappingException.from(parser`"Unsupported union encountered; unions are only supported with null: " + targetSchema);" is 127.,423
divolte_divolte-collector,io.divolte.server.recordmapping,UserAgentParserAndCache,parserBasedOnTypeConfig,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@148138f8,60
divolte_divolte-collector,io.divolte.server.recordmapping,QueryStringParser,parseQueryString,Complex Method,Cyclomatic complexity of the method is 8,37
divolte_divolte-collector,io.divolte.server.recordmapping,QueryStringParser,parseQueryString,Magic Number,The method contains a magic number: 10,37
divolte_divolte-collector,io.divolte.server.recordmapping,DslRecordMapper,newRecordFromExchange,Long Statement,The length of the statement "for (final Iterator<MappingAction> itr=actions.iterator(); itr.hasNext() && itr.next().perform(event`context`builder) == MappingResult.CONTINUE; ) {" is 148.,80
divolte_divolte-collector,io.divolte.server.recordmapping,DslRecordMapper,newRecordFromExchange,Magic Number,The method contains a magic number: 20,80
divolte_divolte-collector,io.divolte.server.recordmapping,Digester,result,Long Statement,The length of the statement "final String identifier=digestPieces.stream().map(s -> String.format(".add(%s)"`s)).collect(Collectors.joining(""`digestIdentifier`".result()"));" is 145.,61
divolte_divolte-collector,io.divolte.server.recordmapping,Digester,addStringValueProducer,Long Statement,The length of the statement "return addPiece(new BytesValueProducer(piece.identifier`(e`c) -> piece.produce(e`c).map(s -> ByteBuffer.wrap(s.getBytes(StandardCharsets.UTF_8)))));" is 148.,103
divolte_divolte-collector,io.divolte.server.recordmapping,Digester,addJsonValueProducer,Long Statement,The length of the statement "return addPiece(new BytesValueProducer(piece.identifier`(e`c) -> piece.produce(e`c).flatMap(jsonNode -> jsonNode.isValueNode() ? Optional.of(ByteBuffer.wrap(jsonNode.asText().getBytes(StandardCharsets.UTF_8))) : Optional.empty())));" is 232.,108
divolte_divolte-collector,io.divolte.server.recordmapping,Digester,add,Long Statement,The length of the statement "return addPiece(new BytesValueProducer('"' + text + '"'`(e`c) -> Optional.of(ByteBuffer.wrap(text.getBytes(StandardCharsets.UTF_8)))));" is 135.,116
divolte_divolte-collector,io.divolte.server.recordmapping,Digester,create,Long Statement,The length of the statement "final SchemaMappingException exception=new SchemaMappingException("Algorithm not supported for digester: %s"`identifier);" is 121.,121
divolte_divolte-collector,io.divolte.server.recordmapping,Digester,create,Long Statement,The length of the statement "final SchemaMappingException exception=new SchemaMappingException("Algorithm not supported for digester: %s"`identifier);" is 121.,145
divolte_divolte-collector,io.divolte.server.recordmapping,Digester,deriveKey,Magic Number,The method contains a magic number: 100000,183
divolte_divolte-collector,io.divolte.server.recordmapping,HeaderValueParser,values,Long Statement,The length of the statement "return StreamSupport.stream(Spliterators.spliteratorUnknownSize(new HeaderValueIterator(headerValue)`Spliterator.ORDERED | Spliterator.NONNULL | Spliterator.IMMUTABLE)`false);" is 175.,20
divolte_divolte-collector,io.divolte.server.recordmapping,BytesValueProducer,validateTypes,Long Statement,The length of the statement "return DslRecordMapping.validateTrivialUnion(target.schema()`x -> x.getType() == Schema.Type.BYTES`"only 'bytes' are supported");" is 129.,38
divolte_divolte-collector,io.divolte.server.recordmapping,BytesValueProducer,encodedProducer,Long Statement,The length of the statement "return new PrimitiveValueProducer<>(this.identifier + identifierSuffix`String.class`(e`c) -> this.produce(e`c).map(bb -> encoder.encode(bb.array()`bb.arrayOffset() + bb.position()`bb.remaining())));" is 198.,45
divolte_divolte-collector,io.divolte.server.recordmapping,DslRecordMapping,map,Long Statement,The length of the statement "throw new SchemaMappingException("Field %s does not exist in Avro schema; error in mapping %s onto %s"`fieldName`producer.identifier`fieldName);" is 144.,102
divolte_divolte-collector,io.divolte.server.recordmapping,DslRecordMapping,map,Long Statement,The length of the statement "throw new SchemaMappingException("Cannot map the result of %s onto field %s: %s"`producer.identifier`fieldName`validationError.get().message);" is 142.,102
divolte_divolte-collector,io.divolte.server.recordmapping,DslRecordMapping,map,Long Statement,The length of the statement "throw new SchemaMappingException("Type error. Cannot map literal %s of type %s. Only primitive types are allowed."`literal.toString()`literal.getClass());" is 154.,120
divolte_divolte-collector,io.divolte.server.recordmapping,DslRecordMapping,map,Long Statement,The length of the statement "throw new SchemaMappingException("Field %s does not exist in Avro schema; error in mapping %s onto %s"`fieldName`literal`fieldName);" is 132.,120
divolte_divolte-collector,io.divolte.server.recordmapping,DslRecordMapping,map,Long Statement,The length of the statement "throw new SchemaMappingException("Type mismatch. Cannot map literal %s of type %s onto a field of type %s (type of value and schema of field do not match)."`literal.toString()`literal.getClass()`field.schema());" is 211.,120
divolte_divolte-collector,io.divolte.server.recordmapping,DslRecordMapping,exitWhen,Long Statement,The length of the statement "stack.getLast().add((e`c`r) -> condition.produce(e`c).map((b) -> b ? MappingAction.MappingResult.EXIT : MappingAction.MappingResult.CONTINUE).orElse(MappingAction.MappingResult.CONTINUE));" is 188.,191
divolte_divolte-collector,io.divolte.server.recordmapping,DslRecordMapping,toInt,Long Statement,The length of the statement "return new PrimitiveValueProducer<>("parse(" + source.identifier + " to int32)"`Integer.class`(e`c) -> source.produce(e`c).map(Ints::tryParse));" is 144.,212
divolte_divolte-collector,io.divolte.server.recordmapping,DslRecordMapping,toLong,Long Statement,The length of the statement "return new PrimitiveValueProducer<>("parse(" + source.identifier + " to int64)"`Long.class`(e`c) -> source.produce(e`c).map(Longs::tryParse));" is 142.,219
divolte_divolte-collector,io.divolte.server.recordmapping,DslRecordMapping,toFloat,Long Statement,The length of the statement "return new PrimitiveValueProducer<>("parse(" + source.identifier + " to fp32)"`Float.class`(e`c) -> source.produce(e`c).map(Floats::tryParse));" is 143.,226
divolte_divolte-collector,io.divolte.server.recordmapping,DslRecordMapping,toDouble,Long Statement,The length of the statement "return new PrimitiveValueProducer<>("parse(" + source.identifier + " to fp64)"`Double.class`(e`c) -> source.produce(e`c).map(Doubles::tryParse));" is 145.,233
divolte_divolte-collector,io.divolte.server.recordmapping,DslRecordMapping,toBoolean,Long Statement,The length of the statement "return new BooleanValueProducer("parse(" + source.identifier + " to bool)"`(e`c) -> source.produce(e`c).map(Boolean::parseBoolean));" is 132.,240
divolte_divolte-collector,io.divolte.server.recordmapping,DslRecordMapping,duplicate,Long Statement,The length of the statement "return new BooleanValueProducer("duplicate()"`(e`c) -> Optional.ofNullable(e.exchange.getAttachment(DUPLICATE_EVENT_KEY)));" is 123.,269
divolte_divolte-collector,io.divolte.server.recordmapping,DslRecordMapping,remoteHost,Long Statement,The length of the statement "return new PrimitiveValueProducer<>("remoteHost()"`String.class`(e`c) -> Optional.ofNullable(e.exchange.getSourceAddress()).map(InetSocketAddress::getHostString));" is 163.,281
divolte_divolte-collector,io.divolte.server.recordmapping,DslRecordMapping,userAgentString,Long Statement,The length of the statement "return new PrimitiveValueProducer<>("userAgentString()"`String.class`(e`c) -> Optional.ofNullable(e.exchange.getRequestHeaders().getFirst(Headers.USER_AGENT)));" is 160.,324
divolte_divolte-collector,io.divolte.server.recordmapping,DslRecordMapping,cookie,Long Statement,The length of the statement "return new PrimitiveValueProducer<>("cookie(" + name + ")"`String.class`(e`c) -> Optional.ofNullable(e.exchange.getRequestCookies().get(name)).map(Cookie::getValue));" is 166.,566
divolte_divolte-collector,io.divolte.server.recordmapping,DslRecordMapping,eventParameter,Long Statement,The length of the statement "return new PrimitiveValueProducer<>("eventParameter(" + name + ")"`String.class`(e`c) -> eventParametersProducer.produce(e`c).map(json -> json.path(name).asText()));" is 165.,638
divolte_divolte-collector,io.divolte.server.recordmapping,DslRecordMapping,ip2geo,Long Statement,The length of the statement "final PrimitiveValueProducer<InetAddress> addressProducer=new PrimitiveValueProducer<>("parse(" + source.identifier + " to IP address)"`InetAddress.class`(e`c) -> source.produce(e`c).flatMap(DslRecordMapping::tryParseIp)`true);" is 227.,732
divolte_divolte-collector,io.divolte.server.recordmapping,DslRecordMapping,ip2geo,Long Statement,The length of the statement "final PrimitiveValueProducer<InetAddress> addressProducer=new PrimitiveValueProducer<>("<remote host IP>"`InetAddress.class`(e`c) -> Optional.ofNullable(e.exchange.getSourceAddress()).map(InetSocketAddress::getAddress));" is 220.,741
divolte_divolte-collector,io.divolte.server.recordmapping,DslRecordMapping,verifyAndReturnLookupService,Long Statement,The length of the statement "return geoIpService.orElseThrow(() -> new SchemaMappingException("Attempt to use a ip2geo mapping` while the ip2geo lookup database is not configured."));" is 154.,749
divolte_divolte-collector,io.divolte.server.recordmapping,DslRecordMapping,unpackNullableUnion,Magic Number,The method contains a magic number: 2,975
divolte_divolte-collector,io.divolte.server.recordmapping,DslRecordMapping,validateTrivialUnion,Long Statement,The length of the statement "final Optional<Optional<ValidationError>> unionValidation=resolvedSchema.map(s -> validator.apply(s) ? Optional.empty() : validationError(String.format(messageIfInvalid`messageParameters)`targetSchema));" is 203.,1186
divolte_divolte-collector,io.divolte.server.recordmapping,DslRecordMapping,validateTrivialUnion,Long Statement,The length of the statement "return unionValidation.orElseGet(() -> validationError("mapping to non-trivial unions (" + targetSchema + ") is not supported"`targetSchema));" is 142.,1186
divolte_divolte-collector,io.divolte.server.recordmapping,BytesValueProducerTest,shouldSupportLowercaseHex,Magic Number,The method contains a magic number: 20,51
divolte_divolte-collector,io.divolte.server.recordmapping,BytesValueProducerTest,shouldSupportUppercaseHex,Magic Number,The method contains a magic number: 20,57
divolte_divolte-collector,io.divolte.server.recordmapping,BytesValueProducerTest,shouldSupportBase64,Long Statement,The length of the statement "assertEquals("AAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIjJCUmJygpKissLS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERQ=="`encodedValue);" is 126.,63
divolte_divolte-collector,io.divolte.server.recordmapping,BytesValueProducerTest,shouldSupportBase64,Magic Number,The method contains a magic number: 70,63
divolte_divolte-collector,io.divolte.server.recordmapping,BytesValueProducerTest,shouldNotWrapBase64,Magic Number,The method contains a magic number: 100,69
divolte_divolte-collector,io.divolte.server.recordmapping,BytesValueProducerTest,shouldSupportSlicedBuffer,Long Statement,The length of the statement "final String encodedSlicedBytes=produce(bytesProducer(paddedBytes.slice()).toHexLower()).orElseThrow(AssertionError::new);" is 122.,75
divolte_divolte-collector,io.divolte.server.recordmapping,BytesValueProducerTest,shouldSupportSlicedBuffer,Magic Number,The method contains a magic number: 3,75
divolte_divolte-collector,io.divolte.server.recordmapping,BytesValueProducerTest,shouldSupportSlicedBuffer,Magic Number,The method contains a magic number: 20,75
divolte_divolte-collector,io.divolte.server.recordmapping,BytesValueProducerTest,shouldSupportSlicedBuffer,Magic Number,The method contains a magic number: 12,75
divolte_divolte-collector,io.divolte.server.recordmapping,AvroGenericRecordMapperTest,samples,Long Statement,The length of the statement "return StreamSupport.stream(samples.spliterator()`false).map(jsonNode -> new Object[]{jsonNode.path("title").asText("N/A")`jsonToFixture(jsonNode)}).collect(Collectors.toList());" is 178.,90
divolte_divolte-collector,io.divolte.server.js,Slf4jErrorReportGenerator,generateReport,Long Statement,The length of the statement "logMethod.log("{} error(s)` {} warning(s)` {}% typed"`manager.getErrorCount()`manager.getWarningCount()`manager.getTypedPercent());" is 131.,37
divolte_divolte-collector,io.divolte.server.js,TrackingJavaScriptResource,createScriptConstants,Long Statement,The length of the statement "builder.put("PARTY_ID_TIMEOUT_SECONDS"`trimLongToMaxInt(browserSourceConfiguration.partyTimeout.get(ChronoUnit.SECONDS)));" is 122.,48
divolte_divolte-collector,io.divolte.server.js,TrackingJavaScriptResource,createScriptConstants,Long Statement,The length of the statement "builder.put("SESSION_ID_TIMEOUT_SECONDS"`trimLongToMaxInt(browserSourceConfiguration.sessionTimeout.get(ChronoUnit.SECONDS)));" is 126.,48
divolte_divolte-collector,io.divolte.server.js,TrackingJavaScriptResource,createScriptConstants,Long Statement,The length of the statement "builder.put("EVENT_TIMEOUT_SECONDS"`browserSourceConfiguration.javascript.eventTimeout.getSeconds() + browserSourceConfiguration.javascript.eventTimeout.getNano() / (double)NANOS_PER_SECOND);" is 191.,48
divolte_divolte-collector,io.divolte.server.js,TrackingJavaScriptResource,create,Long Statement,The length of the statement "final BrowserSourceConfiguration browserSourceConfiguration=vc.configuration().getSourceConfiguration(sourceName`BrowserSourceConfiguration.class);" is 147.,76
divolte_divolte-collector,io.divolte.server.js,TrackingJavaScriptResource,create,Long Statement,The length of the statement "return new TrackingJavaScriptResource("divolte.js"`createScriptConstants(browserSourceConfiguration)`browserSourceConfiguration.javascript.debug);" is 146.,76
divolte_divolte-collector,io.divolte.server.js,GzipTest,testGzippedDataCanBeDecompressed,Long Statement,The length of the statement "final String sampleData="This is some text that should compress fairly well`\n" + "and be long enough that it is worth it given the container overhead.";" is 153.,37
divolte_divolte-collector,io.divolte.server.js,GzipTest,testUncompressableNotCompressed,Magic Number,The method contains a magic number: 1024,64
divolte_divolte-collector,io.divolte.server.js,GzipTest,gunzip,Long Statement,The length of the statement "try (final ByteArrayInputStream bis=new ByteArrayInputStream(input.array()`input.arrayOffset()`input.remaining());final GZIPInputStream is=new GZIPInputStream(bis)){" is 165.,74
divolte_divolte-collector,io.divolte.server.js,TrackingJavaScriptResourceTest,configurations,Long Statement,The length of the statement "return ImmutableList.of(new Object[]{"default"`ConfigFactory.load()}`new Object[]{"non-default-name"`ConfigFactory.load("browser-source-custom-javascript-name.conf")}`new Object[]{"logging-enabled"`ConfigFactory.load("browser-source-javascript-logging.conf")}`new Object[]{"verbose-enabled"`ConfigFactory.load("browser-source-javascript-debugging.conf")});" is 356.,46
divolte_divolte-collector,io.divolte.server.js,TrackingJavaScriptResourceTest,validateEtag,Magic Number,The method contains a magic number: 2,121
divolte_divolte-collector,io.divolte.server.config,GoogleCloudPubSubSinkConfiguration,getFactory,Long Statement,The length of the statement "return emulator.map(hostport -> createFlushingPool(retrySettings`batchingSettings`hostport)).orElseGet(() -> createFlushingPool(retrySettings`batchingSettings));" is 161.,77
divolte_divolte-collector,io.divolte.server.config,GoogleCloudPubSubSinkConfiguration,createFlushingPool,Long Statement,The length of the statement "final Publisher.Builder builder=Publisher.newBuilder(topicName).setRetrySettings(retrySettings).setBatchingSettings(batchingSettings);" is 134.,86
divolte_divolte-collector,io.divolte.server.config,GoogleCloudPubSubSinkConfiguration,createFlushingPool,Long Statement,The length of the statement "return new GoogleCloudPubSubFlushingPool(sinkName`vc.configuration().global.gcps.threads`vc.configuration().global.gcps.bufferSize`publisher`Optional.empty()`registry.getSchemaBySinkName(sinkName));" is 198.,86
divolte_divolte-collector,io.divolte.server.config,GoogleCloudPubSubSinkConfiguration,createFlushingPool,Long Statement,The length of the statement "final TransportChannelProvider channelProvider=FixedTransportChannelProvider.create(GrpcTransportChannel.create(channel));" is 122.,105
divolte_divolte-collector,io.divolte.server.config,GoogleCloudPubSubSinkConfiguration,createFlushingPool,Long Statement,The length of the statement "final Publisher.Builder builder=Publisher.newBuilder(topicName).setRetrySettings(retrySettings).setBatchingSettings(batchingSettings).setChannelProvider(channelProvider).setCredentialsProvider(NoCredentialsProvider.create());" is 225.,105
divolte_divolte-collector,io.divolte.server.config,GoogleCloudPubSubSinkConfiguration,createFlushingPool,Long Statement,The length of the statement "return new GoogleCloudPubSubFlushingPool(sinkName`vc.configuration().global.gcps.threads`vc.configuration().global.gcps.bufferSize`publisher`Optional.of(channel)`registry.getSchemaBySinkName(sinkName));" is 202.,105
divolte_divolte-collector,io.divolte.server.config,GoogleCloudPubSubSinkConfiguration,createTopic,Long Statement,The length of the statement "final TopicAdminSettings topicAdminSettings=TopicAdminSettings.newBuilder().setTransportChannelProvider(channelProvider).setCredentialsProvider(NoCredentialsProvider.create()).build();" is 184.,141
divolte_divolte-collector,io.divolte.server.config,GoogleCloudPubSubSinkConfiguration,createTopic,Long Statement,The length of the statement "if (Streams.stream(topicClient.listTopics(project).iterateAll()).map(Topic::getName).map(ProjectTopicName::parse).noneMatch(topic::equals)) {" is 141.,141
divolte_divolte-collector,io.divolte.server.config,FileSinkConfiguration,FileSinkConfiguration,Long Statement,The length of the statement "this.fileStrategy=Optional.ofNullable(fileStrategy).orElse(FileStrategyConfiguration.DEFAULT_FILE_STRATEGY_CONFIGURATION);" is 122.,31
divolte_divolte-collector,io.divolte.server.config,JavascriptConfiguration,JavascriptConfiguration,Long Parameter List,The method has 5 parameters. ,55
divolte_divolte-collector,io.divolte.server.config,JavascriptConfiguration,JavascriptConfiguration,Long Statement,The length of the statement "this.autoPageViewEvent=Optional.ofNullable(autoPageViewEvent).orElseGet(() -> Boolean.valueOf(DEFAULT_AUTO_PAGE_VIEW_EVENT));" is 125.,55
divolte_divolte-collector,io.divolte.server.config,JavascriptConfiguration,JavascriptConfiguration,Long Statement,The length of the statement "this.eventTimeout=Optional.ofNullable(eventTimeout).orElseGet(() -> DurationDeserializer.parseDuration(DEFAULT_EVENT_TIMEOUT));" is 127.,55
divolte_divolte-collector,io.divolte.server.config,JavascriptConfiguration,toString,Long Statement,The length of the statement "return MoreObjects.toStringHelper(this).add("name"`name).add("logging"`logging).add("debug"`debug).add("autoPageViewEvent"`autoPageViewEvent).add("eventTimeout"`eventTimeout).toString();" is 186.,70
divolte_divolte-collector,io.divolte.server.config,DurationDeserializer,parse,Complex Method,Cyclomatic complexity of the method is 21,61
divolte_divolte-collector,io.divolte.server.config,DurationDeserializer,parse,Magic Number,The method contains a magic number: 2,61
divolte_divolte-collector,io.divolte.server.config,DurationDeserializer,parse,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@60268810,61
divolte_divolte-collector,io.divolte.server.config,DivolteConfiguration,getSourceConfiguration,Long Statement,The length of the statement "Preconditions.checkArgument(sourceClass.isInstance(sourceConfiguration)`"Source configuration '%s' is not a %s sink"`sourceName`sourceClass.getSimpleName());" is 157.,104
divolte_divolte-collector,io.divolte.server.config,DivolteConfiguration,getSinkConfiguration,Long Statement,The length of the statement "Preconditions.checkArgument(sinkClass.isInstance(sinkConfiguration)`"Sink configuration '%s' is not a %s sink"`sinkName`sinkClass.getSimpleName());" is 147.,143
divolte_divolte-collector,io.divolte.server.config,DivolteConfiguration,defaultSinkConfigurations,Long Statement,The length of the statement "return ImmutableMap.of("hdfs"`new HdfsSinkConfiguration((short)1`FileStrategyConfiguration.DEFAULT_FILE_STRATEGY_CONFIGURATION)`"kafka"`new KafkaSinkConfiguration(null`KafkaSinkMode.NAKED)`"gcps"`new GoogleCloudPubSubSinkConfiguration(null`null`null));" is 252.,170
divolte_divolte-collector,io.divolte.server.config,DivolteConfiguration,defaultMappingConfigurations,Long Statement,The length of the statement "return ImmutableMap.of("default"`new MappingConfiguration(Optional.empty()`Optional.empty()`Optional.empty()`sourceNames`sinkNames`false`false));" is 145.,176
divolte_divolte-collector,io.divolte.server.config,DivolteConfiguration,toString,Long Statement,The length of the statement "return MoreObjects.toStringHelper(this).add("global"`global).add("sources"`sources).add("sinks"`sinks).add("mappings"`mappings).toString();" is 139.,187
divolte_divolte-collector,io.divolte.server.config,DivolteConfiguration,missingSourcesSinks,Long Statement,The length of the statement "final Set<String> used=mappings.values().stream().flatMap(mc -> Stream.concat(mc.sources.stream()`mc.sinks.stream())).collect(Collectors.toSet());" is 146.,206
divolte_divolte-collector,io.divolte.server.config,DivolteConfiguration,sinksWithMultipleSchemas,Long Statement,The length of the statement "final Map<String`Long> countsBySink=mappings.values().stream().flatMap(config -> config.sinks.stream().map(sink -> Maps.immutableEntry(sink`config.schemaFile))).distinct().collect(Collectors.groupingBy(Map.Entry::getKey`Collectors.counting()));" is 244.,226
divolte_divolte-collector,io.divolte.server.config,DivolteConfiguration,sinksWithMultipleConfluentIds,Long Statement,The length of the statement "final Map<String`Long> countsBySink=mappings.values().stream().filter(config -> config.confluentId.isPresent()).flatMap(config -> config.sinks.stream().map(sink -> Maps.immutableEntry(sink`config.confluentId))).distinct().collect(Collectors.groupingBy(Map.Entry::getKey`Collectors.counting()));" is 294.,237
divolte_divolte-collector,io.divolte.server.config,DivolteConfiguration,mappingsToConfluentSinksWithoutSchemaIds,Long Statement,The length of the statement "return mappings.entrySet().stream().filter(mapping -> !mapping.getValue().confluentId.isPresent() && mapping.getValue().sinks.stream().anyMatch(confluentSinkNames::contains)).map(Map.Entry::getKey).collect(ImmutableSet.toImmutableSet());" is 237.,249
divolte_divolte-collector,io.divolte.server.config,KafkaSinkConfiguration,getFactory,Long Statement,The length of the statement "final KafkaProducer<DivolteIdentifier`AvroRecordBuffer> producer=new KafkaProducer<>(vc.configuration().global.kafka.producer`Serializers.createKeySerializer()`mode.serializerFactory.apply(registry.getSchemaBySinkName(sink)));" is 226.,55
divolte_divolte-collector,io.divolte.server.config,KafkaSinkConfiguration,getFactory,Long Statement,The length of the statement "return new KafkaFlushingPool(sink`vc.configuration().global.kafka.threads`vc.configuration().global.kafka.bufferSize`topic`producer);" is 133.,55
divolte_divolte-collector,io.divolte.server.config,MappingConfiguration,MappingConfiguration,Long Parameter List,The method has 7 parameters. ,44
divolte_divolte-collector,io.divolte.server.config,MappingConfiguration,MappingConfiguration,Long Statement,The length of the statement "this.discardDuplicates=Optional.ofNullable(discardDuplicates).orElseGet(() -> Boolean.valueOf(DEFAULT_DISCARD_DUPLICATES));" is 123.,44
divolte_divolte-collector,io.divolte.server.config,MappingConfiguration,toString,Long Statement,The length of the statement "return MoreObjects.toStringHelper(this).add("schemaFile"`schemaFile).add("mappingScriptFile"`mappingScriptFile).add("confluentId"`confluentId).add("sources"`sources).add("sinks"`sinks).add("discardCorrupted"`discardCorrupted).add("discardDuplicates"`discardDuplicates).toString();" is 280.,68
divolte_divolte-collector,io.divolte.server.config,GlobalConfiguration,GlobalConfiguration,Long Parameter List,The method has 6 parameters. ,36
divolte_divolte-collector,io.divolte.server.config,GlobalConfiguration,toString,Long Statement,The length of the statement "return MoreObjects.toStringHelper(this).add("server"`server).add("mapper"`mapper).add("hdfs"`hdfs).add("gcs"`gcs).add("kafka"`kafka).add("gcps"`gcps).toString();" is 161.,51
divolte_divolte-collector,io.divolte.server.config,RetryConfiguration,RetryConfiguration,Long Parameter List,The method has 5 parameters. ,35
divolte_divolte-collector,io.divolte.server.config,RetryConfiguration,toStringHelper,Long Statement,The length of the statement "return MoreObjects.toStringHelper(this).add("maxAttempts"`maxAttempts).add("totalTimeout"`totalTimeout).add("initialRetryDelay"`initialRetryDelay).add("retryDelayMultiplier"`retryDelayMultiplier).add("maxRetryDelay"`maxRetryDelay);" is 231.,47
divolte_divolte-collector,io.divolte.server.config,JsonSourceConfiguration,toStringHelper,Long Statement,The length of the statement "return super.toStringHelper().add("eventPath"`eventPath).add("partyIdParameter"`partyIdParameter).add("maximumBodySize"`maximumBodySize);" is 137.,53
divolte_divolte-collector,io.divolte.server.config,GoogleCloudStorageRetryConfiguration,GoogleCloudStorageRetryConfiguration,Long Identifier,The length of the field DEFAULT_RETRY_DELAY_MULTIPLIER is 30.,45
divolte_divolte-collector,io.divolte.server.config,GoogleCloudStorageRetryConfiguration,GoogleCloudStorageRetryConfiguration,Long Parameter List,The method has 7 parameters. ,45
divolte_divolte-collector,io.divolte.server.config,GoogleCloudStorageRetryConfiguration,GoogleCloudStorageRetryConfiguration,Long Statement,The length of the statement "super(Optional.ofNullable(maxAttempts).orElse(DEFAULT_MAX_ATTEMPTS)`Optional.ofNullable(totalTimeout).orElse(DEFAULT_TOTAL_TIMEOUT)`Optional.ofNullable(initialRetryDelay).orElse(DEFAULT_INITIAL_RETRY_DELAY)`Optional.ofNullable(retryDelayMultiplier).orElse(DEFAULT_RETRY_DELAY_MULTIPLIER)`Optional.ofNullable(maxRetryDelay).orElse(DEFAULT_MAX_RETRY_DELAY));" is 356.,45
divolte_divolte-collector,io.divolte.server.config,GoogleCloudStorageRetryConfiguration,GoogleCloudStorageRetryConfiguration,Long Statement,The length of the statement "this.jitterDelay=null != jitterDelay ? Optional.of(jitterDelay) : this.jitterFactor.isPresent() ? Optional.empty() : DEFAULT_JITTER_DURATION;" is 141.,45
divolte_divolte-collector,io.divolte.server.config,GoogleCloudStorageRetryConfiguration,createRetryPolicy,Long Statement,The length of the statement "final RetryPolicy<Object> policyBeforeJitter=new RetryPolicy<>().withMaxRetries(maxAttempts - 1).withMaxDuration(totalTimeout).withBackoff(initialRetryDelay.toNanos()`maxRetryDelay.toNanos()`ChronoUnit.NANOS`retryDelayMultiplier);" is 230.,66
divolte_divolte-collector,io.divolte.server.config,GoogleCloudStorageRetryConfiguration,createRetryPolicy,Long Statement,The length of the statement "final RetryPolicy<Object> policyWithJitterFactor=jitterFactor.map(policyBeforeJitter::withJitter).orElse(policyBeforeJitter);" is 125.,66
divolte_divolte-collector,io.divolte.server.config,GooglePubSubRetryConfiguration,GooglePubSubRetryConfiguration,Long Identifier,The length of the field DEFAULT_RETRY_DELAY_MULTIPLIER is 30.,89
divolte_divolte-collector,io.divolte.server.config,GooglePubSubRetryConfiguration,GooglePubSubRetryConfiguration,Long Identifier,The length of the field DEFAULT_RPC_TIMEOUT_MULTIPLIER is 30.,89
divolte_divolte-collector,io.divolte.server.config,GooglePubSubRetryConfiguration,GooglePubSubRetryConfiguration,Long Parameter List,The method has 8 parameters. ,89
divolte_divolte-collector,io.divolte.server.config,GooglePubSubRetryConfiguration,GooglePubSubRetryConfiguration,Long Statement,The length of the statement "super(Optional.ofNullable(maxAttempts).orElse(DEFAULT_MAX_ATTEMPTS)`Optional.ofNullable(totalTimeout).orElse(DEFAULT_TOTAL_TIMEOUT)`Optional.ofNullable(initialRetryDelay).orElse(DEFAULT_INITIAL_RETRY_DELAY)`Optional.ofNullable(retryDelayMultiplier).orElse(DEFAULT_RETRY_DELAY_MULTIPLIER)`Optional.ofNullable(maxRetryDelay).orElse(DEFAULT_MAX_RETRY_DELAY));" is 356.,89
divolte_divolte-collector,io.divolte.server.config,GooglePubSubRetryConfiguration,createRetrySettings,Long Statement,The length of the statement "return RetrySettings.newBuilder().setMaxAttempts(maxAttempts).setTotalTimeout(to310bp(totalTimeout)).setInitialRetryDelay(to310bp(initialRetryDelay)).setRetryDelayMultiplier(retryDelayMultiplier).setMaxRetryDelay(to310bp(maxRetryDelay)).setInitialRpcTimeout(to310bp(initialRpcTimeout)).setRpcTimeoutMultiplier(rpcTimeoutMultiplier).setMaxRpcTimeout(to310bp(maxRpcTimeout)).build();" is 381.,109
divolte_divolte-collector,io.divolte.server.config,GooglePubSubRetryConfiguration,toStringHelper,Long Statement,The length of the statement "return super.toStringHelper().add("initialRpcTimeout"`initialRpcTimeout).add("rpcTimeoutMultiplier"`rpcTimeoutMultiplier).add("maxRpcTimeout"`maxRpcTimeout);" is 157.,125
divolte_divolte-collector,io.divolte.server.config,GoogleBatchingConfiguration,GoogleBatchingConfiguration,Long Identifier,The length of the field DEFAULT_ELEMENT_COUNT_THRESHOLD is 31.,69
divolte_divolte-collector,io.divolte.server.config,GoogleBatchingConfiguration,GoogleBatchingConfiguration,Long Identifier,The length of the field DEFAULT_REQUEST_BYTES_THRESHOLD is 31.,69
divolte_divolte-collector,io.divolte.server.config,GoogleBatchingConfiguration,createBatchingSettings,Long Statement,The length of the statement "return BatchingSettings.newBuilder().setElementCountThreshold(elementCountThreshold).setRequestByteThreshold(requestBytesThreshold).setDelayThreshold(to310bp(delayThreshold)).build();" is 183.,79
divolte_divolte-collector,io.divolte.server.config,GoogleBatchingConfiguration,toString,Long Statement,The length of the statement "return MoreObjects.toStringHelper(this).add("elementCountThreshold"`elementCountThreshold).add("requestBytesThreshold"`requestBytesThreshold).add("delayThreshold"`delayThreshold).toString();" is 190.,87
divolte_divolte-collector,io.divolte.server.config,ValidatedConfiguration,messageForMappingException,Long Statement,The length of the statement "return String.format("%s.%n\tLocation: %s.%n\tConfiguration path to error: '%s'"`e.getOriginalMessage()`Optional.ofNullable(e.getLocation()).map(JsonLocation::getSourceRef).orElse("<unknown source>")`"".equals(pathToError) ? "<unknown path>" : pathToError);" is 257.,122
divolte_divolte-collector,io.divolte.server.config,ValidatedConfiguration,messageForUnrecognizedPropertyException,Long Statement,The length of the statement "return String.format("%s.%n\tLocation: %s.%n\tConfiguration path to error: '%s'%n\tAvailable properties: %s."`e.getOriginalMessage()`e.getLocation().getSourceRef()`e.getPath().stream().map(Reference::getFieldName).collect(Collectors.joining("."))`e.getKnownPropertyIds().stream().map(Object::toString).map(s -> "'" + s + "'").collect(Collectors.joining("` ")));" is 361.,133
divolte_divolte-collector,io.divolte.server.config,ValidatedConfiguration,validate,Long Statement,The length of the statement "final Validator validator=Validation.byProvider(HibernateValidator.class).configure().buildValidatorFactory().getValidator();" is 125.,146
divolte_divolte-collector,io.divolte.server.config,ValidatedConfiguration,validate,Long Statement,The length of the statement "return validationErrors.stream().map((e) -> String.format("Property '%s' %s. Found: '%s'."`DOT_JOINER.join("divolte"`e.getPropertyPath())`e.getMessage()`e.getInvalidValue())).collect(Collectors.toList());" is 204.,146
divolte_divolte-collector,io.divolte.server.config,FileStrategyConfiguration,FileStrategyConfiguration,Long Identifier,The length of the field DEFAULT_SYNC_FILE_AFTER_RECORDS is 31.,51
divolte_divolte-collector,io.divolte.server.config,FileStrategyConfiguration,FileStrategyConfiguration,Long Identifier,The length of the field DEFAULT_SYNC_FILE_AFTER_DURATION is 32.,51
divolte_divolte-collector,io.divolte.server.config,FileStrategyConfiguration,FileStrategyConfiguration,Long Parameter List,The method has 5 parameters. ,51
divolte_divolte-collector,io.divolte.server.config,FileStrategyConfiguration,FileStrategyConfiguration,Long Statement,The length of the statement "this.syncFileAfterRecords=Optional.ofNullable(syncFileAfterRecords).orElseGet(() -> Integer.valueOf(DEFAULT_SYNC_FILE_AFTER_RECORDS));" is 134.,51
divolte_divolte-collector,io.divolte.server.config,FileStrategyConfiguration,FileStrategyConfiguration,Long Statement,The length of the statement "this.syncFileAfterDuration=Optional.ofNullable(syncFileAfterDuration).orElseGet(() -> DurationDeserializer.parseDuration(DEFAULT_SYNC_FILE_AFTER_DURATION));" is 156.,51
divolte_divolte-collector,io.divolte.server.config,FileStrategyConfiguration,toString,Long Statement,The length of the statement "return MoreObjects.toStringHelper(this).add("rollEvery"`rollEvery).add("syncFileAfterRecords"`syncFileAfterRecords).add("syncFileAfterDuration"`syncFileAfterDuration).add("workingDir"`workingDir).add("publishDir"`publishDir).toString();" is 236.,66
divolte_divolte-collector,io.divolte.server.config,MapperConfiguration,MapperConfiguration,Long Parameter List,The method has 5 parameters. ,34
divolte_divolte-collector,io.divolte.server.config,MapperConfiguration,toString,Long Statement,The length of the statement "return MoreObjects.toStringHelper(this).add("bufferSize"`bufferSize).add("threads"`threads).add("duplicateMemorySize"`duplicateMemorySize).add("userAgentParser"`userAgentParser).add("ip2geoDatabase"`ip2geoDatabase).toString();" is 226.,47
divolte_divolte-collector,io.divolte.server.config,PropertiesDeserializer,deserialize,Complex Method,Cyclomatic complexity of the method is 18,39
divolte_divolte-collector,io.divolte.server.config,PropertiesDeserializer,deserialize,Long Statement,The length of the statement "throw UnsupportedTypeException.from(p`VALUE_EMBEDDED_OBJECT`"Embedded object not allowed as part of Properties object.");" is 121.,39
divolte_divolte-collector,io.divolte.server.config,ServerConfiguration,ServerConfiguration,Long Parameter List,The method has 7 parameters. ,39
divolte_divolte-collector,io.divolte.server.config,ServerConfiguration,toString,Long Statement,The length of the statement "return MoreObjects.toStringHelper(this).add("host"`host).add("port"`port).add("useXForwardedFor"`useXForwardedFor).add("serverStaticResources"`serveStaticResources).add("debugRequests"`debugRequests).add("shutdownDelay"`shutdownDelay).add("shutdownTimeout"`shutdownTimeout).toString();" is 285.,56
divolte_divolte-collector,io.divolte.server.config,BrowserSourceConfiguration,BrowserSourceConfiguration,Long Parameter List,The method has 9 parameters. ,68
divolte_divolte-collector,io.divolte.server.config,BrowserSourceConfiguration,BrowserSourceConfiguration,Long Statement,The length of the statement "this.partyTimeout=Optional.ofNullable(partyTimeout).orElseGet(() -> DurationDeserializer.parseDuration(DEFAULT_PARTY_TIMEOUT));" is 127.,68
divolte_divolte-collector,io.divolte.server.config,BrowserSourceConfiguration,BrowserSourceConfiguration,Long Statement,The length of the statement "this.sessionTimeout=Optional.ofNullable(sessionTimeout).orElseGet(() -> DurationDeserializer.parseDuration(DEFAULT_SESSION_TIMEOUT));" is 133.,68
divolte_divolte-collector,io.divolte.server.config,BrowserSourceConfiguration,BrowserSourceConfiguration,Long Statement,The length of the statement "this.httpResponseDelay=Optional.ofNullable(httpResponseDelay).orElseGet(() -> DurationDeserializer.parseDuration(DEFAULT_HTTP_RESPONSE_DELAY));" is 143.,68
divolte_divolte-collector,io.divolte.server.config,BrowserSourceConfiguration,toStringHelper,Long Statement,The length of the statement "return super.toStringHelper().add("prefix"`prefix).add("eventSuffix"`eventSuffix).add("cookieDomain"`cookieDomain).add("partyCookie"`partyCookie).add("partyTimeout"`partyTimeout).add("sessionCookie"`sessionCookie).add("sessionTimeout"`sessionTimeout).add("httpResponseDelay"`httpResponseDelay).add("javascript"`javascript);" is 323.,95
divolte_divolte-collector,io.divolte.server.config,ValidatedConfigurationTest,shouldValidateJavaScriptName,Long Statement,The length of the statement "final Config config=ConfigFactory.parseMap(ImmutableMap.of(propertyName`invalidValue)).withFallback(ConfigFactory.parseResources("base-test-server.conf")).withFallback(ConfigFactory.parseResources("reference-test.conf"));" is 221.,39
divolte_divolte-collector,io.divolte.server.config,ValidatedConfigurationTest,shouldValidateJavaScriptName,Long Statement,The length of the statement "assertEquals("Property '" + reportedPropertyName + "' must match \"^[A-Za-z0-9_-]+\\.js$\". Found: '"+ invalidValue+ "'."`vc.errors().get(0));" is 142.,39
divolte_divolte-collector,io.divolte.server.config,ValidatedConfigurationTest,shouldReportMissingSourcesAndSinks,Long Statement,The length of the statement "final ValidatedConfiguration vc=new ValidatedConfiguration(() -> ConfigFactory.parseResources("missing-sources-sinks.conf"));" is 125.,78
divolte_divolte-collector,io.divolte.server.config,ValidatedConfigurationTest,shouldReportMissingSourcesAndSinks,Long Statement,The length of the statement "assertTrue(vc.errors().get(0).startsWith("Property 'divolte.' The following sources and/or sinks were used in a mapping but never defined: [missing-sink` missing-source].."));" is 175.,78
divolte_divolte-collector,io.divolte.server.config,ValidatedConfigurationTest,sourceAndSinkNamesCannotCollide,Long Statement,The length of the statement "final ValidatedConfiguration vc=new ValidatedConfiguration(() -> ConfigFactory.parseResources("source-sink-collisions.conf"));" is 126.,90
divolte_divolte-collector,io.divolte.server.config,ValidatedConfigurationTest,sourceAndSinkNamesCannotCollide,Long Statement,The length of the statement "assertTrue(vc.errors().get(0).startsWith("Property 'divolte.' Source and sink names cannot collide (must be globally unique). The following names were both used as source and as sink: [foo` bar].."));" is 200.,90
divolte_divolte-collector,io.divolte.server.config,ValidatedConfigurationTest,sharedSinksAllowedWithSameSchema,Long Statement,The length of the statement "final ValidatedConfiguration vc=new ValidatedConfiguration(() -> ConfigFactory.parseResources("multiple-mappings-same-schema-shared-sink.conf"));" is 145.,102
divolte_divolte-collector,io.divolte.server.config,ValidatedConfigurationTest,sharedSinksCannotHaveDifferentSchemas,Long Statement,The length of the statement "final ValidatedConfiguration vc=new ValidatedConfiguration(() -> ConfigFactory.parseResources("multiple-mappings-different-schema-shared-sink.conf"));" is 150.,108
divolte_divolte-collector,io.divolte.server.config,ValidatedConfigurationTest,sharedSinksCannotHaveDifferentSchemas,Long Statement,The length of the statement "assertTrue(vc.errors().get(0).startsWith("Property 'divolte.' Any sink can only use one schema. The following sinks have multiple mappings with different schema's linked to them: [kafka].."));" is 192.,108
divolte_divolte-collector,io.divolte.server.config,ValidatedConfigurationTest,kafkaSinksSupportsConfluentMode,Long Statement,The length of the statement "final ValidatedConfiguration vc=new ValidatedConfiguration(() -> ConfigFactory.parseResources("kafka-sink-confluent.conf"));" is 124.,120
divolte_divolte-collector,io.divolte.server.config,ValidatedConfigurationTest,mappingsCanContainConfluentId,Long Statement,The length of the statement "final ValidatedConfiguration vc=new ValidatedConfiguration(() -> ConfigFactory.parseResources("mapping-configuration-confluent-id.conf"));" is 138.,126
divolte_divolte-collector,io.divolte.server.config,ValidatedConfigurationTest,mappingsForConfluentSinksMustHaveConfluentId,Long Statement,The length of the statement "final ValidatedConfiguration vc=new ValidatedConfiguration(() -> ConfigFactory.parseResources("kafka-sink-confluent-without-confluent-id.conf"));" is 145.,132
divolte_divolte-collector,io.divolte.server.config,ValidatedConfigurationTest,mappingsForConfluentSinksMustHaveConfluentId,Long Statement,The length of the statement "assertTrue(vc.errors().get(0).startsWith("Property 'divolte.' Mappings used by sinks in Confluent-mode must have their 'confluent_id' attribute set. The following mappings are missing this: [test].."));" is 202.,132
divolte_divolte-collector,io.divolte.server.config,ValidatedConfigurationTest,allMappingsForConfluentSinksMustHaveConfluentId,Long Statement,The length of the statement "final ValidatedConfiguration vc=new ValidatedConfiguration(() -> ConfigFactory.parseResources("kafka-sink-confluent-partially-without-confluent-id.conf"));" is 155.,144
divolte_divolte-collector,io.divolte.server.config,ValidatedConfigurationTest,allMappingsForConfluentSinksMustHaveConfluentId,Long Statement,The length of the statement "assertTrue(vc.errors().get(0).startsWith("Property 'divolte.' Mappings used by sinks in Confluent-mode must have their 'confluent_id' attribute set. The following mappings are missing this: [test-2].."));" is 204.,144
divolte_divolte-collector,io.divolte.server.config,ValidatedConfigurationTest,mappingsForConfluentSinksMustHaveSameConfluentId,Long Statement,The length of the statement "final ValidatedConfiguration vc=new ValidatedConfiguration(() -> ConfigFactory.parseResources("kafka-sink-confluent-with-confluent-id-conflict.conf"));" is 151.,156
divolte_divolte-collector,io.divolte.server.config,ValidatedConfigurationTest,mappingsForConfluentSinksMustHaveSameConfluentId,Long Statement,The length of the statement "assertTrue(vc.errors().get(0).startsWith("Property 'divolte.' Any sink can only use one confluent identifier. The following sinks have multiple mappings with different 'confluent_id' attributes: [kafka].."));" is 208.,156
divolte_divolte-collector,io.divolte.server.config,ValidatedConfigurationTest,shouldSetShutdownDelay,Long Statement,The length of the statement "final ValidatedConfiguration vc=new ValidatedConfiguration(() -> ConfigFactory.parseResources("reference-test-shutdown.conf"));" is 127.,168
divolte_divolte-collector,io.divolte.server.config,ValidatedConfigurationTest,shouldSetShutdownDelay,Magic Number,The method contains a magic number: 2200,168
divolte_divolte-collector,io.divolte.server.config,ValidatedConfigurationTest,shouldSetShutdownTimeout,Long Statement,The length of the statement "final ValidatedConfiguration vc=new ValidatedConfiguration(() -> ConfigFactory.parseResources("reference-test-shutdown.conf"));" is 127.,176
divolte_divolte-collector,io.divolte.server.config,ValidatedConfigurationTest,shouldSetShutdownTimeout,Magic Number,The method contains a magic number: 3,176
divolte_divolte-collector,io.divolte.server.config,GoogleCloudPubSubSinkConfigurationTest,testDefaultBatchingConfigurationValid,Long Statement,The length of the statement "final BatchingSettings batchingSettings=GoogleCloudPubSubSinkConfiguration.DEFAULT_BATCHING_SETTINGS.createBatchingSettings();" is 126.,36
divolte_divolte-collector,io.divolte.server.config,GoogleCloudPubSubSinkConfigurationTest,testRetryMaxRpcTimeoutDefaultsToInitialRpcTimeout,Long Statement,The length of the statement "final RetrySettings retrySettings=new GooglePubSubRetryConfiguration(null`null`null`null`null`java.time.Duration.ofNanos(138263)`null`null).createRetrySettings();" is 162.,44
divolte_divolte-collector,io.divolte.server.config,GoogleCloudPubSubSinkConfigurationTest,testRetryMaxRpcTimeoutDefaultsToInitialRpcTimeout,Magic Number,The method contains a magic number: 138263,44
divolte_divolte-collector,io.divolte.server.config,GoogleCloudStorageSinkConfigurationTest,testSpecifyingBothJitterSettingsInvalid,Long Statement,The length of the statement "final ValidatedConfiguration vc=new ValidatedConfiguration(() -> ConfigFactory.parseResources("gcs-both-jitter-invalid.conf"));" is 127.,40
divolte_divolte-collector,io.divolte.server.config,GoogleCloudStorageSinkConfigurationTest,testSpecifyingBothJitterSettingsInvalid,Long Statement,The length of the statement "assertTrue(vc.errors().get(0).startsWith("Property 'divolte.sinks[gcs].retrySettings' Retry settings may specify a jitter duration or factor` but not both.."));" is 160.,40
divolte_divolte-collector,io.divolte.server.config,GoogleCloudStorageSinkConfigurationTest,testJitterFactorSuppressesJitterDelayDefault,Long Statement,The length of the statement "final ValidatedConfiguration vc=new ValidatedConfiguration(() -> ConfigFactory.parseResources("gcs-jitter-factor.conf"));" is 121.,52
divolte_divolte-collector,io.divolte.server.config,GoogleCloudStorageSinkConfigurationTest,testJitterFactorSuppressesJitterDelayDefault,Long Statement,The length of the statement "final GoogleCloudStorageRetryConfiguration retrySettings=vc.configuration().getSinkConfiguration("gcs"`GoogleCloudStorageSinkConfiguration.class).retrySettings;" is 160.,52
divolte_divolte-collector,io.divolte.server.config,GoogleCloudStorageSinkConfigurationTest,testJitterFactorSuppressesJitterDelayDefault,Magic Number,The method contains a magic number: 0.1,52
divolte_divolte-collector,io.divolte.server.config,GoogleCloudStorageSinkConfigurationTest,testRetryConfiguration,Long Statement,The length of the statement "final GoogleCloudStorageRetryConfiguration retrySettings=vc.configuration().getSinkConfiguration("gcs"`GoogleCloudStorageSinkConfiguration.class).retrySettings;" is 160.,62
divolte_divolte-collector,io.divolte.server.config,GoogleCloudStorageSinkConfigurationTest,testRetryConfiguration,Magic Number,The method contains a magic number: 8,62
divolte_divolte-collector,io.divolte.server.config,GoogleCloudStorageSinkConfigurationTest,testRetryConfiguration,Magic Number,The method contains a magic number: 138,62
divolte_divolte-collector,io.divolte.server.config,GoogleCloudStorageSinkConfigurationTest,testRetryConfiguration,Magic Number,The method contains a magic number: 19,62
divolte_divolte-collector,io.divolte.server.config,GoogleCloudStorageSinkConfigurationTest,testRetryConfiguration,Magic Number,The method contains a magic number: 2.2,62
divolte_divolte-collector,io.divolte.server.config,GoogleCloudStorageSinkConfigurationTest,testRetryConfiguration,Magic Number,The method contains a magic number: 25,62
divolte_divolte-collector,io.divolte.server.config,GoogleCloudStorageSinkConfigurationTest,testRetryConfiguration,Magic Number,The method contains a magic number: 1925,62
divolte_divolte-collector,io.divolte.server.config,SchemaRegistryTest,testSinkCorrectlyAssociatedWithSchema,Long Statement,The length of the statement "final ValidatedConfiguration vc=new ValidatedConfiguration(() -> ConfigFactory.parseResources("schema-registry-with-confluent.conf"));" is 134.,30
divolte_divolte-collector,io.divolte.server.config,SchemaRegistryTest,testConfluentSinkCorrectlyAssociatedWithSchemaId,Long Statement,The length of the statement "final ValidatedConfiguration vc=new ValidatedConfiguration(() -> ConfigFactory.parseResources("schema-registry-with-confluent.conf"));" is 134.,54
divolte_divolte-collector,io.divolte.server.config,SchemaRegistryTest,testConfluentSinkCorrectlyAssociatedWithSchemaId,Magic Number,The method contains a magic number: 12345,54
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusher,FileFlusher,Long Identifier,The length of the field DEFAULT_FILE_SYSTEM_RECONNECT_DELAY_NANOS is 41.,78
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusher,process,Long Statement,The length of the statement "logger.error("File system connection error. Marking file system as unavailable. Attempting reconnect after " + reconnectDelayNanos + " ns."`ioe);" is 145.,107
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusher,heartbeat,Long Statement,The length of the statement "return currentTrackedFile.map(trackedFile -> handleHeartbeatWithHealthyFileSystem(nanoTime)).orElseGet(() -> nanoTime - lastFixAttemptNanoTime > reconnectDelayNanos ? attemptRecovery(nanoTime) : PAUSE);" is 202.,126
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusher,handleHeartbeatWithHealthyFileSystem,Long Statement,The length of the statement "logger.error("File system connection error. Marking file system as unavailable. Attempting reconnect after " + reconnectDelayNanos + " ns."`e);" is 143.,135
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusher,attemptRecovery,Long Statement,The length of the statement "logger.error("File system connection error. Marking file system as unavailable. Attempting reconnect after " + reconnectDelayNanos + " ns."`e);" is 143.,147
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusher,possiblySyncAndOrRoll,Complex Conditional,The conditional expression trackedFile.recordsSinceLastSync >= syncEveryRecords || nanoTime - trackedFile.lastSyncNanoTime >= syncEveryNanos && trackedFile.recordsSinceLastSync > 0 is complex.,183
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusher,possiblySyncAndOrRoll,Long Statement,The length of the statement "else if (trackedFile.recordsSinceLastSync >= syncEveryRecords || nanoTime - trackedFile.lastSyncNanoTime >= syncEveryNanos && trackedFile.recordsSinceLastSync > 0) {" is 165.,183
divolte_divolte-collector,io.divolte.server.filesinks,FileFlushingPool,FileFlushingPool,Long Parameter List,The method has 5 parameters. ,31
divolte_divolte-collector,io.divolte.server.filesinks,FileFlushingPool,FileFlushingPool,Long Statement,The length of the statement "super(numThreads`maxQueueSize`String.format("%s Flusher [%s]"`vc.configuration().getSinkConfiguration(sinkName`FileSinkConfiguration.class).getReadableType()`Objects.requireNonNull(sinkName))`() -> new FileFlusher(vc.configuration().getSinkConfiguration(sinkName`FileSinkConfiguration.class).fileStrategy`factory.create()));" is 324.,31
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldSyncAndRollFile,Magic Number,The method contains a magic number: 2,55
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldSyncAndRollFile,Magic Number,The method contains a magic number: 300,55
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldSyncAndRollFileTimeBased,Long Statement,The length of the statement "final FileStrategyConfiguration fileStrategyConfiguration=setupConfiguration("300 milliseconds"`"50 milliseconds"`"200");" is 121.,87
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldSyncAndRollFileTimeBased,Magic Number,The method contains a magic number: 100,87
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldSyncAndRollFileTimeBased,Magic Number,The method contains a magic number: 400,87
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldRollFileOnHeartbeatWithNoPendingRecords,Magic Number,The method contains a magic number: 200,119
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldDiscardEmptyFile,Magic Number,The method contains a magic number: 200,146
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldCloseAndPublishOnExitBeforeSync,Magic Number,The method contains a magic number: 2,168
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldAttemptReconnectAfterProcessFailure,Magic Number,The method contains a magic number: 50L,245
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldAttemptReconnectAfterProcessFailure,Magic Number,The method contains a magic number: 100,245
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldAttemptReconnectMoreThanOnceAfterProcessFailure,Magic Number,The method contains a magic number: 50L,277
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldAttemptReconnectMoreThanOnceAfterProcessFailure,Magic Number,The method contains a magic number: 100,277
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldAttemptReconnectMoreThanOnceAfterProcessFailure,Magic Number,The method contains a magic number: 100,277
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldAttemptReconnectAfterHeartbeatSyncFailure,Magic Number,The method contains a magic number: 50L,318
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldAttemptReconnectAfterHeartbeatSyncFailure,Magic Number,The method contains a magic number: 2,318
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldAttemptReconnectAfterHeartbeatSyncFailure,Magic Number,The method contains a magic number: 100,318
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldAttemptReconnectAfterHeartbeatSyncFailure,Magic Number,The method contains a magic number: 100,318
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldAttemptReconnectAfterHeartbeatRollCloseFailure,Magic Number,The method contains a magic number: 50L,354
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldAttemptReconnectAfterHeartbeatRollCloseFailure,Magic Number,The method contains a magic number: 2,354
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldAttemptReconnectAfterHeartbeatRollCloseFailure,Magic Number,The method contains a magic number: 100,354
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldAttemptReconnectAfterHeartbeatRollCloseFailure,Magic Number,The method contains a magic number: 100,354
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldAttemptReconnectAfterHeartbeatRollCreateFailure,Magic Number,The method contains a magic number: 50L,391
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldAttemptReconnectAfterHeartbeatRollCreateFailure,Magic Number,The method contains a magic number: 2,391
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldAttemptReconnectAfterHeartbeatRollCreateFailure,Magic Number,The method contains a magic number: 100,391
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldAttemptReconnectAfterHeartbeatRollCreateFailure,Magic Number,The method contains a magic number: 100,391
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldPostponeFailureOnConstruction,Magic Number,The method contains a magic number: 50L,426
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,shouldPostponeFailureOnConstruction,Magic Number,The method contains a magic number: 100,426
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,newAvroRecordBuffer,Long Statement,The length of the statement "final Record record=new GenericRecordBuilder(schema).set("ts"`now.toEpochMilli()).set("remoteHost"`ARBITRARY_IP).build();" is 121.,460
divolte_divolte-collector,io.divolte.server.filesinks,FileFlusherTest,setupConfiguration,Long Statement,The length of the statement "final Config config=ConfigFactory.parseMap(ImmutableMap.<String`Object>builder().put("divolte.sinks.hdfs.type"`"hdfs").put("divolte.sinks.hdfs.file_strategy.roll_every"`roll).put("divolte.sinks.hdfs.file_strategy.sync_file_after_duration"`syncDuration).put("divolte.sinks.hdfs.file_strategy.sync_file_after_records"`syncRecords).put("divolte.sinks.hdfs.file_strategy.working_dir"`"/tmp/work").put("divolte.sinks.hdfs.file_strategy.publish_dir"`"/tmp/published").build()).withFallback(ConfigFactory.parseResources("reference-test.conf"));" is 537.,474
divolte_divolte-collector,io.divolte.server.filesinks.gcs.entities,GcsObjectResponse,GcsObjectResponse,Long Parameter List,The method has 13 parameters. ,40
divolte_divolte-collector,io.divolte.server.filesinks.gcs.entities,GcsObjectResponse,toString,Long Statement,The length of the statement "return MoreObjects.toStringHelper(this).add("content type"`contentType).add("crc32"`crc32c).add("etag"`etag).add("generation"`generation).add("id"`id).add("kind"`kind).add("md5 hash"`md5Hash).add("name"`name).add("self link"`selfLink).add("size"`size).add("storage class"`storageClass).add("time created"`timeCreated).add("time storage class updated"`timeStorageClassUpdated).toString();" is 387.,58
divolte_divolte-collector,io.divolte.server.filesinks.gcs.entities,GetBucketResponse,GetBucketResponse,Long Parameter List,The method has 5 parameters. ,36
divolte_divolte-collector,io.divolte.server.filesinks.gcs.entities,GetBucketResponse,toString,Long Statement,The length of the statement "return MoreObjects.toStringHelper("Bucket").add("id"`id).add("name"`name).add("location"`location).add("storage class"`storageClass).add("created"`timeCreated).toString();" is 171.,45
divolte_divolte-collector,io.divolte.server.filesinks.gcs,GoogleCloudStorageFileManager,GoogleCloudStorageFileManager,Long Parameter List,The method has 6 parameters. ,98
divolte_divolte-collector,io.divolte.server.filesinks.gcs,GoogleCloudStorageFileManager,getGoogleCredentials,Long Statement,The length of the statement "return GoogleCredentials.getApplicationDefault().createScoped(Collections.singletonList(GoogleCloudStorageFileManager.GCS_OAUTH_SCOPE));" is 136.,351
divolte_divolte-collector,io.divolte.server.filesinks.gcs,GoogleCloudStorageFileManager,googlePost,Long Parameter List,The method has 5 parameters. ,367
divolte_divolte-collector,io.divolte.server.filesinks.gcs,GoogleCloudStorageFileManager,throwIOExceptionOnErrorResponse,Magic Number,The method contains a magic number: 200,394
divolte_divolte-collector,io.divolte.server.filesinks.gcs,GoogleCloudStorageFileManager,throwIOExceptionOnErrorResponse,Magic Number,The method contains a magic number: 299,394
divolte_divolte-collector,io.divolte.server.filesinks.gcs,GoogleCloudStorageFileManager,throwIOExceptionOnErrorResponse,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@2c0542c8,394
divolte_divolte-collector,io.divolte.server.filesinks.gcs,GoogleCloudStorageFileManager,withRetry,Long Parameter List,The method has 6 parameters. ,420
divolte_divolte-collector,io.divolte.server.filesinks.gcs,GoogleCloudStorageFileManager,withRetry,Long Statement,The length of the statement "final RetryPolicy<T> listeningPolicy=localPolicy.onRetry(event -> logger.error("Will retry after attempt #{}/{} of call to GCS API failed: {} {}"`event.getAttemptCount()`retryPolicy.getMaxRetries()`method`url`event.getLastFailure()));" is 234.,420
divolte_divolte-collector,io.divolte.server.filesinks.gcs,GoogleCloudStorageFileManager,withRetry,Long Statement,The length of the statement "return Failsafe.with(listeningPolicy).onFailure(event -> logger.error("Failed GCS API call after {} attempts: {} {}"`event.getAttemptCount()`method`url`event.getFailure())).get(() -> consumer.apply(setupUrlConnection(method`url`write`additionalHeaders)));" is 255.,420
divolte_divolte-collector,io.divolte.server.filesinks.gcs,GoogleCloudStorageFileManager,setupUrlConnection,Long Statement,The length of the statement "getGoogleCredentials().getRequestMetadata().forEach((headerName`headerValues) -> headerValues.forEach(value -> connection.addRequestProperty(headerName`value)));" is 161.,436
divolte_divolte-collector,io.divolte.server.filesinks.hdfs,HdfsFileManager,HdfsFileManager,Long Parameter List,The method has 5 parameters. ,55
divolte_divolte-collector,io.divolte.server.filesinks.hdfs,FileFlusherLocalHdfsTest,shouldCreateAndPopulateFileWithSimpleStrategy,Long Statement,The length of the statement "Files.walk(tempPublishDir).filter((p) -> p.toString().endsWith(".avro")).findFirst().ifPresent((p) -> verifyAvroFile(records`schema`p));" is 136.,99
divolte_divolte-collector,io.divolte.server.filesinks.hdfs,FileFlusherLocalHdfsTest,shouldCreateAndPopulateFileWithSimpleStrategy,Magic Number,The method contains a magic number: 10,99
divolte_divolte-collector,io.divolte.server.filesinks.hdfs,FileFlusherLocalHdfsTest,shouldWriteInProgressFilesWithNonAvroExtension,Magic Number,The method contains a magic number: 10,112
divolte_divolte-collector,io.divolte.server.filesinks.hdfs,FileFlusherLocalHdfsTest,shouldRollFilesWithSimpleStrategy,Magic Number,The method contains a magic number: 5,121
divolte_divolte-collector,io.divolte.server.filesinks.hdfs,FileFlusherLocalHdfsTest,shouldRollFilesWithSimpleStrategy,Magic Number,The method contains a magic number: 2,121
divolte_divolte-collector,io.divolte.server.filesinks.hdfs,FileFlusherLocalHdfsTest,shouldRollFilesWithSimpleStrategy,Magic Number,The method contains a magic number: 500,121
divolte_divolte-collector,io.divolte.server.filesinks.hdfs,FileFlusherLocalHdfsTest,shouldRollFilesWithSimpleStrategy,Magic Number,The method contains a magic number: 2,121
divolte_divolte-collector,io.divolte.server.filesinks.hdfs,FileFlusherLocalHdfsTest,shouldNotCreateEmptyFiles,Magic Number,The method contains a magic number: 5,147
divolte_divolte-collector,io.divolte.server.filesinks.hdfs,FileFlusherLocalHdfsTest,shouldNotCreateEmptyFiles,Magic Number,The method contains a magic number: 4,147
divolte_divolte-collector,io.divolte.server.filesinks.hdfs,FileFlusherLocalHdfsTest,shouldNotCreateEmptyFiles,Magic Number,The method contains a magic number: 500,147
divolte_divolte-collector,io.divolte.server.filesinks.hdfs,FileFlusherLocalHdfsTest,shouldNotCreateEmptyFiles,Magic Number,The method contains a magic number: 2,147
divolte_divolte-collector,io.divolte.server.filesinks.hdfs,FileFlusherLocalHdfsTest,setupFlusher,Long Statement,The length of the statement "final Config config=ConfigFactory.parseMap(ImmutableMap.of("divolte.sinks.hdfs.file_strategy.roll_every"`rollEvery`"divolte.sinks.hdfs.file_strategy.working_dir"`tempInflightDir.toString()`"divolte.sinks.hdfs.file_strategy.publish_dir"`tempPublishDir.toString())).withFallback(ConfigFactory.parseResources("hdfs-flusher-test.conf")).withFallback(ConfigFactory.parseResources("reference-test.conf"));" is 399.,173
divolte_divolte-collector,io.divolte.server.filesinks.hdfs,FileFlusherLocalHdfsTest,setupFlusher,Long Statement,The length of the statement "records=LongStream.range(0`recordCount).mapToObj((time) -> new GenericRecordBuilder(schema).set("ts"`time).set("remoteHost"`ARBITRARY_IP).build()).collect(Collectors.toList());" is 176.,173
divolte_divolte-collector,io.divolte.server.filesinks.hdfs,FileFlusherLocalHdfsTest,setupFlusher,Long Statement,The length of the statement "flusher=new FileFlusher(vc.configuration().getSinkConfiguration("hdfs"`FileSinkConfiguration.class).fileStrategy`HdfsFileManager.newFactory(vc`"hdfs"`schema).create());" is 168.,173
divolte_divolte-collector,io.divolte.server.filesinks.hdfs,FileFlusherLocalHdfsTest,processRecords,Long Statement,The length of the statement "records.stream().map((record) -> AvroRecordBuffer.fromRecord(DivolteIdentifier.generate()`DivolteIdentifier.generate()`"anEventId"`Instant.ofEpochMilli((long)record.get("ts"))`record)).forEach((arb) -> flusher.process(Item.of(0`arb.getPartyId().value`arb)));" is 258.,197
divolte_divolte-collector,io.divolte.server.filesinks.hdfs,FileFlusherLocalHdfsTest,verifyAvroFile,Long Statement,The length of the statement "final List<Record> result=StreamSupport.stream(readAvroFile(schema`avroFile.toFile()).spliterator()`false).collect(Collectors.toList());" is 136.,215
divolte_divolte-collector,io.divolte.server.ip2geo,DatabaseLookupService,loadExternalDatabase,Long Statement,The length of the statement "try (final InputStream rawStream=Files.newInputStream(location);final InputStream bufferedStream=new BufferedInputStream(rawStream);final InputStream dbStream=new GZIPInputStream(bufferedStream)){" is 196.,48
divolte_divolte-collector,io.divolte.server.processing,ProcessingPool,ProcessingPool,Long Statement,The length of the statement "this.queues=Stream.<ArrayBlockingQueue<Item<E>>>generate(() -> new ArrayBlockingQueue<>(maxQueueSize)).limit(numThreads).collect(Collectors.toCollection(() -> new ArrayList<>(numThreads)));" is 189.,60
divolte_divolte-collector,io.divolte.server.processing,ProcessingPool,scheduleQueueReader,Long Statement,The length of the statement "CompletableFuture.runAsync(microBatchingQueueDrainerWithHeartBeat(queue`processor)`es).whenComplete((voidValue`error) -> {" is 122.,105
divolte_divolte-collector,io.divolte.server.processing,ProcessingPool,sleepOneSecond,Magic Number,The method contains a magic number: 1000,152
divolte_divolte-collector,io.divolte.server.processing,ProcessingPool,createThreadFactory,Long Statement,The length of the statement "return new ThreadFactoryBuilder().setNameFormat(nameFormat).setThreadFactory((runnable) -> new Thread(group`runnable)).build();" is 127.,169
