Project Name,Package Name,Type Name,Method Name,Implementation Smell,Cause of the Smell,Method start line no
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual,VMDetector,VMDetector,Complex Method,Cyclomatic complexity of the method is 9,39
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual,VMDetector,VMDetector,Long Statement,The length of the statement "LOG.info(("Failed to find " + name + ". Exit code: "+ result.getExitCode()+ "\n "+ result.getStdout()+ "\n"+ result.getStderr()).trim());" is 137.,39
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual,VMDetector,executeCommandWithShell,Long Statement,The length of the statement "LOG.info(("Failed to find " + name + ". Exit code: "+ result.getExitCode()+ "\n "+ result.getStdout()+ "\n"+ result.getStderr()).trim());" is 137.,85
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.util.util.impl,CommandlineBuildProcessFactoryImpl,executeCommandLine,Long Statement,The length of the statement "BuildRunnerContext context=myFacade.createBuildRunnerContext(hostContext.getBuild()`SimpleRunnerConstants.TYPE`workingDir.getPath()`hostContext);" is 145.,44
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.util.util.impl,CommandlineBuildProcessFactoryImpl,joinCommandLineArguments,Magic Number,The method contains a magic number: 80,72
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run,VMRunnerFactory,createBuildRunnerProcess,Long Statement,The length of the statement "context.getBuild().getBuildLogger().warning("The build runner requires to enable 'the build process exit code is not zero' build failure condition");" is 149.,47
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run,VMRunnerFactory,createBuildRunnerProcess,Long Statement,The length of the statement "@NotNull @Override public BuildProcess commandline( @NotNull File workdir` @NotNull Collection<String> arguments) throws RunBuildException {" is 140.,47
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run,VMRunnerFactory,createBuildRunnerProcess,Long Statement,The length of the statement "@NotNull public BuildProcess commandline( @NotNull final File workdir` @NotNull final Collection<String> arguments` @NotNull final Map<String`String> additionalEnv) throws RunBuildException {" is 191.,47
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run,VMRunnerFactory,createBuildRunnerProcess,Long Statement,The length of the statement "final TryFinallyBuildProcessImpl tf=new TryFinallyBuildProcessImpl(new TryFinallyBuildProcessImpl.RunnerErrorLogger(context.getBuild().getBuildLogger()));" is 154.,47
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run,VMRunnerFactory,waitForImpl,Long Statement,The length of the statement "context.getBuild().getBuildLogger().warning("The build runner requires to enable 'the build process exit code is not zero' build failure condition");" is 149.,54
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run,VMRunnerFactory,waitForImpl,Long Statement,The length of the statement "final TryFinallyBuildProcessImpl tf=new TryFinallyBuildProcessImpl(new TryFinallyBuildProcessImpl.RunnerErrorLogger(context.getBuild().getBuildLogger()));" is 154.,94
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run.docker,DockerVM,constructBuildProcess,Long Statement,The length of the statement "final List<String> additionalCommands=additionalCommands(context.getRunnerParameters().get(VMConstants.PARAMETER_DOCKER_CUSTOM_COMMANDLINE));" is 141.,67
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run.docker,DockerVM,constructBuildProcess,Long Statement,The length of the statement "builder.addTryProcess(block("Pulling the image"`cmd.commandline(checkoutDir`Arrays.asList("docker"`"pull"`ctx.getImageName()))));" is 129.,67
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run.docker,DockerVM,constructBuildProcess,Long Statement,The length of the statement "builder.addTryProcess(block("Executing the command using " + ctx.getShellLocation()`cmd.commandline(checkoutDir`dockerRun(name`workDir`additionalCommands`scriptRun(script)))));" is 176.,67
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run.docker,DockerVM,constructBuildProcess,Long Statement,The length of the statement "builder.addFinishProcess(block("Terminating images (if needed)"`cmd.commandline(checkoutDir`Arrays.asList("docker"`"kill"`name`"2>&1"`"||"`"true"))));" is 150.,67
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run.docker,DockerVM,constructBuildProcess,Long Statement,The length of the statement "bp.pushBuildProcess(cmd.commandline(checkoutDir`dockerRun(name + "S"`checkoutDir`Arrays.<String>asList()`Arrays.asList(ctx.getShellLocation()`"-c"`"chown -R " + uid + ":"+ gid+ " ."))));" is 186.,67
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run.docker,DockerVM,constructBuildProcess,Long Statement,The length of the statement "@NotNull private List<String> dockerRun( @NotNull final String name` @NotNull final File workDir` @NotNull final List<String> dockerArgs` @NotNull final List<String> command) throws RunBuildException {" is 201.,67
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run.docker,DockerVM,constructBuildProcess,Long Statement,The length of the statement "arguments.addAll(Arrays.asList("docker"`"run"`"--rm=true"`"--name=" + name`"-v"`checkoutDir.getPath() + ":" + mountPoint+ ":"+ ctx.getDockerMountMode()`"--workdir=" + mountPoint + "/"+ RelativePaths.resolveRelativePath(checkoutDir`workDir)`"--interactive=false"`"--tty=false"));" is 278.,67
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run.docker,DockerVM,buildWithScriptFile,Long Statement,The length of the statement "final List<String> additionalCommands=additionalCommands(context.getRunnerParameters().get(VMConstants.PARAMETER_DOCKER_CUSTOM_COMMANDLINE));" is 141.,79
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run.docker,DockerVM,buildWithScriptFile,Long Statement,The length of the statement "builder.addTryProcess(block("Pulling the image"`cmd.commandline(checkoutDir`Arrays.asList("docker"`"pull"`ctx.getImageName()))));" is 129.,79
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run.docker,DockerVM,buildWithScriptFile,Long Statement,The length of the statement "builder.addTryProcess(block("Executing the command using " + ctx.getShellLocation()`cmd.commandline(checkoutDir`dockerRun(name`workDir`additionalCommands`scriptRun(script)))));" is 176.,79
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run.docker,DockerVM,buildWithScriptFile,Long Statement,The length of the statement "builder.addFinishProcess(block("Terminating images (if needed)"`cmd.commandline(checkoutDir`Arrays.asList("docker"`"kill"`name`"2>&1"`"||"`"true"))));" is 150.,79
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run.docker,DockerVM,buildWithScriptFile,Long Statement,The length of the statement "bp.pushBuildProcess(cmd.commandline(checkoutDir`dockerRun(name + "S"`checkoutDir`Arrays.<String>asList()`Arrays.asList(ctx.getShellLocation()`"-c"`"chown -R " + uid + ":"+ gid+ " ."))));" is 186.,79
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run.docker,DockerVM,startImpl,Long Statement,The length of the statement "bp.pushBuildProcess(cmd.commandline(checkoutDir`dockerRun(name + "S"`checkoutDir`Arrays.<String>asList()`Arrays.asList(ctx.getShellLocation()`"-c"`"chown -R " + uid + ":"+ gid+ " ."))));" is 186.,99
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run.docker,DockerVM,dockerRun,Long Statement,The length of the statement "arguments.addAll(Arrays.asList("docker"`"run"`"--rm=true"`"--name=" + name`"-v"`checkoutDir.getPath() + ":" + mountPoint+ ":"+ ctx.getDockerMountMode()`"--workdir=" + mountPoint + "/"+ RelativePaths.resolveRelativePath(checkoutDir`workDir)`"--interactive=false"`"--tty=false"));" is 278.,136
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run.docker,UserUIDAndGIDImpl,runCommand,Long Statement,The length of the statement "LOG.info(("Failed to call '" + command + "'. Exit code: "+ result.getExitCode()+ "\n "+ result.getStdout()+ "\n"+ result.getStderr()).trim());" is 142.,77
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run.vagrant,VagrantVM,constructBuildProcess,Long Statement,The length of the statement "upArguments.addAll(CommandLineUtils.additionalCommands(context.getRunnerParameters().get(PARAMETER_VAGRANT_CUSTOM_COMMANDLINE)));" is 129.,62
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run.vagrant,VagrantVM,constructBuildProcess,Long Statement,The length of the statement "builder.addTryProcess(block("Running the script using " + ctx.getShellLocation()`cmd.commandline(workDir`Arrays.asList("vagrant"`"ssh"`"-c"`"\"" + ctx.getShellLocation() + " -c 'cd "+ relativePath+ " && . "+ script.getName()+ "'\""))));" is 236.,62
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run.vagrant,VagrantVM,buildWithScriptFile,Long Statement,The length of the statement "upArguments.addAll(CommandLineUtils.additionalCommands(context.getRunnerParameters().get(PARAMETER_VAGRANT_CUSTOM_COMMANDLINE)));" is 129.,78
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run.vagrant,VagrantVM,buildWithScriptFile,Long Statement,The length of the statement "builder.addTryProcess(block("Running the script using " + ctx.getShellLocation()`cmd.commandline(workDir`Arrays.asList("vagrant"`"ssh"`"-c"`"\"" + ctx.getShellLocation() + " -c 'cd "+ relativePath+ " && . "+ script.getName()+ "'\""))));" is 236.,78
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run.vagrant,VagrantVM,up,Long Statement,The length of the statement "upArguments.addAll(CommandLineUtils.additionalCommands(context.getRunnerParameters().get(PARAMETER_VAGRANT_CUSTOM_COMMANDLINE)));" is 129.,89
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run.vagrant,VagrantVM,ssh,Long Statement,The length of the statement "builder.addTryProcess(block("Running the script using " + ctx.getShellLocation()`cmd.commandline(workDir`Arrays.asList("vagrant"`"ssh"`"-c"`"\"" + ctx.getShellLocation() + " -c 'cd "+ relativePath+ " && . "+ script.getName()+ "'\""))));" is 236.,100
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run.vagrant,VagrantContext,getVagrantFile,Long Statement,The length of the statement "if (!path.isFile()) throw new RunBuildException(VMConstants.VAGRANT_FILE + " is not found at " + getCheckoutDirectory());" is 121.,36
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run.vagrant,VagrantFilePatcher,generateVagrantFile,Long Parameter List,The method has 5 parameters. ,36
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.run.vagrant,VagrantFilePatcher,generateVagrantfile,Long Statement,The length of the statement "return "## Generated by TeamCity.Virtual plugin\n" + "Vagrant.configure(\"2\") do |config|\n" + " config.vm.synced_folder \"" + escapedPath + "\"` \""+ destRoot+ "\"\n"+ "end\n";" is 178.,116
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.tests.tests.agent,CommandlineBuildProcessFactoryTest,testSupportQuotes,Long Statement,The length of the statement "myFactory.executeCommandLine(myRootContext`Arrays.asList("program"`"\""`"foo"`"\"")`myWorkDir`Collections.<String`String>emptyMap());" is 133.,78
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.tests.tests.agent,CommandlineBuildProcessFactoryTest,testSupportQuotes2,Long Statement,The length of the statement "myFactory.executeCommandLine(myRootContext`Arrays.asList("program"`"\""`"\" foo\""`"\"")`myWorkDir`Collections.<String`String>emptyMap());" is 138.,90
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.tests.tests.agent,CommandlineBuildProcessFactoryTest,testQuoteArguments,Long Statement,The length of the statement "myFactory.executeCommandLine(myRootContext`Arrays.asList("program"`"\""`"f o o"`"z e"`"\"")`myWorkDir`Collections.<String`String>emptyMap());" is 141.,102
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.tests.tests.agent,CommandlineBuildProcessFactoryTest,testQuoteCommandArgs,Long Statement,The length of the statement "myFactory.executeCommandLine(myRootContext`Arrays.asList("p r o g r a m"`"a"`"b c d e"`"f")`myWorkDir`Collections.singletonMap("a"`"b"));" is 137.,140
jonnyzzz_TeamCity.Virtual,com.jonnyzzz.teamcity.virtual.tests.tests.agent,DockerTest,test_docker_pull_is_called,Long Statement,The length of the statement "new DoDockerTest().expectExactCall("docker"`"pull"`"image").expectStartsWith("docker"`"run").expectStartsWith("docker"`"kill").expectStartsWith("docker"`"run").test();" is 167.,227
