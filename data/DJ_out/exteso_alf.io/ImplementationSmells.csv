Project Name,Package Name,Type Name,Method Name,Implementation Smell,Cause of the Smell,Method start line no
exteso_alf.io,alfio.repository,SponsorScanRepository,insert,Long Parameter List,The method has 6 parameters. ,39
exteso_alf.io,alfio.repository,SponsorScanRepository,updateNotesAndLeadStatus,Long Parameter List,The method has 5 parameters. ,47
exteso_alf.io,alfio.repository,FieldRepository,insertConfiguration,Long Parameter List,The method has 11 parameters. ,28
exteso_alf.io,alfio.repository,FieldRepository,updateField,Long Parameter List,The method has 6 parameters. ,35
exteso_alf.io,alfio.repository,UploadedResourceRepository,fileContent,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().query("select content from resource_global where name = :name"`param`OUTPUT_CONTENT.apply(out));" is 128.,96
exteso_alf.io,alfio.repository,UploadedResourceRepository,fileContent,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().query("select content from resource_organizer where name = :name and organization_id_fk = :organizationId"`param`OUTPUT_CONTENT.apply(out));" is 172.,101
exteso_alf.io,alfio.repository,UploadedResourceRepository,fileContent,Long Statement,The length of the statement "SqlParameterSource param=new MapSqlParameterSource("name"`name).addValue("organizationId"`organizationId).addValue("eventId"`eventId);" is 134.,106
exteso_alf.io,alfio.repository,UploadedResourceRepository,fileContent,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().query("select content from resource_event where name = :name and organization_id_fk = :organizationId and event_id_fk = :eventId"`param`OUTPUT_CONTENT.apply(out));" is 195.,106
exteso_alf.io,alfio.repository,UploadedResourceRepository,upload,Long Statement,The length of the statement "String query="insert into resource_global (name` content_size` content` content_type` attributes) values(?` ?` ?` ?` ?)";" is 121.,113
exteso_alf.io,alfio.repository,UploadedResourceRepository,upload,Long Statement,The length of the statement "query="insert into resource_event (name` content_size` content` content_type` attributes` organization_id_fk` event_id_fk) values(?` ?` ?` ?` ?` ?` ?)";" is 152.,113
exteso_alf.io,alfio.repository,UploadedResourceRepository,upload,Long Statement,The length of the statement "query="insert into resource_organizer (name` content_size` content` content_type` attributes` organization_id_fk) values(?` ?` ?` ?` ?` ?)";" is 140.,113
exteso_alf.io,alfio.repository,UploadedResourceRepository,upload,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().getJdbcOperations().execute(query`new AbstractLobCreatingPreparedStatementCallback(lobHandler){" is 134.,113
exteso_alf.io,alfio.repository,UploadedResourceRepository,upload,Magic Number,The method contains a magic number: 2,113
exteso_alf.io,alfio.repository,UploadedResourceRepository,upload,Magic Number,The method contains a magic number: 3,113
exteso_alf.io,alfio.repository,UploadedResourceRepository,upload,Magic Number,The method contains a magic number: 4,113
exteso_alf.io,alfio.repository,UploadedResourceRepository,upload,Magic Number,The method contains a magic number: 5,113
exteso_alf.io,alfio.repository,UploadedResourceRepository,upload,Magic Number,The method contains a magic number: 6,113
exteso_alf.io,alfio.repository,UploadedResourceRepository,upload,Magic Number,The method contains a magic number: 7,113
exteso_alf.io,alfio.repository,UploadedResourceRepository,setValues,Magic Number,The method contains a magic number: 2,126
exteso_alf.io,alfio.repository,UploadedResourceRepository,setValues,Magic Number,The method contains a magic number: 3,126
exteso_alf.io,alfio.repository,UploadedResourceRepository,setValues,Magic Number,The method contains a magic number: 4,126
exteso_alf.io,alfio.repository,UploadedResourceRepository,setValues,Magic Number,The method contains a magic number: 5,126
exteso_alf.io,alfio.repository,UploadedResourceRepository,setValues,Magic Number,The method contains a magic number: 6,126
exteso_alf.io,alfio.repository,UploadedResourceRepository,setValues,Magic Number,The method contains a magic number: 7,126
exteso_alf.io,alfio.repository,FileUploadRepository,upload,Long Statement,The length of the statement "jdbc.getJdbcOperations().execute("insert into file_blob (id` name` content_size` content` content_type` attributes) values(?` ?` ?` ?` ?` ?)"`new AbstractLobCreatingPreparedStatementCallback(lobHandler){" is 203.,56
exteso_alf.io,alfio.repository,FileUploadRepository,upload,Magic Number,The method contains a magic number: 2,56
exteso_alf.io,alfio.repository,FileUploadRepository,upload,Magic Number,The method contains a magic number: 3,56
exteso_alf.io,alfio.repository,FileUploadRepository,upload,Magic Number,The method contains a magic number: 4,56
exteso_alf.io,alfio.repository,FileUploadRepository,upload,Magic Number,The method contains a magic number: 5,56
exteso_alf.io,alfio.repository,FileUploadRepository,upload,Magic Number,The method contains a magic number: 6,56
exteso_alf.io,alfio.repository,FileUploadRepository,setValues,Magic Number,The method contains a magic number: 2,63
exteso_alf.io,alfio.repository,FileUploadRepository,setValues,Magic Number,The method contains a magic number: 3,63
exteso_alf.io,alfio.repository,FileUploadRepository,setValues,Magic Number,The method contains a magic number: 4,63
exteso_alf.io,alfio.repository,FileUploadRepository,setValues,Magic Number,The method contains a magic number: 5,63
exteso_alf.io,alfio.repository,FileUploadRepository,setValues,Magic Number,The method contains a magic number: 6,63
exteso_alf.io,alfio.repository,ExtensionRepository,insert,Long Parameter List,The method has 8 parameters. ,34
exteso_alf.io,alfio.repository,ExtensionRepository,update,Long Parameter List,The method has 8 parameters. ,45
exteso_alf.io,alfio.repository,ExtensionRepository,registerExtensionConfigurationMetadata,Long Parameter List,The method has 6 parameters. ,103
exteso_alf.io,alfio.repository,EventAdminRepository,existsBySlug,Long Statement,The length of the statement "boolean rlsEnabled=Boolean.TRUE.equals(jdbcTemplate.queryForObject("select coalesce(current_setting('alfio.checkRowAccess'` true)` 'false') = 'true'"`EmptySqlParameterSource.INSTANCE`Boolean.class));" is 199.,31
exteso_alf.io,alfio.repository,EventAdminRepository,existsBySlug,Long Statement,The length of the statement "jdbcTemplate.queryForObject("select set_config('alfio.checkRowAccess'` 'false'` true)"`EmptySqlParameterSource.INSTANCE`Boolean.class);" is 135.,31
exteso_alf.io,alfio.repository,EventAdminRepository,existsBySlug,Long Statement,The length of the statement "boolean exists=Boolean.TRUE.equals(jdbcTemplate.queryForObject("select exists(select 1 from event where short_name = :slug)"`Map.of("slug"`slug)`Boolean.class));" is 161.,31
exteso_alf.io,alfio.repository,EventAdminRepository,existsBySlug,Long Statement,The length of the statement "jdbcTemplate.queryForObject("select set_config('alfio.checkRowAccess'` 'true'` true)"`EmptySqlParameterSource.INSTANCE`Boolean.class);" is 134.,31
exteso_alf.io,alfio.repository,TicketCategoryDescriptionRepository,descriptionForTicketCategory,Long Statement,The length of the statement "return findByTicketCategoryId(ticketCategory).stream().collect(Collectors.toMap(TicketCategoryDescription::getLocale`TicketCategoryDescription::getDescription));" is 161.,46
exteso_alf.io,alfio.repository,TicketCategoryRepository,insert,Long Parameter List,The method has 17 parameters. ,39
exteso_alf.io,alfio.repository,TicketCategoryRepository,findCategoryMetadataForEventGroupByCategoryId,Long Statement,The length of the statement "return findMetadataForCategoriesInEvent(eventId).stream().filter(ei -> ei.getMetadata() != null).collect(Collectors.toMap(EntityIdAndMetadata::getId`EntityIdAndMetadata::getMetadata));" is 184.,107
exteso_alf.io,alfio.repository,TicketCategoryRepository,update,Long Parameter List,The method has 14 parameters. ,116
exteso_alf.io,alfio.repository,TicketCategoryRepository,getTicketAllocation,Long Statement,The length of the statement "return findAllTicketCategories(eventId).stream().filter(TicketCategory::isBounded).mapToInt(TicketCategory::getMaxTickets).sum();" is 129.,144
exteso_alf.io,alfio.repository,TicketCategoryRepository,findStatisticsForEventIdByCategoryId,Long Statement,The length of the statement "return findStatisticsForEventId(eventId).stream().collect(Collectors.toMap(TicketCategoryStatisticView::getId`Function.identity()));" is 132.,157
exteso_alf.io,alfio.repository,AuditingRepository,insert,Long Parameter List,The method has 8 parameters. ,38
exteso_alf.io,alfio.repository,AuditingRepository,insert,Long Parameter List,The method has 7 parameters. ,47
exteso_alf.io,alfio.repository,AuditingRepository,insert,Long Parameter List,The method has 8 parameters. ,52
exteso_alf.io,alfio.repository,AuditingRepository,insert,Long Parameter List,The method has 7 parameters. ,58
exteso_alf.io,alfio.repository,AuditingRepository,insert,Long Parameter List,The method has 8 parameters. ,64
exteso_alf.io,alfio.repository,BillingDocumentRepository,insert,Long Parameter List,The method has 7 parameters. ,49
exteso_alf.io,alfio.repository,EmailMessageRepository,insert,Long Parameter List,The method has 12 parameters. ,51
exteso_alf.io,alfio.repository,EmailMessageRepository,updateStatusAndAttempts,Long Parameter List,The method has 5 parameters. ,76
exteso_alf.io,alfio.repository,GroupRepository,createConfiguration,Long Parameter List,The method has 6 parameters. ,57
exteso_alf.io,alfio.repository,GroupRepository,insert,Long Statement,The length of the statement "MapSqlParameterSource[] params=members.stream().map(i -> new MapSqlParameterSource("groupId"`groupId).addValue("value"`i.getValue().toLowerCase()).addValue("description"`i.getDescription())).toArray(MapSqlParameterSource[]::new);" is 229.,67
exteso_alf.io,alfio.repository,GroupRepository,insert,Long Statement,The length of the statement "return getNamedParameterJdbcTemplate().batchUpdate("insert into group_member(a_group_id_fk` value` description) values(:groupId` :value` :description)"`params);" is 160.,67
exteso_alf.io,alfio.repository,GroupRepository,updateConfiguration,Long Parameter List,The method has 7 parameters. ,107
exteso_alf.io,alfio.repository,GroupRepository,deactivateGroupMember,Long Statement,The length of the statement "MapSqlParameterSource[] params=memberIds.stream().map(memberId -> new MapSqlParameterSource("groupId"`groupId).addValue("memberId"`memberId).addValue("disabledPlaceholder"`UUID.randomUUID().toString())).toArray(MapSqlParameterSource[]::new);" is 241.,137
exteso_alf.io,alfio.repository,GroupRepository,deactivateGroupMember,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().batchUpdate("update group_member set active = false` value = 'DISABLED-' || :disabledPlaceholder where id = :memberId and a_group_id_fk = :groupId"`params);" is 188.,137
exteso_alf.io,alfio.repository,TicketFieldRepository,updateOrInsert,Long Statement,The length of the statement "var readOnlyFields=additionalFieldsForEvent.stream().filter(TicketFieldConfiguration::isReadOnly).map(TicketFieldConfiguration::getName).collect(Collectors.toSet());" is 165.,89
exteso_alf.io,alfio.repository,TicketFieldRepository,updateOrInsert,Long Statement,The length of the statement "Map<String`Integer> fieldNameToId=additionalFieldsForEvent.stream().collect(Collectors.toMap(TicketFieldConfiguration::getName`TicketFieldConfiguration::getId));" is 161.,89
exteso_alf.io,alfio.repository,TicketFieldRepository,findTranslationsFor,Long Statement,The length of the statement "return findDescriptions(eventId`locale.getLanguage()).stream().collect(Collectors.toMap(TicketFieldDescription::getTicketFieldConfigurationId`Function.identity()));" is 164.,152
exteso_alf.io,alfio.repository,TicketFieldRepository,findAllValuesForTicketId,Long Statement,The length of the statement "return findNameAndValue(ticketId).stream().filter(t -> t.getName() != null && t.getValue() != null).collect(Collectors.toMap(FieldNameAndValue::getName`FieldNameAndValue::getValue));" is 182.,156
exteso_alf.io,alfio.repository,TicketFieldRepository,retrieveStats,Long Statement,The length of the statement "Map<String`Integer> valueStats=getValueStats(configurationId).stream().collect(Collectors.toMap(RestrictedValueStats.RestrictedValueCount::getName`RestrictedValueStats.RestrictedValueCount::getCount));" is 201.,174
exteso_alf.io,alfio.repository,TicketFieldRepository,retrieveStats,Long Statement,The length of the statement "return new RestrictedValueStats(name`count`total == 0 ? 0 : new BigDecimal(count).divide(new BigDecimal(total)`2`RoundingMode.HALF_UP).multiply(MonetaryUtil.HUNDRED).intValue());" is 178.,174
exteso_alf.io,alfio.repository,TicketFieldRepository,retrieveStats,Magic Number,The method contains a magic number: 2,174
exteso_alf.io,alfio.repository,TicketSearchRepository,findAllModifiedTicketsWithReservationAndTransaction,Long Identifier,The length of the field FIND_ALL_MODIFIED_TICKETS_WITH_RESERVATION_AND_TRANSACTION is 58.,67
exteso_alf.io,alfio.repository,TicketSearchRepository,findAllModifiedTicketsWithReservationAndTransaction,Long Parameter List,The method has 5 parameters. ,67
exteso_alf.io,alfio.repository,TicketSearchRepository,filterConfirmedTicketsInEventForPoll,Long Identifier,The length of the field FIND_ALL_CONFIRMED_TICKETS_FOR_EVENT is 36.,74
exteso_alf.io,alfio.repository,TicketSearchRepository,countAllModifiedTicketsWithReservationAndTransaction,Long Identifier,The length of the field FIND_ALL_MODIFIED_TICKETS_WITH_RESERVATION_AND_TRANSACTION is 58.,81
exteso_alf.io,alfio.repository,TicketSearchRepository,findReservationsForEvent,Long Identifier,The length of the field FIND_ALL_TICKETS_INCLUDING_NEW is 30.,86
exteso_alf.io,alfio.repository,TicketSearchRepository,findReservationsForEvent,Long Parameter List,The method has 5 parameters. ,86
exteso_alf.io,alfio.repository,TicketSearchRepository,findReservationsForSubscription,Long Identifier,The length of the field FIND_ALL_SUBSCRIPTION_INCLUDING_NEW is 35.,93
exteso_alf.io,alfio.repository,TicketSearchRepository,findReservationsForSubscription,Long Parameter List,The method has 5 parameters. ,93
exteso_alf.io,alfio.repository,TicketSearchRepository,countReservationsForEvent,Long Identifier,The length of the field FIND_ALL_TICKETS_INCLUDING_NEW is 30.,112
exteso_alf.io,alfio.repository,TicketSearchRepository,countReservationsForSubscription,Long Identifier,The length of the field FIND_ALL_SUBSCRIPTION_INCLUDING_NEW is 35.,117
exteso_alf.io,alfio.repository,SpecialPriceRepository,bulkInsert,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().batchUpdate("insert into special_price (code` price_cts` ticket_category_id` status` sent_ts) values(:code` :priceInCents` :ticketCategoryId` :status` null)"`params);" is 198.,97
exteso_alf.io,alfio.repository,SpecialPriceRepository,findAllByCategoriesIdsMapped,Long Statement,The length of the statement "return findAllByCategoriesIds(ticketCategoriesIds).stream().collect(Collectors.groupingBy(SpecialPrice::getTicketCategoryId));" is 126.,132
exteso_alf.io,alfio.repository,AdditionalServiceRepository,getCount,Long Statement,The length of the statement "getJdbcTemplate().query("select count(*) as cnt` additional_service_id_fk from additional_service_item where event_id_fk = :eventId group by additional_service_id_fk"`Collections.singletonMap("eventId"`eventId)`rse -> {" is 219.,35
exteso_alf.io,alfio.repository,AdditionalServiceRepository,insert,Long Parameter List,The method has 12 parameters. ,55
exteso_alf.io,alfio.repository,AdditionalServiceRepository,update,Long Parameter List,The method has 10 parameters. ,65
exteso_alf.io,alfio.repository,SubscriptionRepository,createSubscriptionDescriptor,Long Parameter List,The method has 26 parameters. ,56
exteso_alf.io,alfio.repository,SubscriptionRepository,updateSubscriptionDescriptor,Long Parameter List,The method has 25 parameters. ,93
exteso_alf.io,alfio.repository,SubscriptionRepository,createSubscription,Long Parameter List,The method has 12 parameters. ,201
exteso_alf.io,alfio.repository,SubscriptionRepository,confirmSubscription,Long Parameter List,The method has 10 parameters. ,268
exteso_alf.io,alfio.repository,SubscriptionRepository,updateSubscription,Long Parameter List,The method has 7 parameters. ,283
exteso_alf.io,alfio.repository,SubscriptionRepository,loadAvailableSubscriptionsByEvent,Long Statement,The length of the statement "getJdbcTemplate().query("with usage_by_subscription_id as ( " + " select s.id subscription_id` " + " sum(case when t.subscription_id_fk is not null then 1 else 0 end) usage "+ " from subscription s "+ " left join tickets_reservation t on t.subscription_id_fk = s.id "+ " group by 1 "+ " )` subscription_expiration as ( "+ " select id` "+ " coalesce(s.validity_from` 'yesterday'::timestamp) inception` "+ " coalesce(s.validity_to` 'tomorrow'::timestamp) expiration "+ " from subscription s "+ " ) "+ " select e.id event_id` "+ " e.org_id organization_id` "+ " s.id as subscription_id` "+ " s.email_address as email_address` "+ " s.first_name as first_name` "+ " s.last_name as last_name` "+ " r.user_language as user_language "+ " from event e "+ " join subscription_event se on se.event_id_fk = e.id "+ " join subscription_descriptor sd on se.subscription_descriptor_id_fk = sd.id "+ " join subscription s on sd.id = s.subscription_descriptor_fk "+ " join usage_by_subscription_id u on s.id = u.subscription_id "+ " join subscription_expiration exp on s.id = exp.id "+ " join tickets_reservation r on r.id = s.reservation_id_fk "+ " where e.end_ts > now() "+ " and (:eventId::int is null or e.id = :eventId::int)"+ " and (:organizationId::int is null or e.org_id = :organizationId::int)"+ " and s.status = 'ACQUIRED' "+ " and not exists(select id from tickets_reservation tr where tr.subscription_id_fk = s.id and tr.event_id_fk = e.id) "+ " and sd.supports_tickets_generation is TRUE "+ " and exp.inception <= now() "+ " and exp.expiration > now() "+ " and (s.max_entries = -1 or s.max_entries > u.usage) "+ " and (select count(*) from ticket_category where event_id = e.id and tc_status = 'ACTIVE') > 0"+ " order by e.id"`paramSource`rse -> {" is 1744.,307
exteso_alf.io,alfio.repository,SubscriptionRepository,loadAvailableSubscriptionsByEvent,Long Statement,The length of the statement "result.get(eId).add(new AvailableSubscriptionsByEvent(eId`rse.getInt("organization_id")`rse.getObject("subscription_id"`UUID.class)`rse.getString("email_address")`rse.getString("first_name")`rse.getString("last_name")`rse.getString("user_language")));" is 251.,307
exteso_alf.io,alfio.repository,PromoCodeDiscountRepository,addPromoCode,Long Parameter List,The method has 14 parameters. ,47
exteso_alf.io,alfio.repository,PromoCodeDiscountRepository,addPromoCodeIfNotExists,Long Parameter List,The method has 13 parameters. ,64
exteso_alf.io,alfio.repository,PromoCodeDiscountRepository,updateEventPromoCode,Long Parameter List,The method has 8 parameters. ,105
exteso_alf.io,alfio.repository,WaitingQueueRepository,insert,Long Parameter List,The method has 9 parameters. ,43
exteso_alf.io,alfio.repository,AdminReservationRequestRepository,insertRequest,Long Statement,The length of the statement "MapSqlParameterSource[] requests=requestModifications.map(res -> new MapSqlParameterSource("userId"`userId).addValue("requestId"`requestId).addValue("requestType"`AdminReservationRequest.RequestType.IMPORT.name()).addValue("status"`AdminReservationRequest.Status.PENDING.name()).addValue("eventId"`event.getId()).addValue("body"`Json.toJson(res))).toArray(MapSqlParameterSource[]::new);" is 386.,37
exteso_alf.io,alfio.repository,AdminReservationRequestRepository,insertRequest,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().batchUpdate("insert into admin_reservation_request(user_id` request_id` event_id` request_type` status` body) values(:userId` :requestId` :eventId` :requestType` :status` :body)"`requests);" is 221.,37
exteso_alf.io,alfio.repository,AdminReservationRequestRepository,updateStatus,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().batchUpdate("update admin_reservation_request set status = :status` reservation_id = :reservationId` failure_code = :failureCode where id = :id"`params.toArray(new MapSqlParameterSource[0]));" is 223.,59
exteso_alf.io,alfio.repository,PollRepository,insert,Long Parameter List,The method has 6 parameters. ,37
exteso_alf.io,alfio.repository,PollRepository,update,Long Parameter List,The method has 6 parameters. ,47
exteso_alf.io,alfio.repository,TicketRepository,bulkTicketInitialization,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().batchUpdate("insert into ticket (uuid` creation` category_id` event_id` status` original_price_cts` paid_price_cts` src_price_cts)" + "values(:uuid` :creation` :categoryId` :eventId` :status` 0` 0` :srcPriceCts)"`args);" is 251.,53
exteso_alf.io,alfio.repository,TicketRepository,bulkTicketUpdate,Long Statement,The length of the statement "MapSqlParameterSource[] params=ids.stream().map(id -> new MapSqlParameterSource("id"`id).addValue("categoryId"`ticketCategory.getId()).addValue("srcPriceCts"`ticketCategory.getSrcPriceCts())).toArray(MapSqlParameterSource[]::new);" is 230.,58
exteso_alf.io,alfio.repository,TicketRepository,bulkTicketUpdate,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().batchUpdate("update ticket set category_id = :categoryId` src_price_cts = :srcPriceCts where id = :id"`params);" is 143.,58
exteso_alf.io,alfio.repository,TicketRepository,reserveTickets,Long Parameter List,The method has 6 parameters. ,112
exteso_alf.io,alfio.repository,TicketRepository,reserveTickets,Long Statement,The length of the statement "var batchReserveParameters=ticketIds.stream().map(id -> new MapSqlParameterSource("reservationId"`reservationId).addValue("id"`id).addValue("categoryId"`category.getId()).addValue("userLanguage"`userLanguage).addValue("srcPriceCts"`category.getSrcPriceCts()).addValue("currencyCode"`category.getCurrencyCode()).addValue("ticketMetadata"`Objects.requireNonNullElse(ticketMetadataSupplier.apply(idx.getAndIncrement())`"{}")).addValue("vatStatus"`vatStatus.name())).toArray(MapSqlParameterSource[]::new);" is 501.,112
exteso_alf.io,alfio.repository,TicketRepository,reserveTickets,Long Statement,The length of the statement "return (int)Arrays.stream(getNamedParameterJdbcTemplate().batchUpdate(batchReserveTickets()`batchReserveParameters)).asLongStream().sum();" is 138.,112
exteso_alf.io,alfio.repository,TicketRepository,reserveTicket,Long Parameter List,The method has 8 parameters. ,146
exteso_alf.io,alfio.repository,TicketRepository,updateTicketPrice,Long Parameter List,The method has 7 parameters. ,167
exteso_alf.io,alfio.repository,TicketRepository,updateTicketPrice,Long Parameter List,The method has 9 parameters. ,178
exteso_alf.io,alfio.repository,TicketRepository,updateTicketOwner,Long Parameter List,The method has 5 parameters. ,242
exteso_alf.io,alfio.repository,TicketRepository,updateTicketOwnerById,Long Parameter List,The method has 5 parameters. ,245
exteso_alf.io,alfio.repository,TicketRepository,batchReleaseTickets,Long Statement,The length of the statement "MapSqlParameterSource[] args=ticketIds.stream().map(id -> new MapSqlParameterSource("ticketId"`id).addValue("reservationId"`reservationId).addValue("eventId"`event.getId()).addValue("newUuid"`UUID.randomUUID().toString())).toArray(MapSqlParameterSource[]::new);" is 261.,341
exteso_alf.io,alfio.repository,TicketRepository,resetTickets,Long Statement,The length of the statement "MapSqlParameterSource[] params=ticketIds.stream().map(ticketId -> new MapSqlParameterSource("ticketId"`ticketId).addValue("newUuid"`UUID.randomUUID().toString())).toArray(MapSqlParameterSource[]::new);" is 201.,355
exteso_alf.io,alfio.repository,TicketRepository,resetTickets,Long Statement,The length of the statement "getNamedParameterJdbcTemplate().batchUpdate("update ticket set status = 'RELEASED'` uuid = :newUuid` " + RESET_TICKET + " where id = :ticketId"`params);" is 152.,355
exteso_alf.io,alfio.repository,TicketRepository,preReserveTicket,Long Statement,The length of the statement "MapSqlParameterSource[] params=ids.stream().map(id -> new MapSqlParameterSource().addValue("id"`id)).toArray(MapSqlParameterSource[]::new);" is 139.,389
exteso_alf.io,alfio.repository,ExtensionLogRepository,insert,Long Parameter List,The method has 5 parameters. ,30
exteso_alf.io,alfio.repository,ExtensionLogRepository,getPage,Long Parameter List,The method has 5 parameters. ,44
exteso_alf.io,alfio.repository,EventDescriptionRepository,findByEventIdAsMap,Long Statement,The length of the statement "return findByEventId(eventId).stream().collect(Collectors.toMap(EventDescription::getLocale`EventDescription::getDescription));" is 127.,38
exteso_alf.io,alfio.repository,EventDescriptionRepository,findDescriptionByEventIdAsMap,Long Statement,The length of the statement "return findDescriptionByEventId(eventId).stream().collect(Collectors.toMap(EventDescription.LocaleDescription::getLocale`EventDescription.LocaleDescription::getDescription));" is 174.,42
exteso_alf.io,alfio.repository,EventRepository,insert,Long Parameter List,The method has 28 parameters. ,91
exteso_alf.io,alfio.repository,EventRepository,updateHeader,Long Parameter List,The method has 17 parameters. ,126
exteso_alf.io,alfio.repository,EventRepository,updatePrices,Long Parameter List,The method has 8 parameters. ,147
exteso_alf.io,alfio.repository,TicketReservationRepository,createNewReservation,Long Parameter List,The method has 11 parameters. ,32
exteso_alf.io,alfio.repository,TicketReservationRepository,updateTicketReservation,Long Parameter List,The method has 11 parameters. ,54
exteso_alf.io,alfio.repository,TicketReservationRepository,postponePayment,Long Parameter List,The method has 9 parameters. ,68
exteso_alf.io,alfio.repository,TicketReservationRepository,updateBillingData,Long Parameter List,The method has 10 parameters. ,154
exteso_alf.io,alfio.repository,TicketReservationRepository,updateTicketReservationWithValidation,Long Parameter List,The method has 19 parameters. ,197
exteso_alf.io,alfio.repository,TicketReservationRepository,resetVat,Long Parameter List,The method has 8 parameters. ,241
exteso_alf.io,alfio.repository,AdditionalServiceItemRepository,insert,Long Parameter List,The method has 11 parameters. ,31
exteso_alf.io,alfio.repository,TransactionRepository,insert,Long Parameter List,The method has 12 parameters. ,39
exteso_alf.io,alfio.repository,TransactionRepository,update,Long Parameter List,The method has 8 parameters. ,54
exteso_alf.io,alfio.repository,TransactionRepository,updateIfStatus,Long Parameter List,The method has 9 parameters. ,64
exteso_alf.io,alfio.repository,TransactionRepository,lockLatestForUpdate,Long Identifier,The length of the field SELECT_VALID_BY_RESERVATION_ID is 30.,75
exteso_alf.io,alfio.repository,TransactionRepository,loadByReservationId,Long Identifier,The length of the field SELECT_VALID_BY_RESERVATION_ID is 30.,87
exteso_alf.io,alfio.repository,TransactionRepository,loadOptionalByReservationId,Long Identifier,The length of the field SELECT_VALID_BY_RESERVATION_ID is 30.,100
exteso_alf.io,alfio.repository,TransactionRepository,loadOptionalByReservationIdAndStatus,Long Identifier,The length of the field SELECT_VALID_BY_RESERVATION_ID is 30.,103
exteso_alf.io,alfio.repository,TransactionRepository,loadOptionalByReservationIdAndStatusForUpdate,Long Identifier,The length of the field SELECT_VALID_BY_RESERVATION_ID is 30.,106
exteso_alf.io,alfio.repository,TransactionRepository,loadOptionalByStatusAndPaymentProxyForUpdate,Long Identifier,The length of the field SELECT_VALID_BY_RESERVATION_ID is 30.,109
exteso_alf.io,alfio.repository,EventRepositoryIntegrationTest,testJavaInsertedDatesRespectTheirTimeZone,Long Statement,The length of the statement "AffectedRowCountAndKey<Integer> pair=eventRepository.insert("unittest"`Event.EventFormat.IN_PERSON`"display Name"`"http://localhost:8080/"`"http://localhost:8080"`"http://localhost:8080"`null`null`null`"Lugano"`"9"`"8"`beginEventDate`endEventDate`NEW_YORK_TZ`"CHF"`4`true`new BigDecimal(1)`""`""`orgId`7`PriceContainer.VatStatus.INCLUDED`0`null`Event.Status.PUBLIC`AlfioMetadata.empty());" is 388.,91
exteso_alf.io,alfio.repository,EventRepositoryIntegrationTest,testJavaInsertedDatesRespectTheirTimeZone,Magic Number,The method contains a magic number: 2015,91
exteso_alf.io,alfio.repository,EventRepositoryIntegrationTest,testJavaInsertedDatesRespectTheirTimeZone,Magic Number,The method contains a magic number: 4,91
exteso_alf.io,alfio.repository,EventRepositoryIntegrationTest,testJavaInsertedDatesRespectTheirTimeZone,Magic Number,The method contains a magic number: 18,91
exteso_alf.io,alfio.repository,EventRepositoryIntegrationTest,testJavaInsertedDatesRespectTheirTimeZone,Magic Number,The method contains a magic number: 2015,91
exteso_alf.io,alfio.repository,EventRepositoryIntegrationTest,testJavaInsertedDatesRespectTheirTimeZone,Magic Number,The method contains a magic number: 4,91
exteso_alf.io,alfio.repository,EventRepositoryIntegrationTest,testJavaInsertedDatesRespectTheirTimeZone,Magic Number,The method contains a magic number: 19,91
exteso_alf.io,alfio.repository,EventRepositoryIntegrationTest,testJavaInsertedDatesRespectTheirTimeZone,Magic Number,The method contains a magic number: 23,91
exteso_alf.io,alfio.repository,EventRepositoryIntegrationTest,testJavaInsertedDatesRespectTheirTimeZone,Magic Number,The method contains a magic number: 59,91
exteso_alf.io,alfio.repository,EventRepositoryIntegrationTest,testJavaInsertedDatesRespectTheirTimeZone,Magic Number,The method contains a magic number: 59,91
exteso_alf.io,alfio.repository,EventRepositoryIntegrationTest,testJavaInsertedDatesRespectTheirTimeZone,Magic Number,The method contains a magic number: 4,91
exteso_alf.io,alfio.repository,EventRepositoryIntegrationTest,testJavaInsertedDatesRespectTheirTimeZone,Magic Number,The method contains a magic number: 7,91
exteso_alf.io,alfio.repository,EventRepositoryIntegrationTest,testCheckInStatistics,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`0`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 461.,114
exteso_alf.io,alfio.repository,EventRepositoryIntegrationTest,testCheckInStatistics,Long Statement,The length of the statement "TicketCategoryModification tcm=new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty());" is 421.,114
exteso_alf.io,alfio.repository,EventRepositoryIntegrationTest,testCheckInStatistics,Long Statement,The length of the statement "EventWithAdditionalInfo eventWithAdditionalInfo=eventStatisticsManager.getEventWithAdditionalInfo(event.getShortName()`pair.getRight());" is 136.,114
exteso_alf.io,alfio.repository,EventRepositoryIntegrationTest,testCheckInStatistics,Long Statement,The length of the statement "List<Integer> ids=ticketRepository.selectNotAllocatedTicketsForUpdate(event.getId()`5`Collections.singletonList(TicketRepository.FREE));" is 136.,114
exteso_alf.io,alfio.repository,EventRepositoryIntegrationTest,testCheckInStatistics,Long Statement,The length of the statement "ticketReservationRepository.createNewReservation(reservationId`ZonedDateTime.now(ClockProvider.clock())`DateUtils.addDays(new Date()`1)`null`"en"`event.getId()`event.getVat()`event.isVatIncluded()`event.getCurrency()`event.getOrganizationId()`null);" is 249.,114
exteso_alf.io,alfio.repository,EventRepositoryIntegrationTest,testCheckInStatistics,Long Statement,The length of the statement "int reserved=ticketRepository.reserveTickets(reservationId`ids`firstCategory.getTicketCategory()`"it"`event.getVatStatus()`i -> null);" is 134.,114
exteso_alf.io,alfio.repository,EventRepositoryIntegrationTest,testCheckInStatistics,Long Statement,The length of the statement "ticketRepository.updateTicketStatusWithUUID(ticketsInReservation.get(0).getUuid()`Ticket.TicketStatus.CHECKED_IN.name());" is 121.,114
exteso_alf.io,alfio.repository,EventRepositoryIntegrationTest,testCheckInStatistics,Magic Number,The method contains a magic number: 10,114
exteso_alf.io,alfio.repository,EventRepositoryIntegrationTest,testCheckInStatistics,Magic Number,The method contains a magic number: 5,114
exteso_alf.io,alfio.repository,EventRepositoryIntegrationTest,testCheckInStatistics,Magic Number,The method contains a magic number: 5,114
exteso_alf.io,alfio.repository,EventRepositoryIntegrationTest,testCheckInStatistics,Magic Number,The method contains a magic number: 5,114
exteso_alf.io,alfio.repository,EventRepositoryIntegrationTest,testCheckInStatistics,Magic Number,The method contains a magic number: 5,114
exteso_alf.io,alfio.repository.system,ConfigurationRepository,getAllCategoriesAndValueWith,Long Statement,The length of the statement "return findAllCategoriesAndValueWith(organizationId`eventId`key.name()).stream().collect(Collectors.toMap(CategoryAndValue::getTicketCategoryId`CategoryAndValue::getValue));" is 173.,71
exteso_alf.io,alfio.repository.system,ConfigurationRepository,updateCategoryLevel,Long Parameter List,The method has 5 parameters. ,154
exteso_alf.io,alfio.repository.system,ConfigurationRepository,insertEventLevel,Long Parameter List,The method has 5 parameters. ,157
exteso_alf.io,alfio.repository.system,ConfigurationRepository,insertTicketCategoryLevel,Long Parameter List,The method has 6 parameters. ,160
exteso_alf.io,alfio.repository.user,OrganizationRepository,create,Long Parameter List,The method has 5 parameters. ,47
exteso_alf.io,alfio.repository.user,OrganizationRepository,update,Long Parameter List,The method has 6 parameters. ,56
exteso_alf.io,alfio.repository.user,UserRepository,create,Long Parameter List,The method has 9 parameters. ,70
exteso_alf.io,alfio.repository.user,UserRepository,createPublicUserIfNotExists,Long Parameter List,The method has 6 parameters. ,78
exteso_alf.io,alfio.repository.user,UserRepository,update,Long Parameter List,The method has 6 parameters. ,87
exteso_alf.io,alfio.repository.user,UserRepository,persistUserProfile,Long Parameter List,The method has 11 parameters. ,115
exteso_alf.io,alfio.repository.audit,ScanAuditRepository,insert,Long Parameter List,The method has 6 parameters. ,30
exteso_alf.io,alfio.manager,AttendeeManager,AttendeeManager,Long Identifier,The length of the parameter additionalServiceItemRepository is 31.,52
exteso_alf.io,alfio.manager,AttendeeManager,AttendeeManager,Long Identifier,The length of the field additionalServiceItemRepository is 31.,52
exteso_alf.io,alfio.manager,AttendeeManager,AttendeeManager,Long Parameter List,The method has 8 parameters. ,52
exteso_alf.io,alfio.manager,AttendeeManager,registerSponsorScan,Long Parameter List,The method has 5 parameters. ,70
exteso_alf.io,alfio.manager,AttendeeManager,registerSponsorScan,Long Statement,The length of the statement "Optional<EventAndOrganizationId> maybeEvent=eventRepository.findOptionalEventAndOrganizationIdByShortName(eventShortName);" is 122.,70
exteso_alf.io,alfio.manager,AttendeeManager,registerSponsorScan,Long Statement,The length of the statement "return new TicketAndCheckInResult(new TicketWithCategory(ticket`null)`new DefaultCheckInResult(CheckInStatus.INVALID_TICKET_STATE`"not checked-in"));" is 149.,70
exteso_alf.io,alfio.manager,AttendeeManager,registerSponsorScan,Long Statement,The length of the statement "Optional<ZonedDateTime> existingRegistration=sponsorScanRepository.getRegistrationTimestamp(userId`event.getId()`ticket.getId());" is 129.,70
exteso_alf.io,alfio.manager,AttendeeManager,registerSponsorScan,Long Statement,The length of the statement "sponsorScanRepository.insert(userId`ZonedDateTime.now(clockProvider.withZone(eventZoneId))`event.getId()`ticket.getId()`notes`leadStatus);" is 138.,70
exteso_alf.io,alfio.manager,AttendeeManager,registerSponsorScan,Long Statement,The length of the statement "return new TicketAndCheckInResult(new TicketWithCategory(ticket`null)`new DefaultCheckInResult(CheckInStatus.SUCCESS`"success"));" is 129.,70
exteso_alf.io,alfio.manager,AttendeeManager,retrieveTicket,Long Identifier,The length of the field additionalServiceItemRepository is 31.,95
exteso_alf.io,alfio.manager,AttendeeManager,retrieveTicket,Long Statement,The length of the statement "Optional<Event> maybeEvent=eventRepository.findOptionalByShortName(eventShortName).filter(e -> userManager.findUserOrganizations(username).stream().anyMatch(o -> o.getId() == e.getOrganizationId()));" is 199.,95
exteso_alf.io,alfio.manager,AttendeeManager,retrieveTicket,Long Statement,The length of the statement "Optional<Ticket> maybeTicket=ticketRepository.findOptionalByUUID(ticketUid).filter(t -> t.getEventId() == event.getId());" is 121.,95
exteso_alf.io,alfio.manager,AttendeeManager,retrieveTicket,Long Statement,The length of the statement "return new Result.Builder<TicketWithAdditionalFields>().checkPrecondition(maybeTicket::isPresent`ErrorCode.custom("ticket_not_found"`"ticket not found")).build(() -> {" is 167.,95
exteso_alf.io,alfio.manager,AttendeeManager,retrieveTicket,Long Statement,The length of the statement "var descriptionAndValues=EventUtil.retrieveFieldValues(ticketRepository`ticketFieldRepository`additionalServiceItemRepository).apply(ticket);" is 141.,95
exteso_alf.io,alfio.manager,AttendeeManager,loadAttendeesData,Long Statement,The length of the statement "return new SponsorAttendeeData(ticket.getUuid()`scan.getSponsorScan().getTimestamp().format(EventUtil.JSON_DATETIME_FORMATTER)`ticket.getFullName()`ticket.getEmail());" is 167.,121
exteso_alf.io,alfio.manager,SubscriptionManager,createSubscriptionDescriptor,Long Statement,The length of the statement "int result=subscriptionRepository.createSubscriptionDescriptor(id`subscriptionDescriptor.getTitle()`subscriptionDescriptor.getDescription()`maxAvailable`subscriptionDescriptor.getOnSaleFrom()`subscriptionDescriptor.getOnSaleTo()`subscriptionDescriptor.getPriceCts()`requireNonNullElse(subscriptionDescriptor.getVat()`BigDecimal.ZERO)`subscriptionDescriptor.getVatStatus()`subscriptionDescriptor.getCurrency()`Boolean.TRUE.equals(subscriptionDescriptor.getIsPublic())`subscriptionDescriptor.getOrganizationId()`requireNonNullElse(subscriptionDescriptor.getMaxEntries()`-1)`subscriptionDescriptor.getValidityType()`subscriptionDescriptor.getValidityTimeUnit()`subscriptionDescriptor.getValidityUnits()`subscriptionDescriptor.getValidityFrom()`subscriptionDescriptor.getValidityTo()`subscriptionDescriptor.getUsageType()`subscriptionDescriptor.getTermsAndConditionsUrl()`subscriptionDescriptor.getPrivacyPolicyUrl()`subscriptionDescriptor.getFileBlobId()`subscriptionDescriptor.getPaymentProxies()`UUID.randomUUID().toString()`subscriptionDescriptor.getTimeZone().toString()`Boolean.TRUE.equals(subscriptionDescriptor.getSupportsTicketsGeneration()));" is 1148.,71
exteso_alf.io,alfio.manager,SubscriptionManager,preGenerateSubscriptions,Long Statement,The length of the statement "var results=jdbcTemplate.batchUpdate(subscriptionRepository.batchCreateSubscription()`Stream.generate(UUID::randomUUID).limit(quantity).map(subscriptionId -> new MapSqlParameterSource("id"`subscriptionId).addValue("subscriptionDescriptorId"`subscriptionDescriptorId).addValue("maxUsage"`subscriptionDescriptor.getMaxEntries()).addValue("validFrom"`toOffsetDateTime(subscriptionDescriptor.getValidityFrom())).addValue("validTo"`toOffsetDateTime(subscriptionDescriptor.getValidityTo())).addValue("srcPriceCts"`subscriptionDescriptor.getPriceCts()).addValue("currency"`subscriptionDescriptor.getCurrency()).addValue("organizationId"`subscriptionDescriptor.getOrganizationId()).addValue("status"`AllocationStatus.FREE.name()).addValue("maxEntries"`subscriptionDescriptor.getMaxEntries()).addValue("reservationId"`null).addValue("timeZone"`subscriptionDescriptor.getTimeZone().toString())).toArray(MapSqlParameterSource[]::new));" is 924.,116
exteso_alf.io,alfio.manager,SubscriptionManager,updateSubscriptionDescriptor,Long Statement,The length of the statement "return subscriptionRepository.findOne(subscriptionDescriptorId`subscriptionDescriptor.getOrganizationId()).flatMap(original -> {" is 128.,146
exteso_alf.io,alfio.manager,SubscriptionManager,updateSubscriptionDescriptor,Long Statement,The length of the statement "int result=subscriptionRepository.updateSubscriptionDescriptor(subscriptionDescriptor.getTitle()`subscriptionDescriptor.getDescription()`requireNonNullElse(maxAvailable`-1)`subscriptionDescriptor.getOnSaleFrom()`subscriptionDescriptor.getOnSaleTo()`subscriptionDescriptor.getPriceCts()`subscriptionDescriptor.getVat()`subscriptionDescriptor.getVatStatus()`subscriptionDescriptor.getCurrency()`Boolean.TRUE.equals(subscriptionDescriptor.getIsPublic())`requireNonNullElse(subscriptionDescriptor.getMaxEntries()`-1)`subscriptionDescriptor.getValidityType()`subscriptionDescriptor.getValidityTimeUnit()`subscriptionDescriptor.getValidityUnits()`subscriptionDescriptor.getValidityFrom()`subscriptionDescriptor.getValidityTo()`subscriptionDescriptor.getUsageType()`subscriptionDescriptor.getTermsAndConditionsUrl()`subscriptionDescriptor.getPrivacyPolicyUrl()`subscriptionDescriptor.getFileBlobId()`subscriptionDescriptor.getPaymentProxies()`subscriptionDescriptorId`original.getOrganizationId()`subscriptionDescriptor.getTimeZone().toString()`Boolean.TRUE.equals(subscriptionDescriptor.getSupportsTicketsGeneration()));" is 1114.,146
exteso_alf.io,alfio.manager,SubscriptionManager,updateSubscriptionDescriptor,Long Statement,The length of the statement "Validate.isTrue(amount == invalidated`"Cannot invalidate existing subscriptions. (wanted: %d got: %d)"`amount`invalidated);" is 123.,146
exteso_alf.io,alfio.manager,SubscriptionManager,updateSubscriptionDescriptor,Long Statement,The length of the statement "log.debug("SubscriptionDescriptor #{}: updated {} subscriptions. Modified max entries to {}"`subscriptionDescriptorId`updatedSubscriptions`maxEntries);" is 151.,146
exteso_alf.io,alfio.manager,FileDownloadManager,downloadFile,Long Statement,The length of the statement "return new DownloadedFile(response.body()`name`response.headers().firstValue("Content-Type").orElse("application/octet-stream"));" is 129.,43
exteso_alf.io,alfio.manager,FileDownloadManager,callSuccessful,Magic Number,The method contains a magic number: 200,78
exteso_alf.io,alfio.manager,FileDownloadManager,callSuccessful,Magic Number,The method contains a magic number: 300,78
exteso_alf.io,alfio.manager,RecaptchaService,checkRecaptcha,Long Statement,The length of the statement "return configurationManager.getForSystem(ConfigurationKeys.RECAPTCHA_SECRET).getValue().map(secret -> recaptchaRequest(client`secret`ObjectUtils.firstNonNull(recaptchaResponse`req.getParameter("g-recaptcha-response")))).orElse(true);" is 233.,45
exteso_alf.io,alfio.manager,CheckInManager,CheckInManager,Long Identifier,The length of the parameter additionalServiceItemRepository is 31.,89
exteso_alf.io,alfio.manager,CheckInManager,CheckInManager,Long Identifier,The length of the field additionalServiceItemRepository is 31.,89
exteso_alf.io,alfio.manager,CheckInManager,CheckInManager,Long Parameter List,The method has 15 parameters. ,89
exteso_alf.io,alfio.manager,CheckInManager,acquire,Long Statement,The length of the statement "ticketReservationManager.registerAlfioTransaction(eventRepository.findById(ticket.getEventId())`ticket.getTicketsReservationId()`PaymentProxy.ON_SITE);" is 151.,130
exteso_alf.io,alfio.manager,CheckInManager,performCheckinForOnlineEvent,Long Statement,The length of the statement "auditingRepository.insert(ticket.getTicketsReservationId()`null`event.getId()`CHECK_IN`new Date()`Audit.EntityType.TICKET`Integer.toString(ticket.getId()));" is 156.,137
exteso_alf.io,alfio.manager,CheckInManager,confirmOnSitePayment,Long Parameter List,The method has 5 parameters. ,163
exteso_alf.io,alfio.manager,CheckInManager,confirmOnSitePayment,Long Statement,The length of the statement "return eventRepository.findOptionalByShortName(eventName).filter(EventManager.checkOwnership(username`organizationRepository)).flatMap(e -> confirmOnSitePayment(ticketIdentifier).map(( String s) -> Pair.of(s`e))).map(p -> checkIn(p.getRight().getId()`ticketIdentifier`ticketCode`auditUser)).orElseGet(() -> new TicketAndCheckInResult(null`new DefaultCheckInResult(CheckInStatus.TICKET_NOT_FOUND`"")));" is 401.,163
exteso_alf.io,alfio.manager,CheckInManager,confirmOnSitePayment,Long Statement,The length of the statement "Optional<String> uuid=findAndLockTicket(ticketIdentifier).filter(t -> t.getStatus() == TicketStatus.TO_BE_PAID).map(Ticket::getUuid);" is 133.,171
exteso_alf.io,alfio.manager,CheckInManager,checkIn,Long Identifier,The length of the parameter automaticallyConfirmOnSitePayment is 33.,180
exteso_alf.io,alfio.manager,CheckInManager,checkIn,Long Parameter List,The method has 6 parameters. ,180
exteso_alf.io,alfio.manager,CheckInManager,checkIn,Long Statement,The length of the statement "return eventRepository.findOptionalByShortName(eventShortName).filter(EventManager.checkOwnership(username`organizationRepository)).map(e -> {" is 142.,180
exteso_alf.io,alfio.manager,CheckInManager,checkIn,Long Statement,The length of the statement "if (automaticallyConfirmOnSitePayment && CheckInStatus.MUST_PAY == evaluateTicketStatus(eventShortName`ticketIdentifier`ticketCode).getResult().getStatus()) {" is 158.,180
exteso_alf.io,alfio.manager,CheckInManager,checkIn,Long Statement,The length of the statement ").orElseGet(() -> new TicketAndCheckInResult(null`new DefaultCheckInResult(CheckInStatus.EVENT_NOT_FOUND`"event not found")));" is 126.,180
exteso_alf.io,alfio.manager,CheckInManager,checkIn,Long Parameter List,The method has 5 parameters. ,194
exteso_alf.io,alfio.manager,CheckInManager,checkIn,Long Statement,The length of the statement "TicketAndCheckInResult descriptor=extractStatus(eventId`ticketRepository.findByUUIDForUpdate(ticketIdentifier)`ticketIdentifier`ticketCode);" is 140.,198
exteso_alf.io,alfio.manager,CheckInManager,checkIn,Long Statement,The length of the statement "scanAuditRepository.insert(ticketIdentifier`eventId`ZonedDateTime.now(clockProvider.getClock())`user`SUCCESS`ScanAudit.Operation.SCAN);" is 135.,198
exteso_alf.io,alfio.manager,CheckInManager,checkIn,Long Statement,The length of the statement "auditingRepository.insert(ticket.getTicketsReservationId()`userRepository.findIdByUserName(user).orElse(null)`eventId`CHECK_IN`new Date()`Audit.EntityType.TICKET`Integer.toString(descriptor.getTicket().getId()));" is 212.,198
exteso_alf.io,alfio.manager,CheckInManager,checkIn,Long Statement,The length of the statement "scanAuditRepository.insert(ticketIdentifier`eventId`ZonedDateTime.now(clockProvider.getClock())`user`auditingStatus`ScanAudit.Operation.SCAN);" is 142.,198
exteso_alf.io,alfio.manager,CheckInManager,checkIn,Long Statement,The length of the statement "auditingRepository.insert(descriptor.getTicket().getTicketsReservationId()`userRepository.findIdByUserName(user).orElse(null)`eventId`BADGE_SCAN`new Date()`Audit.EntityType.TICKET`Integer.toString(descriptor.getTicket().getId()));" is 230.,198
exteso_alf.io,alfio.manager,CheckInManager,checkIn,Long Statement,The length of the statement "return new TicketAndCheckInResult(null`new DefaultCheckInResult(auditingStatus`checkInStatus == OK_READY_FOR_BADGE_SCAN ? "scan successful" : "already scanned"));" is 162.,198
exteso_alf.io,alfio.manager,CheckInManager,manualCheckIn,Long Statement,The length of the statement "scanAuditRepository.insert(ticketIdentifier`eventId`ZonedDateTime.now(clockProvider.getClock())`user`SUCCESS`ScanAudit.Operation.SCAN);" is 135.,217
exteso_alf.io,alfio.manager,CheckInManager,manualCheckIn,Long Statement,The length of the statement "auditingRepository.insert(t.getTicketsReservationId()`userRepository.findIdByUserName(user).orElse(null)`eventId`Audit.EventType.MANUAL_CHECK_IN`new Date()`Audit.EntityType.TICKET`Integer.toString(t.getId()));" is 209.,217
exteso_alf.io,alfio.manager,CheckInManager,revertCheckIn,Long Statement,The length of the statement "TicketStatus revertedStatus=reservation.getPaymentMethod() == PaymentProxy.ON_SITE ? TicketStatus.TO_BE_PAID : TicketStatus.ACQUIRED;" is 133.,232
exteso_alf.io,alfio.manager,CheckInManager,revertCheckIn,Long Statement,The length of the statement "scanAuditRepository.insert(ticketIdentifier`eventId`ZonedDateTime.now(clockProvider.getClock())`user`OK_READY_TO_BE_CHECKED_IN`ScanAudit.Operation.REVERT);" is 155.,232
exteso_alf.io,alfio.manager,CheckInManager,revertCheckIn,Long Statement,The length of the statement "auditingRepository.insert(t.getTicketsReservationId()`userRepository.findIdByUserName(user).orElse(null)`eventId`Audit.EventType.REVERT_CHECK_IN`new Date()`Audit.EntityType.TICKET`Integer.toString(t.getId()));" is 209.,232
exteso_alf.io,alfio.manager,CheckInManager,evaluateTicketStatus,Long Statement,The length of the statement "return extractStatus(eventRepository.findOptionalById(eventId)`ticketRepository.findOptionalByUUID(ticketIdentifier)`ticketIdentifier`ticketCode);" is 146.,251
exteso_alf.io,alfio.manager,CheckInManager,evaluateTicketStatus,Long Statement,The length of the statement "return extractStatus(eventRepository.findOptionalByShortName(eventName)`ticketRepository.findOptionalByUUID(ticketIdentifier)`ticketIdentifier`ticketCode);" is 155.,255
exteso_alf.io,alfio.manager,CheckInManager,extractStatus,Complex Method,Cyclomatic complexity of the method is 13,263
exteso_alf.io,alfio.manager,CheckInManager,extractStatus,Long Statement,The length of the statement "return new TicketAndCheckInResult(null`new DefaultCheckInResult(TICKET_NOT_FOUND`"Ticket with uuid " + ticketIdentifier + " not found"));" is 137.,263
exteso_alf.io,alfio.manager,CheckInManager,extractStatus,Long Statement,The length of the statement "return new TicketAndCheckInResult(new TicketWithCategory(ticket`null)`new DefaultCheckInResult(INVALID_TICKET_STATE`"Invalid ticket state"));" is 141.,263
exteso_alf.io,alfio.manager,CheckInManager,extractStatus,Long Statement,The length of the statement "return new TicketAndCheckInResult(new TicketWithCategory(ticket`null)`new DefaultCheckInResult(INVALID_TICKET_CATEGORY_CHECK_IN_DATE`"Not allowed to check in at this time."));" is 175.,263
exteso_alf.io,alfio.manager,CheckInManager,extractStatus,Long Statement,The length of the statement "int previousScan=auditingRepository.countAuditsOfTypesInTheSameDay(ticketsReservationId`Set.of(CHECK_IN.name()`MANUAL_CHECK_IN.name()`BADGE_SCAN.name())`event.now(clockProvider));" is 179.,263
exteso_alf.io,alfio.manager,CheckInManager,extractStatus,Long Statement,The length of the statement "return new TicketAndCheckInResult(new TicketWithCategory(ticket`null)`new DefaultCheckInResult(BADGE_SCAN_ALREADY_DONE`"Badge scan already done"));" is 147.,263
exteso_alf.io,alfio.manager,CheckInManager,extractStatus,Long Statement,The length of the statement "return new TicketAndCheckInResult(new TicketWithCategory(ticket`null)`new DefaultCheckInResult(OK_READY_FOR_BADGE_SCAN`"Badge scan already done"));" is 147.,263
exteso_alf.io,alfio.manager,CheckInManager,extractStatus,Long Statement,The length of the statement "return new TicketAndCheckInResult(new TicketWithCategory(ticket`tc)`new DefaultCheckInResult(INVALID_TICKET_CATEGORY_CHECK_IN_DATE`String.format("Invalid check-in date: valid range for category %s is from %s to %s` current time is: %s"`tc.getName()`from`to`formattedNow)));" is 273.,263
exteso_alf.io,alfio.manager,CheckInManager,extractStatus,Long Statement,The length of the statement "return new TicketAndCheckInResult(new TicketWithCategory(ticket`tc)`new OnSitePaymentResult(MUST_PAY`"Must pay for ticket"`MonetaryUtil.centsToUnit(ticket.getFinalPriceCts()`ticket.getCurrencyCode())`ticket.getCurrencyCode()));" is 227.,263
exteso_alf.io,alfio.manager,CheckInManager,extractStatus,Long Statement,The length of the statement "return new TicketAndCheckInResult(new TicketWithCategory(ticket`tc)`new DefaultCheckInResult(ALREADY_CHECK_IN`"Error: already checked in"));" is 140.,263
exteso_alf.io,alfio.manager,CheckInManager,extractStatus,Long Statement,The length of the statement "return new TicketAndCheckInResult(new TicketWithCategory(ticket`tc)`new DefaultCheckInResult(INVALID_TICKET_STATE`"Invalid ticket state` expected ACQUIRED state` received " + ticket.getStatus()));" is 196.,263
exteso_alf.io,alfio.manager,CheckInManager,extractStatus,Long Statement,The length of the statement "return new TicketAndCheckInResult(new TicketWithCategory(ticket`tc)`new DefaultCheckInResult(OK_READY_TO_BE_CHECKED_IN`"Ready to be checked in"));" is 146.,263
exteso_alf.io,alfio.manager,CheckInManager,isBadgeValidNow,Long Statement,The length of the statement "return now.isAfter(toZoneIdIfNotNull(tc.getValidCheckInFrom()`zoneId).orElse(event.getBegin())) && now.isAfter(toZoneIdIfNotNull(tc.getTicketValidityStart()`zoneId).orElse(event.getBegin())) && now.isBefore(toZoneIdIfNotNull(tc.getTicketValidityEnd()`zoneId).orElse(event.getEnd()));" is 283.,331
exteso_alf.io,alfio.manager,CheckInManager,getCypher,Magic Number,The method contains a magic number: 1000,343
exteso_alf.io,alfio.manager,CheckInManager,getCypher,Magic Number,The method contains a magic number: 256,343
exteso_alf.io,alfio.manager,CheckInManager,getAttendeesIdentifiers,Long Statement,The length of the statement "return Optional.ofNullable(ev).filter(EventManager.checkOwnership(username`organizationRepository)).filter(isOfflineCheckInEnabled()).map(event -> ticketRepository.findAllAssignedByEventIdForCheckIn(event.getId()`changedSince)).orElseGet(Collections::emptyList);" is 262.,371
exteso_alf.io,alfio.manager,CheckInManager,getAttendeesIdentifiers,Long Statement,The length of the statement "return eventRepository.findOptionalById(eventId).filter(EventManager.checkOwnership(username`organizationRepository)).map(event -> ticketRepository.findAllAssignedByEventIdForCheckIn(event.getId()`changedSince)).orElse(Collections.emptyList());" is 244.,379
exteso_alf.io,alfio.manager,CheckInManager,getAttendeesInformation,Long Statement,The length of the statement "return eventRepository.findOptionalById(eventId).filter(EventManager.checkOwnership(username`organizationRepository)).map(event -> ticketRepository.findAllFullTicketInfoAssignedByEventId(event.getId()`ids)).orElse(Collections.emptyList());" is 239.,386
exteso_alf.io,alfio.manager,CheckInManager,getEncryptedAttendeesInformation,Complex Conditional,The conditional expression hasPolls && (allowedTags.isEmpty() || CollectionUtils.containsAny(allowedTags`ticket.getTags())) is complex.,401
exteso_alf.io,alfio.manager,CheckInManager,getEncryptedAttendeesInformation,Complex Method,Cyclomatic complexity of the method is 11,401
exteso_alf.io,alfio.manager,CheckInManager,getEncryptedAttendeesInformation,Long Statement,The length of the statement "var allowedTags=hasPolls ? polls.stream().flatMap(p -> p.getAllowedTags().stream()).collect(Collectors.toList()) : List.<String>of();" is 133.,401
exteso_alf.io,alfio.manager,CheckInManager,getEncryptedAttendeesInformation,Long Statement,The length of the statement "return ticketRepository.findAllFullTicketInfoAssignedByEventId(event.getId()`ids).stream().collect(toMap(hashedHMAC`encryptedBody));" is 132.,401
exteso_alf.io,alfio.manager,CheckInManager,getOutputColorConfiguration,Long Statement,The length of the statement "return configurationManager.getFor(CHECK_IN_COLOR_CONFIGURATION`event.getConfigurationLevel()).getValue().flatMap(str -> optionally(() -> Json.fromJson(str`CheckInOutputColorConfiguration.class))).orElse(null);" is 210.,487
exteso_alf.io,alfio.manager,CheckInManager,detectBoxColor,Long Statement,The length of the statement "return outputColorConfiguration.getConfigurations().stream().filter(cc -> cc.getCategories().contains(categoryId)).map(CheckInOutputColorConfiguration.ColorConfiguration::getColorName).findFirst().orElse(outputColorConfiguration.getDefaultColorName());" is 252.,498
exteso_alf.io,alfio.manager,CheckInManager,getAdditionalServicesForTicket,Long Identifier,The length of the field additionalServiceItemRepository is 31.,509
exteso_alf.io,alfio.manager,CheckInManager,getAdditionalServicesForTicket,Long Statement,The length of the statement "List<BookedAdditionalService> additionalServices=additionalServiceItemRepository.getAdditionalServicesBookedForReservation(ticketsReservationId`ticket.getUserLanguage()`ticket.getEventId());" is 190.,509
exteso_alf.io,alfio.manager,CheckInManager,getAdditionalServicesForTicket,Long Statement,The length of the statement "List<Integer> additionalServiceIds=additionalServices.stream().map(BookedAdditionalService::getAdditionalServiceId).collect(Collectors.toList());" is 145.,509
exteso_alf.io,alfio.manager,CheckInManager,getAdditionalServicesForTicket,Long Statement,The length of the statement "Map<Integer`List<TicketFieldValueForAdditionalService>> fields=ticketFieldRepository.loadTicketFieldsForAdditionalService(ticket.getId()`additionalServiceIds).stream().collect(Collectors.groupingBy(TicketFieldValueForAdditionalService::getAdditionalServiceId));" is 261.,509
exteso_alf.io,alfio.manager,CheckInManager,getAdditionalServicesForTicket,Long Statement,The length of the statement "return additionalServices.stream().map(as -> new AdditionalServiceInfo(as.getAdditionalServiceName()`as.getCount()`fields.get(as.getAdditionalServiceId()))).collect(Collectors.toList());" is 186.,509
exteso_alf.io,alfio.manager,CheckInManager,getStatistics,Long Statement,The length of the statement "return eventRepository.findOptionalByShortName(eventName).filter(this::areStatsEnabled).filter(EventManager.checkOwnership(username`organizationRepository)).map(event -> eventRepository.retrieveCheckInStatisticsForEvent(event.getId())).orElse(null);" is 249.,532
exteso_alf.io,alfio.manager,TicketReservationManager,TicketReservationManager,Long Identifier,The length of the parameter ticketCategoryDescriptionRepository is 35.,201
exteso_alf.io,alfio.manager,TicketReservationManager,TicketReservationManager,Long Identifier,The length of the parameter additionalServiceItemRepository is 31.,201
exteso_alf.io,alfio.manager,TicketReservationManager,TicketReservationManager,Long Identifier,The length of the parameter additionalServiceTextRepository is 31.,201
exteso_alf.io,alfio.manager,TicketReservationManager,TicketReservationManager,Long Identifier,The length of the field ticketCategoryDescriptionRepository is 35.,201
exteso_alf.io,alfio.manager,TicketReservationManager,TicketReservationManager,Long Identifier,The length of the field requiresNewTransactionTemplate is 30.,201
exteso_alf.io,alfio.manager,TicketReservationManager,TicketReservationManager,Long Identifier,The length of the field additionalServiceItemRepository is 31.,201
exteso_alf.io,alfio.manager,TicketReservationManager,TicketReservationManager,Long Identifier,The length of the field additionalServiceTextRepository is 31.,201
exteso_alf.io,alfio.manager,TicketReservationManager,TicketReservationManager,Long Parameter List,The method has 33 parameters. ,201
exteso_alf.io,alfio.manager,TicketReservationManager,TicketReservationManager,Long Statement,The length of the statement "this.requiresNewTransactionTemplate=new TransactionTemplate(transactionManager`new DefaultTransactionDefinition(TransactionDefinition.PROPAGATION_REQUIRES_NEW));" is 161.,201
exteso_alf.io,alfio.manager,TicketReservationManager,TicketReservationManager,Long Statement,The length of the statement "DefaultTransactionDefinition serialized=new DefaultTransactionDefinition(TransactionDefinition.PROPAGATION_REQUIRES_NEW);" is 121.,201
exteso_alf.io,alfio.manager,TicketReservationManager,TicketReservationManager,Long Statement,The length of the statement "this.nestedTransactionTemplate=new TransactionTemplate(transactionManager`new DefaultTransactionDefinition(TransactionDefinition.PROPAGATION_NESTED));" is 150.,201
exteso_alf.io,alfio.manager,TicketReservationManager,createSubscriptionReservation,Long Statement,The length of the statement "ticketReservationRepository.createNewReservation(reservationId`subscriptionDescriptor.now(clockProvider)`reservationExpiration`null`locale.getLanguage()`subscriptionDescriptor.event().map(Event::getId).orElse(null)`subscriptionDescriptor.getVat()`subscriptionDescriptor.getVatStatus() == VatStatus.INCLUDED`subscriptionDescriptor.getCurrency()`subscriptionDescriptor.getOrganizationId()`userId);" is 395.,272
exteso_alf.io,alfio.manager,TicketReservationManager,createSubscriptionReservation,Long Statement,The length of the statement "Validate.isTrue(subscriptionRepository.bindSubscriptionToReservation(reservationId`subscriptionDescriptor.getPrice()`AllocationStatus.PENDING`optionalSubscription.get()) == 1);" is 176.,272
exteso_alf.io,alfio.manager,TicketReservationManager,createSubscriptionReservation,Long Statement,The length of the statement "subscriptionRepository.createSubscription(UUID.randomUUID()`subscriptionDescriptor.getId()`reservationId`subscriptionDescriptor.getMaxEntries()`subscriptionDescriptor.getValidityFrom()`subscriptionDescriptor.getValidityTo()`subscriptionDescriptor.getPrice()`subscriptionDescriptor.getCurrency()`subscriptionDescriptor.getOrganizationId()`AllocationStatus.PENDING`subscriptionDescriptor.getMaxEntries()`subscriptionDescriptor.getTimeZone());" is 440.,272
exteso_alf.io,alfio.manager,TicketReservationManager,createSubscriptionReservation,Long Statement,The length of the statement "ticketReservationRepository.updateBillingData(subscriptionDescriptor.getVatStatus()`calculateSrcPrice(vatStatus`totalPrice)`totalPrice.getPriceWithVAT()`totalPrice.getVAT()`Math.abs(totalPrice.getDiscount())`subscriptionDescriptor.getCurrency()`null`null`false`reservationId);" is 276.,272
exteso_alf.io,alfio.manager,TicketReservationManager,createSubscriptionReservation,Long Statement,The length of the statement "auditingRepository.insert(reservationId`null`subscriptionDescriptor.event().map(Event::getId).orElse(null)`Audit.EventType.RESERVATION_CREATE`new Date()`Audit.EntityType.RESERVATION`reservationId);" is 197.,272
exteso_alf.io,alfio.manager,TicketReservationManager,createSubscriptionReservation,Long Statement,The length of the statement "throw new CannotProceedWithPayment("No payment method applicable for purchase context " + subscriptionDescriptor.getType() + " with public id "+ subscriptionDescriptor.getPublicIdentifier());" is 191.,272
exteso_alf.io,alfio.manager,TicketReservationManager,createTicketReservation,Long Parameter List,The method has 8 parameters. ,308
exteso_alf.io,alfio.manager,TicketReservationManager,createTicketReservation,Long Statement,The length of the statement "Optional<PromoCodeDiscount> discount=promotionCodeDiscount.flatMap(promoCodeDiscount -> promoCodeDiscountRepository.findPromoCodeInEventOrOrganization(event.getId()`promoCodeDiscount));" is 185.,308
exteso_alf.io,alfio.manager,TicketReservationManager,createTicketReservation,Long Statement,The length of the statement "ticketReservationRepository.createNewReservation(reservationId`event.now(clockProvider)`reservationExpiration`dynamicDiscount.or(() -> discount).map(PromoCodeDiscount::getId).orElse(null)`locale.getLanguage()`event.getId()`event.getVat()`event.isVatIncluded()`event.getCurrency()`event.getOrganizationId()`retrievePublicUserId(principal));" is 339.,308
exteso_alf.io,alfio.manager,TicketReservationManager,createTicketReservation,Long Statement,The length of the statement "list.forEach(t -> reserveTicketsForCategory(event`reservationId`t`locale`forWaitingQueue`discount.orElse(null)`dynamicDiscount.orElse(null)));" is 142.,308
exteso_alf.io,alfio.manager,TicketReservationManager,createTicketReservation,Long Statement,The length of the statement "int ticketCount=list.stream().map(TicketReservationWithOptionalCodeModification::getQuantity).mapToInt(Integer::intValue).sum();" is 128.,308
exteso_alf.io,alfio.manager,TicketReservationManager,createTicketReservation,Long Statement,The length of the statement "additionalServiceRepository.findAllInEventWithPolicy(event.getId()`AdditionalService.SupplementPolicy.MANDATORY_ONE_FOR_TICKET).stream().filter(AdditionalService::getSaleable).forEach(as -> {" is 191.,308
exteso_alf.io,alfio.manager,TicketReservationManager,createTicketReservation,Long Statement,The length of the statement "reserveAdditionalServicesForReservation(event.getId()`reservationId`new ASReservationWithOptionalCodeModification(asrm`Optional.empty())`discount.orElse(null));" is 160.,308
exteso_alf.io,alfio.manager,TicketReservationManager,createTicketReservation,Long Statement,The length of the statement "additionalServices.forEach(as -> reserveAdditionalServicesForReservation(event.getId()`reservationId`as`discount.orElse(null)));" is 128.,308
exteso_alf.io,alfio.manager,TicketReservationManager,createTicketReservation,Long Statement,The length of the statement "ticketReservationRepository.updateBillingData(event.getVatStatus()`calculateSrcPrice(vatStatus`totalPrice)`totalPrice.getPriceWithVAT()`totalPrice.getVAT()`Math.abs(totalPrice.getDiscount())`event.getCurrency()`null`null`false`reservationId);" is 242.,308
exteso_alf.io,alfio.manager,TicketReservationManager,createTicketReservation,Long Statement,The length of the statement "auditingRepository.insert(reservationId`null`event.getId()`Audit.EventType.RESERVATION_CREATE`new Date()`Audit.EntityType.RESERVATION`reservationId);" is 149.,308
exteso_alf.io,alfio.manager,TicketReservationManager,createTicketReservation,Long Statement,The length of the statement "throw new CannotProceedWithPayment("No payment method applicable for categories " + list.stream().map(t -> String.valueOf(t.getTicketCategoryId())).collect(Collectors.joining("` ")));" is 183.,308
exteso_alf.io,alfio.manager,TicketReservationManager,createDynamicPromoCode,Long Statement,The length of the statement "return createDynamicPromoCodeIfNeeded(event`list`reservationId).flatMap(promoCodeDiscount -> promoCodeDiscountRepository.findPromoCodeInEventOrOrganization(event.getId()`promoCodeDiscount));" is 190.,378
exteso_alf.io,alfio.manager,TicketReservationManager,createDynamicPromoCodeIfNeeded,Long Statement,The length of the statement "var paidCategories=ticketCategoryRepository.countPaidCategoriesInReservation(list.stream().map(TicketReservationWithOptionalCodeModification::getTicketCategoryId).collect(Collectors.toSet()));" is 192.,386
exteso_alf.io,alfio.manager,TicketReservationManager,createDynamicPromoCodeIfNeeded,Long Statement,The length of the statement "var newCodeOptional=extensionManager.handleDynamicDiscount(event`list.stream().collect(groupingBy(TicketReservationWithOptionalCodeModification::getTicketCategoryId`summingLong(TicketReservationWithOptionalCodeModification::getQuantity)))`reservationId);" is 254.,386
exteso_alf.io,alfio.manager,TicketReservationManager,createDynamicPromoCodeIfNeeded,Long Statement,The length of the statement "int result=promoCodeDiscountRepository.addPromoCodeIfNotExists(newCode.getPromoCode()`event.getId()`event.getOrganizationId()`newCode.getUtcStart()`newCode.getUtcEnd()`newCode.getDiscountAmount()`newCode.getDiscountType()`"[]"`null`null`null`newCode.getCodeType()`null);" is 270.,386
exteso_alf.io,alfio.manager,TicketReservationManager,createDynamicPromoCodeIfNeeded,Long Statement,The length of the statement "auditingRepository.insert(reservationId`null`event.getId()`Audit.EventType.DYNAMIC_DISCOUNT_CODE_CREATED`new Date()`Audit.EntityType.RESERVATION`reservationId);" is 160.,386
exteso_alf.io,alfio.manager,TicketReservationManager,calculateSrcPrice,Long Statement,The length of the statement "return (vatStatus == VatStatus.INCLUDED ? totalPrice.getPriceWithVAT() : totalPrice.getPriceWithVAT() - totalPrice.getVAT()) + Math.abs(totalPrice.getDiscount());" is 162.,406
exteso_alf.io,alfio.manager,TicketReservationManager,reserveTicketsForCategory,Complex Conditional,The conditional expression accessCodeOrDiscount != null && accessCodeOrDiscount.getCodeType() == CodeType.ACCESS && ticketReservation.getTicketCategoryId().equals(accessCodeOrDiscount.getHiddenCategoryId()) && Boolean.TRUE.equals(ticketCategoryRepository.isAccessRestricted(accessCodeOrDiscount.getHiddenCategoryId())) is complex.,412
exteso_alf.io,alfio.manager,TicketReservationManager,reserveTicketsForCategory,Complex Method,Cyclomatic complexity of the method is 9,412
exteso_alf.io,alfio.manager,TicketReservationManager,reserveTicketsForCategory,Long Parameter List,The method has 7 parameters. ,412
exteso_alf.io,alfio.manager,TicketReservationManager,reserveTicketsForCategory,Long Statement,The length of the statement "if (accessCodeOrDiscount != null && accessCodeOrDiscount.getCodeType() == CodeType.ACCESS && ticketReservation.getTicketCategoryId().equals(accessCodeOrDiscount.getHiddenCategoryId()) && Boolean.TRUE.equals(ticketCategoryRepository.isAccessRestricted(accessCodeOrDiscount.getHiddenCategoryId()))) {" is 298.,412
exteso_alf.io,alfio.manager,TicketReservationManager,reserveTicketsForCategory,Long Statement,The length of the statement "Optional<SpecialPrice> specialPrice=fixToken(ticketReservation.getSpecialPrice()`ticketReservation.getTicketCategoryId()`event.getId()`ticketReservation);" is 154.,412
exteso_alf.io,alfio.manager,TicketReservationManager,reserveTicketsForCategory,Long Statement,The length of the statement "List<Integer> reservedForUpdate=reserveTickets(event.getId()`ticketReservation`forWaitingQueue ? asList(TicketStatus.RELEASED`TicketStatus.PRE_RESERVED) : singletonList(TicketStatus.FREE));" is 189.,412
exteso_alf.io,alfio.manager,TicketReservationManager,reserveTicketsForCategory,Long Statement,The length of the statement "TicketCategory category=ticketCategoryRepository.getByIdAndActive(ticketReservation.getTicketCategoryId()`event.getId());" is 121.,412
exteso_alf.io,alfio.manager,TicketReservationManager,reserveTicketsForCategory,Long Statement,The length of the statement "var accessCodeId=accessCodeOrDiscount != null && accessCodeOrDiscount.getHiddenCategoryId() != null ? accessCodeOrDiscount.getId() : null;" is 138.,412
exteso_alf.io,alfio.manager,TicketReservationManager,reserveTicketsForCategory,Long Statement,The length of the statement "ticketRepository.reserveTicket(reservationId`ticketId`sp.getId()`locale.getLanguage()`category.getSrcPriceCts()`category.getCurrencyCode()`event.getVatStatus()`TicketMetadataContainer.fromMetadata(metadata));" is 208.,412
exteso_alf.io,alfio.manager,TicketReservationManager,reserveTicketsForCategory,Long Statement,The length of the statement "jdbcTemplate.batchUpdate(ticketRepository.batchReserveTicketsForSpecialPrice()`ticketsAndSpecialPrices.stream().map(triple -> {" is 127.,412
exteso_alf.io,alfio.manager,TicketReservationManager,reserveTicketsForCategory,Long Statement,The length of the statement "return new MapSqlParameterSource(RESERVATION_ID`reservationId).addValue("ticketId"`triple.getLeft()).addValue("specialCodeId"`triple.getMiddle().getId()).addValue("userLanguage"`locale.getLanguage()).addValue("srcPriceCts"`category.getSrcPriceCts()).addValue("currencyCode"`category.getCurrencyCode()).addValue("ticketMetadata"`json.asJsonString(metadata)).addValue("vatStatus"`event.getVatStatus().toString());" is 411.,412
exteso_alf.io,alfio.manager,TicketReservationManager,reserveTicketsForCategory,Long Statement,The length of the statement "specialPriceRepository.batchUpdateStatus(specialPrices.stream().map(SpecialPrice::getId).toList()`Status.PENDING`Objects.requireNonNull(accessCodeOrDiscount).getId());" is 167.,412
exteso_alf.io,alfio.manager,TicketReservationManager,reserveTicketsForCategory,Long Statement,The length of the statement "int reserved=ticketRepository.reserveTickets(reservationId`reservedForUpdate`category`locale.getLanguage()`event.getVatStatus()`idx -> {" is 136.,412
exteso_alf.io,alfio.manager,TicketReservationManager,reserveTicketsForCategory,Long Statement,The length of the statement "TicketPriceContainer priceContainer=TicketPriceContainer.from(ticket`null`event.getVat()`event.getVatStatus()`discountToApply);" is 127.,412
exteso_alf.io,alfio.manager,TicketReservationManager,reserveTicketsForCategory,Long Statement,The length of the statement "ticketRepository.updateTicketPrice(reservedForUpdate`category.getId()`event.getId()`category.getSrcPriceCts()`MonetaryUtil.unitToCents(priceContainer.getFinalPrice()`currencyCode)`MonetaryUtil.unitToCents(priceContainer.getVAT()`currencyCode)`MonetaryUtil.unitToCents(priceContainer.getAppliedDiscount()`currencyCode)`category.getCurrencyCode()`priceContainer.getVatStatus());" is 376.,412
exteso_alf.io,alfio.manager,TicketReservationManager,reserveTokensForAccessCode,Long Statement,The length of the statement "List<SpecialPrice> boundSpecialPrices=specialPriceRepository.bindToAccessCode(ticketReservation.getTicketCategoryId()`accessCode.getId()`ticketReservation.getQuantity());" is 170.,524
exteso_alf.io,alfio.manager,TicketReservationManager,reserveAdditionalServicesForReservation,Long Identifier,The length of the field additionalServiceItemRepository is 31.,543
exteso_alf.io,alfio.manager,TicketReservationManager,reserveAdditionalServicesForReservation,Long Statement,The length of the statement "Optional.ofNullable(additionalServiceReservation.getAdditionalServiceId()).flatMap(id -> additionalServiceRepository.getOptionalById(id`eventId)).filter(as -> additionalServiceReservation.getQuantity() > 0 && (as.isFixPrice() || Optional.ofNullable(additionalServiceReservation.getAmount()).filter(a -> a.compareTo(BigDecimal.ZERO) > 0).isPresent())).map(as -> Pair.of(eventRepository.findById(eventId)`as)).ifPresent(pair -> {" is 427.,543
exteso_alf.io,alfio.manager,TicketReservationManager,reserveAdditionalServicesForReservation,Long Statement,The length of the statement "AdditionalServicePriceContainer pc=AdditionalServicePriceContainer.from(additionalServiceReservation.getAmount()`as`e`discount);" is 128.,543
exteso_alf.io,alfio.manager,TicketReservationManager,reserveAdditionalServicesForReservation,Long Statement,The length of the statement "additionalServiceItemRepository.insert(UUID.randomUUID().toString()`ZonedDateTime.now(clockProvider.getClock())`transactionId`as.getId()`AdditionalServiceItemStatus.PENDING`eventId`pc.getSrcPriceCts()`unitToCents(pc.getFinalPrice()`currencyCode)`unitToCents(pc.getVAT()`currencyCode)`unitToCents(pc.getAppliedDiscount()`currencyCode)`as.getCurrencyCode());" is 356.,543
exteso_alf.io,alfio.manager,TicketReservationManager,fixToken,Long Statement,The length of the statement "Optional<SpecialPrice> specialPrice=token.map(SpecialPrice::getCode).flatMap(specialPriceRepository::getForUpdateByCode);" is 121.,584
exteso_alf.io,alfio.manager,TicketReservationManager,fixToken,Long Statement,The length of the statement "boolean canAccessRestrictedCategory=specialPrice.isPresent() && specialPrice.get().getStatus() == SpecialPrice.Status.FREE && specialPrice.get().getTicketCategoryId() == ticketCategoryId;" is 187.,584
exteso_alf.io,alfio.manager,TicketReservationManager,performPayment,Complex Method,Cyclomatic complexity of the method is 10,614
exteso_alf.io,alfio.manager,TicketReservationManager,performPayment,Long Parameter List,The method has 5 parameters. ,614
exteso_alf.io,alfio.manager,TicketReservationManager,performPayment,Long Statement,The length of the statement "ticketReservationRepository.updateBillingData(spec.getVatStatus()`reservation.getSrcPriceCts()`reservation.getFinalPriceCts()`reservation.getVatCts()`reservation.getDiscountCts()`reservation.getCurrencyCode()`spec.getVatNr()`spec.getVatCountryCode()`spec.isInvoiceRequested()`spec.getReservationId());" is 301.,614
exteso_alf.io,alfio.manager,TicketReservationManager,performPayment,Long Statement,The length of the statement "var transactionRequest=new TransactionRequest(reservationCost`ticketReservationRepository.getBillingDetailsForReservation(spec.getReservationId()));" is 148.,614
exteso_alf.io,alfio.manager,TicketReservationManager,performPayment,Long Statement,The length of the statement "paymentResult=paymentManager.streamActiveProvidersByProxy(paymentProxy`paymentContext).filter(paymentProvider -> paymentProvider.accept(paymentMethod`paymentContext`transactionRequest)).findFirst().map(paymentProvider -> paymentProvider.getTokenAndPay(spec)).orElseGet(() -> PaymentResult.failed("error.STEP2_STRIPE_unexpected"));" is 330.,614
exteso_alf.io,alfio.manager,TicketReservationManager,paymentMethodIsBlacklisted,Long Statement,The length of the statement "return configurationManager.getBlacklistedMethodsForReservation(spec.getPurchaseContext()`findCategoryIdsInReservation(spec.getReservationId())).stream().anyMatch(m -> m == paymentMethod);" is 188.,680
exteso_alf.io,alfio.manager,TicketReservationManager,cancelPendingPayment,Long Statement,The length of the statement "boolean remoteDeleteResult=paymentManager.lookupProviderByTransactionAndCapabilities(transaction`List.of(ServerInitiatedTransaction.class)).map(provider -> ((ServerInitiatedTransaction)provider).discardTransaction(optionalTransaction.get()`purchaseContext)).orElse(true);" is 271.,692
exteso_alf.io,alfio.manager,TicketReservationManager,cancelPendingPayment,Long Statement,The length of the statement "auditingRepository.insert(reservationId`null`purchaseContext.event().map(Event::getId).orElse(null)`RESET_PAYMENT`new Date()`RESERVATION`reservationId);" is 152.,692
exteso_alf.io,alfio.manager,TicketReservationManager,transitionToComplete,Long Statement,The length of the statement "var status=ticketReservationRepository.findOptionalStatusAndValidationById(spec.getReservationId()).orElseThrow().getStatus();" is 126.,716
exteso_alf.io,alfio.manager,TicketReservationManager,transitionToComplete,Long Statement,The length of the statement "billingDocumentManager.generateInvoiceNumber(spec`reservationCost).ifPresent(invoiceNumber -> ticketReservationRepository.setInvoiceNumber(spec.getReservationId()`invoiceNumber));" is 179.,716
exteso_alf.io,alfio.manager,TicketReservationManager,isDiscountCodeUsageExceeded,Long Statement,The length of the statement "int currentTickets=ticketReservationRepository.countTicketsInReservationForCategories(reservationId`categoriesOrNull(promoCode));" is 129.,725
exteso_alf.io,alfio.manager,TicketReservationManager,isDiscountCodeUsageExceeded,Long Statement,The length of the statement "Integer confirmedPromoCode=promoCodeDiscountRepository.countConfirmedPromoCode(promoCode.getId()`categoriesOrNull(promoCode)`reservationId`categoriesOrNull(promoCode) != null ? "X" : null);" is 189.,725
exteso_alf.io,alfio.manager,TicketReservationManager,containsCategoriesLinkedToGroups,Long Statement,The length of the statement "return ticketRepository.findTicketsInReservation(reservationId).stream().anyMatch(t -> allLinks.stream().anyMatch(lg -> lg.getTicketCategoryId() == null || lg.getTicketCategoryId().equals(t.getCategoryId())));" is 209.,741
exteso_alf.io,alfio.manager,TicketReservationManager,acquireGroupMembers,Long Identifier,The length of the field requiresNewTransactionTemplate is 30.,776
exteso_alf.io,alfio.manager,TicketReservationManager,acquireGroupMembers,Long Statement,The length of the statement "List<LinkedGroup> linkedGroups=purchaseContext.event().map(event -> groupManager.getLinksForEvent(event.getId())).orElse(List.of());" is 132.,776
exteso_alf.io,alfio.manager,TicketReservationManager,acquireGroupMembers,Long Statement,The length of the statement "return Boolean.TRUE.equals(requiresNewTransactionTemplate.execute(status -> ticketsInReservation.stream().filter(ticket -> linkedGroups.stream().anyMatch(c -> c.getTicketCategoryId() == null || c.getTicketCategoryId().equals(ticket.getCategoryId()))).map(groupManager::acquireMemberForTicket).reduce(true`Boolean::logicalAnd)));" is 328.,776
exteso_alf.io,alfio.manager,TicketReservationManager,confirmOfflinePayment,Long Statement,The length of the statement "ticketReservationRepository.confirmOfflinePayment(reservationId`TicketReservationStatus.COMPLETE.name()`event.now(clockProvider));" is 130.,790
exteso_alf.io,alfio.manager,TicketReservationManager,confirmOfflinePayment,Long Statement,The length of the statement "auditingRepository.insert(reservationId`userRepository.findIdByUserName(username).orElse(null)`event.getId()`Audit.EventType.RESERVATION_OFFLINE_PAYMENT_CONFIRMED`new Date()`Audit.EntityType.RESERVATION`ticketReservation.getId());" is 230.,790
exteso_alf.io,alfio.manager,TicketReservationManager,confirmOfflinePayment,Long Statement,The length of the statement "CustomerName customerName=new CustomerName(ticketReservation.getFullName()`ticketReservation.getFirstName()`ticketReservation.getLastName()`event.mustUseFirstAndLastName());" is 173.,790
exteso_alf.io,alfio.manager,TicketReservationManager,confirmOfflinePayment,Long Statement,The length of the statement "acquireItems(PaymentProxy.OFFLINE`reservationId`ticketReservation.getEmail()`customerName`ticketReservation.getUserLanguage()`ticketReservation.getBillingAddress()`ticketReservation.getCustomerReference()`event`true);" is 217.,790
exteso_alf.io,alfio.manager,TicketReservationManager,confirmOfflinePayment,Long Statement,The length of the statement "billingDocumentManager.createBillingDocument(event`finalReservation`username`orderSummaryForReservation(finalReservation`event));" is 129.,790
exteso_alf.io,alfio.manager,TicketReservationManager,confirmOfflinePayment,Long Statement,The length of the statement "var configuration=configurationManager.getFor(EnumSet.of(DEFERRED_BANK_TRANSFER_ENABLED`DEFERRED_BANK_TRANSFER_SEND_CONFIRMATION_EMAIL)`ConfigurationLevel.event(event));" is 169.,790
exteso_alf.io,alfio.manager,TicketReservationManager,confirmOfflinePayment,Long Statement,The length of the statement "if (!configuration.get(DEFERRED_BANK_TRANSFER_ENABLED).getValueAsBooleanOrDefault() || configuration.get(DEFERRED_BANK_TRANSFER_SEND_CONFIRMATION_EMAIL).getValueAsBooleanOrDefault()) {" is 184.,790
exteso_alf.io,alfio.manager,TicketReservationManager,confirmOfflinePayment,Long Statement,The length of the statement "extensionManager.handleReservationConfirmation(finalReservation`ticketReservationRepository.getBillingDetailsForReservation(reservationId)`event);" is 146.,790
exteso_alf.io,alfio.manager,TicketReservationManager,registerAlfioTransaction,Long Statement,The length of the statement "long platformFee=FeeCalculator.getCalculator(event`configurationManager`requireNonNullElse(totalPrice.getCurrencyCode()`event.getCurrency())).apply(ticketRepository.countTicketsInReservation(reservationId)`(long)priceWithVAT).orElse(0L);" is 237.,819
exteso_alf.io,alfio.manager,TicketReservationManager,registerAlfioTransaction,Long Statement,The length of the statement "transactionRepository.insert(transactionId`null`reservationId`event.now(clockProvider)`priceWithVAT`event.getCurrency()`"Offline payment confirmed for " + reservationId`paymentProxy.getKey()`platformFee`0L`Transaction.Status.COMPLETE`Map.of());" is 244.,819
exteso_alf.io,alfio.manager,TicketReservationManager,registerAlfioTransaction,Long Statement,The length of the statement "transactionRepository.update(transaction.getId()`transactionId`null`event.now(clockProvider)`platformFee`0L`Transaction.Status.COMPLETE`Map.of());" is 146.,819
exteso_alf.io,alfio.manager,TicketReservationManager,sendConfirmationEmail,Long Statement,The length of the statement "var firstSubscription=subscriptionRepository.findSubscriptionsByReservationId(reservationId).stream().findFirst().orElseThrow();" is 128.,845
exteso_alf.io,alfio.manager,TicketReservationManager,sendConfirmationEmail,Long Statement,The length of the statement "Map<String`Object> initialModel=Map.of("pin"`firstSubscription.getPin()`"subscriptionId"`firstSubscription.getId()`"includePin"`true`"fullName"`firstSubscription.getFirstName() + " " + firstSubscription.getLastName());" is 218.,845
exteso_alf.io,alfio.manager,TicketReservationManager,sendConfirmationEmail,Long Statement,The length of the statement "configurations.add(new ConfirmationEmailConfiguration(TemplateResource.CONFIRMATION_EMAIL_SUBSCRIPTION`firstSubscription.getEmail()`model`sendSeparateEmailToOwner ? List.of() : attachments));" is 191.,845
exteso_alf.io,alfio.manager,TicketReservationManager,sendConfirmationEmail,Long Statement,The length of the statement "configurations.add(new ConfirmationEmailConfiguration(TemplateResource.CONFIRMATION_EMAIL_SUBSCRIPTION`ticketReservation.getEmail()`separateModel`attachments));" is 160.,845
exteso_alf.io,alfio.manager,TicketReservationManager,sendConfirmationEmail,Long Statement,The length of the statement "var model=prepareModelForReservationEmail(purchaseContext`ticketReservation`vat`summary`ticketRepository.findTicketsInReservation(ticketReservation.getId())`Map.of());" is 167.,845
exteso_alf.io,alfio.manager,TicketReservationManager,sendConfirmationEmail,Long Statement,The length of the statement "configurations.add(new ConfirmationEmailConfiguration(TemplateResource.CONFIRMATION_EMAIL`ticketReservation.getEmail()`model`attachments));" is 139.,845
exteso_alf.io,alfio.manager,TicketReservationManager,sendConfirmationEmail,Long Statement,The length of the statement "notificationManager.sendSimpleEmail(purchaseContext`ticketReservation.getId()`configuration.getEmailAddress()`messageSource.getMessage("reservation-email-subject"`new Object[]{getShortReservationID(purchaseContext`ticketReservation)`purchaseContext.getTitle().get(language.getLanguage())`localizedType}`language)`() -> templateManager.renderTemplate(purchaseContext`configuration.getTemplateResource()`configuration.getModel()`language)`configuration.getAttachments());" is 469.,845
exteso_alf.io,alfio.manager,TicketReservationManager,generateAttachmentForConfirmationEmail,Long Parameter List,The method has 5 parameters. ,890
exteso_alf.io,alfio.manager,TicketReservationManager,generateAttachmentForConfirmationEmail,Long Statement,The length of the statement "return billingDocumentManager.generateBillingDocumentAttachment(purchaseContext`ticketReservation`language`type`username`summary);" is 130.,890
exteso_alf.io,alfio.manager,TicketReservationManager,sendReservationCompleteEmailToOrganizer,Long Statement,The length of the statement "if (!configurationManager.canGenerateReceiptOrInvoiceToCustomer(purchaseContext) || configurationManager.isInvoiceOnly(purchaseContext)) {" is 138.,902
exteso_alf.io,alfio.manager,TicketReservationManager,sendReservationCompleteEmailToOrganizer,Long Statement,The length of the statement "notificationManager.sendSimpleEmail(purchaseContext`null`organization.getEmail()`cc`"Reservation complete " + shortReservationID`() -> templateManager.renderTemplate(purchaseContext`TemplateResource.CONFIRMATION_EMAIL_FOR_ORGANIZER`reservationEmailModel`language)`attachments);" is 277.,902
exteso_alf.io,alfio.manager,TicketReservationManager,mustGenerateBillingDocument,Long Statement,The length of the statement "return !summary.getFree() && (!summary.getNotYetPaid() || (summary.getWaitingForPayment() && ticketReservation.isInvoiceRequested()));" is 134.,924
exteso_alf.io,alfio.manager,TicketReservationManager,generateBillingDocumentAttachment,Long Parameter List,The method has 5 parameters. ,928
exteso_alf.io,alfio.manager,TicketReservationManager,findReservationLanguage,Long Statement,The length of the statement "return ticketReservationRepository.findOptionalReservationById(reservationId).map(TicketReservationManager::getReservationLocale).orElse(Locale.ENGLISH);" is 153.,948
exteso_alf.io,alfio.manager,TicketReservationManager,deleteOfflinePayment,Long Parameter List,The method has 5 parameters. ,952
exteso_alf.io,alfio.manager,TicketReservationManager,deleteOfflinePayment,Long Statement,The length of the statement "Validate.isTrue(reservation.getStatus() == OFFLINE_PAYMENT || reservation.getStatus() == DEFERRED_OFFLINE_PAYMENT`"Invalid reservation status");" is 144.,952
exteso_alf.io,alfio.manager,TicketReservationManager,deleteOfflinePayment,Long Statement,The length of the statement "String subject=getReservationEmailSubject(event`reservationLanguage`"reservation-email-expired-subject"`reservation.getId());" is 125.,952
exteso_alf.io,alfio.manager,TicketReservationManager,deleteOfflinePayment,Long Statement,The length of the statement "notificationManager.sendSimpleEmail(event`reservationId`reservation.getEmail()`subject`() -> templateManager.renderTemplate(event`TemplateResource.OFFLINE_RESERVATION_EXPIRED_EMAIL`emailModel`reservationLanguage));" is 214.,952
exteso_alf.io,alfio.manager,TicketReservationManager,getReservationEmailSubject,Long Statement,The length of the statement "return messageSourceManager.getMessageSourceFor(purchaseContext).getMessage(key`new Object[]{id`purchaseContext.getDisplayName()}`reservationLanguage);" is 151.,969
exteso_alf.io,alfio.manager,TicketReservationManager,issueCreditNoteForReservation,Long Statement,The length of the statement "ticketReservationRepository.updateReservationStatus(reservationId`TicketReservationStatus.CREDIT_NOTE_ISSUED.toString());" is 121.,974
exteso_alf.io,alfio.manager,TicketReservationManager,issueCreditNoteForReservation,Long Statement,The length of the statement "auditingRepository.insert(reservationId`userRepository.nullSafeFindIdByUserName(username).orElse(null)`purchaseContext`Audit.EventType.CREDIT_NOTE_ISSUED`new Date()`RESERVATION`reservationId);" is 192.,974
exteso_alf.io,alfio.manager,TicketReservationManager,issueCreditNoteForReservation,Long Statement,The length of the statement "var model=prepareModelForReservationEmail(purchaseContext`reservation`getVAT(purchaseContext)`orderSummaryForReservation(reservation`purchaseContext)`ticketRepository.findTicketsInReservation(reservation.getId())`Map.of());" is 223.,974
exteso_alf.io,alfio.manager,TicketReservationManager,issueCreditNoteForReservation,Long Statement,The length of the statement "BillingDocument billingDocument=billingDocumentManager.createBillingDocument(purchaseContext`reservation`username`BillingDocument.Type.CREDIT_NOTE`orderSummaryForReservation(reservation`purchaseContext));" is 204.,974
exteso_alf.io,alfio.manager,TicketReservationManager,issueCreditNoteForReservation,Long Statement,The length of the statement "extensionManager.handleCreditNoteGenerated(reservation`purchaseContext`((OrderSummary)model.get("orderSummary")).getOriginalTotalPrice()`billingDocument.getId()`Map.of(ORGANIZATION`organization));" is 196.,974
exteso_alf.io,alfio.manager,TicketReservationManager,issueCreditNoteForReservation,Long Statement,The length of the statement "notificationManager.sendSimpleEmail(purchaseContext`reservationId`reservation.getEmail()`getReservationEmailSubject(purchaseContext`getReservationLocale(reservation)`"credit-note-issued-email-subject"`reservation.getId())`() -> templateManager.renderTemplate(purchaseContext`TemplateResource.CREDIT_NOTE_ISSUED_EMAIL`model`getReservationLocale(reservation))`generateBillingDocumentAttachment(purchaseContext`reservation`getReservationLocale(reservation)`billingDocument.getModel()`CREDIT_NOTE));" is 495.,974
exteso_alf.io,alfio.manager,TicketReservationManager,issuePartialCreditNoteForReservation,Long Statement,The length of the statement "Validate.isTrue(TransactionSynchronizationManager.isActualTransactionActive()`"issuePartialCreditNoteForReservation() needs to be called within an active transaction");" is 168.,995
exteso_alf.io,alfio.manager,TicketReservationManager,issuePartialCreditNoteForReservation,Long Statement,The length of the statement "auditingRepository.insert(reservationId`userRepository.nullSafeFindIdByUserName(username).orElse(null)`event.getId()`Audit.EventType.CREDIT_NOTE_ISSUED`new Date()`RESERVATION`reservationId);" is 190.,995
exteso_alf.io,alfio.manager,TicketReservationManager,issuePartialCreditNoteForReservation,Long Statement,The length of the statement "var billingDocument=billingDocumentManager.createBillingDocument(event`reservation`username`BillingDocument.Type.CREDIT_NOTE`orderSummary);" is 139.,995
exteso_alf.io,alfio.manager,TicketReservationManager,issuePartialCreditNoteForReservation,Long Statement,The length of the statement "extensionManager.handleCreditNoteGenerated(reservation`event`orderSummary.getOriginalTotalPrice()`billingDocument.getId()`Map.of(ORGANIZATION`organization));" is 157.,995
exteso_alf.io,alfio.manager,TicketReservationManager,issueCreditNoteForRefund,Long Statement,The length of the statement "Validate.isTrue(TransactionSynchronizationManager.isActualTransactionActive()`"issueCreditNoteForRefund() needs to be called within an active transaction");" is 156.,1008
exteso_alf.io,alfio.manager,TicketReservationManager,issueCreditNoteForRefund,Long Statement,The length of the statement "var priceContainer=new RefundPriceContainer(unitToCents(refundAmount`currencyCode)`currencyCode`reservation.getVatStatus()`reservation.getVatPercentageOrZero());" is 161.,1008
exteso_alf.io,alfio.manager,TicketReservationManager,issueCreditNoteForRefund,Long Statement,The length of the statement "var summaryRowTitle=messageSourceManager.getMessageSourceFor(purchaseContext).getMessage("invoice.refund.line-item"`null`Locale.forLanguageTag(reservation.getUserLanguage()));" is 175.,1008
exteso_alf.io,alfio.manager,TicketReservationManager,issueCreditNoteForRefund,Long Statement,The length of the statement "var cost=new TotalPrice(priceContainer.getSrcPriceCts()`unitToCents(priceContainer.getVAT()`currencyCode)`0`0`currencyCode);" is 124.,1008
exteso_alf.io,alfio.manager,TicketReservationManager,issueCreditNoteForRefund,Long Statement,The length of the statement "var orderSummary=new OrderSummary(cost`List.of(new SummaryRow(summaryRowTitle`formattedAmount`formattedPriceBeforeVat`1`formattedAmount`formattedPriceBeforeVat`unitToCents(refundAmount`currencyCode)`SummaryType.TICKET`null))`false`formattedAmount`formatUnit(priceContainer.getVAT()`currencyCode)`false`false`false`priceContainer.getVatPercentageOrZero().toPlainString()`priceContainer.getVatStatus()`formattedAmount);" is 417.,1008
exteso_alf.io,alfio.manager,TicketReservationManager,issueCreditNoteForRefund,Long Statement,The length of the statement "var billingDocument=billingDocumentManager.createBillingDocument(purchaseContext`reservation`username`BillingDocument.Type.CREDIT_NOTE`orderSummary);" is 149.,1008
exteso_alf.io,alfio.manager,TicketReservationManager,issueCreditNoteForRefund,Long Statement,The length of the statement "extensionManager.handleCreditNoteGenerated(reservation`purchaseContext`cost`billingDocument.getId()`Map.of(ORGANIZATION`organization));" is 135.,1008
exteso_alf.io,alfio.manager,TicketReservationManager,prepareModelForReservationEmail,Long Parameter List,The method has 6 parameters. ,1035
exteso_alf.io,alfio.manager,TicketReservationManager,prepareModelForReservationEmail,Long Statement,The length of the statement "var bankingInfo=configurationManager.getFor(Set.of(INVOICE_ADDRESS`BANK_ACCOUNT_NR`BANK_ACCOUNT_OWNER)`ConfigurationLevel.purchaseContext(purchaseContext));" is 156.,1035
exteso_alf.io,alfio.manager,TicketReservationManager,prepareModelForReservationEmail,Long Statement,The length of the statement "ticketsWithCategory=ticketCategoryRepository.findByIds(ticketsByCategory.keySet()).stream().flatMap(tc -> ticketsByCategory.get(tc.getId()).stream().map(t -> new TicketWithCategory(t`tc))).toList();" is 198.,1035
exteso_alf.io,alfio.manager,TicketReservationManager,prepareModelForReservationEmail,Long Statement,The length of the statement "baseModel.putAll(extensionManager.handleReservationEmailCustomText(purchaseContext`reservation`ticketReservationRepository.getAdditionalInfo(reservationId)).map(CustomEmailText::toMap).orElse(Map.of()));" is 203.,1035
exteso_alf.io,alfio.manager,TicketReservationManager,prepareModelForReservationEmail,Long Statement,The length of the statement "Map<String`Object> model=TemplateResource.prepareModelForConfirmationEmail(organization`purchaseContext`reservation`vat`ticketsWithCategory`summary`baseUrl`reservationUrl`reservationShortID`invoiceAddress`bankAccountNr`bankAccountOwner`baseModel);" is 247.,1035
exteso_alf.io,alfio.manager,TicketReservationManager,prepareModelForReservationEmail,Long Statement,The length of the statement "boolean euBusiness=StringUtils.isNotBlank(reservation.getVatCountryCode()) && StringUtils.isNotBlank(reservation.getVatNr()) && configurationManager.getForSystem(ConfigurationKeys.EU_COUNTRIES_LIST).getRequiredValue().contains(reservation.getVatCountryCode())&& VatStatus.isVatExempt(reservation.getVatStatus());" is 312.,1035
exteso_alf.io,alfio.manager,TicketReservationManager,prepareModelForReservationEmail,Long Statement,The length of the statement "model.put("displayLocation"`ticketsWithCategory.stream().noneMatch(tc -> EventUtil.isAccessOnline(tc.getCategory()`event)));" is 124.,1035
exteso_alf.io,alfio.manager,TicketReservationManager,prepareModelForReservationEmail,Long Statement,The length of the statement "var subscriptionUsageDetails=UsageDetails.fromSubscription(subscription`ticketRepository.countSubscriptionUsage(subscription.getId()`null));" is 140.,1035
exteso_alf.io,alfio.manager,TicketReservationManager,prepareModelForReservationEmail,Long Statement,The length of the statement "var initialOptions=extensionManager.handleReservationEmailCustomText(event`reservation`ticketReservationRepository.getAdditionalInfo(reservation.getId())).map(CustomEmailText::toMap).orElse(Map.of());" is 200.,1096
exteso_alf.io,alfio.manager,TicketReservationManager,prepareModelForReservationEmail,Long Statement,The length of the statement "return prepareModelForReservationEmail(event`reservation`vat`summary`ticketRepository.findTicketsInReservation(reservation.getId())`initialOptions);" is 148.,1096
exteso_alf.io,alfio.manager,TicketReservationManager,prepareModelForReservationEmail,Long Statement,The length of the statement "return prepareModelForReservationEmail(purchaseContext`reservation`vat`summary`ticketRepository.findTicketsInReservation(reservation.getId())`Map.of());" is 152.,1109
exteso_alf.io,alfio.manager,TicketReservationManager,transitionToInPayment,Long Identifier,The length of the field requiresNewTransactionTemplate is 30.,1122
exteso_alf.io,alfio.manager,TicketReservationManager,transitionToInPayment,Long Statement,The length of the statement "var optionalStatusAndValidation=ticketReservationRepository.findOptionalStatusAndValidationById(spec.getReservationId());" is 121.,1122
exteso_alf.io,alfio.manager,TicketReservationManager,transitionToInPayment,Long Statement,The length of the statement "Validate.isTrue(auditingRepository.countAuditsOfTypeForReservation(spec.getReservationId()`PAYMENT_CONFIRMED) == 1`"Trying to confirm an already paid reservation` but can't find autiting event");" is 195.,1122
exteso_alf.io,alfio.manager,TicketReservationManager,transitionToInPayment,Long Statement,The length of the statement "int updatedReservation=ticketReservationRepository.updateTicketReservation(spec.getReservationId()`IN_PAYMENT.toString()`spec.getEmail()`spec.getCustomerName().getFullName()`spec.getCustomerName().getFirstName()`spec.getCustomerName().getLastName()`spec.getLocale().getLanguage()`spec.getBillingAddress()`null`PaymentProxy.STRIPE.toString()`spec.getCustomerReference());" is 370.,1122
exteso_alf.io,alfio.manager,TicketReservationManager,isValidPaymentMethod,Long Statement,The length of the statement "return paymentMethodDTO.isActive() && purchaseContext.getAllowedPaymentProxies().contains(paymentMethodDTO.getPaymentProxy()) && (!paymentMethodDTO.getPaymentProxy().equals(PaymentProxy.OFFLINE) || hasValidOfflinePaymentWaitingPeriod(new PaymentContext(purchaseContext)`configurationManager));" is 293.,1147
exteso_alf.io,alfio.manager,TicketReservationManager,reTransitionToPending,Long Statement,The length of the statement "int updatedReservation=ticketReservationRepository.updateReservationStatus(reservationId`TicketReservationStatus.PENDING.toString());" is 133.,1161
exteso_alf.io,alfio.manager,TicketReservationManager,from,Long Statement,The length of the statement "return eventRepository.findOptionalByShortName(eventName).flatMap(event -> ticketReservationRepository.findOptionalReservationById(reservationId).flatMap(reservation -> ticketRepository.findOptionalByUUID(ticketIdentifier).flatMap(ticket -> Optional.of(Triple.of(event`reservation`ticket))))).filter(x -> {" is 306.,1174
exteso_alf.io,alfio.manager,TicketReservationManager,completeReservation,Long Identifier,The length of the parameter sendReservationConfirmationEmail is 32.,1187
exteso_alf.io,alfio.manager,TicketReservationManager,completeReservation,Long Parameter List,The method has 5 parameters. ,1187
exteso_alf.io,alfio.manager,TicketReservationManager,completeReservation,Long Statement,The length of the statement "userId=ticketReservationRepository.getReservationOwnerAndOrganizationId(reservationId).map(UserIdAndOrganizationId::getUserId).orElse(null);" is 140.,1187
exteso_alf.io,alfio.manager,TicketReservationManager,completeReservation,Long Statement,The length of the statement "tickets=acquireItems(paymentProxy`reservationId`spec.getEmail()`spec.getCustomerName()`spec.getLocale().getLanguage()`spec.getBillingAddress()`spec.getCustomerReference()`spec.getPurchaseContext()`sendTickets);" is 210.,1187
exteso_alf.io,alfio.manager,TicketReservationManager,completeReservation,Long Statement,The length of the statement "extensionManager.handleReservationConfirmation(reservation`ticketReservationRepository.getBillingDetailsForReservation(reservationId)`spec.getPurchaseContext());" is 161.,1187
exteso_alf.io,alfio.manager,TicketReservationManager,completeReservation,Long Statement,The length of the statement "auditingRepository.insert(reservationId`userId`purchaseContext`Audit.EventType.RESERVATION_COMPLETE`eventTime`Audit.EntityType.RESERVATION`reservationId);" is 154.,1187
exteso_alf.io,alfio.manager,TicketReservationManager,completeReservation,Long Statement,The length of the statement "ticketReservationRepository.updateRegistrationTimestamp(reservationId`ZonedDateTime.now(clockProvider.withZone(spec.getPurchaseContext().getZoneId())));" is 152.,1187
exteso_alf.io,alfio.manager,TicketReservationManager,completeReservation,Long Statement,The length of the statement "auditingRepository.insert(reservationId`userId`purchaseContext`Audit.EventType.TERMS_CONDITION_ACCEPTED`eventTime`Audit.EntityType.RESERVATION`reservationId`singletonList(singletonMap("termsAndConditionsUrl"`spec.getPurchaseContext().getTermsAndConditionsUrl())));" is 264.,1187
exteso_alf.io,alfio.manager,TicketReservationManager,completeReservation,Long Statement,The length of the statement "auditingRepository.insert(reservationId`userId`purchaseContext`Audit.EventType.PRIVACY_POLICY_ACCEPTED`eventTime`Audit.EntityType.RESERVATION`reservationId`singletonList(singletonMap("privacyPolicyUrl"`spec.getPurchaseContext().getPrivacyPolicyUrl())));" is 253.,1187
exteso_alf.io,alfio.manager,TicketReservationManager,sendConfirmationEmailIfNecessary,Complex Conditional,The conditional expression ticketReservation.getSrcPriceCts() > 0 || CollectionUtils.isEmpty(tickets) || tickets.size() > 1 || !tickets.get(0).getEmail().equals(ticketReservation.getEmail()) || !config.get(SEND_RESERVATION_EMAIL_IF_NECESSARY).getValueAsBooleanOrDefault() || !config.get(SEND_TICKETS_AUTOMATICALLY).getValueAsBooleanOrDefault() is complex.,1228
exteso_alf.io,alfio.manager,TicketReservationManager,sendConfirmationEmailIfNecessary,Long Parameter List,The method has 5 parameters. ,1228
exteso_alf.io,alfio.manager,TicketReservationManager,sendConfirmationEmailIfNecessary,Long Statement,The length of the statement "var config=configurationManager.getFor(List.of(SEND_RESERVATION_EMAIL_IF_NECESSARY`SEND_TICKETS_AUTOMATICALLY)`purchaseContext.getConfigurationLevel());" is 152.,1228
exteso_alf.io,alfio.manager,TicketReservationManager,sendConfirmationEmailIfNecessary,Long Statement,The length of the statement "if (ticketReservation.getSrcPriceCts() > 0 || CollectionUtils.isEmpty(tickets) || tickets.size() > 1 || !tickets.get(0).getEmail().equals(ticketReservation.getEmail()) || !config.get(SEND_RESERVATION_EMAIL_IF_NECESSARY).getValueAsBooleanOrDefault() || !config.get(SEND_TICKETS_AUTOMATICALLY).getValueAsBooleanOrDefault()) {" is 323.,1228
exteso_alf.io,alfio.manager,TicketReservationManager,acquireItems,Complex Conditional,The conditional expression (paymentProxy != PaymentProxy.ADMIN || sendTickets) && configurationManager.getFor(SEND_TICKETS_AUTOMATICALLY`ConfigurationLevel.event(event)).getValueAsBooleanOrDefault() is complex.,1252
exteso_alf.io,alfio.manager,TicketReservationManager,acquireItems,Long Parameter List,The method has 9 parameters. ,1252
exteso_alf.io,alfio.manager,TicketReservationManager,acquireItems,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@45e0829c,1252
exteso_alf.io,alfio.manager,TicketReservationManager,acquireSubscription,Long Parameter List,The method has 5 parameters. ,1286
exteso_alf.io,alfio.manager,TicketReservationManager,acquireSubscription,Long Statement,The length of the statement "var temporalUnit=requireNonNullElse(subscriptionDescriptor.getValidityTimeUnit()`SubscriptionTimeUnit.DAYS).getTemporalUnit();" is 126.,1286
exteso_alf.io,alfio.manager,TicketReservationManager,acquireSubscription,Long Statement,The length of the statement "validityTo=confirmationTimestamp.plus(subscriptionDescriptor.getValidityUnits()`temporalUnit).with(ChronoField.HOUR_OF_DAY`23).with(ChronoField.MINUTE_OF_HOUR`59).with(ChronoField.SECOND_OF_MINUTE`59);" is 201.,1286
exteso_alf.io,alfio.manager,TicketReservationManager,acquireSubscription,Long Statement,The length of the statement "var subscription=subscriptionRepository.findSubscriptionsByReservationId(reservationId).stream().findFirst().orElseThrow();" is 123.,1286
exteso_alf.io,alfio.manager,TicketReservationManager,acquireSubscription,Long Statement,The length of the statement "var updatedSubscriptions=subscriptionRepository.confirmSubscription(reservationId`status`requireNonNullElse(subscription.getFirstName()`customerName.getFirstName())`requireNonNullElse(subscription.getLastName()`customerName.getLastName())`requireNonNullElse(subscription.getEmail()`email)`subscriptionDescriptor.getMaxEntries()`validityFrom`validityTo`confirmationTimestamp`subscriptionDescriptor.getTimeZone());" is 412.,1286
exteso_alf.io,alfio.manager,TicketReservationManager,acquireSubscription,Long Statement,The length of the statement "subscriptionRepository.findSubscriptionsByReservationId(reservationId).forEach(subscriptionId -> auditingRepository.insert(reservationId`null`purchaseContext`SUBSCRIPTION_ACQUIRED`new Date()`Audit.EntityType.SUBSCRIPTION`subscriptionId.toString()));" is 249.,1286
exteso_alf.io,alfio.manager,TicketReservationManager,acquireSubscription,Magic Number,The method contains a magic number: 23,1286
exteso_alf.io,alfio.manager,TicketReservationManager,acquireSubscription,Magic Number,The method contains a magic number: 59,1286
exteso_alf.io,alfio.manager,TicketReservationManager,acquireSubscription,Magic Number,The method contains a magic number: 59,1286
exteso_alf.io,alfio.manager,TicketReservationManager,acquireEventTickets,Long Identifier,The length of the field additionalServiceItemRepository is 31.,1319
exteso_alf.io,alfio.manager,TicketReservationManager,acquireEventTickets,Long Statement,The length of the statement "AdditionalServiceItemStatus asStatus=paymentProxy.isDeskPaymentRequired() ? AdditionalServiceItemStatus.TO_BE_PAID : AdditionalServiceItemStatus.ACQUIRED;" is 154.,1319
exteso_alf.io,alfio.manager,TicketReservationManager,acquireEventTickets,Long Statement,The length of the statement "Map<Integer`Ticket> preUpdateTicket=ticketRepository.findTicketsInReservation(reservationId).stream().collect(toMap(Ticket::getId`Function.identity()));" is 152.,1319
exteso_alf.io,alfio.manager,TicketReservationManager,acquireEventTickets,Long Statement,The length of the statement "if (!configurationManager.getFor(ENABLE_TICKET_TRANSFER`purchaseContext.getConfigurationLevel()).getValueAsBooleanOrDefault()) {" is 128.,1319
exteso_alf.io,alfio.manager,TicketReservationManager,acquireEventTickets,Long Statement,The length of the statement "Map<Integer`Ticket> postUpdateTicket=ticketRepository.findTicketsInReservation(reservationId).stream().collect(toMap(Ticket::getId`Function.identity()));" is 153.,1319
exteso_alf.io,alfio.manager,TicketReservationManager,acquireEventTickets,Long Statement,The length of the statement "postUpdateTicket.forEach((id`ticket) -> auditUpdateTicket(preUpdateTicket.get(id)`Collections.emptyMap()`ticket`Collections.emptyMap()`event.getId()));" is 151.,1319
exteso_alf.io,alfio.manager,TicketReservationManager,acquireEventTickets,Long Statement,The length of the statement "var ticketsWithMetadataById=ticketRepository.findTicketsInReservationWithMetadata(reservationId).stream().collect(toMap(twm -> twm.getTicket().getId()`Function.identity()));" is 173.,1319
exteso_alf.io,alfio.manager,TicketReservationManager,acquireEventTickets,Long Statement,The length of the statement "var general=new HashMap<>(existingContainer.getMetadataForKey(TicketMetadataContainer.GENERAL).orElseGet(TicketMetadata::empty).getAttributes());" is 145.,1319
exteso_alf.io,alfio.manager,TicketReservationManager,acquireEventTickets,Long Statement,The length of the statement "auditUpdateTicket(preUpdateTicket.get(id)`Collections.emptyMap()`ticketWithMetadata.getTicket()`Collections.emptyMap()`event.getId());" is 134.,1319
exteso_alf.io,alfio.manager,TicketReservationManager,getTicketEmailGenerator,Long Statement,The length of the statement "var initialModel=new HashMap<>(extensionManager.handleTicketEmailCustomText(event`ticketReservation`ticketReservationRepository.getAdditionalInfo(ticketReservation.getId())`ticketFieldRepository.findAllByTicketId(ticket.getId())).map(CustomEmailText::toMap).orElse(Map.of()));" is 276.,1352
exteso_alf.io,alfio.manager,TicketReservationManager,getTicketEmailGenerator,Long Statement,The length of the statement "initialModel.putAll(TicketCheckInUtil.getOnlineCheckInInfo(extensionManager`eventRepository`ticketCategoryRepository`configurationManager`event`ticketLanguage`ticket`ticketCategory`additionalInfo));" is 198.,1352
exteso_alf.io,alfio.manager,TicketReservationManager,getTicketEmailGenerator,Long Statement,The length of the statement "var baseUrl=StringUtils.removeEnd(configurationManager.getFor(BASE_URL`ConfigurationLevel.event(event)).getRequiredValue()`"/");" is 128.,1352
exteso_alf.io,alfio.manager,TicketReservationManager,getTicketEmailGenerator,Long Statement,The length of the statement "var calendarUrl=UriComponentsBuilder.fromUriString(baseUrl + "/api/v2/public/event/{eventShortName}/calendar/{currentLang}").queryParam("type"`"google").build(Map.of("eventShortName"`event.getShortName()`"currentLang"`ticketLanguage.getLanguage())).toString();" is 260.,1352
exteso_alf.io,alfio.manager,TicketReservationManager,getTicketEmailGenerator,Long Statement,The length of the statement "return TemplateProcessor.buildPartialEmail(event`organization`ticketReservation`ticketCategory`templateManager`baseUrl`ticketUrl`calendarUrl`ticketLanguage`initialModel).generate(ticket);" is 187.,1352
exteso_alf.io,alfio.manager,TicketReservationManager,cleanupExpiredReservations,Long Statement,The length of the statement "log.warn("Trying to force pending payment cancellation for reservation ID {}. Successful: {}"`reservationId`cancelPendingPaymentResult);" is 136.,1386
exteso_alf.io,alfio.manager,TicketReservationManager,cleanupExpiredReservations,Long Statement,The length of the statement "Map<Integer`List<ReservationIdAndEventId>> reservationIdsByEvent=ticketReservationRepository.getReservationIdAndEventId(toDelete).stream().collect(Collectors.groupingBy(ReservationIdAndEventId::getEventId));" is 207.,1386
exteso_alf.io,alfio.manager,TicketReservationManager,cleanupExpiredOfflineReservations,Long Statement,The length of the statement "ticketReservationRepository.findExpiredOfflineReservationsForUpdate(expirationDate).forEach(this::cleanupOfflinePayment);" is 121.,1450
exteso_alf.io,alfio.manager,TicketReservationManager,cleanupOfflinePayment,Long Statement,The length of the statement "boolean enabled=configurationManager.getFor(AUTOMATIC_REMOVAL_EXPIRED_OFFLINE_PAYMENT`ConfigurationLevel.event(event)).getValueAsBooleanOrDefault();" is 148.,1455
exteso_alf.io,alfio.manager,TicketReservationManager,markExpiredInPaymentReservationAsStuck,Long Statement,The length of the statement "Map<Event`List<Pair<TicketReservation`Event>>> reservationsGroupedByEvent=stuckReservations.stream().collect(Collectors.groupingBy(Pair::getRight));" is 148.,1472
exteso_alf.io,alfio.manager,TicketReservationManager,markExpiredInPaymentReservationAsStuck,Long Statement,The length of the statement "notificationManager.sendSimpleEmail(event`null`organization.getEmail()`STUCK_TICKETS_SUBJECT`() -> RenderedTemplate.plaintext(String.format(STUCK_TICKETS_MSG`event.getDisplayName())`Map.of()));" is 193.,1472
exteso_alf.io,alfio.manager,TicketReservationManager,findStuckPaymentsToBeNotified,Long Statement,The length of the statement "List<ReservationIdAndEventId> stuckReservations=ticketReservationRepository.findStuckReservationsForUpdate(expirationDate);" is 123.,1499
exteso_alf.io,alfio.manager,TicketReservationManager,findStuckPaymentsToBeNotified,Long Statement,The length of the statement "events=eventRepository.findByIds(stuckReservations.stream().map(ReservationIdAndEventId::getEventId).collect(toSet())).stream().collect(toMap(Event::getId`Function.identity()));" is 177.,1499
exteso_alf.io,alfio.manager,TicketReservationManager,findStuckPaymentsToBeNotified,Long Statement,The length of the statement "return stuckReservations.stream().map(id -> Pair.of(ticketReservationRepository.findReservationById(id.getId())`events.get(id.getEventId()))).filter(reservationAndEvent -> {" is 173.,1499
exteso_alf.io,alfio.manager,TicketReservationManager,findStuckPaymentsToBeNotified,Long Statement,The length of the statement "var optionalTransaction=transactionRepository.loadOptionalByReservationIdAndStatusForUpdate(reservation.getId()`Transaction.Status.PENDING);" is 140.,1499
exteso_alf.io,alfio.manager,TicketReservationManager,findStuckPaymentsToBeNotified,Long Statement,The length of the statement "handlePaymentWebhookResult(event`providerAndWebhookResult.getLeft()`paymentWebhookResult`reservation`transaction`paymentContext`"stuck-check"`false);" is 149.,1499
exteso_alf.io,alfio.manager,TicketReservationManager,totalReservationCostWithVAT,Complex Conditional,The conditional expression discountAppliedCount == 0 && promoCodeDiscount != null && promoCodeDiscount.getDiscountType() == DiscountType.FIXED_AMOUNT_RESERVATION is complex.,1533
exteso_alf.io,alfio.manager,TicketReservationManager,totalReservationCostWithVAT,Long Parameter List,The method has 7 parameters. ,1533
exteso_alf.io,alfio.manager,TicketReservationManager,totalReservationCostWithVAT,Long Statement,The length of the statement "List<TicketPriceContainer> ticketPrices=tickets.stream().map(t -> TicketPriceContainer.from(t`reservation.getVatStatus()`purchaseContext.getVat()`purchaseContext.getVatStatus()`promoCodeDiscount)).toList();" is 206.,1533
exteso_alf.io,alfio.manager,TicketReservationManager,totalReservationCostWithVAT,Long Statement,The length of the statement "int discountedTickets=(int)ticketPrices.stream().filter(t -> t.getAppliedDiscount().compareTo(BigDecimal.ZERO) > 0).count();" is 124.,1533
exteso_alf.io,alfio.manager,TicketReservationManager,totalReservationCostWithVAT,Long Statement,The length of the statement "int discountAppliedCount=discountedTickets <= 1 || promoCodeDiscount.getDiscountType() == DiscountType.FIXED_AMOUNT ? discountedTickets : 1;" is 140.,1533
exteso_alf.io,alfio.manager,TicketReservationManager,totalReservationCostWithVAT,Long Statement,The length of the statement "if (discountAppliedCount == 0 && promoCodeDiscount != null && promoCodeDiscount.getDiscountType() == DiscountType.FIXED_AMOUNT_RESERVATION) {" is 141.,1533
exteso_alf.io,alfio.manager,TicketReservationManager,totalReservationCostWithVAT,Long Statement,The length of the statement "var reservationPriceCalculator=ReservationPriceCalculator.from(reservation`promoCodeDiscount`tickets`purchaseContext`additionalServiceItems`subscriptions`appliedSubscription);" is 175.,1533
exteso_alf.io,alfio.manager,TicketReservationManager,totalReservationCostWithVAT,Long Statement,The length of the statement "var price=new TotalPrice(unitToCents(reservationPriceCalculator.getFinalPrice()`currencyCode)`unitToCents(reservationPriceCalculator.getVAT()`currencyCode)`-MonetaryUtil.unitToCents(reservationPriceCalculator.getAppliedDiscount()`currencyCode)`discountAppliedCount`currencyCode);" is 279.,1533
exteso_alf.io,alfio.manager,TicketReservationManager,generateASIPriceContainers,Long Statement,The length of the statement "return p -> p.getValue().stream().map(asi -> AdditionalServiceItemPriceContainer.from(asi`p.getKey()`purchaseContext`discount));" is 128.,1557
exteso_alf.io,alfio.manager,TicketReservationManager,totalReservationCostWithVAT,Long Statement,The length of the statement "return totalReservationCostWithVAT(purchaseContextManager.findByReservationId(reservation.getId()).orElseThrow()`reservation`ticketRepository.findTicketsInReservation(reservation.getId()));" is 189.,1571
exteso_alf.io,alfio.manager,TicketReservationManager,totalReservationCostWithVAT,Long Statement,The length of the statement "var promoCodeDiscount=Optional.ofNullable(reservation.getPromoCodeDiscountId()).map(promoCodeDiscountRepository::findById);" is 123.,1575
exteso_alf.io,alfio.manager,TicketReservationManager,totalReservationCostWithVAT,Long Statement,The length of the statement "return totalReservationCostWithVAT(promoCodeDiscount.orElse(null)`purchaseContext`reservation`tickets`purchaseContext.event().map(event -> collectAdditionalServiceItems(reservation.getId()`event)).orElse(List.of())`subscriptions`appliedSubscription);" is 250.,1575
exteso_alf.io,alfio.manager,TicketReservationManager,formatPromoCode,Long Statement,The length of the statement "return messageSourceManager.getMessageSourceFor(purchaseContext).getMessage("reservation.dynamic.discount.description"`null`locale);" is 132.,1585
exteso_alf.io,alfio.manager,TicketReservationManager,formatPromoCode,Long Statement,The length of the statement "List<Ticket> filteredTickets=tickets.stream().filter(ticket -> promoCodeDiscount.getCategories().contains(ticket.getCategoryId())).toList();" is 140.,1585
exteso_alf.io,alfio.manager,TicketReservationManager,formatPromoCode,Long Statement,The length of the statement "String formattedDiscountedCategories=filteredTickets.stream().map(Ticket::getCategoryId).collect(toSet()).stream().map(categoryId -> ticketCategoryRepository.getByIdAndActive(categoryId`promoCodeDiscount.getEventId()).getName()).collect(Collectors.joining("` "`"("`")"));" is 271.,1585
exteso_alf.io,alfio.manager,TicketReservationManager,orderSummaryForReservation,Long Statement,The length of the statement "return new OrderSummary(reservationCost`extractSummary(reservation.getId()`reservation.getVatStatus()`context`LocaleUtil.forLanguageTag(reservation.getUserLanguage())`discount`reservationCost)`free`formatCents(reservationCost.getPriceWithVAT()`currencyCode)`formatCents(reservationCost.getVAT()`currencyCode)`reservation.getStatus() == TicketReservationStatus.OFFLINE_PAYMENT`reservation.getStatus() == DEFERRED_OFFLINE_PAYMENT`reservation.getPaymentMethod() == PaymentProxy.ON_SITE`Optional.ofNullable(context.getVat()).map(p -> MonetaryUtil.formatCents(MonetaryUtil.unitToCents(p`currencyCode)`currencyCode)).orElse(null)`reservation.getVatStatus()`refundedAmount);" is 667.,1613
exteso_alf.io,alfio.manager,TicketReservationManager,orderSummaryForCreditNote,Long Statement,The length of the statement "var totalPriceAndDiscount=totalReservationCostWithVAT(null`purchaseContext`reservation`removedTickets`List.of()`List.of()`Optional.empty());" is 140.,1641
exteso_alf.io,alfio.manager,TicketReservationManager,orderSummaryForCreditNote,Long Statement,The length of the statement "return new OrderSummary(reservationCost`extractSummary(reservation.getVatStatus()`purchaseContext`LocaleUtil.forLanguageTag(reservation.getUserLanguage())`null`reservationCost`removedTickets`Stream.empty()`subscriptionRepository.findSubscriptionsByReservationId(reservation.getId()))`free`formatCents(reservationCost.getPriceWithVAT()`currencyCode)`formatCents(reservationCost.getVAT()`currencyCode)`reservation.getStatus() == TicketReservationStatus.OFFLINE_PAYMENT`reservation.getStatus() == DEFERRED_OFFLINE_PAYMENT`reservation.getPaymentMethod() == PaymentProxy.ON_SITE`Optional.ofNullable(purchaseContext.getVat()).map(p -> MonetaryUtil.formatCents(MonetaryUtil.unitToCents(p`currencyCode)`currencyCode)).orElse(null)`reservation.getVatStatus()`null);" is 756.,1641
exteso_alf.io,alfio.manager,TicketReservationManager,extractSummary,Complex Method,Cyclomatic complexity of the method is 9,1661
exteso_alf.io,alfio.manager,TicketReservationManager,extractSummary,Long Identifier,The length of the field additionalServiceTextRepository is 31.,1661
exteso_alf.io,alfio.manager,TicketReservationManager,extractSummary,Long Parameter List,The method has 8 parameters. ,1661
exteso_alf.io,alfio.manager,TicketReservationManager,extractSummary,Long Statement,The length of the statement "List<TicketPriceContainer> tickets=ticketsToInclude.stream().map(t -> TicketPriceContainer.from(t`reservationVatStatus`purchaseContext.getVat()`purchaseContext.getVatStatus()`promoCodeDiscount)).toList();" is 204.,1661
exteso_alf.io,alfio.manager,TicketReservationManager,extractSummary,Long Statement,The length of the statement "boolean multipleTaxRates=tickets.stream().map(TicketPriceContainer::getVatStatus).collect(Collectors.toSet()).size() > 1;" is 121.,1661
exteso_alf.io,alfio.manager,TicketReservationManager,extractSummary,Long Statement,The length of the statement "sorted=ticketsByCategory.entrySet().stream().sorted(Comparator.comparing(( Entry<Integer`List<TicketPriceContainer>> e) -> e.getValue().get(0).getVatStatus()).reversed()).toList();" is 180.,1661
exteso_alf.io,alfio.manager,TicketReservationManager,extractSummary,Long Statement,The length of the statement "categoriesById=ticketCategoryRepository.getByIdsAndActive(ticketsByCategory.keySet()`event.getId()).stream().collect(Collectors.toMap(TicketCategory::getId`Function.identity()));" is 178.,1661
exteso_alf.io,alfio.manager,TicketReservationManager,extractSummary,Long Statement,The length of the statement "summary.add(new SummaryRow(categoryName`formatCents(ticketPriceCts`currencyCode)`formatCents(priceBeforeVat`currencyCode)`categoryTickets.size()`formatCents(subTotal`currencyCode)`formatCents(subTotalBeforeVat`currencyCode)`subTotal`SummaryType.TICKET`null));" is 259.,1661
exteso_alf.io,alfio.manager,TicketReservationManager,extractSummary,Long Statement,The length of the statement "summary.add(new SummaryRow(null`""`""`0`formatCents(0`currencyCode`true)`formatCents(0`currencyCode`true)`0`SummaryType.TAX_DETAIL`"0"));" is 137.,1661
exteso_alf.io,alfio.manager,TicketReservationManager,extractSummary,Long Statement,The length of the statement "AdditionalServiceText title=additionalServiceTextRepository.findBestMatchByLocaleAndType(entry.getKey().getId()`language`AdditionalServiceText.TextType.TITLE);" is 159.,1661
exteso_alf.io,alfio.manager,TicketReservationManager,extractSummary,Long Statement,The length of the statement "return new SummaryRow(title.getValue()`formatCents(first.getSrcPriceCts()`currencyCode)`formatCents(SummaryPriceContainer.getSummaryPriceBeforeVatCts(singletonList(first))`currencyCode)`prices.size()`formatCents(subtotal`currencyCode)`formatCents(subtotalBeforeVat`currencyCode)`subtotal`SummaryType.ADDITIONAL_SERVICE`null);" is 325.,1661
exteso_alf.io,alfio.manager,TicketReservationManager,extractSummary,Long Statement,The length of the statement "String formattedSingleAmount="-" + (DiscountType.isFixedAmount(promo.getDiscountType()) ? formatCents(promo.getDiscountAmount()`currencyCode) : (promo.getDiscountAmount() + "%"));" is 179.,1661
exteso_alf.io,alfio.manager,TicketReservationManager,extractSummary,Long Statement,The length of the statement "summary.add(new SummaryRow(formatPromoCode(promo`ticketsToInclude`locale`purchaseContext)`formattedSingleAmount`formattedSingleAmount`reservationCost.getDiscountAppliedCount()`formatCents(reservationCost.getDiscount()`currencyCode)`formatCents(reservationCost.getDiscount()`currencyCode)`reservationCost.getDiscount()`promo.isDynamic() ? SummaryType.DYNAMIC_DISCOUNT : SummaryType.PROMOTION_CODE`null));" is 403.,1661
exteso_alf.io,alfio.manager,TicketReservationManager,extractSummary,Long Statement,The length of the statement "summary.add(new SummaryRow(purchaseContext.getTitle().get(locale.getLanguage())`formatCents(priceContainer.getSummarySrcPriceCts()`currencyCode)`priceBeforeVat`subscriptionsToInclude.size()`formatCents(priceContainer.getSummarySrcPriceCts() * subscriptionsToInclude.size()`currencyCode)`formatUnit(priceContainer.getNetPrice().multiply(new BigDecimal(subscriptionsToInclude.size()))`currencyCode)`priceContainer.getSummarySrcPriceCts()`SummaryType.SUBSCRIPTION`null));" is 468.,1661
exteso_alf.io,alfio.manager,TicketReservationManager,extractSummary,Long Statement,The length of the statement "subscriptionRepository.findOne(subscription.getSubscriptionDescriptorId()`subscription.getOrganizationId()).ifPresent(subscriptionDescriptor -> {" is 145.,1661
exteso_alf.io,alfio.manager,TicketReservationManager,extractSummary,Long Statement,The length of the statement "var ticketsSubscription=tickets.stream().filter(t -> Objects.equals(subscription.getId()`t.getSubscriptionId())).toList();" is 122.,1661
exteso_alf.io,alfio.manager,TicketReservationManager,extractSummary,Long Statement,The length of the statement "summary.add(new SummaryRow(subscriptionDescriptor.getLocalizedTitle(locale)`"-" + formatCents(ticketPriceCts`currencyCode)`"-" + formatCents(priceBeforeVat`currencyCode)`ticketsSubscription.size()`"-" + formatCents(ticketPriceCts`currencyCode)`"-" + formatCents(priceBeforeVat`currencyCode)`ticketPriceCts`SummaryType.APPLIED_SUBSCRIPTION`null));" is 346.,1661
exteso_alf.io,alfio.manager,TicketReservationManager,extractSummary,Long Parameter List,The method has 6 parameters. ,1789
exteso_alf.io,alfio.manager,TicketReservationManager,extractSummary,Long Statement,The length of the statement "subscriptionsToInclude=subscriptionRepository.findAppliedSubscriptionByReservationId(reservationId).map(List::of).orElse(List.of());" is 132.,1789
exteso_alf.io,alfio.manager,TicketReservationManager,extractSummary,Long Statement,The length of the statement "return extractSummary(reservationVatStatus`purchaseContext`locale`promoCodeDiscount`reservationCost`ticketRepository.findTicketsInReservation(reservationId)`streamAdditionalServiceItems(reservationId`purchaseContext)`subscriptionsToInclude);" is 241.,1789
exteso_alf.io,alfio.manager,TicketReservationManager,streamAdditionalServiceItems,Long Identifier,The length of the field additionalServiceItemRepository is 31.,1810
exteso_alf.io,alfio.manager,TicketReservationManager,streamAdditionalServiceItems,Long Statement,The length of the statement "return additionalServiceItemRepository.findByReservationUuid(reservationId).stream().collect(Collectors.groupingBy(AdditionalServiceItem::getAdditionalServiceId)).entrySet().stream().map(entry -> Pair.of(additionalServiceRepository.getById(entry.getKey()`event.getId())`entry.getValue()));" is 289.,1810
exteso_alf.io,alfio.manager,TicketReservationManager,reservationUrlForExternalClients,Long Statement,The length of the statement "var configMap=configurationManager.getFor(EnumSet.of(BASE_URL`OPENID_PUBLIC_ENABLED)`purchaseContext.getConfigurationLevel());" is 126.,1834
exteso_alf.io,alfio.manager,TicketReservationManager,reservationUrlForExternalClients,Long Statement,The length of the statement "return baseUrl + "/openid/authentication?reservation=" + reservationId+ "&contextType="+ purchaseContext.getType()+ "&id="+ purchaseContext.getPublicIdentifier();" is 162.,1834
exteso_alf.io,alfio.manager,TicketReservationManager,reservationUrl,Long Statement,The length of the statement "return StringUtils.removeEnd(baseUrl`"/") + "/" + purchaseContext.getType()+ "/"+ purchaseContext.getPublicIdentifier()+ "/reservation/"+ reservationId+ "?lang="+ userLanguage;" is 176.,1844
exteso_alf.io,alfio.manager,TicketReservationManager,reservationUrl,Long Statement,The length of the statement "return reservationUrl(configurationManager.baseUrl(purchaseContext)`reservation.getId()`purchaseContext`reservation.getUserLanguage());" is 135.,1848
exteso_alf.io,alfio.manager,TicketReservationManager,ticketUrl,Long Statement,The length of the statement "return configurationManager.baseUrl(event) + "/event/" + event.getShortName()+ "/ticket/"+ ticketId+ "?lang="+ ticket.getUserLanguage();" is 136.,1852
exteso_alf.io,alfio.manager,TicketReservationManager,ticketUpdateUrl,Long Statement,The length of the statement "return configurationManager.baseUrl(event) + "/event/" + event.getShortName()+ "/ticket/"+ ticketId+ "/update?lang="+ ticket.getUserLanguage();" is 143.,1858
exteso_alf.io,alfio.manager,TicketReservationManager,maxAmountOfTicketsForCategory,Long Statement,The length of the statement "Integer maxTicketsPerAccessCode=promoCodeDiscountRepository.findPromoCodeInEventOrOrganization(eventAndOrganizationId.getId()`promoCode).filter(d -> d.getCodeType() == CodeType.ACCESS).map(PromoCodeDiscount::getMaxUsage).orElse(null);" is 234.,1870
exteso_alf.io,alfio.manager,TicketReservationManager,maxAmountOfTicketsForCategory,Long Statement,The length of the statement "return configurationManager.getFor(MAX_AMOUNT_OF_TICKETS_BY_RESERVATION`ConfigurationLevel.ticketCategory(eventAndOrganizationId`ticketCategoryId)).getValueAsIntOrDefault(5);" is 174.,1870
exteso_alf.io,alfio.manager,TicketReservationManager,maxAmountOfTicketsForCategory,Magic Number,The method contains a magic number: 5,1870
exteso_alf.io,alfio.manager,TicketReservationManager,notificationNotSent,Long Statement,The length of the statement "return r -> r.latestNotificationTimestamp(clock.getZone()).map(t -> t.truncatedTo(ChronoUnit.DAYS).plusDays(quietPeriod).isBefore(ZonedDateTime.now(clock).truncatedTo(ChronoUnit.DAYS))).orElse(true);" is 199.,1895
exteso_alf.io,alfio.manager,TicketReservationManager,creditReservation,Long Statement,The length of the statement "billingDocumentManager.ensureBillingDocumentIsPresent(event`reservation`username`() -> orderSummaryForReservationId(reservation.getId()`event));" is 144.,1920
exteso_alf.io,alfio.manager,TicketReservationManager,cleanupReferencesToReservation,Long Identifier,The length of the field additionalServiceItemRepository is 31.,1929
exteso_alf.io,alfio.manager,TicketReservationManager,cleanupReferencesToReservation,Long Statement,The length of the statement "int updatedAS=additionalServiceItemRepository.updateItemsStatusWithReservationUUID(reservationId`expired ? AdditionalServiceItemStatus.EXPIRED : AdditionalServiceItemStatus.CANCELLED);" is 184.,1929
exteso_alf.io,alfio.manager,TicketReservationManager,cleanupReferencesToReservation,Long Statement,The length of the statement "int updatedTickets=ticketRepository.findTicketIdsInReservation(reservationId).stream().mapToInt(tickedId -> ticketRepository.releaseExpiredTicket(reservationId`event.getId()`tickedId`UUID.randomUUID().toString())).sum();" is 220.,1929
exteso_alf.io,alfio.manager,TicketReservationManager,cleanupReferencesToReservation,Long Statement,The length of the statement "auditingRepository.insert(reservationId`userRepository.nullSafeFindIdByUserName(username).orElse(null)`purchaseContext.event().map(Event::getId).orElse(null)`expired ? Audit.EventType.CANCEL_RESERVATION_EXPIRED : Audit.EventType.CANCEL_RESERVATION`new Date()`Audit.EntityType.RESERVATION`reservationId);" is 303.,1929
exteso_alf.io,alfio.manager,TicketReservationManager,removeReservation,Long Statement,The length of the statement "auditingRepository.insert(reservationIdToRemove`userRepository.nullSafeFindIdByUserName(username).orElse(null)`purchaseContext.event().map(Event::getId).orElse(null)`expired ? Audit.EventType.CANCEL_RESERVATION_EXPIRED : Audit.EventType.CANCEL_RESERVATION`new Date()`Audit.EntityType.RESERVATION`reservationIdToRemove);" is 319.,1948
exteso_alf.io,alfio.manager,TicketReservationManager,updateTicketOwner,Complex Conditional,The conditional expression sendTicketAllowed && (newTicket.getStatus() == TicketStatus.ACQUIRED || newTicket.getStatus() == TicketStatus.TO_BE_PAID) && (!equalsIgnoreCase(newEmail`ticket.getEmail()) || !equalsIgnoreCase(customerName.getFullName()`ticket.getFullName())) is complex.,1984
exteso_alf.io,alfio.manager,TicketReservationManager,updateTicketOwner,Complex Conditional,The conditional expression !admin && StringUtils.isNotBlank(ticket.getEmail()) && !equalsIgnoreCase(newEmail`ticket.getEmail())&& ticket.getStatus() == TicketStatus.ACQUIRED is complex.,1984
exteso_alf.io,alfio.manager,TicketReservationManager,updateTicketOwner,Long Parameter List,The method has 7 parameters. ,1984
exteso_alf.io,alfio.manager,TicketReservationManager,updateTicketOwner,Long Statement,The length of the statement "Map<String`String> preUpdateTicketFields=ticketFieldRepository.findAllByTicketId(ticket.getId()).stream().collect(Collectors.toMap(TicketFieldValue::getName`TicketFieldValue::getValue));" is 186.,1984
exteso_alf.io,alfio.manager,TicketReservationManager,updateTicketOwner,Long Statement,The length of the statement "CustomerName customerName=new CustomerName(updateTicketOwner.getFullName()`updateTicketOwner.getFirstName()`updateTicketOwner.getLastName()`event.mustUseFirstAndLastName()`false);" is 179.,1984
exteso_alf.io,alfio.manager,TicketReservationManager,updateTicketOwner,Long Statement,The length of the statement "ticketRepository.updateTicketOwner(ticket.getUuid()`newEmail`customerName.getFullName()`customerName.getFirstName()`customerName.getLastName());" is 144.,1984
exteso_alf.io,alfio.manager,TicketReservationManager,updateTicketOwner,Long Statement,The length of the statement "Locale userLocale=Optional.ofNullable(StringUtils.trimToNull(updateTicketOwner.getUserLanguage())).map(LocaleUtil::forLanguageTag).orElse(locale);" is 146.,1984
exteso_alf.io,alfio.manager,TicketReservationManager,updateTicketOwner,Long Statement,The length of the statement "boolean sendTicketAllowed=configurationManager.getFor(SEND_TICKETS_AUTOMATICALLY`ConfigurationLevel.event(event)).getValueAsBooleanOrDefault();" is 143.,1984
exteso_alf.io,alfio.manager,TicketReservationManager,updateTicketOwner,Long Statement,The length of the statement "if (sendTicketAllowed && (newTicket.getStatus() == TicketStatus.ACQUIRED || newTicket.getStatus() == TicketStatus.TO_BE_PAID) && (!equalsIgnoreCase(newEmail`ticket.getEmail()) || !equalsIgnoreCase(customerName.getFullName()`ticket.getFullName()))) {" is 249.,1984
exteso_alf.io,alfio.manager,TicketReservationManager,updateTicketOwner,Long Statement,The length of the statement "if (!admin && StringUtils.isNotBlank(ticket.getEmail()) && !equalsIgnoreCase(newEmail`ticket.getEmail())&& ticket.getStatus() == TicketStatus.ACQUIRED) {" is 153.,1984
exteso_alf.io,alfio.manager,TicketReservationManager,updateTicketOwner,Long Statement,The length of the statement "String subject=messageSourceManager.getMessageSourceFor(event).getMessage("ticket-has-changed-owner-subject"`new Object[]{event.getDisplayName()}`oldUserLocale);" is 161.,1984
exteso_alf.io,alfio.manager,TicketReservationManager,updateTicketOwner,Long Statement,The length of the statement "notificationManager.sendSimpleEmail(event`ticket.getTicketsReservationId()`ticket.getEmail()`subject`() -> ownerChangeTextBuilder.generate(newTicket));" is 151.,1984
exteso_alf.io,alfio.manager,TicketReservationManager,updateTicketOwner,Long Statement,The length of the statement "notificationManager.sendSimpleEmail(event`null`organization.getEmail()`"WARNING: Ticket has been reassigned after event start"`() -> ownerChangeTextBuilder.generate(newTicket));" is 177.,1984
exteso_alf.io,alfio.manager,TicketReservationManager,updateTicketOwner,Long Statement,The length of the statement "log.warn("Reservation {}: forced assignee replacement old: {} new: {}"`reservation.getId()`reservation.getFullName()`username);" is 127.,1984
exteso_alf.io,alfio.manager,TicketReservationManager,updateTicketOwner,Long Statement,The length of the statement "extensionManager.handleTicketAssignment(newTicket`ticketCategoryRepository.getById(ticket.getCategoryId())`updateTicketOwner.getAdditional());" is 142.,1984
exteso_alf.io,alfio.manager,TicketReservationManager,updateTicketOwner,Long Statement,The length of the statement "Map<String`String> postUpdateTicketFields=ticketFieldRepository.findAllByTicketId(ticket.getId()).stream().collect(Collectors.toMap(TicketFieldValue::getName`TicketFieldValue::getValue));" is 187.,1984
exteso_alf.io,alfio.manager,TicketReservationManager,isTicketBeingReassigned,Long Statement,The length of the statement "CustomerName customerName=new CustomerName(updated.getFullName()`updated.getFirstName()`updated.getLastName()`event.mustUseFirstAndLastName());" is 143.,2046
exteso_alf.io,alfio.manager,TicketReservationManager,isTicketBeingReassigned,Long Statement,The length of the statement "return StringUtils.isNotBlank(original.getEmail()) && StringUtils.isNotBlank(original.getFullName()) && (!equalsIgnoreCase(original.getEmail()`updated.getEmail()) || !equalsIgnoreCase(original.getFullName()`customerName.getFullName()));" is 236.,2046
exteso_alf.io,alfio.manager,TicketReservationManager,auditUpdateMetadata,Long Parameter List,The method has 5 parameters. ,2055
exteso_alf.io,alfio.manager,TicketReservationManager,auditUpdateMetadata,Long Statement,The length of the statement "var changes=ObjectDiffUtil.diff(oldMetadata`newMetadata`TicketMetadataContainer.class).stream().map(this::processChange).toList();" is 130.,2055
exteso_alf.io,alfio.manager,TicketReservationManager,auditUpdateMetadata,Long Statement,The length of the statement "auditingRepository.insert(reservationId`null`eventId`Audit.EventType.UPDATE_TICKET_METADATA`new Date()`TICKET`Integer.toString(ticketId)`changes);" is 146.,2055
exteso_alf.io,alfio.manager,TicketReservationManager,auditUpdateTicket,Long Parameter List,The method has 5 parameters. ,2068
exteso_alf.io,alfio.manager,TicketReservationManager,auditUpdateTicket,Long Statement,The length of the statement "List<Map<String`Object>> changes=Stream.concat(diffTicket.stream()`diffTicketFields.stream()).map(this::processChange).toList();" is 128.,2068
exteso_alf.io,alfio.manager,TicketReservationManager,auditUpdateTicket,Long Statement,The length of the statement "auditingRepository.insert(preUpdateTicket.getTicketsReservationId()`null`eventId`Audit.EventType.UPDATE_TICKET`new Date()`TICKET`Integer.toString(preUpdateTicket.getId())`changes);" is 180.,2068
exteso_alf.io,alfio.manager,TicketReservationManager,isAdmin,Long Statement,The length of the statement "return userDetails.flatMap(u -> u.getAuthorities().stream().map(a -> Role.fromRoleName(a.getAuthority())).filter(Role.ADMIN::equals).findFirst()).isPresent();" is 158.,2089
exteso_alf.io,alfio.manager,TicketReservationManager,sendTicketByEmail,Long Statement,The length of the statement "notificationManager.sendTicketByEmail(ticket`event`locale`confirmationTextBuilder`reservation`ticketCategory`() -> retrieveAttendeeAdditionalInfoForTicket(ticket));" is 164.,2093
exteso_alf.io,alfio.manager,TicketReservationManager,fetchComplete,Long Statement,The length of the statement "return ticketRepository.findOptionalByUUID(ticketIdentifier).flatMap(ticket -> from(eventName`ticket.getTicketsReservationId()`ticketIdentifier).flatMap(triple -> {" is 164.,2099
exteso_alf.io,alfio.manager,TicketReservationManager,sendReminderForOfflinePayments,Long Statement,The length of the statement "Date expiration=truncate(addHours(new Date()`configurationManager.getForSystem(OFFLINE_REMINDER_HOURS).getValueAsIntOrDefault(24))`Calendar.DATE);" is 146.,2132
exteso_alf.io,alfio.manager,TicketReservationManager,sendReminderForOfflinePayments,Long Statement,The length of the statement "ticketReservationRepository.findAllOfflinePaymentReservationForNotificationForUpdate(expiration).stream().map(reservation -> {" is 126.,2132
exteso_alf.io,alfio.manager,TicketReservationManager,sendReminderForOfflinePayments,Long Statement,The length of the statement "return truncate(addHours(new Date()`configurationManager.getFor(OFFLINE_REMINDER_HOURS`ConfigurationLevel.event(event)).getValueAsIntOrDefault(24))`Calendar.DATE).compareTo(p.getLeft().getValidity()) >= 0;" is 205.,2132
exteso_alf.io,alfio.manager,TicketReservationManager,sendReminderForOfflinePayments,Long Statement,The length of the statement "notificationManager.sendSimpleEmail(event`reservation.getId()`reservation.getEmail()`messageSourceManager.getMessageSourceFor(event).getMessage("reservation.reminder.mail.subject"`new Object[]{getShortReservationID(event`reservation)}`locale)`() -> templateManager.renderTemplate(event`TemplateResource.REMINDER_EMAIL`model`locale));" is 333.,2132
exteso_alf.io,alfio.manager,TicketReservationManager,sendReminderForOfflinePayments,Magic Number,The method contains a magic number: 24,2132
exteso_alf.io,alfio.manager,TicketReservationManager,sendReminderForOfflinePayments,Magic Number,The method contains a magic number: 24,2132
exteso_alf.io,alfio.manager,TicketReservationManager,sendReminderForOfflinePaymentsToEventManagers,Long Statement,The length of the statement "List<TicketReservationInfo> reservations=ticketReservationRepository.findAllOfflinePaymentReservationWithExpirationBeforeForUpdate(dateTimeForEvent`event.getId());" is 163.,2159
exteso_alf.io,alfio.manager,TicketReservationManager,sendReminderForOfflinePaymentsToEventManagers,Long Statement,The length of the statement "String subject=String.format("There are %d pending offline payments that will expire in event: %s"`reservations.size()`event.getDisplayName());" is 143.,2159
exteso_alf.io,alfio.manager,TicketReservationManager,sendReminderForOfflinePaymentsToEventManagers,Long Statement,The length of the statement "Map<String`Object> model=TemplateResource.prepareModelForOfflineReservationExpiringEmailForOrganizer(event`reservations`baseUrl);" is 129.,2159
exteso_alf.io,alfio.manager,TicketReservationManager,sendReminderForOfflinePaymentsToEventManagers,Long Statement,The length of the statement "notificationManager.sendSimpleEmail(event`null`organization.getEmail()`cc`subject`() -> templateManager.renderTemplate(event`TemplateResource.OFFLINE_RESERVATION_EXPIRING_EMAIL_FOR_ORGANIZER`model`Locale.ENGLISH));" is 214.,2159
exteso_alf.io,alfio.manager,TicketReservationManager,sendReminderForOfflinePaymentsToEventManagers,Magic Number,The method contains a magic number: 5,2159
exteso_alf.io,alfio.manager,TicketReservationManager,sendReminderForTicketAssignment,Long Statement,The length of the statement "getNotifiableEventsStream().map(e -> Pair.of(e`ticketRepository.findAllReservationsConfirmedButNotAssignedForUpdate(e.getId()))).filter(p -> !p.getRight().isEmpty()).forEach(p -> Wrappers.voidTransactionWrapper(this::sendAssignmentReminder`p));" is 244.,2180
exteso_alf.io,alfio.manager,TicketReservationManager,sendReminderForOptionalData,Long Statement,The length of the statement "getNotifiableEventsStream().filter(e -> configurationManager.getFor(OPTIONAL_DATA_REMINDER_ENABLED`ConfigurationLevel.event(e)).getValueAsBooleanOrDefault()).filter(e -> ticketFieldRepository.countAdditionalFieldsForEvent(e.getId()) > 0).map(e -> Pair.of(e`ticketRepository.findAllAssignedButNotYetNotifiedForUpdate(e.getId()))).filter(p -> !p.getRight().isEmpty()).forEach(p -> Wrappers.voidTransactionWrapper(this::sendOptionalDataReminder`p));" is 446.,2187
exteso_alf.io,alfio.manager,TicketReservationManager,sendOptionalDataReminder,Long Statement,The length of the statement "int daysBeforeStart=configurationManager.getFor(ASSIGNMENT_REMINDER_START`ConfigurationLevel.event(event)).getValueAsIntOrDefault(10);" is 134.,2196
exteso_alf.io,alfio.manager,TicketReservationManager,sendOptionalDataReminder,Long Statement,The length of the statement "List<Ticket> tickets=eventAndTickets.getRight().stream().filter(t -> !ticketFieldRepository.hasOptionalData(t.getId())).toList();" is 129.,2196
exteso_alf.io,alfio.manager,TicketReservationManager,sendOptionalDataReminder,Long Statement,The length of the statement "Set<String> notYetNotifiedReservations=tickets.stream().map(Ticket::getTicketsReservationId).distinct().filter(rid -> findByIdForNotification(rid`clockProvider.withZone(event.getZoneId())`daysBeforeStart).isPresent()).collect(toSet());" is 235.,2196
exteso_alf.io,alfio.manager,TicketReservationManager,sendOptionalDataReminder,Long Statement,The length of the statement "Map<String`Object> model=TemplateResource.prepareModelForReminderTicketAdditionalInfo(organizationRepository.getById(event.getOrganizationId())`event`t`ticketUpdateUrl(event`t.getUuid()));" is 188.,2196
exteso_alf.io,alfio.manager,TicketReservationManager,sendOptionalDataReminder,Long Statement,The length of the statement "Locale locale=Optional.ofNullable(t.getUserLanguage()).map(LocaleUtil::forLanguageTag).orElseGet(() -> findReservationLanguage(t.getTicketsReservationId()));" is 157.,2196
exteso_alf.io,alfio.manager,TicketReservationManager,sendOptionalDataReminder,Long Statement,The length of the statement "notificationManager.sendSimpleEmail(event`t.getTicketsReservationId()`t.getEmail()`messageSource.getMessage("reminder.ticket-additional-info.subject"`new Object[]{event.getDisplayName()}`locale)`() -> templateManager.renderTemplate(event`TemplateResource.REMINDER_TICKET_ADDITIONAL_INFO`model`locale));" is 302.,2196
exteso_alf.io,alfio.manager,TicketReservationManager,sendOptionalDataReminder,Magic Number,The method contains a magic number: 10,2196
exteso_alf.io,alfio.manager,TicketReservationManager,getNotifiableEventsStream,Long Statement,The length of the statement "int daysBeforeStart=configurationManager.getFor(ASSIGNMENT_REMINDER_START`ConfigurationLevel.event(e)).getValueAsIntOrDefault(10);" is 130.,2217
exteso_alf.io,alfio.manager,TicketReservationManager,getNotifiableEventsStream,Long Statement,The length of the statement "int days=(int)ChronoUnit.DAYS.between(ZonedDateTime.now(clockProvider.withZone(e.getZoneId())).toLocalDate()`e.getBegin().toLocalDate());" is 137.,2217
exteso_alf.io,alfio.manager,TicketReservationManager,getNotifiableEventsStream,Magic Number,The method contains a magic number: 10,2217
exteso_alf.io,alfio.manager,TicketReservationManager,sendAssignmentReminder,Long Statement,The length of the statement "int quietPeriod=configurationManager.getFor(ASSIGNMENT_REMINDER_INTERVAL`ConfigurationLevel.event(event)).getValueAsIntOrDefault(3);" is 132.,2226
exteso_alf.io,alfio.manager,TicketReservationManager,sendAssignmentReminder,Long Statement,The length of the statement "p.getRight().stream().map(id -> findByIdForNotification(id`clockProvider.withZone(eventZoneId)`quietPeriod)).filter(Optional::isPresent).map(Optional::get).forEach(reservation -> {" is 180.,2226
exteso_alf.io,alfio.manager,TicketReservationManager,sendAssignmentReminder,Long Statement,The length of the statement "ticketReservationRepository.updateLatestReminderTimestamp(reservation.getId()`ZonedDateTime.now(clockProvider.withZone(eventZoneId)));" is 134.,2226
exteso_alf.io,alfio.manager,TicketReservationManager,sendAssignmentReminder,Long Statement,The length of the statement "notificationManager.sendSimpleEmail(event`reservation.getId()`reservation.getEmail()`messageSource.getMessage("reminder.ticket-not-assigned.subject"`new Object[]{event.getDisplayName()}`locale)`() -> templateManager.renderTemplate(event`TemplateResource.REMINDER_TICKETS_ASSIGNMENT_EMAIL`model`locale));" is 303.,2226
exteso_alf.io,alfio.manager,TicketReservationManager,sendAssignmentReminder,Magic Number,The method contains a magic number: 3,2226
exteso_alf.io,alfio.manager,TicketReservationManager,findByPartialID,Long Statement,The length of the statement "List<TicketReservation> results=ticketReservationRepository.findByPartialID(trimToEmpty(reservationId).toLowerCase() + "%");" is 124.,2251
exteso_alf.io,alfio.manager,TicketReservationManager,releaseTicket,Complex Conditional,The conditional expression !(isFree && enableFreeCancellation && conditionsMet) is complex.,2275
exteso_alf.io,alfio.manager,TicketReservationManager,releaseTicket,Long Identifier,The length of the field ticketCategoryDescriptionRepository is 35.,2275
exteso_alf.io,alfio.manager,TicketReservationManager,releaseTicket,Long Identifier,The length of the field additionalServiceItemRepository is 31.,2275
exteso_alf.io,alfio.manager,TicketReservationManager,releaseTicket,Long Identifier,The length of the field additionalServiceTextRepository is 31.,2275
exteso_alf.io,alfio.manager,TicketReservationManager,releaseTicket,Long Statement,The length of the statement "var configurationLevel=ticket.getCategoryId() != null ? ConfigurationLevel.ticketCategory(event`ticket.getCategoryId()) : ConfigurationLevel.event(event);" is 154.,2275
exteso_alf.io,alfio.manager,TicketReservationManager,releaseTicket,Long Statement,The length of the statement "var enableFreeCancellation=configurationManager.getFor(ALLOW_FREE_TICKETS_CANCELLATION`configurationLevel).getValueAsBooleanOrDefault();" is 136.,2275
exteso_alf.io,alfio.manager,TicketReservationManager,releaseTicket,Long Statement,The length of the statement "notificationManager.sendSimpleEmail(event`reservationId`ticket.getEmail()`messageSource.getMessage("email-ticket-released.subject"`new Object[]{event.getDisplayName()}`locale)`() -> templateManager.renderTemplate(event`TemplateResource.TICKET_HAS_BEEN_CANCELLED`model`locale));" is 277.,2275
exteso_alf.io,alfio.manager,TicketReservationManager,releaseTicket,Long Statement,The length of the statement "String ticketCategoryDescription=ticketCategoryDescriptionRepository.findByTicketCategoryIdAndLocale(category.getId()`ticket.getUserLanguage()).orElse("");" is 155.,2275
exteso_alf.io,alfio.manager,TicketReservationManager,releaseTicket,Long Statement,The length of the statement "Map<String`Object> adminModel=TemplateResource.buildModelForTicketHasBeenCancelledAdmin(organization`event`ticket`ticketCategoryDescription`additionalServiceItems`asi -> additionalServiceTextRepository.findByLocaleAndType(asi.getAdditionalServiceId()`locale.getLanguage()`AdditionalServiceText.TextType.TITLE));" is 311.,2275
exteso_alf.io,alfio.manager,TicketReservationManager,releaseTicket,Long Statement,The length of the statement "notificationManager.sendSimpleEmail(event`null`organization.getEmail()`messageSource.getMessage("email-ticket-released.admin.subject"`new Object[]{ticket.getId()`event.getDisplayName()}`locale)`() -> templateManager.renderTemplate(event`TemplateResource.TICKET_HAS_BEEN_CANCELLED_ADMIN`adminModel`locale));" is 306.,2275
exteso_alf.io,alfio.manager,TicketReservationManager,releaseTicket,Long Statement,The length of the statement "auditingRepository.insert(reservationId`null`event.getId()`Audit.EventType.CANCEL_TICKET`new Date()`Audit.EntityType.TICKET`Integer.toString(ticket.getId()));" is 158.,2275
exteso_alf.io,alfio.manager,TicketReservationManager,releaseTicket,Long Statement,The length of the statement "if (ticketRepository.countTicketsInReservation(reservationId) == 0 && transactionRepository.loadOptionalByReservationId(reservationId).isEmpty()) {" is 147.,2275
exteso_alf.io,alfio.manager,TicketReservationManager,releaseTicket,Long Statement,The length of the statement "auditingRepository.insert(reservationId`null`event.getId()`Audit.EventType.CANCEL_RESERVATION`new Date()`Audit.EntityType.RESERVATION`reservationId);" is 149.,2275
exteso_alf.io,alfio.manager,TicketReservationManager,getReservationTimeout,Magic Number,The method contains a magic number: 25,2325
exteso_alf.io,alfio.manager,TicketReservationManager,validateAndConfirmOfflinePayment,Long Statement,The length of the statement "Validate.isTrue(MonetaryUtil.centsToUnit(orderSummary.getOriginalTotalPrice().getPriceWithVAT()`currencyCode).compareTo(paidAmount) == 0`"paid price differs from due price");" is 174.,2329
exteso_alf.io,alfio.manager,TicketReservationManager,getPendingPayments,Long Statement,The length of the statement "return eventRepository.findOptionalEventAndOrganizationIdByShortName(eventName).map(event -> ticketSearchRepository.findOfflineReservationsWithOptionalTransaction(event.getId())).orElse(List.of());" is 197.,2339
exteso_alf.io,alfio.manager,TicketReservationManager,findAllInvoices,Long Statement,The length of the statement "Map<String`BillingDocument> documentsByReservationId=documents.stream().collect(toMap(BillingDocument::getReservationId`Function.identity()));" is 142.,2349
exteso_alf.io,alfio.manager,TicketReservationManager,findAllInvoices,Long Statement,The length of the statement "return ticketReservationRepository.findByIds(documentsByReservationId.keySet()).stream().map(r -> Pair.of(r`documentsByReservationId.get(r.getId()))).toList();" is 159.,2349
exteso_alf.io,alfio.manager,TicketReservationManager,streamAllDocumentsFor,Long Statement,The length of the statement "var documentsByReservationId=billingDocumentRepository.findAllForEvent(eventId).stream().collect(groupingBy(BillingDocument::getReservationId));" is 144.,2357
exteso_alf.io,alfio.manager,TicketReservationManager,streamAllDocumentsFor,Long Statement,The length of the statement "var reservations=ticketSearchRepository.findAllReservationsById(documentsByReservationId.keySet()).stream().collect(toMap(trt -> trt.getTicketReservation().getId()`Function.identity()));" is 186.,2357
exteso_alf.io,alfio.manager,TicketReservationManager,streamAllDocumentsFor,Long Statement,The length of the statement "return documentsByReservationId.entrySet().stream().map(entry -> Pair.of(reservations.get(entry.getKey())`entry.getValue()));" is 125.,2357
exteso_alf.io,alfio.manager,TicketReservationManager,hasPaidSupplements,Long Identifier,The length of the field additionalServiceItemRepository is 31.,2371
exteso_alf.io,alfio.manager,TicketReservationManager,revertTicketsToFreeIfAccessRestricted,Long Statement,The length of the statement "List<Integer> restrictedCategories=ticketCategoryRepository.findAllTicketCategories(eventId).stream().filter(TicketCategory::isAccessRestricted).map(TicketCategory::getId).toList();" is 181.,2375
exteso_alf.io,alfio.manager,TicketReservationManager,updateReservation,Long Parameter List,The method has 18 parameters. ,2391
exteso_alf.io,alfio.manager,TicketReservationManager,updateReservation,Long Statement,The length of the statement "String completeBillingAddress=buildCompleteBillingAddress(customerName`billingAddressCompany`billingAddressLine1`billingAddressLine2`billingAddressZip`billingAddressCity`billingAddressState`vatCountryCode`locale);" is 213.,2391
exteso_alf.io,alfio.manager,TicketReservationManager,updateReservation,Long Statement,The length of the statement "ticketReservationRepository.updateTicketReservationWithValidation(reservationId`customerName.getFullName()`customerName.getFirstName()`customerName.getLastName()`email`billingAddressCompany`billingAddressLine1`billingAddressLine2`billingAddressZip`billingAddressCity`billingAddressState`completeBillingAddress`vatCountryCode`vatNr`isInvoiceRequested`addCompanyBillingDetails`skipVatNr`customerReference`validated);" is 414.,2391
exteso_alf.io,alfio.manager,TicketReservationManager,setReservationOwner,Long Parameter List,The method has 6 parameters. ,2425
exteso_alf.io,alfio.manager,TicketReservationManager,setReservationOwner,Long Statement,The length of the statement "ticketReservationRepository.updateTicketReservation(reservationId`Status.PENDING.toString()`email`customerName.getFullName()`customerName.getFirstName()`customerName.getLastName()`userLanguage`null`null`null`null);" is 214.,2425
exteso_alf.io,alfio.manager,TicketReservationManager,buildCompleteBillingAddress,Long Parameter List,The method has 9 parameters. ,2460
exteso_alf.io,alfio.manager,TicketReservationManager,buildCompleteBillingAddress,Long Statement,The length of the statement "country=TicketHelper.getLocalizedCountriesForVat(locale).stream().filter(c -> c.getKey().equals(countryCode)).map(Pair::getValue).findFirst().orElse(null);" is 155.,2460
exteso_alf.io,alfio.manager,TicketReservationManager,buildCompleteBillingAddress,Long Statement,The length of the statement "return Arrays.stream(stripAll(defaultString(companyName`fullName)`billingAddressLine1`billingAddressLine2`stripToEmpty(billingAddressZip) + " " + stripToEmpty(billingAddressCity)+ " "+ stripToEmpty(billingAddressState)`stripToNull(country))).filter(Predicate.not(StringUtils::isEmpty)).collect(joining("\n"));" is 309.,2460
exteso_alf.io,alfio.manager,TicketReservationManager,updateReservationInvoicingAdditionalInformation,Long Identifier,The length of the parameter ticketReservationInvoicingAdditionalInfo is 40.,2489
exteso_alf.io,alfio.manager,TicketReservationManager,updateReservationInvoicingAdditionalInformation,Long Statement,The length of the statement "auditingRepository.insert(reservationId`null`purchaseContext.event().map(Event::getId).orElse(null)`BILLING_DATA_UPDATED`new Date()`RESERVATION`reservationId`json.asJsonString(List.of(ticketReservationInvoicingAdditionalInfo)));" is 228.,2489
exteso_alf.io,alfio.manager,TicketReservationManager,updateReservationInvoicingAdditionalInformation,Long Statement,The length of the statement "ticketReservationRepository.updateInvoicingAdditionalInformation(reservationId`json.asJsonString(ticketReservationInvoicingAdditionalInfo));" is 140.,2489
exteso_alf.io,alfio.manager,TicketReservationManager,getReservationLocale,Long Statement,The length of the statement "return StringUtils.isEmpty(reservation.getUserLanguage()) ? Locale.ENGLISH : LocaleUtil.forLanguageTag(reservation.getUserLanguage());" is 134.,2494
exteso_alf.io,alfio.manager,TicketReservationManager,processTransactionWebhook,Complex Method,Cyclomatic complexity of the method is 8,2502
exteso_alf.io,alfio.manager,TicketReservationManager,processTransactionWebhook,Long Identifier,The length of the identifier optionalTransactionWebhookPayload is 33.,2502
exteso_alf.io,alfio.manager,TicketReservationManager,processTransactionWebhook,Long Parameter List,The method has 5 parameters. ,2502
exteso_alf.io,alfio.manager,TicketReservationManager,processTransactionWebhook,Long Statement,The length of the statement "var paymentProviderOptional=paymentManager.streamActiveProvidersByProxyAndCapabilities(paymentProxy`pc`List.of(WebhookHandler.class)).findFirst();" is 146.,2502
exteso_alf.io,alfio.manager,TicketReservationManager,processTransactionWebhook,Long Statement,The length of the statement "var optionalTransactionWebhookPayload=((WebhookHandler)paymentProvider).parseTransactionPayload(body`signature`additionalInfo`paymentContext);" is 142.,2502
exteso_alf.io,alfio.manager,TicketReservationManager,processTransactionWebhook,Long Statement,The length of the statement "log.warn("discarding transaction webhook {} for reservation id {} ({}). Transaction status is: {}"`transactionPayload.getType()`reservation.getId()`reservation.getStatus()`transaction.getStatus());" is 197.,2502
exteso_alf.io,alfio.manager,TicketReservationManager,processTransactionWebhook,Long Statement,The length of the statement "return paymentManager.lookupProviderByTransactionAndCapabilities(transaction`List.of(WebhookHandler.class)).map(provider -> {" is 125.,2502
exteso_alf.io,alfio.manager,TicketReservationManager,processTransactionWebhook,Long Statement,The length of the statement "var paymentWebhookResult=((WebhookHandler)provider).processWebhook(transactionPayload`transaction`paymentContextReloaded);" is 122.,2502
exteso_alf.io,alfio.manager,TicketReservationManager,processTransactionWebhook,Long Statement,The length of the statement "return handlePaymentWebhookResult(purchaseContext`paymentProvider`paymentWebhookResult`reservation`transaction`paymentContextReloaded`operationType`true);" is 154.,2502
exteso_alf.io,alfio.manager,TicketReservationManager,handlePaymentWebhookResult,Complex Method,Cyclomatic complexity of the method is 9,2559
exteso_alf.io,alfio.manager,TicketReservationManager,handlePaymentWebhookResult,Long Identifier,The length of the parameter moveToWatingExternalConfirmationAllowed is 39.,2559
exteso_alf.io,alfio.manager,TicketReservationManager,handlePaymentWebhookResult,Long Parameter List,The method has 8 parameters. ,2559
exteso_alf.io,alfio.manager,TicketReservationManager,handlePaymentWebhookResult,Magic Number,The method contains a magic number: 10,2559
exteso_alf.io,alfio.manager,TicketReservationManager,handlePaymentWebhookResult,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@65054bbb,2559
exteso_alf.io,alfio.manager,TicketReservationManager,forceTransactionCheck,Long Statement,The length of the statement "var optionalTransaction=transactionRepository.loadOptionalByReservationIdAndStatusForUpdate(reservation.getId()`Transaction.Status.PENDING);" is 140.,2626
exteso_alf.io,alfio.manager,TicketReservationManager,forceTransactionCheck,Long Statement,The length of the statement "handlePaymentWebhookResult(purchaseContext`providerAndWebhookResult.getLeft()`paymentWebhookResult`reservation`transaction`paymentContext`"force-check"`true);" is 158.,2626
exteso_alf.io,alfio.manager,TicketReservationManager,checkTransactionStatus,Long Statement,The length of the statement "var optionalTransaction=transactionRepository.loadOptionalByReservationIdAndStatusForUpdate(reservation.getId()`Transaction.Status.PENDING);" is 140.,2652
exteso_alf.io,alfio.manager,TicketReservationManager,checkTransactionStatus,Long Statement,The length of the statement "return paymentManager.lookupProviderByTransactionAndCapabilities(transaction`List.of(WebhookHandler.class)).map(provider -> Pair.of(provider`((WebhookHandler)provider).forceTransactionCheck(reservation`transaction`paymentContext)));" is 232.,2652
exteso_alf.io,alfio.manager,TicketReservationManager,sendTransactionFailedEmail,Long Parameter List,The method has 5 parameters. ,2668
exteso_alf.io,alfio.manager,TicketReservationManager,sendTransactionFailedEmail,Long Statement,The length of the statement "Map<String`Object> model=Map.of(ORGANIZATION`organizationRepository.getById(purchaseContext.getOrganizationId())`"reservationCancelled"`cancelReservation`"reservation"`reservation`RESERVATION_ID`shortReservationID`"eventName"`purchaseContext.getDisplayName()`"provider"`requireNonNullElse(paymentMethod.name()`"")`"reason"`paymentWebhookResult.getReason()`"reservationUrl"`reservationUrl(reservation`purchaseContext));" is 418.,2668
exteso_alf.io,alfio.manager,TicketReservationManager,sendTransactionFailedEmail,Long Statement,The length of the statement "if (cancelReservation || configurationManager.getFor(NOTIFY_ALL_FAILED_PAYMENT_ATTEMPTS`purchaseContext.getConfigurationLevel()).getValueAsBooleanOrDefault()) {" is 160.,2668
exteso_alf.io,alfio.manager,TicketReservationManager,sendTransactionFailedEmail,Long Statement,The length of the statement "notificationManager.sendSimpleEmail(purchaseContext`reservation.getId()`reservation.getEmail()`messageSource.getMessage("email-transaction-failed.subject"`new Object[]{shortReservationID`purchaseContext.getDisplayName()}`locale)`() -> templateManager.renderTemplate(purchaseContext`TemplateResource.CHARGE_ATTEMPT_FAILED_EMAIL_FOR_ORGANIZER`model`locale)`List.of());" is 366.,2668
exteso_alf.io,alfio.manager,TicketReservationManager,sendTransactionFailedEmail,Long Statement,The length of the statement "notificationManager.sendSimpleEmail(purchaseContext`reservation.getId()`reservation.getEmail()`messageSource.getMessage("email-transaction-failed.subject"`new Object[]{shortReservationID`purchaseContext.getDisplayName()}`locale)`() -> templateManager.renderTemplate(purchaseContext`TemplateResource.CHARGE_ATTEMPT_FAILED_EMAIL`model`locale)`List.of());" is 352.,2668
exteso_alf.io,alfio.manager,TicketReservationManager,initTransaction,Long Statement,The length of the statement "var transactionRequest=new TransactionRequest(totalReservationCostWithVAT(reservation).getLeft()`ticketReservationRepository.getBillingDetailsForReservation(reservationId));" is 173.,2696
exteso_alf.io,alfio.manager,TicketReservationManager,initTransaction,Long Statement,The length of the statement "var optionalProvider=paymentManager.lookupProviderByMethodAndCapabilities(paymentMethod`new PaymentContext(purchaseContext)`transactionRequest`List.of(WebhookHandler.class`ServerInitiatedTransaction.class));" is 207.,2696
exteso_alf.io,alfio.manager,TicketReservationManager,initTransaction,Long Statement,The length of the statement "var paymentSpecification=new PaymentSpecification(reservation`totalReservationCostWithVAT(reservation).getLeft()`purchaseContext`null`orderSummaryForReservation(reservation`purchaseContext)`false`false);" is 203.,2696
exteso_alf.io,alfio.manager,TicketReservationManager,initTransaction,Long Statement,The length of the statement "var errorMessage=messageSource.getMessage("error.STEP2_WHITELIST"`null`LocaleUtil.forLanguageTag(reservation.getUserLanguage()));" is 129.,2696
exteso_alf.io,alfio.manager,TicketReservationManager,transitionToExternalProcessingPayment,Long Statement,The length of the statement "log.warn("trying to transition reservation {} to EXTERNAL_PROCESSING_PAYMENT but the current transaction is not PENDING. Ignoring the request..."`reservationId);" is 161.,2721
exteso_alf.io,alfio.manager,TicketReservationManager,transitionToExternalProcessingPayment,Long Statement,The length of the statement "log.warn("trying to transition reservation {} to EXTERNAL_PROCESSING_PAYMENT but the current status is {}. Ignoring the request..."`reservationId`reservation.getStatus());" is 171.,2721
exteso_alf.io,alfio.manager,TicketReservationManager,createSubscriptionReservation,Long Statement,The length of the statement "return Optional.of(createSubscriptionReservation(subscriptionDescriptor`expiration`locale`retrievePublicUserId(principal)));" is 124.,2741
exteso_alf.io,alfio.manager,TicketReservationManager,createTicketReservation,Long Parameter List,The method has 7 parameters. ,2758
exteso_alf.io,alfio.manager,TicketReservationManager,createTicketReservation,Long Statement,The length of the statement "var reservationId=createTicketReservation(event`list`additionalServices`expiration`promoCodeDiscount`locale`false`principal);" is 125.,2758
exteso_alf.io,alfio.manager,TicketReservationManager,canProceedWithPayment,Long Statement,The length of the statement "var blacklistedPaymentMethods=configurationManager.getBlacklistedMethodsForReservation(purchaseContext`categoriesInReservation);" is 128.,2791
exteso_alf.io,alfio.manager,TicketReservationManager,canProceedWithPayment,Long Statement,The length of the statement "var transactionRequest=new TransactionRequest(totalPrice`ticketReservationRepository.getBillingDetailsForReservation(reservationId));" is 133.,2791
exteso_alf.io,alfio.manager,TicketReservationManager,canProceedWithPayment,Long Statement,The length of the statement "var availableMethods=paymentManager.getPaymentMethods(purchaseContext`transactionRequest).stream().filter(pm -> pm.getStatus() == PaymentMethodStatus.ACTIVE && pm.getPaymentMethod() != PaymentMethod.NONE).toList();" is 214.,2791
exteso_alf.io,alfio.manager,TicketReservationManager,canProceedWithPayment,Long Statement,The length of the statement "if (availableMethods.isEmpty() || availableMethods.stream().allMatch(pm -> blacklistedPaymentMethods.contains(pm.getPaymentMethod()))) {" is 136.,2791
exteso_alf.io,alfio.manager,TicketReservationManager,canProceedWithPayment,Long Statement,The length of the statement "log.error("Cannot proceed with reservation. No payment methods available {} or all blacklisted {}"`availableMethods`blacklistedPaymentMethods);" is 143.,2791
exteso_alf.io,alfio.manager,TicketReservationManager,discardMatchingPayment,Long Statement,The length of the statement "return eventRepository.findOptionalByShortName(eventName).flatMap(e -> ticketReservationRepository.findOptionalReservationById(reservationId).map(r -> Pair.of(e`r))).flatMap(pair -> transactionRepository.loadOptionalByIdAndStatus(transactionId`Transaction.Status.OFFLINE_PENDING_REVIEW).map(transaction -> {" is 307.,2806
exteso_alf.io,alfio.manager,TicketReservationManager,discardMatchingPayment,Long Statement,The length of the statement "auditingRepository.insert(reservationId`null`pair.getLeft().getId()`Audit.EventType.MATCHING_PAYMENT_DISCARDED`new Date()`RESERVATION`reservationId);" is 149.,2806
exteso_alf.io,alfio.manager,TicketReservationManager,discardMatchingPayment,Long Statement,The length of the statement "Validate.isTrue(transactionRepository.discardMatchingPayment(transactionId) == 1`"Transaction is in an incompatible state.");" is 125.,2806
exteso_alf.io,alfio.manager,TicketReservationManager,flagAsValidated,Long Statement,The length of the statement "auditingRepository.insert(reservationId`null`purchaseContext`WARNING_IGNORED`new Date()`RESERVATION`reservationId`List.of(Map.of("warnings"`warnings)));" is 152.,2820
exteso_alf.io,alfio.manager,TicketReservationManager,checkOfflinePaymentsForEvent,Long Statement,The length of the statement "var providers=paymentManager.streamActiveProvidersByProxyAndCapabilities(PaymentProxy.OFFLINE`paymentContext`List.of(OfflineProcessor.class)).toList();" is 151.,2827
exteso_alf.io,alfio.manager,TicketReservationManager,checkOfflinePaymentsForEvent,Long Statement,The length of the statement "var pendingReservationsMap=ticketSearchRepository.findOfflineReservationsWithPendingTransaction(event.getId()).stream().collect(toMap(tr -> tr.getTicketReservation().getId()`Function.identity()));" is 196.,2827
exteso_alf.io,alfio.manager,TicketReservationManager,checkOfflinePaymentsForEvent,Long Statement,The length of the statement "Result<List<String>> matching=offlineProcessor.checkPendingReservations(pendingReservationsMap.values()`paymentContext`null);" is 125.,2827
exteso_alf.io,alfio.manager,TicketReservationManager,checkOfflinePaymentsForEvent,Long Statement,The length of the statement "Map<String`Object> model=Map.of("matchingCount"`matchingCount`"eventName"`event.getDisplayName()`"pendingReviewMatches"`!pendingReview.isEmpty()`"pendingReview"`pendingReview`"automaticApprovedMatches"`!confirmed.isEmpty()`"automaticApproved"`confirmed`"automaticApprovalErrors"`!errors.isEmpty()`"approvalErrors"`errors);" is 322.,2827
exteso_alf.io,alfio.manager,TicketReservationManager,checkOfflinePaymentsForEvent,Long Statement,The length of the statement "notificationManager.sendSimpleEmail(event`null`organization.getEmail()`cc`subject`() -> templateManager.renderTemplate(event`TemplateResource.OFFLINE_PAYMENT_MATCHES_FOUND`model`Locale.ENGLISH));" is 195.,2827
exteso_alf.io,alfio.manager,TicketReservationManager,processResults,Long Parameter List,The method has 6 parameters. ,2881
exteso_alf.io,alfio.manager,TicketReservationManager,processResults,Long Statement,The length of the statement "auditingRepository.insert(reservationId`null`event.getId()`MATCHING_PAYMENT_FOUND`new Date()`RESERVATION`reservationId`json.asJsonString(List.of(tr.getTransaction().getMetadata())));" is 182.,2881
exteso_alf.io,alfio.manager,TicketReservationManager,processResults,Long Statement,The length of the statement "auditingRepository.insert(reservationId`null`event.getId()`Audit.EventType.AUTOMATIC_PAYMENT_CONFIRMATION`new Date()`RESERVATION`reservationId);" is 144.,2881
exteso_alf.io,alfio.manager,TicketReservationManager,processResults,Long Statement,The length of the statement "auditingRepository.insert(reservationId`null`event.getId()`Audit.EventType.AUTOMATIC_PAYMENT_CONFIRMATION_FAILED`new Date()`RESERVATION`reservationId);" is 151.,2881
exteso_alf.io,alfio.manager,TicketReservationManager,processResults,Long Statement,The length of the statement "pendingReview.addAll(byStatus.getOrDefault(Transaction.Status.OFFLINE_PENDING_REVIEW`List.of()).stream().map(tr -> tr.getTicketReservation().getId()).toList());" is 160.,2881
exteso_alf.io,alfio.manager,TicketReservationManager,validateAndApplySubscriptionCode,Complex Method,Cyclomatic complexity of the method is 8,2917
exteso_alf.io,alfio.manager,TicketReservationManager,validateAndApplySubscriptionCode,Long Parameter List,The method has 6 parameters. ,2917
exteso_alf.io,alfio.manager,TicketReservationManager,validateAndApplySubscriptionCode,Long Statement,The length of the statement "var subscriptionId=isUUID ? UUID.fromString(pin) : requireEmail ? subscriptionRepository.getSubscriptionIdByPartialUuidAndEmail(partialUuid`email) : subscriptionRepository.getSubscriptionIdByPartialUuid(partialUuid);" is 216.,2917
exteso_alf.io,alfio.manager,TicketReservationManager,validateAndApplySubscriptionCode,Long Statement,The length of the statement "bindingResult.reject(ex instanceof SubscriptionUsageExceeded ? "subscription.max-usage-reached" : "subscription.max-usage-reached-per-event");" is 142.,2917
exteso_alf.io,alfio.manager,TicketReservationManager,applySubscriptionCode,Complex Method,Cyclomatic complexity of the method is 9,2974
exteso_alf.io,alfio.manager,TicketReservationManager,applySubscriptionCode,Long Statement,The length of the statement "if (!subscriptionRepository.isSubscriptionLinkedToEvent(eventId`subscription.getSubscriptionDescriptorId()`subscription.getOrganizationId())) {" is 143.,2974
exteso_alf.io,alfio.manager,TicketReservationManager,applySubscriptionCode,Long Statement,The length of the statement "log.warn("Attempt to use subscription {} - descriptor {} for event {}"`subscription.getId()`subscriptionDescriptor.getId()`eventId);" is 132.,2974
exteso_alf.io,alfio.manager,TicketReservationManager,applySubscriptionCode,Long Statement,The length of the statement "throw oncePerEvent ? new SubscriptionUsageExceededForEvent(limit`countExisting + 1) : new SubscriptionUsageExceeded(limit`countExisting + 1);" is 141.,2974
exteso_alf.io,alfio.manager,TicketReservationManager,applySubscriptionCode,Long Statement,The length of the statement "int count=ticketRepository.applySubscriptionToTicketsInReservation(reservation.getId()`subscriptionId`limit - countExisting);" is 125.,2974
exteso_alf.io,alfio.manager,TicketReservationManager,applySubscriptionCode,Long Statement,The length of the statement "log.trace("got exception while trying to apply SubscriptionID {} to ReservationID {}"`subscriptionId`reservation.getId());" is 122.,2974
exteso_alf.io,alfio.manager,TicketReservationManager,applySubscriptionCode,Long Statement,The length of the statement "ticketReservationRepository.updateBillingData(reservation.getVatStatus()`calculateSrcPrice(purchaseContext.getVatStatus()`totalPrice)`totalPrice.getPriceWithVAT()`totalPrice.getVAT()`Math.abs(totalPrice.getDiscount())`purchaseContext.getCurrency()`reservation.getVatNr()`reservation.getVatCountryCode()`reservation.isInvoiceRequested()`reservation.getId());" is 357.,2974
exteso_alf.io,alfio.manager,TicketReservationManager,validateAccessToReservation,Long Statement,The length of the statement "var currentUserOptional=Optional.ofNullable(principal).map(Principal::getName).flatMap(userRepository::findEnabledByUsername);" is 126.,3064
exteso_alf.io,alfio.manager,TicketReservationManager,validateAccessToReservation,Long Statement,The length of the statement "return currentUser.getId() == owner.getUserId() || userManager.isOwnerOfOrganization(currentUser`owner.getOrganizationId());" is 124.,3064
exteso_alf.io,alfio.manager,TicketReservationManager,findSubscriptionDetails,Long Statement,The length of the statement "return new SubscriptionWithUsageDetails(s`UsageDetails.fromSubscription(s`usageCount)`ticketReservationRepository.findConfirmedReservationsBySubscriptionId(s.getId()));" is 168.,3088
exteso_alf.io,alfio.manager,TicketReservationManager,retrieveAttendeeAdditionalInfoForTicket,Long Statement,The length of the statement "return ticketFieldRepository.findNameAndValue(ticket.getId()).stream().collect(groupingBy(FieldNameAndValue::getName`mapping(FieldNameAndValue::getValue`toList())));" is 165.,3100
exteso_alf.io,alfio.manager,SameCountryValidator,SameCountryValidator,Long Parameter List,The method has 5 parameters. ,41
exteso_alf.io,alfio.manager,SameCountryValidator,test,Long Statement,The length of the statement "log.warn("VAT checking is not enabled for organizationId {} or country not defined ({})"`purchaseContext.getOrganizationId()`organizerCountry);" is 143.,53
exteso_alf.io,alfio.manager,SameCountryValidator,test,Long Statement,The length of the statement "VatDetail detail=new VatDetail(vatNr`organizerCountry`true`""`""`validStrict ? VatDetail.Type.VIES : VatDetail.Type.FORMAL`false);" is 130.,53
exteso_alf.io,alfio.manager,GroupManager,GroupManager,Long Identifier,The length of the field requiresNewTransactionTemplate is 30.,63
exteso_alf.io,alfio.manager,GroupManager,GroupManager,Long Statement,The length of the statement "this.requiresNewTransactionTemplate=new TransactionTemplate(transactionManager`new DefaultTransactionDefinition(TransactionDefinition.PROPAGATION_REQUIRES_NEW));" is 161.,63
exteso_alf.io,alfio.manager,GroupManager,createNew,Long Identifier,The length of the field requiresNewTransactionTemplate is 30.,73
exteso_alf.io,alfio.manager,GroupManager,createLink,Long Statement,The length of the statement "Validate.isTrue(modification.getType() != LIMITED_QUANTITY || modification.getMaxAllocation() != null`"Missing max allocation");" is 128.,89
exteso_alf.io,alfio.manager,GroupManager,createLink,Long Statement,The length of the statement "AffectedRowCountAndKey<Integer> configuration=groupRepository.createConfiguration(groupId`eventId`modification.getTicketCategoryId()`modification.getType()`modification.getMatchType()`modification.getMaxAllocation());" is 217.,89
exteso_alf.io,alfio.manager,GroupManager,updateLink,Long Statement,The length of the statement "Validate.isTrue(groupRepository.countWhitelistedTicketsForConfiguration(original.getId()) == 0`"Cannot update as there are already confirmed tickets.");" is 152.,100
exteso_alf.io,alfio.manager,GroupManager,updateLink,Long Statement,The length of the statement "groupRepository.updateConfiguration(id`modification.getGroupId()`original.getEventId()`modification.getTicketCategoryId()`modification.getType()`modification.getMatchType()`modification.getMaxAllocation());" is 206.,100
exteso_alf.io,alfio.manager,GroupManager,requiresCleanState,Long Statement,The length of the statement "return (original.getType() == UNLIMITED && modification.getType() != UNLIMITED) || original.getGroupId() != modification.getGroupId() || (modification.getType() == LIMITED_QUANTITY && modification.getMaxAllocation() != null && original.getMaxAllocation() != null && modification.getMaxAllocation().compareTo(original.getMaxAllocation()) < 0);" is 342.,110
exteso_alf.io,alfio.manager,GroupManager,loadComplete,Long Statement,The length of the statement "List<GroupMemberModification> items=groupRepository.getItems(wl.getId()).stream().map(i -> new GroupMemberModification(i.getId()`i.getValue()`i.getDescription())).toList();" is 172.,130
exteso_alf.io,alfio.manager,GroupManager,insertMembers,Long Statement,The length of the statement "Map<String`List<GroupMemberModification>> grouped=members.stream().collect(Collectors.groupingBy(GroupMemberModification::getValue));" is 133.,165
exteso_alf.io,alfio.manager,GroupManager,insertMembers,Long Statement,The length of the statement "List<String> duplicates=grouped.entrySet().stream().filter(e -> e.getValue().size() > 1).map(Map.Entry::getKey).toList();" is 121.,165
exteso_alf.io,alfio.manager,GroupManager,insertMembers,Long Statement,The length of the statement "return new Result.Builder<Integer>().checkPrecondition(duplicates::isEmpty`ErrorCode.lazy(() -> ErrorCode.custom("value.duplicate"`duplicates.stream().limit(10).collect(Collectors.joining("` "))))).build(() -> Arrays.stream(groupRepository.insert(groupId`members)).sum());" is 272.,165
exteso_alf.io,alfio.manager,GroupManager,insertMembers,Magic Number,The method contains a magic number: 10,165
exteso_alf.io,alfio.manager,GroupManager,acquireMemberForTicket,Long Statement,The length of the statement "groupRepository.insertWhitelistedTicket(item.getId()`configuration.getId()`ticket.getId()`preventDuplication ? Boolean.TRUE : null);" is 132.,175
exteso_alf.io,alfio.manager,GroupManager,acquireMemberForTicket,Long Statement,The length of the statement "auditingRepository.insert(ticket.getTicketsReservationId()`null`ticket.getEventId()`Audit.EventType.GROUP_MEMBER_ACQUIRED`new Date()`Audit.EntityType.TICKET`String.valueOf(ticket.getId())`singletonList(modifications));" is 218.,175
exteso_alf.io,alfio.manager,GroupManager,getMatchingMember,Long Statement,The length of the statement "return partial.length() > 0 ? groupRepository.findItemEndsWith(configuration.getId()`configuration.getGroupId()`"%@" + partial) : Optional.empty();" is 147.,207
exteso_alf.io,alfio.manager,GroupManager,update,Long Statement,The length of the statement "List<GroupMemberModification> notPresent=modification.getItems().stream().filter(i -> i.getId() == null && !existingValues.contains(i.getValue().strip().toLowerCase())).distinct().toList();" is 189.,231
exteso_alf.io,alfio.manager,AdminReservationManager,AdminReservationManager,Long Identifier,The length of the parameter additionalServiceItemRepository is 31.,121
exteso_alf.io,alfio.manager,AdminReservationManager,AdminReservationManager,Long Identifier,The length of the field additionalServiceItemRepository is 31.,121
exteso_alf.io,alfio.manager,AdminReservationManager,AdminReservationManager,Long Parameter List,The method has 26 parameters. ,121
exteso_alf.io,alfio.manager,AdminReservationManager,confirmReservation,Long Parameter List,The method has 6 parameters. ,176
exteso_alf.io,alfio.manager,AdminReservationManager,confirmReservation,Long Statement,The length of the statement "Result<Triple<TicketReservation`List<Ticket>`PurchaseContext>> result=purchaseContextManager.findBy(purchaseContextType`eventName).map(purchaseContext -> ticketReservationRepository.findOptionalReservationById(reservationId).filter(r -> r.getStatus() == TicketReservationStatus.PENDING || r.getStatus() == TicketReservationStatus.STUCK).map(r -> performConfirmation(reservationId`purchaseContext`r`notification`username`subscriptionId)).orElseGet(() -> Result.error(ErrorCode.ReservationError.UPDATE_FAILED))).orElseGet(() -> Result.error(ErrorCode.ReservationError.NOT_FOUND));" is 578.,176
exteso_alf.io,alfio.manager,AdminReservationManager,confirmReservation,Long Statement,The length of the statement "log.debug("Reservation confirmation failed for eventName: {} reservationId: {}` username: {}"`eventName`reservationId`username);" is 128.,176
exteso_alf.io,alfio.manager,AdminReservationManager,confirmReservation,Long Statement,The length of the statement "log.error("Error during confirmation of reservation eventName: {} reservationId: {}` username: {}"`eventName`reservationId`username);" is 133.,176
exteso_alf.io,alfio.manager,AdminReservationManager,confirmReservation,Long Parameter List,The method has 5 parameters. ,204
exteso_alf.io,alfio.manager,AdminReservationManager,updateReservation,Long Parameter List,The method has 5 parameters. ,212
exteso_alf.io,alfio.manager,AdminReservationManager,updateReservation,Long Statement,The length of the statement "Result<Boolean> result=purchaseContextManager.findBy(purchaseContextType`publicIdentifier).map(event -> ticketReservationRepository.findOptionalReservationById(reservationId).map(r -> performUpdate(reservationId`event`r`adminReservationModification`username)).orElseGet(() -> Result.error(ErrorCode.ReservationError.UPDATE_FAILED))).orElseGet(() -> Result.error(ErrorCode.ReservationError.NOT_FOUND));" is 401.,212
exteso_alf.io,alfio.manager,AdminReservationManager,updateReservation,Long Statement,The length of the statement "log.debug("Application error detected eventName: {} reservationId: {}` username: {}` reservation: {}"`publicIdentifier`reservationId`username`AdminReservationModification.summary(adminReservationModification));" is 210.,212
exteso_alf.io,alfio.manager,AdminReservationManager,updateReservation,Long Statement,The length of the statement "log.error("Error during update of reservation eventName: {} reservationId: {}` username: {}` reservation: {}"`publicIdentifier`reservationId`username`AdminReservationModification.summary(adminReservationModification));" is 218.,212
exteso_alf.io,alfio.manager,AdminReservationManager,createReservation,Long Statement,The length of the statement "Result<Pair<TicketReservation`List<Ticket>>> result=eventRepository.findOptionalByShortNameForUpdate(eventName).map(e -> validateTickets(input`e)).map(r -> r.flatMap(p -> transactionalCreateReservation(p.getRight()`p.getLeft()`username))).orElse(Result.error(ErrorCode.EventError.NOT_FOUND));" is 292.,235
exteso_alf.io,alfio.manager,AdminReservationManager,createReservation,Long Statement,The length of the statement "log.warn("Error during update of reservation eventName: {}` username: {}` reservation: {}"`eventName`username`AdminReservationModification.summary(input));" is 155.,235
exteso_alf.io,alfio.manager,AdminReservationManager,createReservation,Long Statement,The length of the statement "log.error("Error during update of reservation eventName: {}` username: {}` reservation: {}"`eventName`username`AdminReservationModification.summary(input));" is 156.,235
exteso_alf.io,alfio.manager,AdminReservationManager,createReservation,Long Statement,The length of the statement "return Result.error(singletonList(ErrorCode.custom(e instanceof DuplicateReferenceException ? "duplicate-reference" : ""`e.getMessage())));" is 139.,235
exteso_alf.io,alfio.manager,AdminReservationManager,notify,Long Parameter List,The method has 5 parameters. ,272
exteso_alf.io,alfio.manager,AdminReservationManager,notify,Long Statement,The length of the statement "ticketReservationManager.sendConfirmationEmail(purchaseContext`reservation`LocaleUtil.forLanguageTag(reservation.getUserLanguage())`username);" is 142.,272
exteso_alf.io,alfio.manager,AdminReservationManager,getEventTicketReservationPair,Long Statement,The length of the statement "return purchaseContextManager.findBy(purchaseContextType`publicIdentifier).flatMap(ev -> ticketReservationRepository.findOptionalReservationById(reservationId).map(r -> Pair.of(ev`r)));" is 185.,290
exteso_alf.io,alfio.manager,AdminReservationManager,sendTicketToAttendees,Long Statement,The length of the statement "ticketReservationManager.sendTicketByEmail(t`locale`event`ticketReservationManager.getTicketEmailGenerator(event`reservation`locale`additionalInfo));" is 149.,295
exteso_alf.io,alfio.manager,AdminReservationManager,performUpdate,Long Identifier,The length of the identifier subscriptionDetailsModification is 31.,306
exteso_alf.io,alfio.manager,AdminReservationManager,performUpdate,Long Parameter List,The method has 5 parameters. ,306
exteso_alf.io,alfio.manager,AdminReservationManager,performUpdate,Long Statement,The length of the statement "billingDocumentManager.ensureBillingDocumentIsPresent(purchaseContext`r`username`() -> ticketReservationManager.orderSummaryForReservationId(reservationId`purchaseContext));" is 173.,306
exteso_alf.io,alfio.manager,AdminReservationManager,performUpdate,Long Statement,The length of the statement "ticketReservationRepository.updateValidity(reservationId`Date.from(arm.getExpiration().toZonedDateTime(purchaseContext.getZoneId()).toInstant()));" is 146.,306
exteso_alf.io,alfio.manager,AdminReservationManager,performUpdate,Long Statement,The length of the statement "ticketReservationRepository.updateTicketReservation(reservationId`r.getStatus().name()`customerData.getEmailAddress()`customerData.getFullName()`customerData.getFirstName()`customerData.getLastName()`customerData.getUserLanguage()`customerData.getBillingAddress()`r.getConfirmationTimestamp()`Optional.ofNullable(r.getPaymentMethod()).map(PaymentProxy::name).orElse(null)`customerData.getCustomerReference());" is 409.,306
exteso_alf.io,alfio.manager,AdminReservationManager,performUpdate,Long Statement,The length of the statement "ticketReservationRepository.updateBillingData(r.getVatStatus()`r.getSrcPriceCts()`r.getFinalPriceCts()`r.getVatCts()`r.getDiscountCts()`r.getCurrencyCode()`customerData.getVatNr()`customerData.getVatCountryCode()`r.isInvoiceRequested()`reservationId);" is 251.,306
exteso_alf.io,alfio.manager,AdminReservationManager,performUpdate,Long Statement,The length of the statement "ticketReservationRepository.updateInvoicingAdditionalInformation(reservationId`Json.toJson(arm.getCustomerData().getInvoicingAdditionalInfo()));" is 144.,306
exteso_alf.io,alfio.manager,AdminReservationManager,performUpdate,Long Statement,The length of the statement "newVatStatus=purchaseContext.getVatStatus() == PriceContainer.VatStatus.INCLUDED ? PriceContainer.VatStatus.INCLUDED_EXEMPT : PriceContainer.VatStatus.NOT_INCLUDED_EXEMPT;" is 171.,306
exteso_alf.io,alfio.manager,AdminReservationManager,performUpdate,Long Statement,The length of the statement "auditingRepository.insert(reservationId`userRepository.getByUsername(username).getId()`purchaseContext`Audit.EventType.FORCE_VAT_APPLICATION`new Date()`Audit.EntityType.RESERVATION`reservationId`singletonList(singletonMap("vatStatus"`newVatStatus)));" is 250.,306
exteso_alf.io,alfio.manager,AdminReservationManager,performUpdate,Long Statement,The length of the statement "ticketReservationRepository.resetVat(reservationId`r.isInvoiceRequested()`newVatStatus`r.getSrcPriceCts()`newPrice.getPriceWithVAT()`newPrice.getVAT()`Math.abs(newPrice.getDiscount())`r.getCurrencyCode());" is 205.,306
exteso_alf.io,alfio.manager,AdminReservationManager,performUpdate,Long Statement,The length of the statement "arm.getTicketsInfo().stream().filter(TicketsInfo::isUpdateAttendees).flatMap(ti -> ti.getAttendees().stream()).forEach(a -> {" is 125.,306
exteso_alf.io,alfio.manager,AdminReservationManager,performUpdate,Long Statement,The length of the statement "auditingRepository.insert(reservationId`userId`purchaseContext`UPDATE_TICKET`d`TICKET`Integer.toString(a.getTicketId())`singletonList(modifications));" is 150.,306
exteso_alf.io,alfio.manager,AdminReservationManager,performUpdate,Long Statement,The length of the statement "subscriptionRepository.updateSubscription(subscription.getId()`firstNonBlank(subscriptionDetailsModification.getFirstName()`subscription.getFirstName())`firstNonBlank(subscriptionDetailsModification.getLastName()`subscription.getLastName())`firstNonBlank(subscriptionDetailsModification.getEmail()`subscription.getEmail())`requireNonNullElse(subscriptionDetailsModification.getMaxAllowed()`subscription.getMaxEntries())`subscriptionDetailsModification.getValidityFrom() != null ? subscriptionDetailsModification.getValidityFrom().toZonedDateTime(subscription.getZoneId()) : null`subscriptionDetailsModification.getValidityTo() != null ? subscriptionDetailsModification.getValidityTo().toZonedDateTime(subscription.getZoneId()) : null);" is 735.,306
exteso_alf.io,alfio.manager,AdminReservationManager,loadReservation,Long Statement,The length of the statement "return purchaseContextManager.findBy(purchaseContextType`publicIdentifier).map(r -> loadReservation(reservationId)).orElseGet(() -> Result.error(ErrorCode.ReservationError.NOT_FOUND));" is 184.,379
exteso_alf.io,alfio.manager,AdminReservationManager,loadFullTicketInfo,Long Statement,The length of the statement "return purchaseContextManager.findBy(PurchaseContextType.event`eventShortName).flatMap(event -> ticketRepository.findOptionalByUUID(ticketUUID).filter(ticket -> reservationId.equals(ticket.getTicketsReservationId())).map(ticket -> Pair.of((Event)event`ticket)));" is 262.,396
exteso_alf.io,alfio.manager,AdminReservationManager,loadReservation,Long Statement,The length of the statement "return ticketReservationRepository.findOptionalReservationById(reservationId).map(r -> Triple.of(r`ticketRepository.findTicketsInReservation(reservationId)`purchaseContextManager.findByReservationId(reservationId).orElseThrow())).map(Result::success).orElseGet(() -> Result.error(ErrorCode.ReservationError.NOT_FOUND));" is 319.,405
exteso_alf.io,alfio.manager,AdminReservationManager,performConfirmation,Long Parameter List,The method has 6 parameters. ,412
exteso_alf.io,alfio.manager,AdminReservationManager,performConfirmation,Long Statement,The length of the statement "boolean result=ticketReservationManager.validateAndApplySubscriptionCode(purchaseContext`reservation`Optional.of(subscriptionId)`subscriptionId.toString()`subscriptionDetails.getEmail()`bindingResult);" is 201.,412
exteso_alf.io,alfio.manager,AdminReservationManager,performConfirmation,Long Statement,The length of the statement "var message=bindingResult.getGlobalErrors().stream().findFirst().map(DefaultMessageSourceResolvable::getCode).orElse("Unknown error");" is 134.,412
exteso_alf.io,alfio.manager,AdminReservationManager,performConfirmation,Long Statement,The length of the statement "log.warn("Unable to apply subscription {}: {}"`subscriptionId`bindingResult.getAllErrors().stream().map(ObjectError::getCode).collect(joining("` ")));" is 150.,412
exteso_alf.io,alfio.manager,AdminReservationManager,performConfirmation,Long Statement,The length of the statement "return Result.error(ErrorCode.custom(message`String.format("Cannot assign subscription %s to Reservation %s"`subscriptionId`reservationId)));" is 141.,412
exteso_alf.io,alfio.manager,AdminReservationManager,performConfirmation,Long Statement,The length of the statement "PaymentSpecification spec=new PaymentSpecification(reservationId`null`reservation.getFinalPriceCts()`purchaseContext`reservation.getEmail()`new CustomerName(reservation.getFullName()`reservation.getFirstName()`reservation.getLastName()`purchaseContext.mustUseFirstAndLastName())`reservation.getBillingAddress()`reservation.getCustomerReference()`LocaleUtil.forLanguageTag(reservation.getUserLanguage())`false`false`null`reservation.getVatCountryCode()`reservation.getVatNr()`reservation.getVatStatus()`false`false);" is 515.,412
exteso_alf.io,alfio.manager,AdminReservationManager,performConfirmation,Long Statement,The length of the statement "ticketReservationManager.completeReservation(spec`PaymentProxy.ADMIN`notification.isCustomer()`notification.isAttendees()`username);" is 132.,412
exteso_alf.io,alfio.manager,AdminReservationManager,validateTickets,Long Statement,The length of the statement "Set<String> keys=input.getTicketsInfo().stream().flatMap(ti -> ti.getAttendees().stream()).flatMap(a -> a.getAdditionalInfo().keySet().stream()).map(String::toLowerCase).collect(toSet());" is 187.,478
exteso_alf.io,alfio.manager,AdminReservationManager,validateTickets,Long Statement,The length of the statement "return Result.error(keys.stream().filter(k -> !existing.contains(k)).map(k -> ErrorCode.custom("error.notfound." + k`k + " not found")).collect(toList()));" is 155.,478
exteso_alf.io,alfio.manager,AdminReservationManager,transactionalCreateReservation,Long Statement,The length of the statement ").map(e -> processReservation(input`username`e)).orElseGet(() -> Result.error(singletonList(ErrorCode.EventError.NOT_FOUND)));" is 126.,500
exteso_alf.io,alfio.manager,AdminReservationManager,processReservation,Long Statement,The length of the statement "return input.getTicketsInfo().stream().map(ti -> checkCategoryCapacity(ti`event`input`username)).reduce((r1`r2) -> reduceResults(r1`r2`this::joinData)).map(r -> createReservation(r`event`input)).orElseGet(() -> Result.error(singletonList(ErrorCode.custom(""`"something went wrong..."))));" is 288.,508
exteso_alf.io,alfio.manager,AdminReservationManager,createReservation,Long Statement,The length of the statement "ticketReservationRepository.createNewReservation(reservationId`event.now(clockProvider)`validity`null`arm.getLanguage()`event.getId()`event.getVat()`event.isVatIncluded()`event.getCurrency()`event.getOrganizationId()`null);" is 223.,523
exteso_alf.io,alfio.manager,AdminReservationManager,createReservation,Long Statement,The length of the statement "ticketReservationRepository.updateTicketReservation(reservationId`TicketReservationStatus.PENDING.name()`customerData.getEmailAddress()`customerData.getFullName()`customerData.getFirstName()`customerData.getLastName()`arm.getLanguage()`customerData.getBillingAddress()`null`null`customerData.getCustomerReference());" is 316.,523
exteso_alf.io,alfio.manager,AdminReservationManager,createReservation,Long Statement,The length of the statement "Result<List<Ticket>> result=flattenTicketsInfo(event`empty`t).map(pair -> reserveForTicketsInfo(event`arm`reservationId`pair)).reduce(this::reduceReservationResults).orElseGet(() -> Result.error(ErrorCode.custom(""`"unknown error")));" is 234.,523
exteso_alf.io,alfio.manager,AdminReservationManager,reserveForTicketsInfo,Long Statement,The length of the statement "List<Integer> reservedForUpdate=ticketReservationManager.reserveTickets(event.getId()`categoryId`attendees.size()`singletonList(Ticket.TicketStatus.FREE));" is 155.,544
exteso_alf.io,alfio.manager,AdminReservationManager,reserveForTicketsInfo,Long Statement,The length of the statement "ticketRepository.reserveTickets(reservationId`reservedForUpdate`category`arm.getLanguage()`event.getVatStatus()`i -> null);" is 123.,544
exteso_alf.io,alfio.manager,AdminReservationManager,reserveForTicketsInfo,Long Statement,The length of the statement "ticketRepository.updateTicketPrice(reservedForUpdate`categoryId`event.getId()`category.getSrcPriceCts()`unitToCents(priceContainer.getFinalPrice()`currencyCode)`unitToCents(priceContainer.getVAT()`currencyCode)`unitToCents(priceContainer.getAppliedDiscount()`currencyCode)`currencyCode`priceContainer.getVatStatus());" is 317.,544
exteso_alf.io,alfio.manager,AdminReservationManager,reserveForTicketsInfo,Long Statement,The length of the statement "List<SpecialPrice> codes=category.isAccessRestricted() ? bindSpecialPriceTokens(categoryId`attendees) : Collections.emptyList();" is 128.,544
exteso_alf.io,alfio.manager,AdminReservationManager,reserveForTicketsInfo,Long Statement,The length of the statement "assignTickets(event`attendees`categoryId`reservedForUpdate`codes`reservationId`arm.getLanguage()`category.getSrcPriceCts());" is 124.,544
exteso_alf.io,alfio.manager,AdminReservationManager,flattenTicketsInfo,Long Statement,The length of the statement "return new TicketsInfo(ti1.getCategory()`attendees`ti1.isAddSeatsIfNotAvailable() && ti2.isAddSeatsIfNotAvailable()`ti1.isUpdateAttendees() && ti2.isUpdateAttendees());" is 168.,598
exteso_alf.io,alfio.manager,AdminReservationManager,assignTickets,Long Parameter List,The method has 8 parameters. ,623
exteso_alf.io,alfio.manager,AdminReservationManager,assignTickets,Long Statement,The length of the statement "Optional<Iterator<SpecialPrice>> specialPriceIterator=Optional.of(codes).filter(c -> !c.isEmpty()).map(Collection::iterator);" is 125.,623
exteso_alf.io,alfio.manager,AdminReservationManager,assignTickets,Long Statement,The length of the statement "ticketRepository.updateTicketOwnerById(ticketId`attendee.getEmailAddress()`attendee.getFullName()`attendee.getFirstName()`attendee.getLastName());" is 146.,623
exteso_alf.io,alfio.manager,AdminReservationManager,assignTickets,Long Statement,The length of the statement "specialPriceIterator.map(Iterator::next).ifPresent(code -> ticketRepository.reserveTicket(reservationId`ticketId`code.getId()`userLanguage`srcPriceCts`event.getCurrency()`event.getVatStatus()`null));" is 199.,623
exteso_alf.io,alfio.manager,AdminReservationManager,updateExtRefAndLocking,Long Statement,The length of the statement "ticketRepository.updateExternalReferenceAndLocking(ticketId`categoryId`StringUtils.trimToNull(attendee.getReference())`attendee.isReassignmentForbidden());" is 155.,650
exteso_alf.io,alfio.manager,AdminReservationManager,checkCategoryCapacity,Long Statement,The length of the statement "Result<TicketCategory> ticketCategoryResult=ti.getCategory().isExisting() ? checkExistingCategory(ti`event`username) : createCategory(ti`event`reservation`username);" is 165.,659
exteso_alf.io,alfio.manager,AdminReservationManager,checkCategoryCapacity,Long Statement,The length of the statement "return ticketCategoryResult.map(tc -> List.of(new TicketsInfo(new Category(tc.getId()`tc.getName()`tc.getPrice()`tc.getTicketAccessType())`ti.getAttendees()`ti.isAddSeatsIfNotAvailable()`ti.isUpdateAttendees())));" is 213.,659
exteso_alf.io,alfio.manager,AdminReservationManager,createCategory,Long Statement,The length of the statement "var accessType=event.getFormat() != Event.EventFormat.HYBRID ? TicketCategory.TicketAccessType.INHERIT : Objects.requireNonNull(category.getTicketAccessType());" is 160.,665
exteso_alf.io,alfio.manager,AdminReservationManager,createCategory,Long Statement,The length of the statement "TicketCategoryModification tcm=new TicketCategoryModification(category.getExistingCategoryId()`category.getName()`accessType`tickets`inception`reservation.getExpiration()`Collections.emptyMap()`category.getPrice()`true`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty());" is 287.,665
exteso_alf.io,alfio.manager,AdminReservationManager,createCategory,Long Statement,The length of the statement "return eventManager.insertCategory(modified`tcm`username).map(id -> ticketCategoryRepository.getByIdAndActive(id`event.getId()));" is 129.,665
exteso_alf.io,alfio.manager,AdminReservationManager,increaseSeatsIfNeeded,Long Statement,The length of the statement "eventRepository.updateAvailableSeats(event.getId()`eventRepository.countExistingTickets(event.getId()) + missingTickets);" is 121.,682
exteso_alf.io,alfio.manager,AdminReservationManager,checkExistingCategory,Long Statement,The length of the statement "TicketCategoryModification tcm=new TicketCategoryModification(existingCategoryId`existing.getName()`existing.getTicketAccessType()`maxTickets`fromZonedDateTime(existing.getInception(modified.getZoneId()))`fromZonedDateTime(existing.getExpiration(event.getZoneId()))`Collections.emptyMap()`existing.getPrice()`existing.isAccessRestricted()`""`true`existing.getCode()`fromZonedDateTime(existing.getValidCheckInFrom(modified.getZoneId()))`fromZonedDateTime(existing.getValidCheckInTo(modified.getZoneId()))`fromZonedDateTime(existing.getTicketValidityStart(modified.getZoneId()))`fromZonedDateTime(existing.getTicketValidityEnd(modified.getZoneId()))`0`existing.getTicketCheckInStrategy()`null`AlfioMetadata.empty());" is 714.,697
exteso_alf.io,alfio.manager,AdminReservationManager,createMissingTickets,Long Statement,The length of the statement "final MapSqlParameterSource[] params=generateEmptyTickets(event`Date.from(event.now(clockProvider).toInstant())`tickets`Ticket.TicketStatus.FREE).toArray(MapSqlParameterSource[]::new);" is 184.,723
exteso_alf.io,alfio.manager,AdminReservationManager,removeTickets,Long Identifier,The length of the field additionalServiceItemRepository is 31.,728
exteso_alf.io,alfio.manager,AdminReservationManager,removeTickets,Long Parameter List,The method has 7 parameters. ,728
exteso_alf.io,alfio.manager,AdminReservationManager,removeTickets,Long Statement,The length of the statement "Assert.isTrue(ticketIdsInReservation.containsAll(toRefund)`"Some ticket ids to refund are not contained in the reservation");" is 125.,728
exteso_alf.io,alfio.manager,AdminReservationManager,removeTickets,Long Statement,The length of the statement "additionalServiceItemRepository.updateItemsStatusWithReservationUUID(reservation.getId()`AdditionalServiceItem.AdditionalServiceItemStatus.CANCELLED);" is 150.,728
exteso_alf.io,alfio.manager,AdminReservationManager,removeTickets,Long Statement,The length of the statement "var discount=reservation.getPromoCodeDiscountId() != null ? promoCodeDiscountRepository.findById(reservation.getPromoCodeDiscountId()) : null;" is 142.,728
exteso_alf.io,alfio.manager,AdminReservationManager,removeTickets,Long Statement,The length of the statement "var calculator=new ReservationPriceCalculator(reservation`discount`updatedTickets`additionalServiceItems`additionalServiceRepository.loadAllForEvent(e.getId())`e`List.of()`Optional.empty());" is 190.,728
exteso_alf.io,alfio.manager,AdminReservationManager,removeTickets,Long Statement,The length of the statement "ticketReservationRepository.updateBillingData(calculator.getVatStatus()`calculator.getSrcPriceCts()`unitToCents(calculator.getFinalPrice()`currencyCode)`unitToCents(calculator.getVAT()`currencyCode)`unitToCents(calculator.getAppliedDiscount()`currencyCode)`calculator.getCurrencyCode()`reservation.getVatNr()`reservation.getVatCountryCode()`reservation.isInvoiceRequested()`reservationId);" is 389.,728
exteso_alf.io,alfio.manager,AdminReservationManager,getSingleBillingDocumentAsPdf,Long Parameter List,The method has 5 parameters. ,778
exteso_alf.io,alfio.manager,AdminReservationManager,getSingleBillingDocumentAsPdf,Long Statement,The length of the statement "BillingDocument billingDocument=billingDocumentRepository.findByIdAndReservationId(documentId`reservationId).orElseThrow(IllegalArgumentException::new);" is 152.,778
exteso_alf.io,alfio.manager,AdminReservationManager,getSingleBillingDocumentAsPdf,Long Statement,The length of the statement "Function<Map<String`Object>`Optional<byte[]>> pdfGenerator=model -> TemplateProcessor.buildBillingDocumentPdf(billingDocument.getType()`res.getRight()`fileUploadManager`LocaleUtil.forLanguageTag(res.getLeft().getUserLanguage())`templateManager`model`extensionManager);" is 268.,778
exteso_alf.io,alfio.manager,AdminReservationManager,invalidateBillingDocument,Long Statement,The length of the statement "return updateBillingDocumentStatus(reservationId`documentId`username`BillingDocument.Status.NOT_VALID`Audit.EventType.BILLING_DOCUMENT_INVALIDATED);" is 148.,790
exteso_alf.io,alfio.manager,AdminReservationManager,restoreBillingDocument,Long Statement,The length of the statement "return updateBillingDocumentStatus(reservationId`documentId`username`BillingDocument.Status.VALID`Audit.EventType.BILLING_DOCUMENT_RESTORED);" is 141.,795
exteso_alf.io,alfio.manager,AdminReservationManager,updateBillingDocumentStatus,Long Parameter List,The method has 5 parameters. ,800
exteso_alf.io,alfio.manager,AdminReservationManager,updateBillingDocumentStatus,Long Statement,The length of the statement "auditingRepository.insert(reservationId`userId`res.getRight()`eventType`new Date()`RESERVATION`String.valueOf(documentId));" is 123.,800
exteso_alf.io,alfio.manager,AdminReservationManager,removeReservation,Long Identifier,The length of the field ERROR_CANNOT_CANCEL_CHECKED_IN_TICKETS is 38.,816
exteso_alf.io,alfio.manager,AdminReservationManager,removeReservation,Long Parameter List,The method has 7 parameters. ,816
exteso_alf.io,alfio.manager,AdminReservationManager,removeReservation,Long Statement,The length of the statement "return loadReservation(purchaseContextType`eventName`reservationId`username).flatMap(result -> new Result.Builder<Pair<PurchaseContext`TicketReservation>>().checkPrecondition(() -> ticketsStatusIsCompatibleWithCancellation(result.getMiddle())`ERROR_CANNOT_CANCEL_CHECKED_IN_TICKETS).buildAndEvaluate(() -> {" is 307.,816
exteso_alf.io,alfio.manager,AdminReservationManager,creditReservation,Long Parameter List,The method has 6 parameters. ,846
exteso_alf.io,alfio.manager,AdminReservationManager,creditReservation,Long Statement,The length of the statement "loadReservation(purchaseContextType`publicIdentifier`reservationId`username).flatMap(res -> removeReservation(res`refund`notify`username`false`true));" is 150.,846
exteso_alf.io,alfio.manager,AdminReservationManager,removeReservation,Long Identifier,The length of the field ERROR_CANNOT_CANCEL_CHECKED_IN_TICKETS is 38.,851
exteso_alf.io,alfio.manager,AdminReservationManager,removeReservation,Long Identifier,The length of the field additionalServiceItemRepository is 31.,851
exteso_alf.io,alfio.manager,AdminReservationManager,removeReservation,Long Parameter List,The method has 6 parameters. ,851
exteso_alf.io,alfio.manager,AdminReservationManager,removeReservation,Long Statement,The length of the statement "return new Result.Builder<Triple<TicketReservation`List<Ticket>`PurchaseContext>>().checkPrecondition(() -> ticketsStatusIsCompatibleWithCancellation(triple.getMiddle())`ERROR_CANNOT_CANCEL_CHECKED_IN_TICKETS).buildAndEvaluate(() -> {" is 234.,851
exteso_alf.io,alfio.manager,AdminReservationManager,removeReservation,Long Statement,The length of the statement "removeTicketsFromReservation(reservation`(Event)purchaseContext`tickets.stream().map(Ticket::getId).collect(toList())`notify`username`removeReservation`issueCreditNote);" is 169.,851
exteso_alf.io,alfio.manager,AdminReservationManager,removeReservation,Long Statement,The length of the statement "additionalServiceItemRepository.updateItemsStatusWithReservationUUID(reservation.getId()`AdditionalServiceItem.AdditionalServiceItemStatus.CANCELLED);" is 150.,851
exteso_alf.io,alfio.manager,AdminReservationManager,refundIfRequested,Complex Conditional,The conditional expression requested && reservation.getPaymentMethod() != null && reservation.getPaymentMethod().isSupportRefund() is complex.,880
exteso_alf.io,alfio.manager,AdminReservationManager,refund,Long Parameter List,The method has 5 parameters. ,895
exteso_alf.io,alfio.manager,AdminReservationManager,refund,Long Statement,The length of the statement "return reservation.getPaymentMethod() != null && reservation.getPaymentMethod().isSupportRefund() && paymentManager.refund(reservation`purchaseContext`unitToCents(refundAmount`reservation.getCurrencyCode())`username);" is 217.,895
exteso_alf.io,alfio.manager,AdminReservationManager,regenerateBillingDocument,Long Statement,The length of the statement "var billingDocument=billingDocumentManager.createBillingDocument(event`reservation`username`ticketReservationManager.orderSummaryForReservation(reservation`event));" is 164.,909
exteso_alf.io,alfio.manager,AdminReservationManager,regenerateBillingDocument,Long Statement,The length of the statement "billingDocumentRepository.invalidateAllPreviousDocumentsOfType(billingDocument.getType()`billingDocument.getId()`reservationId);" is 128.,909
exteso_alf.io,alfio.manager,AdminReservationManager,getEmailsForReservation,Long Statement,The length of the statement "return loadReservation(purchaseContextType`publicIdentifier`reservationId`username).map(res -> notificationManager.loadAllMessagesForReservationId(res.getRight()`reservationId));" is 178.,923
exteso_alf.io,alfio.manager,AdminReservationManager,removeTicketsFromReservation,Complex Conditional,The conditional expression !ticketIds.isEmpty() && issueCreditNote && reservation.getHasInvoiceNumber() is complex.,929
exteso_alf.io,alfio.manager,AdminReservationManager,removeTicketsFromReservation,Long Parameter List,The method has 7 parameters. ,929
exteso_alf.io,alfio.manager,AdminReservationManager,removeTicketsFromReservation,Long Statement,The length of the statement "billingDocumentManager.ensureBillingDocumentIsPresent(purchaseContext`reservation`username`() -> ticketReservationManager.orderSummaryForReservation(reservation`purchaseContext));" is 179.,929
exteso_alf.io,alfio.manager,AdminReservationManager,removeTicketsFromReservation,Long Statement,The length of the statement "ticketIds.forEach(id -> auditingRepository.insert(reservationId`userId`purchaseContext.getId()`CANCEL_TICKET`date`TICKET`id.toString()));" is 137.,929
exteso_alf.io,alfio.manager,AdminReservationManager,sendTicketHasBeenRemoved,Long Statement,The length of the statement "notificationManager.sendSimpleEmail(event`ticket.getTicketsReservationId()`ticket.getEmail()`messageSourceManager.getMessageSourceFor(event).getMessage("email-ticket-released.subject"`new Object[]{event.getDisplayName()}`locale)`() -> templateManager.renderTemplate(event`TemplateResource.TICKET_HAS_BEEN_CANCELLED`model`locale));" is 330.,973
exteso_alf.io,alfio.manager,AdminReservationManager,markAsCancelled,Long Statement,The length of the statement "ticketReservationRepository.updateReservationStatus(ticketReservation.getId()`TicketReservationStatus.CANCELLED.toString());" is 124.,982
exteso_alf.io,alfio.manager,AdminReservationManager,markAsCancelled,Long Statement,The length of the statement "auditingRepository.insert(ticketReservation.getId()`userRepository.nullSafeFindIdByUserName(username).orElse(null)`purchaseContext`Audit.EventType.CANCEL_RESERVATION`new Date()`Audit.EntityType.RESERVATION`ticketReservation.getId());" is 233.,982
exteso_alf.io,alfio.manager,AdminReservationManager,handleTicketsRefund,Long Parameter List,The method has 5 parameters. ,988
exteso_alf.io,alfio.manager,SpecialPriceTokenGenerator,generateCode,Long Statement,The length of the statement "TicketCategory ticketCategory=ticketCategoryRepository.getByIdAndActive(specialPrice.getTicketCategoryId()).orElseThrow(IllegalStateException::new);" is 148.,92
exteso_alf.io,alfio.manager,SpecialPriceTokenGenerator,generateCode,Long Statement,The length of the statement "int maxLength=configurationManager.getFor(ConfigurationKeys.SPECIAL_PRICE_CODE_LENGTH`ConfigurationLevel.ticketCategory(event`ticketCategory.getId())).getValueAsIntOrDefault(6);" is 177.,92
exteso_alf.io,alfio.manager,SpecialPriceTokenGenerator,generateCode,Magic Number,The method contains a magic number: 6,92
exteso_alf.io,alfio.manager,PaymentManager,PaymentManager,Long Parameter List,The method has 6 parameters. ,58
exteso_alf.io,alfio.manager,PaymentManager,lookupProviderByTransactionAndCapabilities,Long Statement,The length of the statement "return paymentProviders.stream().filter(filterByCapabilities(capabilities)).filter(paymentProvider -> paymentProvider.accept(transaction)).findFirst();" is 151.,72
exteso_alf.io,alfio.manager,PaymentManager,lookupProviderByMethodAndCapabilities,Long Statement,The length of the statement "return compatibleStream(paymentMethod`context`transactionRequest).filter(p -> Objects.requireNonNull(capabilities).stream().allMatch(c -> c.isInstance(p))).findFirst();" is 168.,79
exteso_alf.io,alfio.manager,PaymentManager,validateSelection,Long Statement,The length of the statement "Map<PaymentMethod`Set<PaymentProxy>> proxiesByMethod=paymentProxies.stream().flatMap(proxy -> streamActiveProvidersByProxy(proxy`paymentContext)).map(provider -> Pair.of(provider.getPaymentProxy()`provider.getSupportedPaymentMethods(paymentContext`TransactionRequest.empty()))).flatMap(pair -> pair.getValue().stream().map(pm -> Pair.of(pm`pair.getKey()))).collect(Collectors.groupingBy(Pair::getKey`Collectors.mapping(Pair::getValue`Collectors.toSet())));" is 456.,91
exteso_alf.io,alfio.manager,PaymentManager,streamActiveProvidersByProxyAndCapabilities,Long Statement,The length of the statement "return paymentProviders.stream().filter(pp -> pp.getPaymentProxy() == paymentProxy && pp.isActive(paymentContext)).filter(filterByCapabilities(capabilities));" is 158.,112
exteso_alf.io,alfio.manager,PaymentManager,getPaymentMethods,Long Statement,The length of the statement "String blacklist=configurationManager.getFor(ConfigurationKeys.PAYMENT_METHODS_BLACKLIST`context.getConfigurationLevel()).getValueOrDefault("");" is 144.,129
exteso_alf.io,alfio.manager,PaymentManager,getPaymentMethods,Long Statement,The length of the statement "var proxies=Optional.ofNullable(context.getPurchaseContext()).map(PurchaseContext::getAllowedPaymentProxies).orElseGet(PaymentProxy::availableProxies);" is 151.,129
exteso_alf.io,alfio.manager,PaymentManager,getPaymentMethods,Long Statement,The length of the statement "return proxies.stream().filter(p -> !blacklist.contains(p.getKey())).map(proxy -> Pair.of(proxy`paymentMethodsByProxy(context`transactionRequest`proxy))).flatMap(pair -> pair.getRight().stream().map(pm -> new PaymentMethodDTO(pair.getLeft()`pm`PaymentMethodDTO.PaymentMethodStatus.ACTIVE))).toList();" is 300.,129
exteso_alf.io,alfio.manager,PaymentManager,paymentMethodsByProxy,Long Statement,The length of the statement "return paymentProviders.stream().filter(pp -> pp.getPaymentProxy() == proxy).flatMap(pp -> pp.getSupportedPaymentMethods(context`transactionRequest).stream()).collect(Collectors.toSet());" is 187.,139
exteso_alf.io,alfio.manager,PaymentManager,getPaymentMethods,Long Statement,The length of the statement "return getPaymentMethods(new PaymentContext(null`ConfigurationLevel.organization(organizationId))`TransactionRequest.empty());" is 126.,150
exteso_alf.io,alfio.manager,PaymentManager,refund,Long Statement,The length of the statement "boolean res=lookupProviderByTransactionAndCapabilities(transaction`List.of(RefundRequest.class)).map(paymentProvider -> ((RefundRequest)paymentProvider).refund(transaction`purchaseContext`amount)).orElse(false);" is 211.,154
exteso_alf.io,alfio.manager,PaymentManager,refund,Long Statement,The length of the statement "Map<String`Object> changes=Map.of("refund"`amount != null ? amount.toString() : "full"`"paymentMethod"`reservation.getPaymentMethod().toString());" is 146.,154
exteso_alf.io,alfio.manager,PaymentManager,refund,Long Statement,The length of the statement "auditingRepository.insert(reservation.getId()`userRepository.findIdByUserName(username).orElse(null)`purchaseContext`Audit.EventType.REFUND`new Date()`Audit.EntityType.RESERVATION`reservation.getId()`Collections.singletonList(changes));" is 236.,154
exteso_alf.io,alfio.manager,PaymentManager,refund,Long Statement,The length of the statement "auditingRepository.insert(reservation.getId()`userRepository.findIdByUserName(username).orElse(null)`purchaseContext`Audit.EventType.REFUND_ATTEMPT_FAILED`new Date()`Audit.EntityType.RESERVATION`reservation.getId()`Collections.singletonList(changes));" is 251.,154
exteso_alf.io,alfio.manager,PaymentManager,getInfo,Long Statement,The length of the statement "Optional<TransactionAndPaymentInfo> maybeTransaction=transactionRepository.loadOptionalByReservationId(reservation.getId()).map(transaction -> internalGetInfo(reservation`purchaseContext`transaction));" is 201.,181
exteso_alf.io,alfio.manager,PaymentManager,getInfo,Long Statement,The length of the statement "transactionRepository.updateFees(transactionId`reservation.getId()`safeParseLong(paymentInformation.getPlatformFee())`safeParseLong(paymentInformation.getFee()));" is 162.,181
exteso_alf.io,alfio.manager,PaymentManager,getInfo,Long Statement,The length of the statement "return maybeTransaction.orElseGet(() -> new TransactionAndPaymentInfo(reservation.getPaymentMethod()`null`new PaymentInformation(reservation.getPaidAmount()`null`null`null)));" is 175.,181
exteso_alf.io,alfio.manager,PaymentManager,feesUpdated,Long Statement,The length of the statement "return transaction.getPlatformFee() != safeParseLong(paymentInformation.getPlatformFee()) || transaction.getGatewayFee() != safeParseLong(paymentInformation.getFee());" is 167.,199
exteso_alf.io,alfio.manager,PaymentManager,internalGetInfo,Long Statement,The length of the statement "return new TransactionAndPaymentInfo(reservation.getPaymentMethod()`transaction`new PaymentInformation(reservation.getPaidAmount()`null`String.valueOf(transaction.getGatewayFee())`String.valueOf(transaction.getPlatformFee())));" is 227.,204
exteso_alf.io,alfio.manager,PaymentManager,loadModelOptionsFor,Long Statement,The length of the statement "return activePaymentMethods.stream().flatMap(pp -> getProviderOptions(context`pp)).collect(Collectors.toMap(Map.Entry::getKey`Map.Entry::getValue));" is 148.,227
exteso_alf.io,alfio.manager,PaymentManager,getProviderOptions,Long Statement,The length of the statement "return streamActiveProvidersByProxy(pp`context).flatMap(it -> it.getModelOptions(context).entrySet().stream().filter(kv -> kv.getValue() != null));" is 147.,234
exteso_alf.io,alfio.manager,PaymentManager,buildPaymentToken,Long Statement,The length of the statement "return streamActiveProvidersByProxyAndCapabilities(proxy`context`List.of(ClientServerTokenRequest.class)).map(ClientServerTokenRequest.class::cast).map(pp -> pp.buildPaymentToken(gatewayToken`context)).findFirst().orElse(null);" is 227.,239
exteso_alf.io,alfio.manager,PaymentManager,getTransactionStatus,Long Statement,The length of the statement "return transactionRepository.loadOptionalByReservationId(reservation.getId()).filter(transaction -> transaction.getPaymentProxy().getPaymentMethod() == paymentMethod).map(transaction -> {" is 187.,247
exteso_alf.io,alfio.manager,PaymentManager,getPaymentToken,Long Statement,The length of the statement "return transactionRepository.loadOptionalByReservationId(reservationId).filter(t -> t.getStatus() == Transaction.Status.PENDING).flatMap(t -> {" is 143.,259
exteso_alf.io,alfio.manager,PaymentManager,getPaymentToken,Long Statement,The length of the statement "return lookupProviderByTransactionAndCapabilities(t`List.of(ExtractPaymentTokenFromTransaction.class)).map(ExtractPaymentTokenFromTransaction.class::cast).flatMap(paymentProvider -> paymentProvider.extractToken(t));" is 215.,259
exteso_alf.io,alfio.manager,PaymentManager,removePaymentTokenReservation,Long Statement,The length of the statement "return transactionRepository.loadOptionalByReservationId(reservationId).filter(t -> t.getStatus() == Transaction.Status.PENDING).map(t -> {" is 139.,272
exteso_alf.io,alfio.manager,DemoModeDataManager,DemoModeDataManager,Long Parameter List,The method has 6 parameters. ,52
exteso_alf.io,alfio.manager,DemoModeDataManager,cleanupForDemoMode,Long Statement,The length of the statement "int expirationDate=configurationManager.getForSystem(ConfigurationKeys.DEMO_MODE_ACCOUNT_EXPIRATION_DAYS).getValueAsIntOrDefault(20);" is 133.,83
exteso_alf.io,alfio.manager,DemoModeDataManager,cleanupForDemoMode,Magic Number,The method contains a magic number: 20,83
exteso_alf.io,alfio.manager,PollManager,PollManager,Long Parameter List,The method has 6 parameters. ,54
exteso_alf.io,alfio.manager,PollManager,getActiveForEvent,Long Statement,The length of the statement "return validatePinAndEvent(pin`eventName).flatMap(eventAndTicket -> Result.success(pollRepository.findActiveForEvent(eventAndTicket.getLeft().getId())));" is 153.,68
exteso_alf.io,alfio.manager,PollManager,registerAnswer,Long Statement,The length of the statement "Validate.isTrue(pollRepository.registerAnswer(pollId`optionId`ticket.getId()`event.getOrganizationId()) == 1`"Unexpected error while inserting answer");" is 152.,85
exteso_alf.io,alfio.manager,PollManager,getSingleForEvent,Long Statement,The length of the statement "return eventRepository.findOptionalEventAndOrganizationIdByShortName(eventName).flatMap(event -> getSingleForEvent(pollId`event));" is 130.,110
exteso_alf.io,alfio.manager,PollManager,getSingleForEvent,Long Statement,The length of the statement "return pollRepository.findSingleForEvent(event.getId()`Objects.requireNonNull(pollId)).map(poll -> new PollWithOptions(poll`pollRepository.getOptionsForPoll(pollId)));" is 167.,115
exteso_alf.io,alfio.manager,PollManager,createNewPoll,Long Statement,The length of the statement "var pollKey=pollRepository.insert(form.getTitle()`requireNonNullElse(form.getDescription()`Map.of())`tags`form.getOrder()`event.getId()`event.getOrganizationId());" is 163.,120
exteso_alf.io,alfio.manager,PollManager,updatePoll,Long Statement,The length of the statement "Validate.isTrue(pollRepository.update(form.getTitle()`form.getDescription()`tags`form.getOrder()`pollId`event.getId()) == 1);" is 125.,148
exteso_alf.io,alfio.manager,PollManager,searchTicketsToAllow,Long Statement,The length of the statement "return eventRepository.findOptionalEventAndOrganizationIdByShortName(eventName).flatMap(event -> pollRepository.findSingleForEvent(event.getId()`pollId).map(p -> ticketSearchRepository.filterConfirmedTicketsInEventForPoll(event.getId()`20`"%" + filter + "%"`p.getAllowedTags())));" is 280.,185
exteso_alf.io,alfio.manager,PollManager,searchTicketsToAllow,Magic Number,The method contains a magic number: 20,185
exteso_alf.io,alfio.manager,PollManager,getStatisticsFor,Long Statement,The length of the statement "return eventRepository.findOptionalEventAndOrganizationIdByShortName(eventName).flatMap(event -> pollRepository.findSingleForEvent(event.getId()`pollId).map(p -> {" is 163.,238
exteso_alf.io,alfio.manager,PollManager,getStatisticsFor,Long Statement,The length of the statement "allowedParticipants=ticketRepository.countTicketsMatchingTagsAndStatus(event.getId()`p.getAllowedTags()`List.of(Ticket.TicketStatus.CHECKED_IN.name()));" is 152.,238
exteso_alf.io,alfio.manager,PollManager,getStatisticsFor,Long Statement,The length of the statement "return new PollStatistics(statistics.stream().mapToInt(PollOptionStatistics::getVotes).sum()`allowedParticipants`statistics);" is 125.,238
exteso_alf.io,alfio.manager,PollManager,insertOptions,Long Statement,The length of the statement "pollRepository.insertOption(pollId`option.getTitle()`requireNonNullElse(option.getDescription()`Map.of())`event.getOrganizationId());" is 133.,253
exteso_alf.io,alfio.manager,PollManager,insertOptions,Long Statement,The length of the statement "var parameterSources=options.stream().map(option -> new MapSqlParameterSource("pollId"`pollId).addValue("title"`Json.toJson(requireNonNullElse(option.getTitle()`Map.of()))).addValue("description"`Json.toJson(requireNonNullElse(option.getDescription()`Map.of()))).addValue("organizationId"`event.getOrganizationId())).toArray(MapSqlParameterSource[]::new);" is 355.,253
exteso_alf.io,alfio.manager,PollManager,updateOptions,Long Statement,The length of the statement "var parameterSources=existingOptions.stream().map(option -> new MapSqlParameterSource("pollId"`pollId).addValue("title"`Json.toJson(requireNonNullElse(option.getTitle()`Map.of()))).addValue("description"`Json.toJson(requireNonNullElse(option.getDescription()`Map.of()))).addValue("id"`option.getId())).toArray(MapSqlParameterSource[]::new);" is 340.,272
exteso_alf.io,alfio.manager,PollManager,validatePinAndEvent,Long Statement,The length of the statement "return new Result.Builder<EventAndOrganizationId>().checkPrecondition(eventOptional::isPresent`ErrorCode.EventError.NOT_FOUND).checkPrecondition(() -> PinGenerator.isPinValid(pin)`ErrorCode.custom("pin.invalid"`"")).build(eventOptional::get).flatMap(event -> {" is 260.,283
exteso_alf.io,alfio.manager,PollManager,validatePinAndEvent,Long Statement,The length of the statement "var tickets=ticketRepository.findByEventIdAndPartialUUIDForUpdate(event.getId()`partialUuid + "%"`Ticket.TicketStatus.CHECKED_IN);" is 130.,283
exteso_alf.io,alfio.manager,PurchaseContextSearchManager,findAllReservationsFor,Long Statement,The length of the statement "List<String> toFilter=(status == null || status.isEmpty() ? Arrays.asList(TicketReservation.TicketReservationStatus.values()) : status).stream().map(TicketReservation.TicketReservationStatus::toString).collect(toList());" is 220.,44
exteso_alf.io,alfio.manager,PurchaseContextSearchManager,findAllReservationsFor,Long Statement,The length of the statement "List<TicketReservation> reservationsForEvent=ticketSearchRepository.findReservationsForEvent(event.getId()`offset`pageSize`toSearch`toFilter);" is 142.,44
exteso_alf.io,alfio.manager,PurchaseContextSearchManager,findAllReservationsFor,Long Statement,The length of the statement "List<TicketReservation> reservationsForSubscription=ticketSearchRepository.findReservationsForSubscription(subscription.getId()`offset`pageSize`toSearch`toFilter);" is 163.,44
exteso_alf.io,alfio.manager,PurchaseContextSearchManager,findAllReservationsFor,Long Statement,The length of the statement "return Pair.of(reservationsForSubscription`ticketSearchRepository.countReservationsForSubscription(subscription.getId()`toSearch`toFilter));" is 140.,44
exteso_alf.io,alfio.manager,PurchaseContextSearchManager,findAllReservationsFor,Magic Number,The method contains a magic number: 50,44
exteso_alf.io,alfio.manager,PromoCodeRequestManager,PromoCodeRequestManager,Long Parameter List,The method has 7 parameters. ,64
exteso_alf.io,alfio.manager,PromoCodeRequestManager,createReservationFromPromoCode,Long Parameter List,The method has 6 parameters. ,84
exteso_alf.io,alfio.manager,PromoCodeRequestManager,checkCode,Long Statement,The length of the statement "return new ValidatedResponse<>(ValidationResult.failed(new ValidationResult.ErrorDescriptor("eventName"`"Event not found."))`null);" is 131.,133
exteso_alf.io,alfio.manager,PromoCodeRequestManager,checkCode,Long Statement,The length of the statement "return new ValidatedResponse<>(ValidationResult.failed(new ValidationResult.ErrorDescriptor("promoCode"`ErrorsCode.STEP_1_CODE_NOT_FOUND`ErrorsCode.STEP_1_CODE_NOT_FOUND))`null);" is 178.,133
exteso_alf.io,alfio.manager,PromoCodeRequestManager,checkCode,Complex Conditional,The conditional expression !pcd.isCurrentlyValid(eventZoneId`now) || isDiscountCodeUsageExceeded(pcd) || (pcd.hasCurrencyCode() && !pcd.getCurrencyCode().equals(event.getCurrency())) is complex.,148
exteso_alf.io,alfio.manager,PromoCodeRequestManager,checkCode,Long Statement,The length of the statement "Optional<PromoCodeDiscount> promotionCodeDiscount=maybeSpecialCode.flatMap(trimmedCode -> promoCodeRepository.findPublicPromoCodeInEventOrOrganization(event.getId()`trimmedCode));" is 179.,148
exteso_alf.io,alfio.manager,PromoCodeRequestManager,checkCode,Long Statement,The length of the statement "var errorResponse=new ValidatedResponse<>(ValidationResult.failed(new ValidationResult.ErrorDescriptor("promoCode"`ErrorsCode.STEP_1_CODE_NOT_FOUND`ErrorsCode.STEP_1_CODE_NOT_FOUND))`result);" is 191.,148
exteso_alf.io,alfio.manager,PromoCodeRequestManager,checkCode,Long Statement,The length of the statement "if (!pcd.isCurrentlyValid(eventZoneId`now) || isDiscountCodeUsageExceeded(pcd) || (pcd.hasCurrencyCode() && !pcd.getCurrencyCode().equals(event.getCurrency()))) {" is 162.,148
exteso_alf.io,alfio.manager,PromoCodeRequestManager,isDiscountCodeUsageExceeded,Long Statement,The length of the statement "return discount.getMaxUsage() != null && discount.getMaxUsage() <= promoCodeRepository.countConfirmedPromoCode(discount.getId()`categoriesOrNull(discount)`null`categoriesOrNull(discount) != null ? "X" : null);" is 209.,197
exteso_alf.io,alfio.manager,PromoCodeRequestManager,makeSimpleReservation,Long Parameter List,The method has 6 parameters. ,201
exteso_alf.io,alfio.manager,PromoCodeRequestManager,makeSimpleReservation,Long Statement,The length of the statement "return Pair.of(createTicketReservation(form`bindingRes`event`locale`promoCodeDiscount.map(PromoCodeDiscount::getPromoCode)`principal)`bindingRes);" is 146.,201
exteso_alf.io,alfio.manager,PromoCodeRequestManager,createTicketReservation,Long Parameter List,The method has 6 parameters. ,219
exteso_alf.io,alfio.manager,PromoCodeRequestManager,createTicketReservation,Long Statement,The length of the statement "return ReservationUtil.validateCreateRequest(reservation`bindingResult`ticketReservationManager`eventManager`promoCodeDiscount.orElse(null)`event).flatMap(selected -> ticketReservationManager.createTicketReservation(event`selected.getLeft()`selected.getRight()`promoCodeDiscount`locale`bindingResult`principal));" is 312.,219
exteso_alf.io,alfio.manager,EventNameManager,generateShortName,Long Statement,The length of the statement "String cleanDisplayName=StringUtils.stripAccents(StringUtils.normalizeSpace(displayName)).toLowerCase(Locale.ENGLISH).replaceAll(FIND_EVIL_CHARACTERS`"-");" is 155.,53
exteso_alf.io,alfio.manager,EventNameManager,generateRandomName,Long Statement,The length of the statement "return IntStream.range(0`5).mapToObj(i -> RANDOM_STRING_GENERATOR.generate(15)).filter(this::isUnique).limit(1).findFirst().orElse("");" is 135.,80
exteso_alf.io,alfio.manager,EventNameManager,generateRandomName,Magic Number,The method contains a magic number: 5,80
exteso_alf.io,alfio.manager,EventNameManager,generateRandomName,Magic Number,The method contains a magic number: 15,80
exteso_alf.io,alfio.manager,EventNameManager,getCroppedName,Long Statement,The length of the statement "String candidate=Arrays.stream(cleanDisplayName.split(SPACES_AND_PUNCTUATION)).map(w -> Pair.of(NUMBER_MATCHER.matcher(w).matches()`w)).map(p -> Boolean.TRUE.equals(p.getKey()) ? p.getValue() : StringUtils.left(p.getValue()`1)).collect(Collectors.joining());" is 258.,89
exteso_alf.io,alfio.manager,EventNameManager,getDashedName,Magic Number,The method contains a magic number: 15,100
exteso_alf.io,alfio.manager,BillingDocumentManager,BillingDocumentManager,Long Parameter List,The method has 12 parameters. ,77
exteso_alf.io,alfio.manager,BillingDocumentManager,mustGenerateBillingDocument,Long Statement,The length of the statement "return !summary.getFree() && (!summary.getNotYetPaid() || (summary.getWaitingForPayment() && ticketReservation.isInvoiceRequested()));" is 134.,112
exteso_alf.io,alfio.manager,BillingDocumentManager,generateBillingDocumentAttachment,Long Parameter List,The method has 6 parameters. ,116
exteso_alf.io,alfio.manager,BillingDocumentManager,generateBillingDocumentAttachment,Long Statement,The length of the statement "model.put("reservationEmailModel"`json.asJsonString(getOrCreateBillingDocument(purchaseContext`ticketReservation`username`orderSummary).getModel()));" is 149.,116
exteso_alf.io,alfio.manager,BillingDocumentManager,createBillingDocument,Long Statement,The length of the statement "return createBillingDocument(purchaseContext`reservation`username`reservation.getHasInvoiceNumber() ? INVOICE : RECEIPT`orderSummary);" is 134.,148
exteso_alf.io,alfio.manager,BillingDocumentManager,createBillingDocument,Long Parameter List,The method has 5 parameters. ,153
exteso_alf.io,alfio.manager,BillingDocumentManager,createBillingDocument,Long Statement,The length of the statement "AffectedRowCountAndKey<Long> doc=billingDocumentRepository.insert(eventId`reservation.getId()`number`type`json.asJsonString(model)`purchaseContext.now(clockProvider)`purchaseContext.getOrganizationId());" is 203.,153
exteso_alf.io,alfio.manager,BillingDocumentManager,createBillingDocument,Long Statement,The length of the statement "auditingRepository.insert(reservation.getId()`userRepository.nullSafeFindIdByUserName(username).orElse(null)`purchaseContext`Audit.EventType.BILLING_DOCUMENT_GENERATED`new Date()`Audit.EntityType.RESERVATION`reservation.getId()`singletonList(singletonMap("documentId"`doc.getKey())));" is 284.,153
exteso_alf.io,alfio.manager,BillingDocumentManager,createBillingDocument,Long Statement,The length of the statement "return billingDocumentRepository.findByIdAndReservationId(doc.getKey()`reservation.getId()).orElseThrow(IllegalStateException::new);" is 132.,153
exteso_alf.io,alfio.manager,BillingDocumentManager,generateInvoiceNumber,Complex Conditional,The conditional expression !reservationCost.requiresPayment() || !spec.isInvoiceRequested() || !configurationManager.hasAllConfigurationsForInvoice(spec.getPurchaseContext()) is complex.,180
exteso_alf.io,alfio.manager,BillingDocumentManager,generateInvoiceNumber,Long Statement,The length of the statement "if (!reservationCost.requiresPayment() || !spec.isInvoiceRequested() || !configurationManager.hasAllConfigurationsForInvoice(spec.getPurchaseContext())) {" is 154.,180
exteso_alf.io,alfio.manager,BillingDocumentManager,generateInvoiceNumber,Long Statement,The length of the statement "var optionalInvoiceNumber=extensionManager.handleInvoiceGeneration(spec`reservationCost`billingDetails`Map.of("organization"`organizationRepository.getById(spec.getPurchaseContext().getOrganizationId()))).flatMap(invoiceGeneration -> Optional.ofNullable(trimToNull(invoiceGeneration.getInvoiceNumber())));" is 305.,180
exteso_alf.io,alfio.manager,BillingDocumentManager,generateInvoiceNumber,Long Statement,The length of the statement "auditingRepository.insert(reservationId`null`spec.getPurchaseContext()`EXTERNAL_INVOICE_NUMBER`new Date()`RESERVATION`reservationId`modifications);" is 147.,180
exteso_alf.io,alfio.manager,BillingDocumentManager,generateCreditNoteNumber,Long Statement,The length of the statement "return extensionManager.handleCreditNoteGeneration(purchaseContext`reservation.getId()`reservation.getInvoiceNumber()`organizationRepository.getById(purchaseContext.getOrganizationId())).map(cng -> {" is 199.,203
exteso_alf.io,alfio.manager,BillingDocumentManager,generateCreditNoteNumber,Long Statement,The length of the statement "auditingRepository.insert(reservationId`null`purchaseContext`EXTERNAL_CREDIT_NOTE_NUMBER`new Date()`RESERVATION`reservationId`List.of(Map.of(CREDIT_NOTE_NUMBER`creditNoteNumber)));" is 180.,203
exteso_alf.io,alfio.manager,BillingDocumentManager,generateCreditNoteNumber,Long Statement,The length of the statement "if (configurationManager.getFor(REUSE_INVOICE_NUMBER_FOR_CREDIT_NOTE`purchaseContext.getConfigurationLevel()).getValueAsBooleanOrDefault()) {" is 141.,203
exteso_alf.io,alfio.manager,BillingDocumentManager,generateCreditNoteNumber,Long Statement,The length of the statement "int creditNoteSequence=invoiceSequencesRepository.lockSequenceForUpdate(purchaseContext.getOrganizationId()`CREDIT_NOTE);" is 121.,203
exteso_alf.io,alfio.manager,BillingDocumentManager,formatDocumentNumber,Long Statement,The length of the statement "String pattern=configurationManager.getFor(ConfigurationKeys.INVOICE_NUMBER_PATTERN`purchaseContext.getConfigurationLevel()).getValueOrDefault("%d");" is 149.,223
exteso_alf.io,alfio.manager,BillingDocumentManager,prepareModelForBillingDocument,Long Statement,The length of the statement "var bankingInfo=configurationManager.getFor(Set.of(VAT_NR`INVOICE_ADDRESS`BANK_ACCOUNT_NR`BANK_ACCOUNT_OWNER)`purchaseContext.getConfigurationLevel());" is 151.,230
exteso_alf.io,alfio.manager,BillingDocumentManager,prepareModelForBillingDocument,Long Statement,The length of the statement "Map<Integer`List<Ticket>> ticketsByCategory=ticketRepository.findTicketsInReservation(reservation.getId()).stream().collect(groupingBy(Ticket::getCategoryId));" is 159.,230
exteso_alf.io,alfio.manager,BillingDocumentManager,prepareModelForBillingDocument,Long Statement,The length of the statement "ticketsWithCategory=ticketCategoryRepository.findByIds(ticketsByCategory.keySet()).stream().flatMap(tc -> ticketsByCategory.get(tc.getId()).stream().map(t -> new TicketWithCategory(t`tc))).toList();" is 198.,230
exteso_alf.io,alfio.manager,BillingDocumentManager,prepareModelForBillingDocument,Long Statement,The length of the statement "Map<String`Object> model=TemplateResource.prepareModelForConfirmationEmail(organization`purchaseContext`reservation`vat`ticketsWithCategory`summary`""`""`reservationShortId`invoiceAddress`bankAccountNr`bankAccountOwner`Map.of());" is 229.,230
exteso_alf.io,alfio.manager,BillingDocumentManager,prepareModelForBillingDocument,Long Statement,The length of the statement "boolean euBusiness=StringUtils.isNotBlank(reservation.getVatCountryCode()) && StringUtils.isNotBlank(reservation.getVatNr()) && configurationManager.getForSystem(ConfigurationKeys.EU_COUNTRIES_LIST).getRequiredValue().contains(reservation.getVatCountryCode())&& PriceContainer.VatStatus.isVatExempt(reservation.getVatStatus());" is 327.,230
exteso_alf.io,alfio.manager,ReverseChargeManager,ReverseChargeManager,Long Identifier,The length of the parameter additionalServiceItemRepository is 31.,59
exteso_alf.io,alfio.manager,ReverseChargeManager,ReverseChargeManager,Long Identifier,The length of the field additionalServiceItemRepository is 31.,59
exteso_alf.io,alfio.manager,ReverseChargeManager,ReverseChargeManager,Long Parameter List,The method has 11 parameters. ,59
exteso_alf.io,alfio.manager,ReverseChargeManager,checkAndApplyVATRules,Complex Conditional,The conditional expression EuVatChecker.reverseChargeEnabled(reverseChargeConfiguration) && (country == null || isEUCountry(country)) is complex.,84
exteso_alf.io,alfio.manager,ReverseChargeManager,checkAndApplyVATRules,Complex Conditional,The conditional expression purchaseContext.ofType(PurchaseContext.PurchaseContextType.event) && (!reverseChargeInPerson || !reverseChargeOnline) is complex.,84
exteso_alf.io,alfio.manager,ReverseChargeManager,checkAndApplyVATRules,Complex Conditional,The conditional expression !isEvent || (reverseChargeOnline && reverseChargeInPerson) is complex.,84
exteso_alf.io,alfio.manager,ReverseChargeManager,checkAndApplyVATRules,Complex Method,Cyclomatic complexity of the method is 8,84
exteso_alf.io,alfio.manager,ReverseChargeManager,checkAndApplyVATRules,Long Statement,The length of the statement "var reverseChargeConfiguration=EuVatChecker.loadConfigurationForReverseChargeCheck(configurationManager`purchaseContext);" is 121.,84
exteso_alf.io,alfio.manager,ReverseChargeManager,checkAndApplyVATRules,Long Statement,The length of the statement "boolean reverseChargeInPerson=!isEvent || reverseChargeConfiguration.get(ENABLE_REVERSE_CHARGE_IN_PERSON).getValueAsBooleanOrDefault();" is 135.,84
exteso_alf.io,alfio.manager,ReverseChargeManager,checkAndApplyVATRules,Long Statement,The length of the statement "boolean reverseChargeOnline=!isEvent || reverseChargeConfiguration.get(ENABLE_REVERSE_CHARGE_ONLINE).getValueAsBooleanOrDefault();" is 130.,84
exteso_alf.io,alfio.manager,ReverseChargeManager,checkAndApplyVATRules,Long Statement,The length of the statement "List<TicketCategory> categoriesList=optionalReservation.filter(res -> isEvent).map(res -> ticketCategoryRepository.findCategoriesInReservation(res.getId())).orElse(List.of());" is 175.,84
exteso_alf.io,alfio.manager,ReverseChargeManager,checkAndApplyVATRules,Long Statement,The length of the statement "if (purchaseContext.ofType(PurchaseContext.PurchaseContextType.event) && (!reverseChargeInPerson || !reverseChargeOnline)) {" is 124.,84
exteso_alf.io,alfio.manager,ReverseChargeManager,checkAndApplyVATRules,Long Statement,The length of the statement "return categoriesList.stream().anyMatch(findReverseChargeCategory(reverseChargeInPerson`reverseChargeOnline`eventFormat));" is 122.,84
exteso_alf.io,alfio.manager,ReverseChargeManager,checkAndApplyVATRules,Long Statement,The length of the statement ").filter(e -> vatChecker.isReverseChargeEnabledFor(purchaseContext)).flatMap(e -> vatChecker.checkVat(contactAndTicketsForm.getVatNr()`country`purchaseContext));" is 161.,84
exteso_alf.io,alfio.manager,ReverseChargeManager,checkAndApplyVATRules,Long Statement,The length of the statement "var discount=reservation.getPromoCodeDiscountId() != null ? promoCodeDiscountRepository.findById(reservation.getPromoCodeDiscountId()) : null;" is 142.,84
exteso_alf.io,alfio.manager,ReverseChargeManager,checkAndApplyVATRules,Long Statement,The length of the statement "updateBillingData(reservationId`contactAndTicketsForm`purchaseContext`country`trimToNull(vatValidation.getVatNr())`reservation`vatStatus);" is 138.,84
exteso_alf.io,alfio.manager,ReverseChargeManager,checkAndApplyVATRules,Long Statement,The length of the statement "var matchingCategories=mapPriceContainersByCategoryId(categoriesList`findReverseChargeCategory(reverseChargeInPerson`reverseChargeOnline`eventFormat)`currencyCode`vatStatus`discount`event);" is 189.,84
exteso_alf.io,alfio.manager,ReverseChargeManager,checkAndApplyVATRules,Long Statement,The length of the statement "updateBillingData(reservationId`contactAndTicketsForm`purchaseContext`country`trimToNull(vatValidation.getVatNr())`reservation`reservation.getVatStatus());" is 155.,84
exteso_alf.io,alfio.manager,ReverseChargeManager,checkAndApplyVATRules,Long Statement,The length of the statement "updateBillingData(reservationId`contactAndTicketsForm`purchaseContext`country`trimToNull(contactAndTicketsForm.getVatNr())`reservation`vatStatus);" is 146.,84
exteso_alf.io,alfio.manager,ReverseChargeManager,resetVat,Long Statement,The length of the statement "var discount=reservation.getPromoCodeDiscountId() != null ? promoCodeDiscountRepository.findById(reservation.getPromoCodeDiscountId()) : null;" is 142.,175
exteso_alf.io,alfio.manager,ReverseChargeManager,resetVat,Long Statement,The length of the statement "var priceContainers=mapPriceContainersByCategoryId(categoriesList`(a) -> true`reservation.getCurrencyCode()`reservation.getVatStatus()`discount`event);" is 151.,175
exteso_alf.io,alfio.manager,ReverseChargeManager,resetVat,Long Statement,The length of the statement "updateTicketPricesByCategory(reservationId`reservation.getCurrencyCode()`reservation.getVatStatus()`event`priceContainers);" is 123.,175
exteso_alf.io,alfio.manager,ReverseChargeManager,mapPriceContainersByCategoryId,Long Parameter List,The method has 6 parameters. ,193
exteso_alf.io,alfio.manager,ReverseChargeManager,mapPriceContainersByCategoryId,Long Statement,The length of the statement "return categoriesList.stream().filter(filter).map(c -> new TicketCategoryPriceContainer(c.getId()`c.getSrcPriceCts()`currencyCode`event.getVat()`vatStatus`discount)).collect(toMap(o -> o.categoryId`Function.identity()));" is 220.,193
exteso_alf.io,alfio.manager,ReverseChargeManager,updateTicketPricesByCategory,Long Parameter List,The method has 5 parameters. ,205
exteso_alf.io,alfio.manager,ReverseChargeManager,updateTicketPricesByCategory,Long Statement,The length of the statement "return new MapSqlParameterSource().addValue("reservationId"`reservationId).addValue("categoryId"`entry.getKey()).addValue("eventId"`event.getId()).addValue("srcPriceCts"`value.getSrcPriceCts()).addValue("finalPriceCts"`value.getFinalPriceCts()).addValue("vatCts"`value.getVatCts()).addValue("discountCts"`value.getDiscountCts()).addValue("currencyCode"`currencyCode).addValue("vatStatus"`vatStatus.name());" is 406.,205
exteso_alf.io,alfio.manager,ReverseChargeManager,findReverseChargeCategory,Long Statement,The length of the statement "return tc.getTicketAccessType() == TicketCategory.TicketAccessType.IN_PERSON ? reverseChargeInPerson : reverseChargeOnline;" is 123.,228
exteso_alf.io,alfio.manager,ReverseChargeManager,updateBillingData,Long Identifier,The length of the field additionalServiceItemRepository is 31.,238
exteso_alf.io,alfio.manager,ReverseChargeManager,updateBillingData,Long Parameter List,The method has 7 parameters. ,238
exteso_alf.io,alfio.manager,ReverseChargeManager,updateBillingData,Long Statement,The length of the statement "var discount=reservation.getPromoCodeDiscountId() != null ? promoCodeDiscountRepository.findById(reservation.getPromoCodeDiscountId()) : null;" is 142.,238
exteso_alf.io,alfio.manager,ReverseChargeManager,updateBillingData,Long Statement,The length of the statement "var additionalServices=purchaseContext.event().map(event -> additionalServiceRepository.loadAllForEvent(event.getId())).orElse(List.of());" is 138.,238
exteso_alf.io,alfio.manager,ReverseChargeManager,updateBillingData,Long Statement,The length of the statement "var calculator=new ReservationPriceCalculator(reservation.withVatStatus(vatStatus)`discount`tickets`additionalServiceItems`additionalServices`purchaseContext`subscriptions`appliedSubscription);" is 193.,238
exteso_alf.io,alfio.manager,ReverseChargeManager,updateBillingData,Long Statement,The length of the statement "ticketReservationRepository.updateBillingData(vatStatus`reservation.getSrcPriceCts()`unitToCents(calculator.getFinalPrice()`currencyCode)`unitToCents(calculator.getVAT()`currencyCode)`unitToCents(calculator.getAppliedDiscount()`currencyCode)`reservation.getCurrencyCode()`vatNr`country`contactAndTicketsForm.isInvoiceRequested()`reservationId);" is 344.,238
exteso_alf.io,alfio.manager,OrganizationDeleter,OrganizationDeleter,Long Parameter List,The method has 5 parameters. ,45
exteso_alf.io,alfio.manager,NotificationManager,NotificationManager,Long Identifier,The length of the parameter additionalServiceItemRepository is 31.,90
exteso_alf.io,alfio.manager,NotificationManager,NotificationManager,Long Parameter List,The method has 19 parameters. ,90
exteso_alf.io,alfio.manager,NotificationManager,NotificationManager,Long Statement,The length of the statement "attachmentTransformer.put(Mailer.AttachmentIdentifier.CALENDAR_ICS`generateICS(eventRepository`eventDescriptionRepository`ticketCategoryRepository`organizationRepository`messageSourceManager`configurationManager));" is 214.,90
exteso_alf.io,alfio.manager,NotificationManager,NotificationManager,Long Statement,The length of the statement "attachmentTransformer.put(Mailer.AttachmentIdentifier.RECEIPT_PDF`receiptOrInvoiceFactory(purchaseContextManager`eventRepository`payload -> TemplateProcessor.buildReceiptPdf(payload.getLeft()`fileUploadManager`payload.getMiddle()`templateManager`payload.getRight()`extensionManager)));" is 285.,90
exteso_alf.io,alfio.manager,NotificationManager,NotificationManager,Long Statement,The length of the statement "attachmentTransformer.put(Mailer.AttachmentIdentifier.INVOICE_PDF`receiptOrInvoiceFactory(purchaseContextManager`eventRepository`payload -> TemplateProcessor.buildInvoicePdf(payload.getLeft()`fileUploadManager`payload.getMiddle()`templateManager`payload.getRight()`extensionManager)));" is 285.,90
exteso_alf.io,alfio.manager,NotificationManager,NotificationManager,Long Statement,The length of the statement "attachmentTransformer.put(Mailer.AttachmentIdentifier.CREDIT_NOTE_PDF`receiptOrInvoiceFactory(purchaseContextManager`eventRepository`payload -> TemplateProcessor.buildCreditNotePdf(payload.getLeft()`fileUploadManager`payload.getMiddle()`templateManager`payload.getRight()`extensionManager)));" is 292.,90
exteso_alf.io,alfio.manager,NotificationManager,NotificationManager,Long Statement,The length of the statement "Function<Ticket`List<TicketFieldConfigurationDescriptionAndValue>> retrieveFieldValues=EventUtil.retrieveFieldValues(ticketRepository`ticketFieldRepository`additionalServiceItemRepository);" is 189.,90
exteso_alf.io,alfio.manager,NotificationManager,NotificationManager,Long Statement,The length of the statement "attachmentTransformer.put(Mailer.AttachmentIdentifier.TICKET_PDF`generateTicketPDF(eventRepository`organizationRepository`configurationManager`fileUploadManager`templateManager`ticketReservationRepository`retrieveFieldValues`extensionManager`ticketRepository));" is 261.,90
exteso_alf.io,alfio.manager,NotificationManager,generateTicketPDF,Long Parameter List,The method has 9 parameters. ,135
exteso_alf.io,alfio.manager,NotificationManager,generateTicketPDF,Long Statement,The length of the statement "TemplateProcessor.renderPDFTicket(LocaleUtil.forLanguageTag(ticket.getUserLanguage())`event`reservation`ticketWithMetadata`ticketCategory`organization`templateManager`fileUploadManager`configurationManager.getShortReservationID(event`reservation)`baos`retrieveFieldValues`extensionManager);" is 290.,135
exteso_alf.io,alfio.manager,NotificationManager,generateTicketPDF,Magic Number,The method contains a magic number: 10,135
exteso_alf.io,alfio.manager,NotificationManager,generateICS,Long Parameter List,The method has 6 parameters. ,163
exteso_alf.io,alfio.manager,NotificationManager,generateICS,Long Statement,The length of the statement "String description=eventDescriptionRepository.findDescriptionByEventIdTypeAndLocale(event.getId()`EventDescription.EventDescriptionType.DESCRIPTION`locale.getLanguage()).orElse("");" is 181.,163
exteso_alf.io,alfio.manager,NotificationManager,generateICS,Long Statement,The length of the statement "if (model.containsKey("onlineCheckInUrl") && configurationManager.getFor(INCLUDE_CHECK_IN_URL_ICAL`event.getConfigurationLevel()).getValueAsBooleanOrDefault()) {" is 161.,163
exteso_alf.io,alfio.manager,NotificationManager,generateICS,Magic Number,The method contains a magic number: 10,163
exteso_alf.io,alfio.manager,NotificationManager,buildOnlineCheckInInformation,Long Statement,The length of the statement "body=requireNonNullElseGet(model.get(CUSTOM_CHECK_IN_URL_TEXT)`() -> messageSource.getMessage("email.event.online.check-in"`null`locale)) + "\n" + model.get(ONLINE_CHECK_IN_URL)+ "\n"+ model.getOrDefault(CUSTOM_CHECK_IN_URL_DESCRIPTION`"")+ "\n";" is 246.,199
exteso_alf.io,alfio.manager,NotificationManager,buildOnlineCheckInInformation,Long Statement,The length of the statement "body=messageSource.getMessage("email.event.online.check-in"`null`locale) + "\n" + model.get(ONLINE_CHECK_IN_URL)+ "\n \n";" is 122.,199
exteso_alf.io,alfio.manager,NotificationManager,buildOnlineCheckInInformation,Long Statement,The length of the statement "return "\n******************************************\n" + messageSource.getMessage("event.location.online"`null`locale) + "\n\n"+ messageSource.getMessage("email.event.online.important-information"`null`locale)+ "\n\n"+ body+ "\n"+ MustacheCustomTag.renderToTextCommonmark(model.getOrDefault("prerequisites"`""));" is 313.,199
exteso_alf.io,alfio.manager,NotificationManager,receiptOrInvoiceFactory,Long Statement,The length of the statement "@SuppressWarnings("unchecked") var purchaseContextModel=(Map<String`String>)reservationEmailModel.get("purchaseContext");" is 121.,226
exteso_alf.io,alfio.manager,NotificationManager,receiptOrInvoiceFactory,Long Statement,The length of the statement "purchaseContext=purchaseContextManager.findBy(purchaseContextType`purchaseContextModel.get("publicIdentifier")).orElseThrow();" is 126.,226
exteso_alf.io,alfio.manager,NotificationManager,receiptOrInvoiceFactory,Magic Number,The method contains a magic number: 10,226
exteso_alf.io,alfio.manager,NotificationManager,sendTicketByEmail,Long Parameter List,The method has 7 parameters. ,253
exteso_alf.io,alfio.manager,NotificationManager,sendTicketByEmail,Long Statement,The length of the statement "String subject=messageSourceManager.getMessageSourceFor(event).getMessage("ticket-email-subject"`new Object[]{displayName}`locale);" is 131.,253
exteso_alf.io,alfio.manager,NotificationManager,sendTicketByEmail,Long Statement,The length of the statement "emailMessageRepository.findIdByEventIdAndChecksum(event.getId()`checksum).ifPresentOrElse(id -> emailMessageRepository.updateStatusToWaitingWithHtml(id`renderedTemplate.getHtmlPart())`() -> emailMessageRepository.insert(event.getId()`null`reservation.getId()`recipient`null`subject`renderedTemplate.getTextPart()`renderedTemplate.getHtmlPart()`encodedAttachments`checksum`ZonedDateTime.now(clockProvider.getClock())`event.getOrganizationId()));" is 444.,253
exteso_alf.io,alfio.manager,NotificationManager,sendSimpleEmail,Long Parameter List,The method has 6 parameters. ,298
exteso_alf.io,alfio.manager,NotificationManager,getCCForEventOrganizer,Long Statement,The length of the statement "var systemNotificationCC=configurationManager.getFor(ConfigurationKeys.MAIL_SYSTEM_NOTIFICATION_CC`purchaseContext.getConfigurationLevel()).getValueOrDefault("");" is 162.,302
exteso_alf.io,alfio.manager,NotificationManager,getCCForEventOrganizer,Long Statement,The length of the statement "return Stream.of(StringUtils.split(systemNotificationCC`'`')).filter(Objects::nonNull).map(String::trim).filter(StringUtils::isNotBlank).toList();" is 146.,302
exteso_alf.io,alfio.manager,NotificationManager,sendSimpleEmail,Long Parameter List,The method has 5 parameters. ,311
exteso_alf.io,alfio.manager,NotificationManager,sendSimpleEmail,Long Parameter List,The method has 6 parameters. ,315
exteso_alf.io,alfio.manager,NotificationManager,sendSimpleEmail,Long Parameter List,The method has 7 parameters. ,319
exteso_alf.io,alfio.manager,NotificationManager,sendSimpleEmail,Long Statement,The length of the statement "String encodedAttachments=attachments.isEmpty() ? null : encodeAttachments(attachments.toArray(new Mailer.Attachment[0]));" is 122.,319
exteso_alf.io,alfio.manager,NotificationManager,sendSimpleEmail,Long Statement,The length of the statement "existing.ifPresentOrElse(id -> emailMessageRepository.updateStatusToWaitingWithHtml(id`renderedTemplate.getHtmlPart())`() -> {" is 126.,319
exteso_alf.io,alfio.manager,NotificationManager,sendSimpleEmail,Long Statement,The length of the statement "emailMessageRepository.insert(pair.getLeft()`pair.getRight()`reservationId`recipient`encodedCC`subject`renderedTemplate.getTextPart()`renderedTemplate.getHtmlPart()`encodedAttachments`checksum`ZonedDateTime.now(clockProvider.getClock())`purchaseContext.getOrganizationId());" is 274.,319
exteso_alf.io,alfio.manager,NotificationManager,loadAllMessagesForPurchaseContext,Long Statement,The length of the statement "return Pair.of(emailMessageRepository.countFindByEventId(eventId`toSearch)`emailMessageRepository.findByEventId(eventId`offset`pageSize`toSearch));" is 147.,347
exteso_alf.io,alfio.manager,NotificationManager,loadAllMessagesForPurchaseContext,Long Statement,The length of the statement "return Pair.of(emailMessageRepository.countFindBySubscriptionDescriptorId(subscriptionDescriptorId`toSearch)`emailMessageRepository.findBySubscriptionDescriptorId(subscriptionDescriptorId`offset`pageSize`toSearch));" is 215.,347
exteso_alf.io,alfio.manager,NotificationManager,loadAllMessagesForPurchaseContext,Magic Number,The method contains a magic number: 50,347
exteso_alf.io,alfio.manager,NotificationManager,loadSingleMessageForPurchaseContext,Long Statement,The length of the statement "return emailMessageRepository.findBySubscriptionDescriptorIdAndMessageId(((SubscriptionDescriptor)purchaseContext).getId()`messageId);" is 134.,365
exteso_alf.io,alfio.manager,NotificationManager,sendWaitingMessages,Long Statement,The length of the statement "return emailMessageRepository.loadAllWaitingForProcessing().stream().collect(Collectors.groupingBy(NotificationManager::purchaseContextCacheKey)).entrySet().stream().flatMapToInt(entry -> {" is 189.,373
exteso_alf.io,alfio.manager,NotificationManager,sendWaitingMessages,Long Statement,The length of the statement "PurchaseContext purchaseContext=purchaseContextManager.findById(PurchaseContextType.from(splitKey[0])`splitKey[1]).orElseThrow();" is 129.,373
exteso_alf.io,alfio.manager,NotificationManager,processMessage,Long Statement,The length of the statement "if (message.getAttempts() >= configurationManager.getFor(ConfigurationKeys.MAIL_ATTEMPTS_COUNT`configurationLevel).getValueAsIntOrDefault(10)) {" is 144.,387
exteso_alf.io,alfio.manager,NotificationManager,processMessage,Long Statement,The length of the statement "tx.execute(status -> emailMessageRepository.updateStatusAndAttempts(messageId`ERROR.name()`message.getAttempts()`Arrays.asList(IN_PROCESS.name()`WAITING.name()`RETRY.name())));" is 176.,387
exteso_alf.io,alfio.manager,NotificationManager,processMessage,Long Statement,The length of the statement "int result=Optional.ofNullable(tx.execute(status -> emailMessageRepository.updateStatus(messageId`message.getChecksum()`IN_PROCESS.name()`Arrays.asList(WAITING.name()`RETRY.name())))).orElse(0);" is 194.,387
exteso_alf.io,alfio.manager,NotificationManager,processMessage,Long Statement,The length of the statement "log.debug("no messages have been updated on DB for the following criteria: id: {}` checksum: {}"`messageId`message.getChecksum());" is 130.,387
exteso_alf.io,alfio.manager,NotificationManager,processMessage,Long Statement,The length of the statement "tx.execute(status -> emailMessageRepository.updateStatusAndAttempts(message.getId()`RETRY.name()`ZonedDateTime.now(clockProvider.getClock()).plusMinutes(message.getAttempts() + 1L)`message.getAttempts() + 1`Arrays.asList(IN_PROCESS.name()`WAITING.name()`RETRY.name())));" is 270.,387
exteso_alf.io,alfio.manager,NotificationManager,processMessage,Magic Number,The method contains a magic number: 10,387
exteso_alf.io,alfio.manager,NotificationManager,sendMessage,Long Statement,The length of the statement "mailer.send(purchaseContext`purchaseContext.getDisplayName()`message.getRecipient()`message.getCc()`message.getSubject()`message.getMessage()`Optional.ofNullable(message.getHtmlMessage())`decodeAttachments(message.getAttachments()));" is 233.,413
exteso_alf.io,alfio.manager,NotificationManager,sendMessage,Long Statement,The length of the statement "emailMessageRepository.updateStatusToSent(message.getId()`message.getChecksum()`ZonedDateTime.now(clockProvider.getClock())`Collections.singletonList(IN_PROCESS.name()));" is 170.,413
exteso_alf.io,alfio.manager,NotificationManager,decodeAttachments,Long Statement,The length of the statement "Set<Mailer.AttachmentIdentifier> alreadyPresents=Arrays.stream(attachments).map(Mailer.Attachment::getIdentifier).filter(Objects::nonNull).collect(Collectors.toSet());" is 167.,423
exteso_alf.io,alfio.manager,NotificationManager,decodeAttachments,Long Statement,The length of the statement "List<Mailer.Attachment> toReinterpret=Arrays.stream(attachments).filter(attachment -> attachment.getIdentifier() != null && !attachment.getIdentifier().reinterpretAs().isEmpty()).toList();" is 188.,423
exteso_alf.io,alfio.manager,NotificationManager,decodeAttachments,Long Statement,The length of the statement "List<Mailer.Attachment> generated=Arrays.stream(attachments).map(attachment -> this.transformAttachment(attachment`attachment.getIdentifier())).filter(Objects::nonNull).collect(Collectors.toList());" is 198.,423
exteso_alf.io,alfio.manager,NotificationManager,decodeAttachments,Long Statement,The length of the statement "toReinterpret.forEach(attachment -> attachment.getIdentifier().reinterpretAs().stream().filter(identifier -> !alreadyPresents.contains(identifier)).forEach(identifier -> reinterpreted.add(this.transformAttachment(attachment`identifier))));" is 239.,423
exteso_alf.io,alfio.manager,NotificationManager,transformAttachment,Long Statement,The length of the statement "return result == null ? null : new Mailer.Attachment(identifier.fileName(attachment.getFilename())`result`identifier.contentType(attachment.getContentType())`null`null);" is 169.,451
exteso_alf.io,alfio.manager,NotificationManager,purchaseContextCacheKey,Long Statement,The length of the statement "return message.getPurchaseContextType() + "//" + requireNonNullElse(message.getEventId()`message.getSubscriptionDescriptorId());" is 128.,505
exteso_alf.io,alfio.manager,EventStatisticsManager,EventStatisticsManager,Long Identifier,The length of the parameter ticketCategoryDescriptionRepository is 35.,60
exteso_alf.io,alfio.manager,EventStatisticsManager,EventStatisticsManager,Long Identifier,The length of the field ticketCategoryDescriptionRepository is 35.,60
exteso_alf.io,alfio.manager,EventStatisticsManager,EventStatisticsManager,Long Parameter List,The method has 11 parameters. ,60
exteso_alf.io,alfio.manager,EventStatisticsManager,displayStatisticsForEvent,Long Statement,The length of the statement "return configurationManager.getFor(DISPLAY_STATS_IN_EVENT_DETAIL`event.getConfigurationLevel()).getValueAsBooleanOrDefault();" is 125.,111
exteso_alf.io,alfio.manager,EventStatisticsManager,getEventWithAdditionalInfo,Long Identifier,The length of the field ticketCategoryDescriptionRepository is 35.,120
exteso_alf.io,alfio.manager,EventStatisticsManager,getEventWithAdditionalInfo,Long Statement,The length of the statement "EventStatisticView statistics=owner ? eventRepository.findStatisticsFor(event.getId()) : EventStatisticView.empty(event.getId());" is 129.,120
exteso_alf.io,alfio.manager,EventStatisticsManager,getEventWithAdditionalInfo,Long Statement,The length of the statement "BigDecimal grossIncome=owner ? MonetaryUtil.centsToUnit(eventRepository.getGrossIncome(event.getId())`event.getCurrency()) : BigDecimal.ZERO;" is 141.,120
exteso_alf.io,alfio.manager,EventStatisticsManager,getEventWithAdditionalInfo,Long Statement,The length of the statement "Map<Integer`Map<String`String>> descriptions=ticketCategoryDescriptionRepository.descriptionsByTicketCategory(ticketCategoriesIds);" is 131.,120
exteso_alf.io,alfio.manager,EventStatisticsManager,getEventWithAdditionalInfo,Long Statement,The length of the statement "Map<Integer`TicketCategoryStatisticView> ticketCategoriesStatistics=owner ? ticketCategoryRepository.findStatisticsForEventIdByCategoryId(event.getId()) : ticketCategoriesIds.stream().collect(toMap(Function.identity()`id -> TicketCategoryStatisticView.empty(id`event.getId())));" is 278.,120
exteso_alf.io,alfio.manager,EventStatisticsManager,getEventWithAdditionalInfo,Long Statement,The length of the statement "Map<Integer`List<SpecialPrice>> specialPrices=ticketCategoriesIds.isEmpty() ? Collections.emptyMap() : specialPriceRepository.findAllByCategoriesIdsMapped(ticketCategoriesIds);" is 176.,120
exteso_alf.io,alfio.manager,EventStatisticsManager,getEventWithAdditionalInfo,Long Statement,The length of the statement "List<TicketCategoryWithAdditionalInfo> tWithInfo=ticketCategories.stream().map(t -> new TicketCategoryWithAdditionalInfo(event`t`ticketCategoriesStatistics.get(t.getId())`descriptions.get(t.getId())`specialPrices.get(t.getId())`metadata.get(t.getId()))).toList();" is 263.,120
exteso_alf.io,alfio.manager,EventStatisticsManager,getEventWithAdditionalInfo,Long Statement,The length of the statement "return new EventWithAdditionalInfo(event`tWithInfo`eventStatistic`description`grossIncome`eventRepository.getMetadataForEvent(event.getId())`subscriptionRepository.findLinkedSubscriptionIds(event.getId()`event.getOrganizationId())`supportedCapabilities);" is 254.,120
exteso_alf.io,alfio.manager,EventStatisticsManager,loadModifiedTickets,Long Statement,The length of the statement "return ticketSearchRepository.findAllModifiedTicketsWithReservationAndTransaction(eventId`categoryId`page * pageSize`pageSize`toSearch).stream().map(t -> new TicketWithStatistic(t.getTicket()`t.getTicketReservation()`event.getZoneId()`t.getTransaction()`firstNonNull(t.getPromoCode()`t.getSpecialPriceToken()))).sorted().collect(Collectors.toList());" is 350.,170
exteso_alf.io,alfio.manager,EventStatisticsManager,loadModifiedTickets,Magic Number,The method contains a magic number: 30,170
exteso_alf.io,alfio.manager,EventStatisticsManager,noSeatsAvailable,Long Statement,The length of the statement "Map<Integer`TicketCategoryStatisticView> stats=ticketCategoryRepository.findStatisticsForEventIdByCategoryId(event.getId());" is 124.,185
exteso_alf.io,alfio.manager,EventStatisticsManager,noSeatsAvailable,Long Statement,The length of the statement "return ticketCategoryRepository.findAllTicketCategories(event.getId()).stream().filter(tc -> !tc.isAccessRestricted()).allMatch(tc -> EventUtil.determineAvailableSeats(stats.get(tc.getId())`eventStatisticView) == 0);" is 216.,185
exteso_alf.io,alfio.manager,ExtensionManager,ExtensionManager,Long Parameter List,The method has 6 parameters. ,87
exteso_alf.io,alfio.manager,ExtensionManager,buildMetadataUpdatePayload,Long Statement,The length of the statement "payload.put("baseUrl"`configurationManager.getFor(ConfigurationKeys.BASE_URL`ConfigurationLevel.organization(organization.getId())).getRequiredValue());" is 152.,138
exteso_alf.io,alfio.manager,ExtensionManager,handleTicketAssignment,Long Statement,The length of the statement "asyncCall(ExtensionEvent.TICKET_ASSIGNED`event`Map.of(TICKET`ticket`ADDITIONAL_INFO`Objects.requireNonNullElse(additionalInfo`Map.of())`EVENT_METADATA`Objects.requireNonNullElseGet(eventRepository.getMetadataForEvent(event.getId())`AlfioMetadata::empty)`"onlineAccessTicket"`EventUtil.isAccessOnline(category`event)));" is 318.,158
exteso_alf.io,alfio.manager,ExtensionManager,handleWaitingQueueSubscription,Long Statement,The length of the statement "asyncCall(ExtensionEvent.WAITING_QUEUE_SUBSCRIBED`event`Map.of("waitingQueueSubscription"`waitingQueueSubscription`ADDITIONAL_INFO`Map.of()));" is 142.,176
exteso_alf.io,alfio.manager,ExtensionManager,handleReservationEmailCustomText,Long Statement,The length of the statement "Map<String`Object> payload=Map.of(RESERVATION`reservation`"purchaseContext"`purchaseContext`"billingData"`additionalInfo);" is 122.,210
exteso_alf.io,alfio.manager,ExtensionManager,handleReservationEmailCustomText,Long Statement,The length of the statement "return Optional.ofNullable(syncCall(ExtensionEvent.CONFIRMATION_MAIL_CUSTOM_TEXT`purchaseContext`payload`CustomEmailText.class));" is 129.,210
exteso_alf.io,alfio.manager,ExtensionManager,handleTicketEmailCustomText,Long Statement,The length of the statement "Map<String`Object> payload=Map.of(RESERVATION`reservation`EVENT`event`"billingData"`additionalInfo`"additionalFields"`fields);" is 126.,224
exteso_alf.io,alfio.manager,ExtensionManager,handleCreditNoteGenerated,Long Parameter List,The method has 5 parameters. ,247
exteso_alf.io,alfio.manager,ExtensionManager,handleInvoiceGeneration,Long Statement,The length of the statement "return Optional.ofNullable(syncCall(ExtensionEvent.INVOICE_GENERATION`spec.getPurchaseContext()`payload`InvoiceGeneration.class));" is 130.,257
exteso_alf.io,alfio.manager,ExtensionManager,handleCreditNoteGeneration,Long Statement,The length of the statement "return Optional.ofNullable(syncCall(ExtensionEvent.CREDIT_NOTE_GENERATION`purchaseContext`Map.of(RESERVATION_ID`reservationId`"invoiceNumber"`invoiceNumber`ORGANIZATION`organization)`CreditNoteGeneration.class));" is 212.,275
exteso_alf.io,alfio.manager,ExtensionManager,handleOnlineCheckInLink,Long Statement,The length of the statement "return Optional.ofNullable(extensionService.executeScriptsForEvent(ONLINE_CHECK_IN_REDIRECT.name()`toPath(event)`payload`String.class));" is 136.,286
exteso_alf.io,alfio.manager,ExtensionManager,handleTaxIdValidation,Long Statement,The length of the statement "return Optional.ofNullable(syncCall(ExtensionEvent.TAX_ID_NUMBER_VALIDATION`purchaseContext`payload`Boolean.class)).orElse(false);" is 130.,304
exteso_alf.io,alfio.manager,ExtensionManager,handleReservationValidation,Long Statement,The length of the statement "Map<String`Object> payload=Map.of(RESERVATION_ID`reservation.getId()`RESERVATION`reservation`"form"`clientForm`"bindingResult"`bindingResult);" is 142.,325
exteso_alf.io,alfio.manager,ExtensionManager,handleEventHeaderUpdate,Long Statement,The length of the statement "Map<String`Object> payload=Map.of(EVENT_METADATA`eventRepository.getMetadataForEvent(event.getId())`ORGANIZATION`organization);" is 127.,345
exteso_alf.io,alfio.manager,ExtensionManager,filterAdditionalInfoToSave,Long Statement,The length of the statement "var result=syncCall(ExtensionEvent.USER_ADDITIONAL_INFO_FILTER`purchaseContext`payload`AdditionalInfoFilterResult.class);" is 121.,369
exteso_alf.io,alfio.manager,ExtensionManager,generateOAuth2StateParam,Long Statement,The length of the statement "return Optional.ofNullable(extensionService.executeScriptsForEvent(ExtensionEvent.OAUTH2_STATE_GENERATION.name()`"-" + organizationId`Map.of("baseUrl"`configurationManager.getFor(ConfigurationKeys.BASE_URL`ConfigurationLevel.organization(organizationId)).getRequiredValue()`ORGANIZATION_ID`organizationId)`String.class));" is 321.,410
exteso_alf.io,alfio.manager,ExtensionManager,handleDynamicDiscount,Long Statement,The length of the statement "int discountAmountInCents=dynamicDiscountResult.getDiscountType() == PERCENTAGE ? discountAmount.intValue() : MonetaryUtil.unitToCents(discountAmount`event.getCurrency());" is 171.,422
exteso_alf.io,alfio.manager,ExtensionManager,handleDynamicDiscount,Long Statement,The length of the statement "return Optional.of(new PromoCodeDiscount(Integer.MIN_VALUE`dynamicDiscountResult.getCode()`event.getId()`event.getOrganizationId()`now.minusSeconds(1)`event.getBegin().withZoneSameInstant(now.getZone())`discountAmountInCents`dynamicDiscountResult.getDiscountType()`null`null`null`null`CodeType.DYNAMIC`null`event.getCurrency()));" is 329.,422
exteso_alf.io,alfio.manager,ExtensionManager,syncCall,Long Parameter List,The method has 5 parameters. ,456
exteso_alf.io,alfio.manager,ExtensionManager,syncCall,Long Statement,The length of the statement "return extensionService.executeScriptsForEvent(extensionEvent.name()`toPath(purchaseContext)`fillWithBasicInfo(payload`purchaseContext)`clazz);" is 143.,456
exteso_alf.io,alfio.manager,ExtensionManager,internalExecuteCapability,Long Statement,The length of the statement "return extensionService.executeCapability(capability`toPath(purchaseContext)`fillWithBasicInfo(contextParams`purchaseContext)`resultType);" is 138.,494
exteso_alf.io,alfio.manager,ExtensionManager,handleCustomOnlineJoinUrl,Long Statement,The length of the statement "var ticketMetadataContainer=Objects.requireNonNullElseGet(ticketRepository.getTicketMetadata(ticket.getId())`TicketMetadataContainer::empty);" is 141.,512
exteso_alf.io,alfio.manager,ExtensionManager,handleCustomOnlineJoinUrl,Long Statement,The length of the statement "var result=Optional.ofNullable(syncCall(ExtensionEvent.CUSTOM_ONLINE_JOIN_URL`event`context`TicketMetadata.class`false));" is 121.,512
exteso_alf.io,alfio.manager,ExtensionManager,handleTicketAssignmentMetadata,Long Statement,The length of the statement "context.put(TICKET_METADATA`ticketWithMetadata.getMetadata().getMetadataForKey(TicketMetadataContainer.GENERAL).orElseGet(TicketMetadata::empty));" is 146.,533
exteso_alf.io,alfio.manager,ExtensionManager,handleTicketAssignmentMetadata,Long Statement,The length of the statement "return Optional.ofNullable(syncCall(ExtensionEvent.TICKET_ASSIGNED_GENERATE_METADATA`event`context`TicketMetadata.class`false));" is 128.,533
exteso_alf.io,alfio.manager,AdminReservationRequestManager,AdminReservationRequestManager,Long Identifier,The length of the parameter adminReservationRequestRepository is 33.,66
exteso_alf.io,alfio.manager,AdminReservationRequestManager,AdminReservationRequestManager,Long Identifier,The length of the field adminReservationRequestRepository is 33.,66
exteso_alf.io,alfio.manager,AdminReservationRequestManager,AdminReservationRequestManager,Long Parameter List,The method has 6 parameters. ,66
exteso_alf.io,alfio.manager,AdminReservationRequestManager,getRequestStatus,Long Identifier,The length of the field adminReservationRequestRepository is 33.,80
exteso_alf.io,alfio.manager,AdminReservationRequestManager,getRequestStatus,Long Statement,The length of the statement "return eventManager.getOptionalEventAndOrganizationIdByName(eventName`username).flatMap(e -> adminReservationRequestRepository.findStatsByRequestIdAndEventId(requestId`e.getId())).map(Result::success).orElseGet(() -> Result.error(ErrorCode.EventError.ACCESS_DENIED));" is 267.,80
exteso_alf.io,alfio.manager,AdminReservationRequestManager,scheduleReservations,Long Identifier,The length of the identifier attendeesWithDuplicateReference is 31.,87
exteso_alf.io,alfio.manager,AdminReservationRequestManager,scheduleReservations,Long Statement,The length of the statement "var attendeesWithDuplicateReference=body.getTicketsInfo().stream().flatMap(ti -> ti.getAttendees().stream()).filter(attendee -> StringUtils.isNotEmpty(attendee.getReference())).collect(Collectors.groupingBy(attendee -> attendee.getReference().trim()`Collectors.counting())).entrySet().stream().filter(e -> e.getValue() > 1).map(Map.Entry::getKey).limit(5).toList();" is 365.,87
exteso_alf.io,alfio.manager,AdminReservationRequestManager,scheduleReservations,Long Statement,The length of the statement "return Result.error(ErrorCode.custom("DUPLICATE_REFERENCE"`"The following codes are duplicate:" + attendeesWithDuplicateReference));" is 132.,87
exteso_alf.io,alfio.manager,AdminReservationRequestManager,scheduleReservations,Long Statement,The length of the statement "return eventManager.getOptionalByName(eventName`username).map(event -> adminReservationManager.validateTickets(body`event)).map(request -> request.flatMap(pair -> insertRequest(pair.getRight()`pair.getLeft()`singleReservation`username))).orElseGet(() -> Result.error(ErrorCode.ReservationError.UPDATE_FAILED));" is 310.,87
exteso_alf.io,alfio.manager,AdminReservationRequestManager,scheduleReservations,Magic Number,The method contains a magic number: 100,87
exteso_alf.io,alfio.manager,AdminReservationRequestManager,scheduleReservations,Magic Number,The method contains a magic number: 5,87
exteso_alf.io,alfio.manager,AdminReservationRequestManager,processPendingReservations,Long Identifier,The length of the field adminReservationRequestRepository is 33.,120
exteso_alf.io,alfio.manager,AdminReservationRequestManager,processPendingReservations,Long Statement,The length of the statement "Map<Boolean`List<MapSqlParameterSource>> result=adminReservationRequestRepository.findPendingForUpdate(1000).stream().map(id -> {" is 129.,120
exteso_alf.io,alfio.manager,AdminReservationRequestManager,processPendingReservations,Long Statement,The length of the statement "Result<Triple<TicketReservation`List<Ticket>`Event>> reservationResult=Result.fromNullable(eventRepository.findOptionalById((int)request.getEventId()).orElse(null)`ErrorCode.EventError.NOT_FOUND).flatMap(e -> Result.fromNullable(userRepository.findOptionalById((int)request.getUserId()).map(u -> Pair.of(e`u)).orElse(null)`ErrorCode.EventError.ACCESS_DENIED)).flatMap(p -> processReservation(request`p.getLeft()`p.getRight()));" is 427.,120
exteso_alf.io,alfio.manager,AdminReservationRequestManager,processPendingReservations,Magic Number,The method contains a magic number: 1000,120
exteso_alf.io,alfio.manager,AdminReservationRequestManager,processReservation,Long Statement,The length of the statement "Result<Triple<TicketReservation`List<Ticket>`Event>> result=adminReservationManager.createReservation(requestBody`eventName`username).flatMap(r -> adminReservationManager.confirmReservation(PurchaseContext.PurchaseContextType.event`eventName`r.getLeft().getId()`username`orEmpty(requestBody.getNotification())`requestBody.getLinkedSubscriptionId())).map(triple -> Triple.of(triple.getLeft()`triple.getMiddle()`(Event)triple.getRight()));" is 437.,144
exteso_alf.io,alfio.manager,AdminReservationRequestManager,buildParameterSource,Long Statement,The length of the statement "return new MapSqlParameterSource("id"`id).addValue("status"`success ? AdminReservationRequest.Status.SUCCESS.name() : AdminReservationRequest.Status.ERROR.name()).addValue("reservationId"`success ? result.getData().getLeft().getId() : null).addValue("failureCode"`success ? null : ofNullable(result.getFirstErrorOrNull()).map(ErrorCode::getCode).orElse(null));" is 360.,173
exteso_alf.io,alfio.manager,AdminReservationRequestManager,insertRequest,Long Identifier,The length of the field adminReservationRequestRepository is 33.,193
exteso_alf.io,alfio.manager,AdminReservationRequestManager,insertRequest,Long Parameter List,The method has 5 parameters. ,193
exteso_alf.io,alfio.manager,AdminReservationRequestManager,spread,Long Statement,The length of the statement "return src.getTicketsInfo().stream().flatMap(ti -> ti.getAttendees().stream().map(a -> Pair.of(a`new AdminReservationModification.TicketsInfo(ti.getCategory()`singletonList(a)`ti.isAddSeatsIfNotAvailable()`ti.isUpdateAttendees())))).map(p -> {" is 243.,221
exteso_alf.io,alfio.manager,AdminReservationRequestManager,spread,Long Statement,The length of the statement "CustomerData cd=new CustomerData(attendee.getFirstName()`attendee.getLastName()`attendee.getEmailAddress()`null`language`null`null`null`null);" is 142.,221
exteso_alf.io,alfio.manager,AdminReservationRequestManager,spread,Long Statement,The length of the statement "return new AdminReservationModification(src.getExpiration()`cd`singletonList(p.getRight())`language`src.isUpdateContactData()`false`null`src.getNotification()`null`attendee.getSubscriptionId());" is 194.,221
exteso_alf.io,alfio.manager,PurchaseContextManager,findByReservationId,Long Statement,The length of the statement "return ticketReservationRepository.findEventIdFor(reservationId).map(eventRepository::findById).map(PurchaseContext.class::cast).or(() -> subscriptionRepository.findDescriptorByReservationId(reservationId));" is 207.,69
exteso_alf.io,alfio.manager,PurchaseContextManager,detectConfigurationLevel,Long Statement,The length of the statement "return subscriptionRepository.findOrganizationIdForSubscription(UUID.fromString(subscriptionId)).map(ConfigurationLevel::organization);" is 135.,75
exteso_alf.io,alfio.manager,PurchaseContextManager,getReservationWithPurchaseContext,Long Statement,The length of the statement "return findByReservationId(reservationId).map(event -> Pair.of(event`ticketReservationRepository.findReservationById(reservationId)));" is 134.,94
exteso_alf.io,alfio.manager,SpecialPriceManager,SpecialPriceManager,Long Parameter List,The method has 8 parameters. ,55
exteso_alf.io,alfio.manager,SpecialPriceManager,checkCodeAssignment,Long Statement,The length of the statement "List<String> availableCodes=specialPriceRepository.findActiveByCategoryIdForUpdate(category.getId()`input.size()).stream().map(SpecialPrice::getCode).toList();" is 159.,73
exteso_alf.io,alfio.manager,SpecialPriceManager,checkCodeAssignment,Long Statement,The length of the statement "Validate.isTrue(input.size() <= availableCodes.size()`"Requested codes: " + input.size() + "` available: "+ availableCodes.size()+ ".");" is 136.,73
exteso_alf.io,alfio.manager,SpecialPriceManager,checkCodeAssignment,Long Statement,The length of the statement "Validate.isTrue(requestedCodes.stream().distinct().count() == requestedCodes.size()`"Cannot assign the same code twice. Please fix the input file.");" is 149.,73
exteso_alf.io,alfio.manager,SpecialPriceManager,checkOwnership,Long Statement,The length of the statement "final TicketCategory category=categories.stream().filter(tc -> tc.getId() == categoryId).findFirst().orElseThrow(IllegalArgumentException::new);" is 144.,85
exteso_alf.io,alfio.manager,SpecialPriceManager,linkAssigneeToCode,Long Statement,The length of the statement "return Stream.concat(set.stream().filter(IS_CODE_PRESENT)`input.stream().filter(IS_CODE_PRESENT.negate()).map(p -> new SendCodeModification(codes.next()`p.getAssignee()`p.getEmail()`p.getLanguage()))).toList();" is 210.,93
exteso_alf.io,alfio.manager,SpecialPriceManager,sendCodeToAssignee,Long Statement,The length of the statement "ContentLanguage defaultLocale=eventLanguages.contains(ContentLanguage.ENGLISH) ? ContentLanguage.ENGLISH : eventLanguages.get(0);" is 129.,118
exteso_alf.io,alfio.manager,SpecialPriceManager,sendCodeToAssignee,Long Statement,The length of the statement "Locale locale=LocaleUtil.forLanguageTag(StringUtils.defaultString(StringUtils.trimToNull(m.getLanguage())`defaultLocale.getLanguage()));" is 136.,118
exteso_alf.io,alfio.manager,SpecialPriceManager,sendCodeToAssignee,Long Statement,The length of the statement "var usePartnerCode=configurationManager.getFor(USE_PARTNER_CODE_INSTEAD_OF_PROMOTIONAL`event.getConfigurationLevel()).getValueAsBooleanOrDefault();" is 147.,118
exteso_alf.io,alfio.manager,SpecialPriceManager,sendCodeToAssignee,Long Statement,The length of the statement "var promoCodeDescription=messageSource.getMessage("show-event.promo-code-type." + (usePartnerCode ? "partner" : "promotional")`null`null`locale);" is 145.,118
exteso_alf.io,alfio.manager,SpecialPriceManager,sendCodeToAssignee,Long Statement,The length of the statement "Map<String`Object> model=TemplateResource.prepareModelForSendReservedCode(organization`event`m`eventManager.getEventUrl(event)`promoCodeDescription);" is 149.,118
exteso_alf.io,alfio.manager,SpecialPriceManager,sendCodeToAssignee,Long Statement,The length of the statement "notificationManager.sendSimpleEmail(event`null`m.getEmail()`messageSource.getMessage("email-code.subject"`new Object[]{event.getDisplayName()`promoCodeDescription}`locale)`() -> templateManager.renderTemplate(event`TemplateResource.SEND_RESERVED_CODE`model`locale));" is 266.,118
exteso_alf.io,alfio.manager,SpecialPriceManager,sendCodeToAssignee,Long Statement,The length of the statement "int marked=specialPriceRepository.markAsSent(event.now(clockProvider)`m.getAssignee().trim()`m.getEmail().trim()`m.getCode().trim());" is 133.,118
exteso_alf.io,alfio.manager,PassKitManager,PassKitManager,Long Parameter List,The method has 7 parameters. ,72
exteso_alf.io,alfio.manager,PassKitManager,getPass,Magic Number,The method contains a magic number: 10,101
exteso_alf.io,alfio.manager,PassKitManager,getConfigurationKeys,Long Statement,The length of the statement "var conf=configurationManager.getFor(Set.of(ENABLE_PASS`PASSBOOK_TYPE_IDENTIFIER`PASSBOOK_KEYSTORE`PASSBOOK_KEYSTORE_PASSWORD`PASSBOOK_TEAM_IDENTIFIER`PASSBOOK_PRIVATE_KEY_ALIAS)`event.getConfigurationLevel());" is 210.,125
exteso_alf.io,alfio.manager,PassKitManager,getConfigurationKeys,Long Statement,The length of the statement "var configValues=Map.of(PASSBOOK_TYPE_IDENTIFIER`conf.get(PASSBOOK_TYPE_IDENTIFIER).getValue()`PASSBOOK_KEYSTORE`conf.get(PASSBOOK_KEYSTORE).getValue()`PASSBOOK_KEYSTORE_PASSWORD`conf.get(PASSBOOK_KEYSTORE_PASSWORD).getValue()`PASSBOOK_TEAM_IDENTIFIER`conf.get(PASSBOOK_TEAM_IDENTIFIER).getValue()`PASSBOOK_PRIVATE_KEY_ALIAS`conf.get(PASSBOOK_PRIVATE_KEY_ALIAS).getValue());" is 374.,125
exteso_alf.io,alfio.manager,PassKitManager,buildPass,Long Parameter List,The method has 5 parameters. ,151
exteso_alf.io,alfio.manager,PassKitManager,buildPass,Long Statement,The length of the statement "String eventDescription=eventDescriptionRepository.findDescriptionByEventIdTypeAndLocale(event.getId()`EventDescription.EventDescriptionType.DESCRIPTION`ticket.getUserLanguage()).orElse("");" is 190.,151
exteso_alf.io,alfio.manager,PassKitManager,buildPass,Long Statement,The length of the statement "var ticketValidityStart=Optional.ofNullable(category.getTicketValidityStart(event.getZoneId())).orElse(event.getBegin());" is 121.,151
exteso_alf.io,alfio.manager,PassKitManager,buildPass,Long Statement,The length of the statement "Pass pass=new Pass().teamIdentifier(teamIdentifier).passTypeIdentifier(typeIdentifier).organizationName(organization.getName()).groupingIdentifier(organization.getEmail()).description(event.getDisplayName()).serialNumber(ticket.getUuid()).relevantDate(Date.from(ticketValidityStart.toInstant())).expirationDate(Date.from(Optional.ofNullable(category.getTicketValidityEnd(event.getZoneId())).orElse(event.getEnd()).toInstant())).barcode(new Barcode(BarcodeFormat.QR`ticket.ticketCode(event.getPrivateKey()))).labelColor(Color.BLACK).foregroundColor(Color.BLACK).backgroundColor(Color.WHITE).passInformation(new EventTicket().headerFields(List.of(new TextField("eventStartDate"`"Date"`ticketValidityStart.format(DateTimeFormatter.ofLocalizedDateTime(FormatStyle.SHORT).withLocale(ticketLocale))))).primaryFields(List.of(new TextField("categoryId"`event.getDisplayName()`category.getName()))).secondaryFields(new TextField("location"`"Venue"`event.getLocation())).auxiliaryFields(getAuxiliaryFields(ticket)).backFields(new TextField("desc"`"Event Description"`eventDescription)`new TextField("credits"`"Powered by"`"Alf.io` the Open Source ticket reservation System.")));" is 1168.,151
exteso_alf.io,alfio.manager,PassKitManager,buildPass,Long Statement,The length of the statement "pass.locations(new Location(Double.parseDouble(event.getLatitude())`Double.parseDouble(event.getLongitude())).altitude(0D));" is 124.,151
exteso_alf.io,alfio.manager,PassKitManager,buildPass,Long Statement,The length of the statement "passResources.add(new PassResource("icon@2x.png"`() -> new ClassPathResource("/alfio/icon/icon@2x.png").getInputStream()));" is 123.,151
exteso_alf.io,alfio.manager,PassKitManager,buildPass,Long Statement,The length of the statement "passResources.add(new PassResource("icon@3x.png"`() -> new ClassPathResource("/alfio/icon/icon@3x.png").getInputStream()));" is 123.,151
exteso_alf.io,alfio.manager,PassKitManager,buildPass,Long Statement,The length of the statement "PassSigner signer=PassSignerImpl.builder().keystore(new ByteArrayInputStream(keystoreRaw)`keystorePwd).alias(privateKeyAlias).intermediateCertificate(appleCert).build();" is 169.,151
exteso_alf.io,alfio.manager,PassKitManager,buildPass,Magic Number,The method contains a magic number: 6,151
exteso_alf.io,alfio.manager,PassKitManager,validateToken,Long Statement,The length of the statement "log.trace("typeIdentifier does not match. Expected {}` got {}"`typeIdentifierOptional.getValueOrDefault("not-found")`typeIdentifier);" is 133.,246
exteso_alf.io,alfio.manager,PassKitManager,validateToken,Long Statement,The length of the statement "return ticketRepository.findOptionalByUUID(ticketUuid).filter(t -> t.getEventId() == event.getId()).filter(t -> buildAuthenticationToken(t`event`eventRepository.getPrivateKey(event.getId())).equals(token)).map(t -> Pair.of(event`t));" is 233.,246
exteso_alf.io,alfio.manager,PassKitManager,addLogoResources,Magic Number,The method contains a magic number: 2,276
exteso_alf.io,alfio.manager,PassKitManager,readAndConvertImage,Magic Number,The method contains a magic number: 3,292
exteso_alf.io,alfio.manager,PassKitManager,scaleLogo,Long Statement,The length of the statement "var thumbImg=Scalr.resize(sourceImage`Scalr.Method.QUALITY`Scalr.Mode.AUTOMATIC`finalWidth`finalHeight`Scalr.OP_ANTIALIAS);" is 123.,301
exteso_alf.io,alfio.manager,PassKitManager,scaleLogo,Magic Number,The method contains a magic number: 160,301
exteso_alf.io,alfio.manager,PassKitManager,scaleLogo,Magic Number,The method contains a magic number: 50,301
exteso_alf.io,alfio.manager,AdditionalServiceManager,AdditionalServiceManager,Long Identifier,The length of the parameter additionalServiceTextRepository is 31.,42
exteso_alf.io,alfio.manager,AdditionalServiceManager,AdditionalServiceManager,Long Identifier,The length of the parameter additionalServiceItemRepository is 31.,42
exteso_alf.io,alfio.manager,AdditionalServiceManager,AdditionalServiceManager,Long Identifier,The length of the field additionalServiceTextRepository is 31.,42
exteso_alf.io,alfio.manager,AdditionalServiceManager,AdditionalServiceManager,Long Identifier,The length of the field additionalServiceItemRepository is 31.,42
exteso_alf.io,alfio.manager,AdditionalServiceManager,findAllTextByAdditionalServiceId,Long Identifier,The length of the field additionalServiceTextRepository is 31.,55
exteso_alf.io,alfio.manager,AdditionalServiceManager,update,Long Parameter List,The method has 10 parameters. ,63
exteso_alf.io,alfio.manager,AdditionalServiceManager,update,Long Statement,The length of the statement "return additionalServiceRepository.update(additionalServiceId`fixPrice`ordinal`availableQuantity`maxQtyPerOrder`inception`expiration`vat`vatType`price);" is 152.,63
exteso_alf.io,alfio.manager,AdditionalServiceManager,updateText,Long Identifier,The length of the field additionalServiceTextRepository is 31.,85
exteso_alf.io,alfio.manager,AdditionalServiceManager,insertText,Long Identifier,The length of the field additionalServiceTextRepository is 31.,89
exteso_alf.io,alfio.manager,AdditionalServiceManager,deleteAdditionalServiceTexts,Long Identifier,The length of the field additionalServiceTextRepository is 31.,98
exteso_alf.io,alfio.manager,AdditionalServiceManager,exportItemsForEvent,Long Identifier,The length of the field additionalServiceItemRepository is 31.,106
exteso_alf.io,alfio.manager,WaitingQueueManager,WaitingQueueManager,Long Parameter List,The method has 12 parameters. ,68
exteso_alf.io,alfio.manager,WaitingQueueManager,subscribe,Long Parameter List,The method has 5 parameters. ,94
exteso_alf.io,alfio.manager,WaitingQueueManager,subscribe,Long Statement,The length of the statement "if (configurationManager.getFor(STOP_WAITING_QUEUE_SUBSCRIPTIONS`ConfigurationLevel.event(event)).getValueAsBooleanOrDefault()) {" is 129.,94
exteso_alf.io,alfio.manager,WaitingQueueManager,subscribe,Long Statement,The length of the statement "AffectedRowCountAndKey<Integer> key=waitingQueueRepository.insert(event.getId()`customerName.getFullName()`customerName.getFirstName()`customerName.getLastName()`email`event.now(clockProvider)`userLanguage.getLanguage()`subscriptionType`selectedCategoryId);" is 257.,94
exteso_alf.io,alfio.manager,WaitingQueueManager,validateSelectedCategoryId,Long Statement,The length of the statement "Optional.ofNullable(selectedCategoryId).ifPresent(id -> Validate.isTrue(ticketCategoryRepository.findUnboundedOrderByExpirationDesc(eventId).stream().anyMatch(c -> id.equals(c.getId()))));" is 188.,115
exteso_alf.io,alfio.manager,WaitingQueueManager,notifySubscription,Long Parameter List,The method has 5 parameters. ,119
exteso_alf.io,alfio.manager,WaitingQueueManager,notifySubscription,Long Statement,The length of the statement "notificationManager.sendSimpleEmail(event`null`email`messageSource.getMessage("email-waiting-queue.subscribed.subject"`new Object[]{event.getDisplayName()}`userLanguage)`() -> templateManager.renderTemplate(event`TemplateResource.WAITING_QUEUE_JOINED`model`userLanguage));" is 272.,119
exteso_alf.io,alfio.manager,WaitingQueueManager,notifySubscription,Long Statement,The length of the statement "if (configurationManager.getFor(ENABLE_WAITING_QUEUE_NOTIFICATION`ConfigurationLevel.event(event)).getValueAsBooleanOrDefault()) {" is 130.,119
exteso_alf.io,alfio.manager,WaitingQueueManager,notifySubscription,Long Statement,The length of the statement "String adminTemplate=messageSource.getMessage("email-waiting-queue.subscribed.admin.text"`new Object[]{subscriptionType`event.getDisplayName()}`Locale.ENGLISH);" is 160.,119
exteso_alf.io,alfio.manager,WaitingQueueManager,notifySubscription,Long Statement,The length of the statement "notificationManager.sendSimpleEmail(event`null`organization.getEmail()`messageSource.getMessage("email-waiting-queue.subscribed.admin.subject"`new Object[]{event.getDisplayName()}`Locale.ENGLISH)`() -> RenderedTemplate.plaintext(templateManager.renderString(event`adminTemplate`model`Locale.ENGLISH`TemplateManager.TemplateOutput.TEXT)`model));" is 344.,119
exteso_alf.io,alfio.manager,WaitingQueueManager,getSubscriptionType,Long Statement,The length of the statement "return ticketCategoryRepository.findAllTicketCategories(event.getId()).stream().filter(tc -> !tc.isAccessRestricted()).filter(tc -> now.isAfter(tc.getInception(event.getZoneId()))).findFirst().map(tc -> WaitingQueueSubscription.Type.SOLD_OUT).orElse(WaitingQueueSubscription.Type.PRE_SALES);" is 291.,135
exteso_alf.io,alfio.manager,WaitingQueueManager,validateSubscriptionType,Long Statement,The length of the statement "Validate.isTrue(configurationManager.getFor(ENABLE_PRE_REGISTRATION`ConfigurationLevel.event(event)).getValueAsBooleanOrDefault()`"PRE_SALES Waiting list is not active");" is 170.,145
exteso_alf.io,alfio.manager,WaitingQueueManager,updateSubscriptionStatus,Long Statement,The length of the statement "return Optional.of(waitingQueueRepository.updateStatus(id`newStatus`currentStatus)).filter(i -> i > 0).map(i -> waitingQueueRepository.loadById(id));" is 149.,157
exteso_alf.io,alfio.manager,WaitingQueueManager,distributeSeats,Long Statement,The length of the statement "else if (subscriptions.stream().anyMatch(WaitingQueueSubscription::isPreSales) && configurationManager.getFor(ENABLE_PRE_REGISTRATION`ConfigurationLevel.event(event)).getValueAsBooleanOrDefault()) {" is 198.,167
exteso_alf.io,alfio.manager,WaitingQueueManager,handlePreReservation,Long Statement,The length of the statement "Optional<TicketCategory> categoryWithInceptionInFuture=ticketCategories.stream().min(TicketCategory.COMPARATOR).filter(t -> event.now(clockProvider).isBefore(t.getInception(event.getZoneId()).minusMinutes(5)));" is 210.,183
exteso_alf.io,alfio.manager,WaitingQueueManager,handlePreReservation,Magic Number,The method contains a magic number: 5,183
exteso_alf.io,alfio.manager,WaitingQueueManager,preReserveTickets,Long Statement,The length of the statement "Map<Integer`TicketCategoryStatisticView> ticketCategoriesStats=ticketCategoryRepository.findStatisticsForEventIdByCategoryId(eventId);" is 134.,208
exteso_alf.io,alfio.manager,WaitingQueueManager,preReserveTickets,Long Statement,The length of the statement "List<Pair<Integer`TicketCategoryStatisticView>> collectedTickets=ticketCategoryRepository.findAllTicketCategories(eventId).stream().filter(tc -> !tc.isAccessRestricted()).sorted(Comparator.comparing(t -> t.getExpiration(event.getZoneId()))).map(tc -> Pair.of(determineAvailableSeats(ticketCategoriesStats.get(tc.getId())`eventStatisticView)`ticketCategoriesStats.get(tc.getId()))).collect(new PreReservedTicketDistributor(toBeGenerated));" is 438.,208
exteso_alf.io,alfio.manager,WaitingQueueManager,preReserveTickets,Long Statement,The length of the statement "List<Integer> ids=collectedTickets.stream().flatMap(p -> selectTicketsForPreReservation(eventId`p).stream()).collect(Collectors.toList());" is 138.,208
exteso_alf.io,alfio.manager,WaitingQueueManager,distributeAvailableSeats,Long Statement,The length of the statement "Iterator<Ticket> tickets=ticketRepository.selectWaitingTicketsForUpdate(eventId`status.name()`availableSeats).stream().filter(t -> t.getCategoryId() != null || !unboundedCategories.isEmpty()).iterator();" is 203.,238
exteso_alf.io,alfio.manager,WaitingQueueManager,distributeAvailableSeats,Long Statement,The length of the statement "int expirationTimeout=configurationManager.getFor(WAITING_QUEUE_RESERVATION_TIMEOUT`ConfigurationLevel.event(event)).getValueAsIntOrDefault(4);" is 143.,238
exteso_alf.io,alfio.manager,WaitingQueueManager,distributeAvailableSeats,Long Statement,The length of the statement "ZonedDateTime expiration=event.now(clockProvider).plusHours(expirationTimeout).with(WorkingDaysAdjusters.defaultWorkingDays());" is 127.,238
exteso_alf.io,alfio.manager,WaitingQueueManager,distributeAvailableSeats,Long Statement,The length of the statement "return waitingQueueRepository.loadWaiting(eventId`availableSeats).stream().map(wq -> Pair.of(wq`tickets.next())).map(pair -> {" is 126.,238
exteso_alf.io,alfio.manager,WaitingQueueManager,distributeAvailableSeats,Long Statement,The length of the statement "Integer categoryId=Optional.ofNullable(pair.getValue().getCategoryId()).orElseGet(() -> findBestCategory(unboundedCategories`pair.getKey()).orElseThrow(RuntimeException::new).getId());" is 184.,238
exteso_alf.io,alfio.manager,WaitingQueueManager,distributeAvailableSeats,Magic Number,The method contains a magic number: 4,238
exteso_alf.io,alfio.manager,WaitingQueueManager,findBestCategory,Long Statement,The length of the statement "Optional<TicketCategory> firstMatch=unboundedCategories.stream().filter(tc -> selectedCategoryId == null || selectedCategoryId.equals(tc.getId())).findFirst();" is 159.,266
exteso_alf.io,alfio.manager,EventManager,EventManager,Long Identifier,The length of the parameter ticketCategoryDescriptionRepository is 35.,126
exteso_alf.io,alfio.manager,EventManager,EventManager,Long Identifier,The length of the parameter additionalServiceTextRepository is 31.,126
exteso_alf.io,alfio.manager,EventManager,EventManager,Long Identifier,The length of the field ticketCategoryDescriptionRepository is 35.,126
exteso_alf.io,alfio.manager,EventManager,EventManager,Long Identifier,The length of the field additionalServiceTextRepository is 31.,126
exteso_alf.io,alfio.manager,EventManager,EventManager,Long Parameter List,The method has 24 parameters. ,126
exteso_alf.io,alfio.manager,EventManager,getOptionalEventAndOrganizationIdByName,Long Statement,The length of the statement "return eventRepository.findOptionalEventAndOrganizationIdByShortName(eventName).filter(checkOwnership(username`organizationRepository));" is 136.,190
exteso_alf.io,alfio.manager,EventManager,getOptionalEventIdAndOrganizationIdById,Long Statement,The length of the statement "return eventRepository.findOptionalEventAndOrganizationIdById(eventId).filter(checkOwnership(username`organizationRepository));" is 127.,195
exteso_alf.io,alfio.manager,EventManager,getSingleEventById,Long Statement,The length of the statement "return eventRepository.findOptionalById(eventId).filter(checkOwnership(username`organizationRepository)).orElseThrow(IllegalStateException::new);" is 145.,200
exteso_alf.io,alfio.manager,EventManager,createEvent,Long Statement,The length of the statement "var organization=organizationRepository.findAllForUser(username).stream().filter(org -> org.getId() == em.getOrganizationId()).findFirst().orElseThrow();" is 153.,243
exteso_alf.io,alfio.manager,EventManager,createSubscriptionLinks,Long Statement,The length of the statement "var parameters=linkedSubscriptions.stream().map(id -> new MapSqlParameterSource("eventId"`eventId).addValue("subscriptionId"`id).addValue("pricePerTicket"`0).addValue("organizationId"`organizationId)).toArray(MapSqlParameterSource[]::new);" is 239.,264
exteso_alf.io,alfio.manager,EventManager,createAllAdditionalServices,Long Statement,The length of the statement "AffectedRowCountAndKey<Integer> service=additionalServiceRepository.insert(eventId`Optional.ofNullable(as.getPrice()).map(p -> MonetaryUtil.unitToCents(p`currencyCode)).orElse(0)`as.isFixPrice()`as.getOrdinal()`as.getAvailableQuantity()`as.getMaxQtyPerOrder()`as.getInception().toZonedDateTime(zoneId)`as.getExpiration().toZonedDateTime(zoneId)`as.getVat()`as.getVatType()`as.getType()`as.getSupplementPolicy());" is 412.,289
exteso_alf.io,alfio.manager,EventManager,insertAdditionalServiceDescription,Long Identifier,The length of the field additionalServiceTextRepository is 31.,309
exteso_alf.io,alfio.manager,EventManager,createOrUpdateEventDescription,Long Statement,The length of the statement "Set<String> validLocales=ContentLanguage.findAllFor(em.getLocales()).stream().map(ContentLanguage::getLanguage).collect(Collectors.toSet());" is 140.,313
exteso_alf.io,alfio.manager,EventManager,toSerializedRestrictedValues,Long Statement,The length of the statement "return EventCreationRequest.WITH_RESTRICTED_VALUES.contains(f.getType()) ? generateJsonForList(f.getRestrictedValuesAsString()) : null;" is 135.,334
exteso_alf.io,alfio.manager,EventManager,toSerializedDisabledValues,Long Statement,The length of the statement "return EventCreationRequest.WITH_RESTRICTED_VALUES.contains(f.getType()) ? generateJsonForList(f.getDisabledValuesAsString()) : null;" is 133.,338
exteso_alf.io,alfio.manager,EventManager,insertAdditionalField,Long Statement,The length of the statement "Optional<EventModification.AdditionalService> linkedAdditionalService=Optional.ofNullable(f.getLinkedAdditionalService());" is 122.,346
exteso_alf.io,alfio.manager,EventManager,insertAdditionalField,Long Statement,The length of the statement "Integer additionalServiceId=linkedAdditionalService.map(as -> Optional.ofNullable(as.getId()).orElseGet(() -> findAdditionalService(event`as`eventRepository.getEventCurrencyCode(event.getId())))).orElse(-1);" is 207.,346
exteso_alf.io,alfio.manager,EventManager,insertAdditionalField,Long Statement,The length of the statement "int configurationId=ticketFieldRepository.insertConfiguration(event.getId()`f.getName()`order`f.getType()`serializedRestrictedValues`f.getMaxLength()`f.getMinLength()`f.isRequired()`context`additionalServiceId`generateJsonForList(f.getLinkedCategoriesIds())).getKey();" is 268.,346
exteso_alf.io,alfio.manager,EventManager,insertAdditionalField,Long Statement,The length of the statement "f.getDescription().forEach((locale`value) -> ticketFieldRepository.insertDescription(configurationId`locale`Json.GSON.toJson(value)));" is 134.,346
exteso_alf.io,alfio.manager,EventManager,updateAdditionalField,Long Statement,The length of the statement "ticketFieldRepository.updateField(id`f.isRequired()`!f.isReadOnly()`serializedRestrictedValues`toSerializedDisabledValues(f)`generateJsonForList(f.getLinkedCategoriesIds()));" is 174.,356
exteso_alf.io,alfio.manager,EventManager,findAdditionalService,Long Statement,The length of the statement "String checksum=new AdditionalService(0`eventId`as.isFixPrice()`as.getOrdinal()`as.getAvailableQuantity()`as.getMaxQtyPerOrder()`as.getInception().toZonedDateTime(eventZoneId).withZoneSameInstant(utc)`as.getExpiration().toZonedDateTime(eventZoneId).withZoneSameInstant(utc)`as.getVat()`as.getVatType()`Optional.ofNullable(as.getPrice()).map(p -> MonetaryUtil.unitToCents(p`currencyCode)).orElse(0)`as.getType()`as.getSupplementPolicy()`currencyCode).getChecksum();" is 464.,367
exteso_alf.io,alfio.manager,EventManager,findAdditionalService,Long Statement,The length of the statement "return additionalServiceRepository.loadAllForEvent(eventId).stream().filter(as1 -> as1.getChecksum().equals(checksum)).findFirst().map(AdditionalService::getId).orElse(null);" is 174.,367
exteso_alf.io,alfio.manager,EventManager,updateEventHeader,Long Identifier,The length of the field ERROR_ONLINE_ON_SITE_NOT_COMPATIBLE is 35.,386
exteso_alf.io,alfio.manager,EventManager,updateEventHeader,Long Statement,The length of the statement "Validate.isTrue(ownershipChecker.test(original.getOrganizationId()) && (sameOrganization || ownershipChecker.test(em.getOrganizationId()))`"Invalid organizationId");" is 165.,386
exteso_alf.io,alfio.manager,EventManager,updateEventHeader,Long Statement,The length of the statement "Validate.isTrue(sameOrganization || groupRepository.countByEventId(eventId) == 0`"Cannot change organization because there is a group linked to this event.");" is 158.,386
exteso_alf.io,alfio.manager,EventManager,updateEventHeader,Long Statement,The length of the statement "Validate.isTrue(sameOrganization || !subscriptionRepository.hasLinkedSubscription(eventId)`"Cannot change organization because there are one or more subscriptions linked.");" is 173.,386
exteso_alf.io,alfio.manager,EventManager,updateEventHeader,Long Statement,The length of the statement "Validate.isTrue(original.getAllowedPaymentProxies().stream().allMatch(p -> p != PaymentProxy.ON_SITE)`ERROR_ONLINE_ON_SITE_NOT_COMPATIBLE);" is 139.,386
exteso_alf.io,alfio.manager,EventManager,updateEventHeader,Long Statement,The length of the statement "String timeZone=ObjectUtils.firstNonNull(em.getZoneId()`em.getGeolocation() != null ? em.getGeolocation().getTimeZone() : null);" is 128.,386
exteso_alf.io,alfio.manager,EventManager,updateEventHeader,Long Statement,The length of the statement "String latitude=ObjectUtils.firstNonNull(em.getLatitude()`em.getGeolocation() != null ? em.getGeolocation().getLatitude() : null);" is 130.,386
exteso_alf.io,alfio.manager,EventManager,updateEventHeader,Long Statement,The length of the statement "String longitude=ObjectUtils.firstNonNull(em.getLongitude()`em.getGeolocation() != null ? em.getGeolocation().getLongitude() : null);" is 133.,386
exteso_alf.io,alfio.manager,EventManager,updateEventHeader,Long Statement,The length of the statement "eventRepository.updateHeader(eventId`em.getDisplayName()`em.getWebsiteUrl()`em.getExternalUrl()`em.getTermsAndConditionsUrl()`em.getPrivacyPolicyUrl()`em.getImageUrl()`em.getFileBlobId()`em.getLocation()`latitude`longitude`begin`end`timeZone`em.getOrganizationId()`em.getLocales()`em.getFormat());" is 297.,386
exteso_alf.io,alfio.manager,EventManager,updateEventHeader,Long Statement,The length of the statement "extensionManager.handleEventHeaderUpdate(eventRepository.findById(eventId)`organizationRepository.findOrganizationForUser(username`em.getOrganizationId()).orElseThrow());" is 170.,386
exteso_alf.io,alfio.manager,EventManager,updateEventPrices,Long Statement,The length of the statement "int allocatedSeats=ticketCategoryRepository.findAllTicketCategories(original.getId()).stream().filter(TicketCategory::isBounded).mapToInt(TicketCategory::getMaxTickets).sum();" is 175.,432
exteso_alf.io,alfio.manager,EventManager,updateEventPrices,Long Statement,The length of the statement "throw new IllegalArgumentException(format("cannot reduce max tickets to %d. There are already %d tickets allocated. Try updating categories first."`em.getAvailableSeats()`allocatedSeats));" is 188.,432
exteso_alf.io,alfio.manager,EventManager,updateEventPrices,Long Statement,The length of the statement "eventRepository.updatePrices(em.getCurrency()`em.getAvailableSeats()`em.isVatIncluded()`vat`paymentProxies`eventId`em.getVatStatus()`em.getPriceInCents());" is 155.,432
exteso_alf.io,alfio.manager,EventManager,updateEventPrices,Long Statement,The length of the statement "final MapSqlParameterSource[] params=generateEmptyTickets(modified`Date.from(ZonedDateTime.now(clockProvider.withZone(modified.getZoneId())).toInstant())`seatsDifference`TicketStatus.RELEASED).toArray(MapSqlParameterSource[]::new);" is 231.,432
exteso_alf.io,alfio.manager,EventManager,updateEventPrices,Long Statement,The length of the statement "List<Integer> ids=ticketRepository.selectNotAllocatedTicketsForUpdate(eventId`Math.abs(seatsDifference)`singletonList(TicketStatus.FREE.name()));" is 145.,432
exteso_alf.io,alfio.manager,EventManager,updateEventPrices,Long Statement,The length of the statement "Validate.isTrue(ids.size() == invalidatedTickets`String.format("error during ticket invalidation: expected %d` got %d"`ids.size()`invalidatedTickets));" is 151.,432
exteso_alf.io,alfio.manager,EventManager,insertAdditionalService,Long Identifier,The length of the field additionalServiceTextRepository is 31.,486
exteso_alf.io,alfio.manager,EventManager,insertAdditionalService,Long Statement,The length of the statement "AffectedRowCountAndKey<Integer> result=additionalServiceRepository.insert(eventId`Optional.ofNullable(additionalService.getPrice()).map(p -> MonetaryUtil.unitToCents(p`event.getCurrency())).orElse(0)`additionalService.isFixPrice()`additionalService.getOrdinal()`additionalService.getAvailableQuantity()`additionalService.getMaxQtyPerOrder()`additionalService.getInception().toZonedDateTime(event.getZoneId())`additionalService.getExpiration().toZonedDateTime(event.getZoneId())`additionalService.getVat()`additionalService.getVatType()`additionalService.getType()`additionalService.getSupplementPolicy());" is 605.,486
exteso_alf.io,alfio.manager,EventManager,insertAdditionalService,Long Statement,The length of the statement "Stream.concat(additionalService.getTitle().stream()`additionalService.getDescription().stream()).forEach(t -> additionalServiceTextRepository.insert(id`t.getLocale()`t.getType()`t.getValue()));" is 193.,486
exteso_alf.io,alfio.manager,EventManager,insertAdditionalService,Long Statement,The length of the statement "return EventModification.AdditionalService.from(additionalServiceRepository.getById(result.getKey()`eventId)).withText(additionalServiceTextRepository.findAllByAdditionalServiceId(result.getKey())).withZoneId(event.getZoneId()).build();" is 236.,486
exteso_alf.io,alfio.manager,EventManager,insertCategory,Long Statement,The length of the statement "return new Result.Builder<Integer>().checkPrecondition(() -> sum + requestedTickets <= eventRepository.countExistingTickets(eventId)`ErrorCode.CategoryError.NOT_ENOUGH_SEATS).checkPrecondition(() -> requestedTickets <= notAllocated`ErrorCode.CategoryError.ALL_TICKETS_ASSIGNED).checkPrecondition(() -> tcm.getExpiration().toZonedDateTime(event.getZoneId()).isBefore(event.getEnd())`ErrorCode.CategoryError.EXPIRATION_AFTER_EVENT_END).build(() -> insertCategory(tcm`event));" is 473.,521
exteso_alf.io,alfio.manager,EventManager,updateCategory,Long Parameter List,The method has 5 parameters. ,559
exteso_alf.io,alfio.manager,EventManager,updateCategory,Long Statement,The length of the statement "return Optional.of(ticketCategoryRepository.getById(categoryId)).filter(tc -> tc.getId() == categoryId).map(existing -> new Result.Builder<TicketCategory>().checkPrecondition(() -> tcm.getExpiration().toZonedDateTime(event.getZoneId()).isBefore(event.getEnd())`ErrorCode.CategoryError.EXPIRATION_AFTER_EVENT_END).checkPrecondition(() -> !existing.isBounded() || tcm.getMaxTickets() - existing.getMaxTickets() + ticketRepository.countAllocatedTicketsForEvent(eventId) <= eventRepository.countExistingTickets(eventId)`ErrorCode.CategoryError.NOT_ENOUGH_SEATS).checkPrecondition(() -> tcm.isTokenGenerationRequested() == existing.isAccessRestricted() || ticketRepository.countConfirmedAndPendingTickets(eventId`categoryId) == 0`ErrorCode.custom(""`"cannot update category: there are tickets already sold.")).checkPrecondition(() -> tcm.isBounded() == existing.isBounded() || ticketRepository.countPendingOrReleasedForCategory(eventId`existing.getId()) == 0`ErrorCode.custom(""`"It is not safe to change allocation strategy right now because there are pending reservations.")).checkPrecondition(() -> !existing.isAccessRestricted() || tcm.isBounded() == existing.isAccessRestricted()`ErrorCode.custom(""`"Dynamic allocation is not compatible with restricted access")).checkPrecondition(() -> {" is 1289.,559
exteso_alf.io,alfio.manager,EventManager,updateCategory,Long Statement,The length of the statement "return addedTicket >= 0 || !existing.isAccessRestricted() || specialPriceRepository.countNotSentToken(categoryId) >= Math.abs(addedTicket);" is 139.,559
exteso_alf.io,alfio.manager,EventManager,fixOutOfRangeCategories,Long Statement,The length of the statement "ticketCategoryRepository.findAllTicketCategories(event.getId()).stream().map(tc -> Triple.of(tc`tc.getInception(zoneId)`tc.getExpiration(zoneId))).filter(t -> t.getRight().isAfter(end)).forEach(t -> fixTicketCategoryDates(end`t.getLeft()`t.getMiddle()`t.getRight()));" is 267.,600
exteso_alf.io,alfio.manager,EventManager,fixTicketCategoryDates,Long Statement,The length of the statement "Validate.isTrue(inception.isBefore(newExpiration)`format("Cannot fix dates for category \"%s\" (id: %d)` try updating that category first."`tc.getName()`tc.getId()));" is 166.,608
exteso_alf.io,alfio.manager,EventManager,reallocateTickets,Long Statement,The length of the statement "reallocateTickets(ticketCategoryRepository.findStatisticWithId(srcCategoryId`eventId)`Optional.of(ticketCategoryRepository.getByIdAndActive(targetCategoryId`event.getId()))`event);" is 180.,615
exteso_alf.io,alfio.manager,EventManager,reallocateTickets,Long Statement,The length of the statement "List<Integer> lockedTickets=ticketRepository.selectTicketInCategoryForUpdate(event.getId()`src.getId()`notSoldTickets`singletonList(TicketStatus.FREE.name()));" is 159.,620
exteso_alf.io,alfio.manager,EventManager,unbindTickets,Long Statement,The length of the statement "Validate.isTrue(ticketCategoryRepository.countUnboundedCategoriesByEventId(event.getId()) > 0`"cannot unbind tickets: there aren't any unbounded categories");" is 158.,649
exteso_alf.io,alfio.manager,EventManager,prepareTicketsBulkInsertParameters,Long Statement,The length of the statement "Stream<MapSqlParameterSource> boundedTickets=categories.stream().filter(IS_CATEGORY_BOUNDED).flatMap(tc -> generateTicketsForCategory(tc`event`creationDate`0));" is 160.,657
exteso_alf.io,alfio.manager,EventManager,prepareTicketsBulkInsertParameters,Long Statement,The length of the statement "return Stream.concat(boundedTickets`generateEmptyTickets(event`creationDate`requestedTickets - generatedTickets`ticketStatus)).toArray(MapSqlParameterSource[]::new);" is 165.,657
exteso_alf.io,alfio.manager,EventManager,generateTicketsForCategory,Long Statement,The length of the statement "int missingTickets=filteredTC.map(c -> Math.abs(c.getMaxTickets() - existing)).orElseGet(() -> eventRepository.countExistingTickets(event.getId()) - existing);" is 159.,678
exteso_alf.io,alfio.manager,EventManager,generateTicketsForCategory,Long Statement,The length of the statement "return generateStreamForTicketCreation(missingTickets).map(ps -> buildTicketParams(event.getId()`creationDate`filteredTC`tc.getSrcPriceCts()`ps));" is 146.,678
exteso_alf.io,alfio.manager,EventManager,createCategoriesForEvent,Long Statement,The length of the statement "int requestedSeats=em.getTicketCategories().stream().filter(TicketCategoryModification::isBounded).mapToInt(TicketCategoryModification::getMaxTickets).sum();" is 157.,688
exteso_alf.io,alfio.manager,EventManager,createCategoriesForEvent,Long Statement,The length of the statement "Validate.isTrue(notAssignedTickets > 0 || em.getTicketCategories().stream().allMatch(TicketCategoryModification::isBounded)`"Cannot add an unbounded category if there aren't any free tickets");" is 193.,688
exteso_alf.io,alfio.manager,EventManager,createCategoriesForEvent,Long Statement,The length of the statement "final AffectedRowCountAndKey<Integer> category=ticketCategoryRepository.insert(tc.getInception().toZonedDateTime(zoneId)`tc.getExpiration().toZonedDateTime(zoneId)`tc.getName()`maxTickets`tc.isTokenGenerationRequested()`eventId`tc.isBounded()`price`StringUtils.trimToNull(tc.getCode())`atZone(tc.getValidCheckInFrom()`zoneId)`atZone(tc.getValidCheckInTo()`zoneId)`atZone(tc.getTicketValidityStart()`zoneId)`atZone(tc.getTicketValidityEnd()`zoneId)`tc.getOrdinal()`Optional.ofNullable(tc.getTicketCheckInStrategy()).orElse(ONCE_PER_EVENT)`requireNonNullElseGet(tc.getMetadata()`AlfioMetadata::empty)`accessType);" is 611.,688
exteso_alf.io,alfio.manager,EventManager,insertCategory,Long Statement,The length of the statement "final AffectedRowCountAndKey<Integer> category=ticketCategoryRepository.insert(tc.getInception().toZonedDateTime(zoneId)`tc.getExpiration().toZonedDateTime(zoneId)`tc.getName()`tc.isBounded() ? tc.getMaxTickets() : 0`tc.isTokenGenerationRequested()`eventId`tc.isBounded()`price`StringUtils.trimToNull(tc.getCode())`atZone(tc.getValidCheckInFrom()`zoneId)`atZone(tc.getValidCheckInTo()`zoneId)`atZone(tc.getTicketValidityStart()`zoneId)`atZone(tc.getTicketValidityEnd()`zoneId)`tc.getOrdinal()`requireNonNullElse(tc.getTicketCheckInStrategy()`ONCE_PER_EVENT)`requireNonNullElseGet(tc.getMetadata()`AlfioMetadata::empty)`requireNonNullElse(tc.getTicketAccessType()`TicketAccessType.INHERIT));" is 690.,725
exteso_alf.io,alfio.manager,EventManager,insertCategory,Long Statement,The length of the statement "List<Integer> lockedTickets=ticketRepository.selectNotAllocatedTicketsForUpdate(eventId`ticketCategory.getMaxTickets()`asList(TicketStatus.FREE.name()`TicketStatus.RELEASED.name()));" is 182.,725
exteso_alf.io,alfio.manager,EventManager,saveBadgeColorConfiguration,Long Statement,The length of the statement "colorConfiguration=new CheckInOutputColorConfiguration("success"`List.of(new ColorConfiguration(chosenColor`List.of(categoryId))));" is 131.,755
exteso_alf.io,alfio.manager,EventManager,saveBadgeColorConfiguration,Long Statement,The length of the statement "var configurationWithoutCategory=colorConfiguration.getConfigurations().stream().map(cc -> new ColorConfiguration(cc.getColorName()`cc.getCategories().stream().filter(c -> !c.equals(categoryId)).toList())).filter(cc -> !cc.getCategories().isEmpty()).toList();" is 259.,755
exteso_alf.io,alfio.manager,EventManager,saveBadgeColorConfiguration,Long Statement,The length of the statement "colorConfiguration=new CheckInOutputColorConfiguration(colorConfiguration.getDefaultColorName()`configurationWithoutCategory.stream().map(cc -> {" is 145.,755
exteso_alf.io,alfio.manager,EventManager,saveBadgeColorConfiguration,Long Statement,The length of the statement "configurationRepository.updateEventLevel(event.getId()`event.getOrganizationId()`CHECK_IN_COLOR_CONFIGURATION.name()`Json.toJson(colorConfiguration));" is 150.,755
exteso_alf.io,alfio.manager,EventManager,saveBadgeColorConfiguration,Long Statement,The length of the statement "configurationRepository.insertEventLevel(event.getOrganizationId()`event.getId()`CHECK_IN_COLOR_CONFIGURATION.name()`Json.toJson(colorConfiguration)`null);" is 155.,755
exteso_alf.io,alfio.manager,EventManager,insertOrUpdateTicketCategoryDescription,Long Identifier,The length of the field ticketCategoryDescriptionRepository is 35.,799
exteso_alf.io,alfio.manager,EventManager,insertOrUpdateTicketCategoryDescription,Long Statement,The length of the statement "Set<String> eventLang=ContentLanguage.findAllFor(event.getLocales()).stream().map(ContentLanguage::getLanguage).collect(Collectors.toSet());" is 140.,799
exteso_alf.io,alfio.manager,EventManager,updateCategory,Long Parameter List,The method has 5 parameters. ,811
exteso_alf.io,alfio.manager,EventManager,updateCategory,Long Statement,The length of the statement "ticketCategoryRepository.update(tc.getId()`tc.getName()`tc.getInception().toZonedDateTime(zoneId)`tc.getExpiration().toZonedDateTime(zoneId)`tc.getMaxTickets()`tc.isTokenGenerationRequested()`price`StringUtils.trimToNull(tc.getCode())`atZone(tc.getValidCheckInFrom()`zoneId)`atZone(tc.getValidCheckInTo()`zoneId)`atZone(tc.getTicketValidityStart()`zoneId)`atZone(tc.getTicketValidityEnd()`zoneId)`requireNonNullElse(tc.getTicketCheckInStrategy()`ONCE_PER_EVENT)`tc.getTicketAccessType());" is 488.,811
exteso_alf.io,alfio.manager,EventManager,handleTicketAllocationStrategyChange,Long Statement,The length of the statement "List<Integer> ids=ticketRepository.selectNotAllocatedTicketsForUpdate(eventId`addedTickets`singletonList(TicketStatus.FREE.name()));" is 132.,847
exteso_alf.io,alfio.manager,EventManager,handleTicketAllocationStrategyChange,Long Statement,The length of the statement "Validate.isTrue(ids.isEmpty() || ticketRepository.moveToAnotherCategory(ids`original.getId()`MonetaryUtil.unitToCents(updated.getPrice()`original.getCurrencyCode())) == ids.size()`"not enough tickets");" is 202.,847
exteso_alf.io,alfio.manager,EventManager,handlePriceChange,Long Statement,The length of the statement "final List<Integer> ids=ticketRepository.selectTicketInCategoryForUpdate(event.getId()`updated.getId()`updated.getMaxTickets()`singletonList(TicketStatus.FREE.name()));" is 168.,865
exteso_alf.io,alfio.manager,EventManager,handlePriceChange,Long Statement,The length of the statement "throw new IllegalStateException("Tickets have already been sold (or are in the process of being sold) for this category. Therefore price update is not allowed.");" is 162.,865
exteso_alf.io,alfio.manager,EventManager,handlePriceChange,Long Statement,The length of the statement "ticketRepository.updateTicketPrice(updated.getId()`event.getId()`updated.getSrcPriceCts()`0`0`0`original.getCurrencyCode());" is 124.,865
exteso_alf.io,alfio.manager,EventManager,handleTicketNumberModification,Long Statement,The length of the statement "List<Integer> lockedTickets=ticketRepository.selectNotAllocatedTicketsForUpdate(event.getId()`addedTickets`asList(TicketStatus.FREE.name()`TicketStatus.RELEASED.name()));" is 170.,897
exteso_alf.io,alfio.manager,EventManager,handleTicketNumberModification,Long Statement,The length of the statement "Validate.isTrue(addedTickets == lockedTickets.size()`"Cannot add %d tickets. There are only %d free tickets."`addedTickets`lockedTickets.size());" is 145.,897
exteso_alf.io,alfio.manager,EventManager,handleTicketNumberModification,Long Statement,The length of the statement "throw new IllegalStateException("Cannot invalidate " + absDifference + " tickets. There are only "+ actualDifference+ " free tickets");" is 135.,897
exteso_alf.io,alfio.manager,EventManager,handleTicketNumberModification,Long Statement,The length of the statement "final MapSqlParameterSource[] params=generateEmptyTickets(event`Date.from(event.now(clockProvider).toInstant())`absDifference`TicketStatus.RELEASED).toArray(MapSqlParameterSource[]::new);" is 187.,897
exteso_alf.io,alfio.manager,EventManager,createAllTicketsForEvent,Long Statement,The length of the statement "final MapSqlParameterSource[] params=prepareTicketsBulkInsertParameters(event.now(clockProvider)`event`em.getAvailableSeats()`TicketStatus.FREE);" is 145.,930
exteso_alf.io,alfio.manager,EventManager,insertEvent,Long Statement,The length of the statement "return eventRepository.insert(em.getShortName()`em.getFormat()`em.getDisplayName()`em.getWebsiteUrl()`em.getExternalUrl()`em.getTermsAndConditionsUrl()`em.getPrivacyPolicyUrl()`em.getImageUrl()`em.getFileBlobId()`em.getLocation()`em.getLatitude()`em.getLongitude()`em.getBegin().toZonedDateTime(zoneId)`em.getEnd().toZonedDateTime(zoneId)`em.getZoneId()`em.getCurrency()`em.getAvailableSeats()`em.isVatIncluded()`vat`paymentProxies`privateKey`em.getOrganizationId()`em.getLocales()`em.getVatStatus()`em.getPriceInCents()`currentVersion`Event.Status.DRAFT`eventMetadata).getKey();" is 579.,936
exteso_alf.io,alfio.manager,EventManager,toggleTicketLocking,Long Statement,The length of the statement "var existingCategory=ticketCategoryRepository.findAllTicketCategories(event.getId()).stream().filter(tc -> tc.getId() == categoryId).findFirst();" is 145.,967
exteso_alf.io,alfio.manager,EventManager,toggleTicketLocking,Long Statement,The length of the statement "Validate.isTrue(ticketRepository.toggleTicketLocking(ticketId`categoryId`!ticket.getLockedAssignment()) == 1`"unwanted result from ticket locking");" is 148.,967
exteso_alf.io,alfio.manager,EventManager,addPromoCode,Long Parameter List,The method has 14 parameters. ,979
exteso_alf.io,alfio.manager,EventManager,addPromoCode,Long Statement,The length of the statement "Validate.isTrue((eventId != null && organizationId == null) || (eventId == null && organizationId != null)`"eventId or organizationId must be not null");" is 153.,979
exteso_alf.io,alfio.manager,EventManager,addPromoCode,Long Statement,The length of the statement "Validate.isTrue(!PromoCodeDiscount.supportsCurrencyCode(codeType`discountType) || StringUtils.length(currencyCode) == 3`"Currency code is not valid");" is 150.,979
exteso_alf.io,alfio.manager,EventManager,addPromoCode,Long Statement,The length of the statement "categoriesId=Optional.ofNullable(categoriesId).orElse(Collections.emptyList()).stream().filter(Objects::nonNull).toList();" is 122.,979
exteso_alf.io,alfio.manager,EventManager,addPromoCode,Long Statement,The length of the statement "promoCodeRepository.addPromoCode(promoCode`eventId`organizationId`start`end`discountAmount`discountType`Json.GSON.toJson(categoriesId)`maxUsage`description`emailReference`codeType`hiddenCategoryId`currencyCode);" is 211.,979
exteso_alf.io,alfio.manager,EventManager,addPromoCode,Magic Number,The method contains a magic number: 7,979
exteso_alf.io,alfio.manager,EventManager,addPromoCode,Magic Number,The method contains a magic number: 1025,979
exteso_alf.io,alfio.manager,EventManager,addPromoCode,Magic Number,The method contains a magic number: 257,979
exteso_alf.io,alfio.manager,EventManager,addPromoCode,Magic Number,The method contains a magic number: 3,979
exteso_alf.io,alfio.manager,EventManager,addPromoCode,Magic Number,The method contains a magic number: 100,979
exteso_alf.io,alfio.manager,EventManager,updatePromoCode,Long Parameter List,The method has 8 parameters. ,1034
exteso_alf.io,alfio.manager,EventManager,updatePromoCode,Long Statement,The length of the statement "promoCodeRepository.updateEventPromoCode(promoCodeId`start`end`maxUsage`categoriesJson`description`emailReference`hiddenCategoryId);" is 132.,1034
exteso_alf.io,alfio.manager,EventManager,updatePromoCode,Magic Number,The method contains a magic number: 1025,1034
exteso_alf.io,alfio.manager,EventManager,updatePromoCode,Magic Number,The method contains a magic number: 257,1034
exteso_alf.io,alfio.manager,EventManager,findPromoCodesInEvent,Long Statement,The length of the statement "return promoCodeRepository.findAllInEvent(eventId).stream().map(p -> new PromoCodeDiscountWithFormattedTimeAndAmount(p`event.getZoneId()`event.getCurrency())).toList();" is 168.,1042
exteso_alf.io,alfio.manager,EventManager,findPromoCodesInOrganization,Long Statement,The length of the statement "return promoCodeRepository.findAllInOrganization(organizationId).stream().map(p -> new PromoCodeDiscountWithFormattedTimeAndAmount(p`zoneId`null)).toList();" is 156.,1047
exteso_alf.io,alfio.manager,EventManager,getPublishedEvents,Long Statement,The length of the statement "return eventRepository.findVisibleBySearchOptions(searchOptions.getSubscriptionCodeUUIDOrNull()`searchOptions.getOrganizer()`searchOptions.getOrganizerSlug()`searchOptions.getTags());" is 183.,1063
exteso_alf.io,alfio.manager,EventManager,getActiveEventsStream,Long Statement,The length of the statement "return eventRepository.findAll().stream().filter(e -> e.getEnd().truncatedTo(ChronoUnit.DAYS).plusDays(1).isAfter(ZonedDateTime.now(clockProvider.withZone(e.getZoneId())).truncatedTo(ChronoUnit.DAYS)));" is 202.,1074
exteso_alf.io,alfio.manager,EventManager,deleteCategory,Long Statement,The length of the statement "var ticketIds=ticketRepository.selectTicketInCategoryForUpdate(eventId`categoryId`ticketsCount`List.of(TicketStatus.FREE.name()`TicketStatus.RELEASED.name()));" is 159.,1139
exteso_alf.io,alfio.manager,EventManager,deleteCategory,Long Statement,The length of the statement "Validate.isTrue(ticketIds.size() == ticketsCount`"Error while deleting category. Please ensure that there is no pending reservation.");" is 135.,1139
exteso_alf.io,alfio.manager,EventManager,deleteCategory,Long Statement,The length of the statement "Validate.isTrue(ticketsCount == ticketRepository.unbindTicketsFromCategory(eventId`categoryId`ticketIds)`"Cannot remove tickets from category.");" is 145.,1139
exteso_alf.io,alfio.manager,EventManager,deleteCategory,Magic Number,The method contains a magic number: 2,1139
exteso_alf.io,alfio.manager,EventManager,rearrangeCategories,Long Statement,The length of the statement "var parameterSources=categories.stream().map(category -> new MapSqlParameterSource("ordinal"`category.getOrdinal()).addValue("id"`category.getId()).addValue("eventId"`eventId)).toArray(MapSqlParameterSource[]::new);" is 215.,1167
exteso_alf.io,alfio.manager,EventManager,getEventNamesByIds,Long Statement,The length of the statement "return eventRepository.getEventNamesByIds(eventIds).stream().collect(Collectors.toMap(EventIdShortName::getId`EventIdShortName::getShortName));" is 143.,1183
exteso_alf.io,alfio.manager,EventManager,getEventsNameInOrganization,Long Statement,The length of the statement "return eventRepository.getEventsNameInOrganization(orgId).stream().collect(Collectors.toMap(EventIdShortName::getId`EventIdShortName::getShortName));" is 149.,1190
exteso_alf.io,alfio.manager,EventManager,updateMetadata,Long Statement,The length of the statement "var updatedMetadata=extensionManager.handleMetadataUpdate(event`organizationRepository.getById(event.getOrganizationId())`metadata);" is 132.,1197
exteso_alf.io,alfio.manager,EventManager,executeCapability,Long Statement,The length of the statement "return extensionManager.handleGenerateMeetingLinkCapability(event`organization`getMetadataForEvent(event)`requestParams).map(metadata -> {" is 138.,1215
exteso_alf.io,alfio.manager,WaitingQueueSubscriptionProcessor,WaitingQueueSubscriptionProcessor,Long Parameter List,The method has 11 parameters. ,70
exteso_alf.io,alfio.manager,WaitingQueueSubscriptionProcessor,handleWaitingTickets,Long Statement,The length of the statement "Map<Boolean`List<Event>> activeEvents=eventManager.getActiveEvents().stream().collect(Collectors.partitioningBy(this::isWaitingListFormEnabled));" is 145.,94
exteso_alf.io,alfio.manager,WaitingQueueSubscriptionProcessor,handleWaitingTickets,Long Statement,The length of the statement "TransactionStatus transaction=transactionManager.getTransaction(new DefaultTransactionDefinition(TransactionDefinition.PROPAGATION_REQUIRES_NEW));" is 146.,94
exteso_alf.io,alfio.manager,WaitingQueueSubscriptionProcessor,revertTicketToFreeIfCategoryIsExpired,Long Statement,The length of the statement "List<TicketInfo> releasedButExpired=ticketRepository.findReleasedBelongingToExpiredCategories(eventId`event.now(clockProvider));" is 128.,114
exteso_alf.io,alfio.manager,WaitingQueueSubscriptionProcessor,revertTicketToFreeIfCategoryIsExpired,Long Statement,The length of the statement "Map<Pair<Integer`Boolean>`List<Integer>> releasedByCategory=releasedButExpired.stream().collect(Collectors.groupingBy(t -> Pair.of(t.getTicketCategoryId()`t.isTicketCategoryBounded())`Collectors.mapping(TicketInfo::getTicketId`toList())));" is 239.,114
exteso_alf.io,alfio.manager,WaitingQueueSubscriptionProcessor,isWaitingListFormEnabled,Long Statement,The length of the statement "return res.get(ENABLE_WAITING_QUEUE).getValueAsBooleanOrDefault() || res.get(ENABLE_PRE_REGISTRATION).getValueAsBooleanOrDefault();" is 131.,134
exteso_alf.io,alfio.manager,WaitingQueueSubscriptionProcessor,distributeAvailableSeats,Long Statement,The length of the statement "String subject=messageSource.getMessage("email-waiting-queue-acquired.subject"`new Object[]{event.getDisplayName()}`locale);" is 124.,139
exteso_alf.io,alfio.manager,WaitingQueueSubscriptionProcessor,distributeAvailableSeats,Long Statement,The length of the statement "Map<String`Object> model=TemplateResource.buildModelForWaitingQueueReservationEmail(organization`event`subscription`reservationUrl`expiration);" is 143.,139
exteso_alf.io,alfio.manager,WaitingQueueSubscriptionProcessor,distributeAvailableSeats,Long Statement,The length of the statement "notificationManager.sendSimpleEmail(event`reservationId`subscription.getEmailAddress()`subject`() -> templateManager.renderTemplate(event`TemplateResource.WAITING_QUEUE_RESERVATION_EMAIL`model`locale));" is 202.,139
exteso_alf.io,alfio.manager,WaitingQueueSubscriptionProcessor,createReservation,Long Statement,The length of the statement "return ticketReservationManager.createTicketReservation(event`Collections.singletonList(reservation)`Collections.emptyList()`Date.from(expiration.toInstant())`Optional.empty()`locale`true`null);" is 194.,159
exteso_alf.io,alfio.manager,EuVatChecker,checkVat,Long Statement,The length of the statement "boolean valid=("IT".equals(organizerCountry) && "IT".equals(countryCode) && ItalianTaxIdValidator.validateVatId(vatNr)) || extensionManager.handleTaxIdValidation(purchaseContext`vatNr`organizerCountry);" is 202.,67
exteso_alf.io,alfio.manager,EuVatChecker,checkVat,Long Statement,The length of the statement "return new VatDetail(detail.getVatNr()`detail.getCountry()`valid`detail.getName()`detail.getAddress()`VatDetail.Type.FORMAL`false);" is 131.,67
exteso_alf.io,alfio.manager,EuVatChecker,performCheck,Long Statement,The length of the statement "boolean euCountryCode=configurationManager.getForSystem(ConfigurationKeys.EU_COUNTRIES_LIST).getRequiredValue().contains(countryCode);" is 134.,81
exteso_alf.io,alfio.manager,EuVatChecker,performCheck,Long Statement,The length of the statement "return Optional.ofNullable(validationResult).map(r -> getVatDetail(reverseChargeEnabled(configurationManager`configurable)`r`vatNr`countryCode`organizerCountry(configurationManager`configurable)));" is 197.,81
exteso_alf.io,alfio.manager,EuVatChecker,performCheck,Long Statement,The length of the statement "BooleanSupplier applyVatToForeignBusiness=() -> configurationManager.getFor(APPLY_VAT_FOREIGN_BUSINESS`configurable.getConfigurationLevel()).getValueAsBooleanOrDefault();" is 170.,81
exteso_alf.io,alfio.manager,EuVatChecker,performCheck,Long Statement,The length of the statement "return Optional.of(new VatDetail(vatNr`countryCode`true`""`""`euCountryCode ? VatDetail.Type.SKIPPED : VatDetail.Type.EXTRA_EU`vatExempt));" is 139.,81
exteso_alf.io,alfio.manager,EuVatChecker,performCheck,Magic Number,The method contains a magic number: 2,81
exteso_alf.io,alfio.manager,EuVatChecker,logSuccessfulValidation,Long Statement,The length of the statement "List<Map<String`Object>> modifications=List.of(Map.of("vatNumber"`detail.getVatNr()`"country"`detail.getCountry()`"validationType"`detail.getType()));" is 150.,114
exteso_alf.io,alfio.manager,EuVatChecker,logSuccessfulValidation,Long Statement,The length of the statement "auditingRepository.insert(reservationId`null`purchaseContext`eventType`new Date()`RESERVATION`reservationId`modifications);" is 123.,114
exteso_alf.io,alfio.manager,EuVatChecker,validateEUVat,Magic Number,The method contains a magic number: 2,127
exteso_alf.io,alfio.manager,EuVatChecker,getVatDetail,Long Parameter List,The method has 5 parameters. ,136
exteso_alf.io,alfio.manager,EuVatChecker,getVatDetail,Long Statement,The length of the statement "return new VatDetail(vatNr`countryCode`isValid`response.getName()`response.getAddress()`VatDetail.Type.VIES`isValid && reverseChargeEnabled && !organizerCountryCode.equals(countryCode));" is 186.,136
exteso_alf.io,alfio.manager,EuVatChecker,loadConfigurationForReverseChargeCheck,Long Statement,The length of the statement "return configurationManager.getFor(Set.of(ENABLE_EU_VAT_DIRECTIVE`COUNTRY_OF_BUSINESS`ENABLE_REVERSE_CHARGE_IN_PERSON`ENABLE_REVERSE_CHARGE_ONLINE)`configurable.getConfigurationLevel());" is 186.,149
exteso_alf.io,alfio.manager,EuVatChecker,reverseChargeEnabled,Long Statement,The length of the statement "Validate.isTrue(res.containsKey(ENABLE_EU_VAT_DIRECTIVE) && res.containsKey(COUNTRY_OF_BUSINESS) && res.containsKey(ENABLE_REVERSE_CHARGE_IN_PERSON)&& res.containsKey(ENABLE_REVERSE_CHARGE_ONLINE));" is 198.,156
exteso_alf.io,alfio.manager,EuVatChecker,reverseChargeEnabled,Long Statement,The length of the statement "return (res.get(ENABLE_EU_VAT_DIRECTIVE).getValueAsBooleanOrDefault() && (res.get(ENABLE_REVERSE_CHARGE_IN_PERSON).getValueAsBooleanOrDefault() || res.get(ENABLE_REVERSE_CHARGE_ONLINE).getValueAsBooleanOrDefault())) && res.get(COUNTRY_OF_BUSINESS).isPresent();" is 260.,156
exteso_alf.io,alfio.manager,EuVatChecker,validationEnabled,Long Statement,The length of the statement "return configurationManager.getFor(ConfigurationKeys.ENABLE_VIES_VALIDATION`configurable.getConfigurationLevel()).getValueAsBooleanOrDefault();" is 143.,173
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testSubscribeDenied,Long Statement,The length of the statement "TicketCategory firstCategory=eventManager.loadTicketCategories(event).stream().filter(t -> t.getName().equals("defaultFirst")).findFirst().orElseThrow(IllegalStateException::new);" is 179.,105
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testSubscribeDenied,Long Statement,The length of the statement "configurationManager.saveCategoryConfiguration(firstCategory.getId()`event.getId()`Collections.singletonList(new ConfigurationModification(null`ConfigurationKeys.MAX_AMOUNT_OF_TICKETS_BY_RESERVATION.getValue()`"1"))`pair.getRight() + "_owner");" is 244.,105
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testSubscribeDenied,Long Statement,The length of the statement "configurationRepository.insertEventLevel(event.getOrganizationId()`event.getId()`ConfigurationKeys.STOP_WAITING_QUEUE_SUBSCRIPTIONS.name()`"true"`"");" is 150.,105
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testSubscribeDenied,Magic Number,The method contains a magic number: 10,105
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testDistributeSeatsFirstCategoryIsUnbounded,Long Statement,The length of the statement "TicketCategory firstCategory=eventManager.loadTicketCategories(event).stream().filter(t -> t.getName().equals("defaultFirst")).findFirst().orElseThrow(IllegalStateException::new);" is 179.,120
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testDistributeSeatsFirstCategoryIsUnbounded,Long Statement,The length of the statement "configurationManager.saveCategoryConfiguration(firstCategory.getId()`event.getId()`Collections.singletonList(new ConfigurationModification(null`ConfigurationKeys.MAX_AMOUNT_OF_TICKETS_BY_RESERVATION.getValue()`"1"))`pair.getRight() + "_owner");" is 244.,120
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testDistributeSeatsFirstCategoryIsUnbounded,Long Statement,The length of the statement "List<Triple<WaitingQueueSubscription`TicketReservationWithOptionalCodeModification`ZonedDateTime>> subscriptions=waitingQueueManager.distributeSeats(event).toList();" is 165.,120
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testDistributeSeatsFirstCategoryIsUnbounded,Long Statement,The length of the statement "Triple<WaitingQueueSubscription`TicketReservationWithOptionalCodeModification`ZonedDateTime> subscriptionDetail=subscriptions.get(0);" is 133.,120
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testDistributeSeatsFirstCategoryIsUnbounded,Magic Number,The method contains a magic number: 10,120
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testDistributeSeatsFirstCategoryIsBounded,Long Statement,The length of the statement "TicketCategory firstCategory=eventManager.loadTicketCategories(event).stream().filter(t -> t.getName().equals("defaultFirst")).findFirst().orElseThrow(IllegalStateException::new);" is 179.,142
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testDistributeSeatsFirstCategoryIsBounded,Long Statement,The length of the statement "configurationManager.saveCategoryConfiguration(firstCategory.getId()`event.getId()`Collections.singletonList(new ConfigurationModification(null`ConfigurationKeys.MAX_AMOUNT_OF_TICKETS_BY_RESERVATION.getValue()`"1"))`pair.getRight() + "_owner");" is 244.,142
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testDistributeSeatsFirstCategoryIsBounded,Long Statement,The length of the statement "List<Triple<WaitingQueueSubscription`TicketReservationWithOptionalCodeModification`ZonedDateTime>> subscriptions=waitingQueueManager.distributeSeats(event).toList();" is 165.,142
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testDistributeSeatsFirstCategoryIsBounded,Long Statement,The length of the statement "Triple<WaitingQueueSubscription`TicketReservationWithOptionalCodeModification`ZonedDateTime> subscriptionDetail=subscriptions.get(0);" is 133.,142
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testDistributeSeatsFirstCategoryIsBounded,Magic Number,The method contains a magic number: 10,142
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testDistributeSeatsFirstCategoryIsBounded,Magic Number,The method contains a magic number: 10,142
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testWaitingQueueForUnboundedCategory,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 487.,164
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testWaitingQueueForUnboundedCategory,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification mod=new TicketReservationWithOptionalCodeModification(tr`Optional.empty());" is 121.,164
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testWaitingQueueForUnboundedCategory,Long Statement,The length of the statement "String reservationId=ticketReservationManager.createTicketReservation(event`Collections.singletonList(mod)`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.<String>empty()`Locale.ENGLISH`false`null);" is 215.,164
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testWaitingQueueForUnboundedCategory,Long Statement,The length of the statement "Pair<TotalPrice`Optional<PromoCodeDiscount>> priceAndDiscount=ticketReservationManager.totalReservationCostWithVAT(reservationId);" is 130.,164
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testWaitingQueueForUnboundedCategory,Long Statement,The length of the statement "PaymentSpecification spec=new PaymentSpecification(reservationId`null`reservationCost.getPriceWithVAT()`event`"blabla"`new CustomerName("a"`"b"`"c"`true)`""`null`Locale.ENGLISH`false`false`orderSummary`null`null`PriceContainer.VatStatus.INCLUDED`true`true);" is 257.,164
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testWaitingQueueForUnboundedCategory,Long Statement,The length of the statement "PaymentResult result=ticketReservationManager.performPayment(spec`reservationCost`PaymentProxy.OFFLINE`PaymentMethod.BANK_TRANSFER`null);" is 137.,164
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueUnboundedCategory,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(start.toLocalDate()`start.toLocalTime())`new DateTimeModification(end.toLocalDate()`end.toLocalTime())`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 403.,191
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueUnboundedCategory,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification multi=new TicketReservationWithOptionalCodeModification(tr`Optional.empty());" is 123.,191
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueUnboundedCategory,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification single=new TicketReservationWithOptionalCodeModification(tr2`Optional.empty());" is 125.,191
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueUnboundedCategory,Long Statement,The length of the statement "String reservationId=ticketReservationManager.createTicketReservation(event`Collections.singletonList(multi)`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.empty()`Locale.ENGLISH`false`null);" is 209.,191
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueUnboundedCategory,Long Statement,The length of the statement "Pair<TotalPrice`Optional<PromoCodeDiscount>> priceAndDiscount=ticketReservationManager.totalReservationCostWithVAT(reservationId);" is 130.,191
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueUnboundedCategory,Long Statement,The length of the statement "PaymentSpecification specification=new PaymentSpecification(reservationId`null`reservationCost.getPriceWithVAT()`event`"email@example.com"`new CustomerName("full name"`"full"`"name"`event.mustUseFirstAndLastName())`"billing address"`null`Locale.ENGLISH`true`false`null`"IT"`"123456"`PriceContainer.VatStatus.INCLUDED`true`false);" is 329.,191
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueUnboundedCategory,Long Statement,The length of the statement "PaymentResult result=ticketReservationManager.performPayment(specification`reservationCost`PaymentProxy.OFFLINE`PaymentMethod.BANK_TRANSFER`null);" is 146.,191
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueUnboundedCategory,Long Statement,The length of the statement "String reservationIdSingle=ticketReservationManager.createTicketReservation(event`Collections.singletonList(single)`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.empty()`Locale.ENGLISH`false`null);" is 216.,191
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueUnboundedCategory,Long Statement,The length of the statement "Pair<TotalPrice`Optional<PromoCodeDiscount>> priceAndDiscountSingle=ticketReservationManager.totalReservationCostWithVAT(reservationId);" is 136.,191
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueUnboundedCategory,Long Statement,The length of the statement "specification=new PaymentSpecification(reservationIdSingle`null`reservationCostSingle.getPriceWithVAT()`event`"email@example.com"`new CustomerName("full name"`"full"`"name"`event.mustUseFirstAndLastName())`"billing address"`null`Locale.ENGLISH`true`false`null`"IT"`"123456"`PriceContainer.VatStatus.INCLUDED`true`false);" is 320.,191
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueUnboundedCategory,Long Statement,The length of the statement "PaymentResult resultSingle=ticketReservationManager.performPayment(specification`reservationCostSingle`PaymentProxy.OFFLINE`PaymentMethod.BANK_TRANSFER`null);" is 158.,191
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueUnboundedCategory,Long Statement,The length of the statement "List<Triple<WaitingQueueSubscription`TicketReservationWithOptionalCodeModification`ZonedDateTime>> subscriptions=waitingQueueManager.distributeSeats(event).toList();" is 165.,191
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueUnboundedCategory,Long Statement,The length of the statement "Triple<WaitingQueueSubscription`TicketReservationWithOptionalCodeModification`ZonedDateTime> subscriptionDetail=subscriptions.get(0);" is 133.,191
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueUnboundedCategory,Magic Number,The method contains a magic number: 20,191
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueBoundedCategory,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(start.toLocalDate()`start.toLocalTime())`new DateTimeModification(end.toLocalDate()`end.toLocalTime())`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 402.,255
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueBoundedCategory,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification multi=new TicketReservationWithOptionalCodeModification(tr`Optional.empty());" is 123.,255
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueBoundedCategory,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification single=new TicketReservationWithOptionalCodeModification(tr2`Optional.empty());" is 125.,255
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueBoundedCategory,Long Statement,The length of the statement "String reservationId=ticketReservationManager.createTicketReservation(event`Collections.singletonList(multi)`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.empty()`Locale.ENGLISH`false`null);" is 209.,255
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueBoundedCategory,Long Statement,The length of the statement "Pair<TotalPrice`Optional<PromoCodeDiscount>> priceAndDiscount=ticketReservationManager.totalReservationCostWithVAT(reservationId);" is 130.,255
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueBoundedCategory,Long Statement,The length of the statement "PaymentSpecification specification=new PaymentSpecification(reservationId`null`reservationCost.getPriceWithVAT()`event`"email@example.com"`new CustomerName("full name"`"full"`"name"`event.mustUseFirstAndLastName())`"billing address"`null`Locale.ENGLISH`true`false`null`"IT"`"123456"`PriceContainer.VatStatus.INCLUDED`true`false);" is 329.,255
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueBoundedCategory,Long Statement,The length of the statement "PaymentResult result=ticketReservationManager.performPayment(specification`reservationCost`PaymentProxy.OFFLINE`PaymentMethod.BANK_TRANSFER`null);" is 146.,255
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueBoundedCategory,Long Statement,The length of the statement "String reservationIdSingle=ticketReservationManager.createTicketReservation(event`Collections.singletonList(single)`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.empty()`Locale.ENGLISH`false`null);" is 216.,255
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueBoundedCategory,Long Statement,The length of the statement "Pair<TotalPrice`Optional<PromoCodeDiscount>> priceAndDiscountSingle=ticketReservationManager.totalReservationCostWithVAT(reservationId);" is 136.,255
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueBoundedCategory,Long Statement,The length of the statement "specification=new PaymentSpecification(reservationIdSingle`null`reservationCostSingle.getPriceWithVAT()`event`"email@example.com"`new CustomerName("full name"`"full"`"name"`event.mustUseFirstAndLastName())`"billing address"`null`Locale.ENGLISH`true`false`null`"IT"`"123456"`PriceContainer.VatStatus.INCLUDED`true`false);" is 320.,255
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueBoundedCategory,Long Statement,The length of the statement "PaymentResult resultSingle=ticketReservationManager.performPayment(specification`reservationCostSingle`PaymentProxy.OFFLINE`PaymentMethod.BANK_TRANSFER`null);" is 158.,255
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueBoundedCategory,Long Statement,The length of the statement "List<Triple<WaitingQueueSubscription`TicketReservationWithOptionalCodeModification`ZonedDateTime>> subscriptions=waitingQueueManager.distributeSeats(event).toList();" is 165.,255
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueBoundedCategory,Long Statement,The length of the statement "Triple<WaitingQueueSubscription`TicketReservationWithOptionalCodeModification`ZonedDateTime> subscriptionDetail=subscriptions.get(0);" is 133.,255
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueBoundedCategory,Magic Number,The method contains a magic number: 2,255
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueBoundedCategory,Magic Number,The method contains a magic number: 20,255
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueUnboundedCategorySelected,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Arrays.asList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(start.toLocalDate()`start.toLocalTime())`new DateTimeModification(end.toLocalDate()`end.toLocalTime())`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"default2"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(start.toLocalDate()`start.toLocalTime())`new DateTimeModification(end.toLocalDate()`end.toLocalTime())`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 724.,317
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueUnboundedCategorySelected,Long Statement,The length of the statement "assertTrue(waitingQueueManager.subscribe(event`new CustomerName("John Doe 2"`"John"`"Doe 2"`event.mustUseFirstAndLastName())`"john@doe2.com"`second.getId()`Locale.ENGLISH));" is 173.,317
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueUnboundedCategorySelected,Long Statement,The length of the statement "List<Triple<WaitingQueueSubscription`TicketReservationWithOptionalCodeModification`ZonedDateTime>> subscriptions=waitingQueueManager.distributeSeats(event).toList();" is 165.,317
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueUnboundedCategorySelected,Long Statement,The length of the statement "Triple<WaitingQueueSubscription`TicketReservationWithOptionalCodeModification`ZonedDateTime> subscriptionDetail=subscriptions.get(0);" is 133.,317
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueUnboundedCategorySelected,Magic Number,The method contains a magic number: 2,317
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testAssignTicketToWaitingQueueUnboundedCategorySelected,Magic Number,The method contains a magic number: 2,317
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,reserveTickets,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification tcm=new TicketReservationWithOptionalCodeModification(tr`Optional.empty());" is 121.,378
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,reserveTickets,Long Statement,The length of the statement "String reservationId=ticketReservationManager.createTicketReservation(event`Collections.singletonList(tcm)`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.empty()`Locale.ENGLISH`false`null);" is 207.,378
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,reserveTickets,Long Statement,The length of the statement "Pair<TotalPrice`Optional<PromoCodeDiscount>> priceAndDiscount=ticketReservationManager.totalReservationCostWithVAT(reservationId);" is 130.,378
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,reserveTickets,Long Statement,The length of the statement "PaymentSpecification specification=new PaymentSpecification(reservationId`null`reservationCost.getPriceWithVAT()`event`"email@example.com"`new CustomerName("full name"`"full"`"name"`event.mustUseFirstAndLastName())`"billing address"`null`Locale.ENGLISH`true`false`null`"IT"`"123456"`PriceContainer.VatStatus.INCLUDED`true`false);" is 329.,378
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,reserveTickets,Long Statement,The length of the statement "PaymentResult result=ticketReservationManager.performPayment(specification`reservationCost`PaymentProxy.OFFLINE`PaymentMethod.BANK_TRANSFER`null);" is 146.,378
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testNoPublicCategoryAvailable,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Arrays.asList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`2`new DateTimeModification(start.toLocalDate()`start.toLocalTime())`new DateTimeModification(end.toLocalDate()`end.toLocalTime())`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"default2"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(start.toLocalDate()`start.toLocalTime())`new DateTimeModification(end.toLocalDate()`end.toLocalTime())`DESCRIPTION`BigDecimal.TEN`true`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 694.,395
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testNoPublicCategoryAvailable,Long Statement,The length of the statement "Pair<Event`String> eventAndUsername=initEvent(categories`organizationRepository`userManager`eventManager`eventRepository);" is 122.,395
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testNoPublicCategoryAvailable,Long Statement,The length of the statement "TicketCategory first=ticketCategories.stream().filter(tc -> !tc.isAccessRestricted()).findFirst().orElseThrow(IllegalStateException::new);" is 138.,395
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testNoPublicCategoryAvailable,Long Statement,The length of the statement "assertTrue(waitingQueueManager.subscribe(event`new CustomerName("John Doe 2"`"John"`"Doe 2"`event.mustUseFirstAndLastName())`"john@doe2.com"`null`Locale.ENGLISH));" is 163.,395
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testNoPublicCategoryAvailable,Long Statement,The length of the statement "Result<TicketCategory> ticketCategoryResult=eventManager.updateCategory(first.getId()`event`new TicketCategoryModification(first.getId()`first.getName()`TicketCategory.TicketAccessType.INHERIT`3`fromZonedDateTime(first.getInception(zoneId))`fromZonedDateTime(first.getExpiration(zoneId))`Collections.emptyMap()`first.getPrice()`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`eventAndUsername.getValue());" is 431.,395
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testNoPublicCategoryAvailable,Long Statement,The length of the statement "List<Triple<WaitingQueueSubscription`TicketReservationWithOptionalCodeModification`ZonedDateTime>> subscriptions=waitingQueueManager.distributeSeats(event).toList();" is 165.,395
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testNoPublicCategoryAvailable,Magic Number,The method contains a magic number: 2,395
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testNoPublicCategoryAvailable,Magic Number,The method contains a magic number: 10,395
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testNoPublicCategoryAvailable,Magic Number,The method contains a magic number: 2,395
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testNoPublicCategoryAvailable,Magic Number,The method contains a magic number: 3,395
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testTicketBelongsToExpiredCategory,Long Identifier,The length of the field waitingQueueSubscriptionProcessor is 33.,430
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testTicketBelongsToExpiredCategory,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Arrays.asList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`2`new DateTimeModification(start.toLocalDate()`start.toLocalTime())`new DateTimeModification(end.toLocalDate()`end.toLocalTime())`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"default2"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(start.toLocalDate()`start.toLocalTime())`new DateTimeModification(end.toLocalDate()`end.toLocalTime())`DESCRIPTION`BigDecimal.TEN`true`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 694.,430
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testTicketBelongsToExpiredCategory,Long Statement,The length of the statement "Pair<Event`String> eventAndUsername=initEvent(categories`organizationRepository`userManager`eventManager`eventRepository);" is 122.,430
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testTicketBelongsToExpiredCategory,Long Statement,The length of the statement "TicketCategory first=ticketCategories.stream().filter(tc -> !tc.isAccessRestricted()).findFirst().orElseThrow(IllegalStateException::new);" is 138.,430
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testTicketBelongsToExpiredCategory,Long Statement,The length of the statement "assertTrue(waitingQueueManager.subscribe(event`new CustomerName("John Doe 2"`"John"`"Doe 2"`event.mustUseFirstAndLastName())`"john@doe2.com"`null`Locale.ENGLISH));" is 163.,430
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testTicketBelongsToExpiredCategory,Long Statement,The length of the statement "ticketCategoryRepository.update(first.getId()`first.getName()`first.getInception(event.getZoneId())`event.now(clockProvider).minusMinutes(1L)`first.getMaxTickets()`first.isAccessRestricted()`MonetaryUtil.unitToCents(first.getPrice()`first.getCurrencyCode())`first.getCode()`null`null`null`null`first.getTicketCheckInStrategy()`first.getTicketAccessType());" is 356.,430
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testTicketBelongsToExpiredCategory,Long Statement,The length of the statement "List<TicketInfo> releasedButExpired=ticketRepository.findReleasedBelongingToExpiredCategories(event.getId()`event.now(clockProvider));" is 134.,430
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testTicketBelongsToExpiredCategory,Long Statement,The length of the statement "List<Triple<WaitingQueueSubscription`TicketReservationWithOptionalCodeModification`ZonedDateTime>> subscriptions=waitingQueueManager.distributeSeats(event).collect(Collectors.toList());" is 185.,430
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testTicketBelongsToExpiredCategory,Magic Number,The method contains a magic number: 2,430
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testTicketBelongsToExpiredCategory,Magic Number,The method contains a magic number: 10,430
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testTicketBelongsToExpiredCategory,Magic Number,The method contains a magic number: 2,430
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testTicketBelongsToExpiredCategory,Magic Number,The method contains a magic number: 2,430
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testTicketBelongsToExpiredCategory,Magic Number,The method contains a magic number: 2,430
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,testTicketBelongsToExpiredCategory,Magic Number,The method contains a magic number: 2,430
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,getPreSalesTicketCategoryModifications,Long Statement,The length of the statement "return Arrays.asList(new TicketCategoryModification(null`"defaultFirst"`TicketCategory.TicketAccessType.INHERIT`firstSeats`new DateTimeModification(start.toLocalDate()`start.toLocalTime())`new DateTimeModification(LocalDate.now(clockProvider.getClock()).plusDays(1)`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`firstBounded`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"defaultLast"`TicketCategory.TicketAccessType.INHERIT`lastSeats`new DateTimeModification(LocalDate.now(clockProvider.getClock()).plusDays(1)`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock()).plusDays(2)`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`lastBounded`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 861.,474
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,getPreSalesTicketCategoryModifications,Magic Number,The method contains a magic number: 4,474
exteso_alf.io,alfio.manager,WaitingQueueManagerIntegrationTest,getPreSalesTicketCategoryModifications,Magic Number,The method contains a magic number: 2,474
exteso_alf.io,alfio.manager,UploadedResourceIntegrationTest,ensureConfiguration,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock()).minusDays(1)`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(1)`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 500.,86
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,init,Long Statement,The length of the statement "specialPriceManager=new SpecialPriceManager(eventManager`notificationManager`specialPriceRepository`templateManager`messageSourceManager`i18nManager`configurationManager`TestUtil.clockProvider());" is 196.,68
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,linkAssigneeToCode,Long Statement,The length of the statement "when(specialPriceRepository.findActiveByCategoryIdForUpdate(eq(0)`eq(2))).thenReturn(List.of(specialPrice1`specialPrice2));" is 123.,101
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,linkAssigneeToCode,Magic Number,The method contains a magic number: 2,101
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,validationErrorCategoryNotRestricted,Long Statement,The length of the statement "Assertions.assertThrows(IllegalArgumentException.class`() -> specialPriceManager.linkAssigneeToCode(Collections.emptyList()`"test"`0`"username"));" is 146.,109
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,validationErrorTooManyCodesRequested,Long Statement,The length of the statement "Assertions.assertThrows(IllegalArgumentException.class`() -> specialPriceManager.linkAssigneeToCode(oneMore`"test"`0`"username"));" is 130.,115
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,validationErrorRequestedCodeIsNotAvailable,Long Statement,The length of the statement "List<SendCodeModification> notExistingCode=asList(new SendCodeModification("AAA"`"A 123"`"123@123"`"it")`new SendCodeModification("456"`"A 456"`"456@456"`"en"));" is 161.,122
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,validationErrorRequestedCodeIsNotAvailable,Long Statement,The length of the statement "Assertions.assertThrows(IllegalArgumentException.class`() -> specialPriceManager.linkAssigneeToCode(notExistingCode`"test"`0`"username"));" is 138.,122
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,validationErrorCodeRequestedTwice,Long Statement,The length of the statement "List<SendCodeModification> duplicatedCodes=asList(new SendCodeModification("123"`"A 123"`"123@123"`"it")`new SendCodeModification("123"`"A 456"`"456@456"`"en"));" is 161.,128
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,validationErrorCodeRequestedTwice,Long Statement,The length of the statement "Assertions.assertThrows(IllegalArgumentException.class`() -> specialPriceManager.linkAssigneeToCode(duplicatedCodes`"test"`0`"username"));" is 138.,128
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,sendAllCodes,Long Statement,The length of the statement "when(configurationManager.getFor(eq(USE_PARTNER_CODE_INSTEAD_OF_PROMOTIONAL)`any())).thenReturn(new ConfigurationManager.MaybeConfiguration(USE_PARTNER_CODE_INSTEAD_OF_PROMOTIONAL));" is 182.,134
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,sendAllCodes,Long Statement,The length of the statement "when(specialPriceRepository.findActiveByCategoryIdForUpdate(eq(0)`eq(2))).thenReturn(List.of(specialPrice1`specialPrice2));" is 123.,134
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,sendAllCodes,Long Statement,The length of the statement "verify(notificationManager`times(CODES_REQUESTED.size())).sendSimpleEmail(eq(event)`isNull()`anyString()`anyString()`any());" is 124.,134
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,sendAllCodes,Magic Number,The method contains a magic number: 2,134
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,sendSuccessfulComplete,Long Statement,The length of the statement "when(configurationManager.getFor(eq(USE_PARTNER_CODE_INSTEAD_OF_PROMOTIONAL)`any())).thenReturn(new ConfigurationManager.MaybeConfiguration(USE_PARTNER_CODE_INSTEAD_OF_PROMOTIONAL));" is 182.,143
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,trimLanguageTag,Long Statement,The length of the statement "when(configurationManager.getFor(eq(USE_PARTNER_CODE_INSTEAD_OF_PROMOTIONAL)`any())).thenReturn(new ConfigurationManager.MaybeConfiguration(USE_PARTNER_CODE_INSTEAD_OF_PROMOTIONAL));" is 182.,151
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,trimLanguageTag,Long Statement,The length of the statement "Assertions.assertTrue(specialPriceManager.sendCodeToAssignee(singletonList(new SendCodeModification("123"`"me"`"me@domain.com"`" it"))`""`0`""));" is 145.,151
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,trimLanguageTag,Long Statement,The length of the statement "verify(notificationManager).sendSimpleEmail(eq(event)`isNull()`eq("me@domain.com")`anyString()`templateCaptor.capture());" is 121.,151
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,trimLanguageTag,Long Statement,The length of the statement "verify(templateManager).renderTemplate(any(Event.class)`eq(TemplateResource.SEND_RESERVED_CODE)`captor.capture()`eq(Locale.ITALIAN));" is 133.,151
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,usePartnerCode,Long Statement,The length of the statement "when(configurationManager.getFor(eq(USE_PARTNER_CODE_INSTEAD_OF_PROMOTIONAL)`any())).thenReturn(new ConfigurationManager.MaybeConfiguration(USE_PARTNER_CODE_INSTEAD_OF_PROMOTIONAL`new ConfigurationKeyValuePathLevel(null`"true"`null)));" is 235.,172
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,sendMessage,Long Statement,The length of the statement "Assertions.assertTrue(specialPriceManager.sendCodeToAssignee(singletonList(new SendCodeModification("123"`"me"`"me@domain.com"`"it"))`""`0`""));" is 144.,181
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,sendMessage,Long Statement,The length of the statement "verify(notificationManager).sendSimpleEmail(eq(event)`isNull()`eq("me@domain.com")`anyString()`templateCaptor.capture());" is 121.,181
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,sendMessage,Long Statement,The length of the statement "verify(templateManager).renderTemplate(any(Event.class)`eq(TemplateResource.SEND_RESERVED_CODE)`captor.capture()`eq(Locale.ITALIAN));" is 133.,181
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,sendMessage,Long Statement,The length of the statement "verify(messageSource).getMessage(eq("email-code.subject")`eq(new Object[]{"Event Name"`promoCodeDescription})`eq(Locale.ITALIAN));" is 130.,181
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,testAssigneeLink,Long Statement,The length of the statement "List<SendCodeModification> sendCodeModifications=specialPriceManager.linkAssigneeToCode(modifications`"test"`0`"username");" is 123.,202
exteso_alf.io,alfio.manager,SpecialPriceManagerTest,testAssigneeLink,Magic Number,The method contains a magic number: 2,202
exteso_alf.io,alfio.manager,BillingDocumentManagerTest,setUp,Long Statement,The length of the statement "billingDocumentManager=new BillingDocumentManager(mock(BillingDocumentRepository.class)`mock(Json.class)`configurationManager`mock(TicketRepository.class)`mock(TicketCategoryRepository.class)`organizationRepository`mock(UserRepository.class)`auditingRepository`ticketReservationRepository`TestUtil.FIXED_TIME_CLOCK`extensionManager`invoiceSequencesRepository);" is 360.,69
exteso_alf.io,alfio.manager,BillingDocumentManagerTest,generateInvoiceNumberFromSequence,Long Statement,The length of the statement "when(extensionManager.handleInvoiceGeneration(eq(spec)`eq(totalPrice)`eq(billingDetails)`any())).thenReturn(Optional.empty());" is 126.,127
exteso_alf.io,alfio.manager,BillingDocumentManagerTest,generateInvoiceNumberFromSequence,Long Statement,The length of the statement "when(configurationManager.getFor(ConfigurationKeys.INVOICE_NUMBER_PATTERN`configurationLevel)).thenReturn(MaybeConfigurationBuilder.missing(ConfigurationKeys.INVOICE_NUMBER_PATTERN));" is 183.,127
exteso_alf.io,alfio.manager,BillingDocumentManagerTest,generateInvoiceNumberFromSequence,Long Statement,The length of the statement "verify(auditingRepository`never()).insert(eq(RESERVATION_ID)`any()`eq(purchaseContext)`eq(EXTERNAL_INVOICE_NUMBER)`any()`eq(RESERVATION)`eq(RESERVATION_ID)`any());" is 163.,127
exteso_alf.io,alfio.manager,BillingDocumentManagerTest,generateInvoiceNumberFromSequence,Magic Number,The method contains a magic number: 123,127
exteso_alf.io,alfio.manager,BillingDocumentManagerTest,generateInvoiceNumberFromSequenceWithPattern,Long Statement,The length of the statement "when(extensionManager.handleInvoiceGeneration(eq(spec)`eq(totalPrice)`eq(billingDetails)`any())).thenReturn(Optional.empty());" is 126.,144
exteso_alf.io,alfio.manager,BillingDocumentManagerTest,generateInvoiceNumberFromSequenceWithPattern,Long Statement,The length of the statement "when(configurationManager.getFor(ConfigurationKeys.INVOICE_NUMBER_PATTERN`configurationLevel)).thenReturn(MaybeConfigurationBuilder.existing(ConfigurationKeys.INVOICE_NUMBER_PATTERN`pattern));" is 192.,144
exteso_alf.io,alfio.manager,BillingDocumentManagerTest,generateInvoiceNumberFromSequenceWithPattern,Long Statement,The length of the statement "verify(auditingRepository`never()).insert(eq(RESERVATION_ID)`any()`eq(purchaseContext)`eq(EXTERNAL_INVOICE_NUMBER)`any()`eq(RESERVATION)`eq(RESERVATION_ID)`any());" is 163.,144
exteso_alf.io,alfio.manager,BillingDocumentManagerTest,generateInvoiceNumberFromSequenceWithPattern,Magic Number,The method contains a magic number: 123,144
exteso_alf.io,alfio.manager,BillingDocumentManagerTest,generateInvoiceNumberFromExtension,Long Statement,The length of the statement "when(extensionManager.handleInvoiceGeneration(eq(spec)`eq(totalPrice)`eq(billingDetails)`any())).thenReturn(Optional.of(invoiceGeneration));" is 140.,165
exteso_alf.io,alfio.manager,BillingDocumentManagerTest,generateInvoiceNumberFromExtension,Long Statement,The length of the statement "verify(auditingRepository).insert(eq(RESERVATION_ID)`any()`eq(purchaseContext)`eq(EXTERNAL_INVOICE_NUMBER)`any()`eq(RESERVATION)`eq(RESERVATION_ID)`eq(List.of(Map.of("invoiceNumber"`"external"))));" is 197.,165
exteso_alf.io,alfio.manager,BillingDocumentManagerTest,reuseInvoiceNumberForCreditNote,Long Statement,The length of the statement "when(configurationManager.getFor(ConfigurationKeys.REUSE_INVOICE_NUMBER_FOR_CREDIT_NOTE`configurationLevel)).thenReturn(MaybeConfigurationBuilder.missing(ConfigurationKeys.REUSE_INVOICE_NUMBER_FOR_CREDIT_NOTE));" is 211.,183
exteso_alf.io,alfio.manager,BillingDocumentManagerTest,reuseInvoiceNumberForCreditNote,Long Statement,The length of the statement "when(extensionManager.handleCreditNoteGeneration(purchaseContext`RESERVATION_ID`ORIGINAL_INVOICE_NUMBER`organization)).thenReturn(Optional.empty());" is 148.,183
exteso_alf.io,alfio.manager,BillingDocumentManagerTest,reuseInvoiceNumberForCreditNote,Long Statement,The length of the statement "verify(auditingRepository`never()).insert(eq(RESERVATION_ID)`any()`eq(purchaseContext)`eq(EXTERNAL_INVOICE_NUMBER)`any()`eq(RESERVATION)`eq(RESERVATION_ID)`any());" is 163.,183
exteso_alf.io,alfio.manager,BillingDocumentManagerTest,generateCreditNoteNumberFromExtension,Long Statement,The length of the statement "when(extensionManager.handleCreditNoteGeneration(purchaseContext`RESERVATION_ID`ORIGINAL_INVOICE_NUMBER`organization)).thenReturn(Optional.of(creditNoteGeneration));" is 165.,197
exteso_alf.io,alfio.manager,BillingDocumentManagerTest,generateCreditNoteNumberFromExtension,Long Statement,The length of the statement "verify(auditingRepository).insert(eq(RESERVATION_ID)`any()`eq(purchaseContext)`eq(EXTERNAL_CREDIT_NOTE_NUMBER)`any()`eq(RESERVATION)`eq(RESERVATION_ID)`eq(List.of(Map.of(CREDIT_NOTE_NUMBER`creditNoteNumber))));" is 210.,197
exteso_alf.io,alfio.manager,BillingDocumentManagerTest,generateCreditNoteNumberFromSequence,Long Statement,The length of the statement "when(configurationManager.getFor(ConfigurationKeys.REUSE_INVOICE_NUMBER_FOR_CREDIT_NOTE`configurationLevel)).thenReturn(MaybeConfigurationBuilder.existing(ConfigurationKeys.REUSE_INVOICE_NUMBER_FOR_CREDIT_NOTE`"false"));" is 220.,212
exteso_alf.io,alfio.manager,BillingDocumentManagerTest,generateCreditNoteNumberFromSequence,Long Statement,The length of the statement "when(extensionManager.handleCreditNoteGeneration(purchaseContext`RESERVATION_ID`ORIGINAL_INVOICE_NUMBER`organization)).thenReturn(Optional.empty());" is 148.,212
exteso_alf.io,alfio.manager,BillingDocumentManagerTest,generateCreditNoteNumberFromSequence,Long Statement,The length of the statement "when(configurationManager.getFor(ConfigurationKeys.INVOICE_NUMBER_PATTERN`configurationLevel)).thenReturn(MaybeConfigurationBuilder.missing(ConfigurationKeys.INVOICE_NUMBER_PATTERN));" is 183.,212
exteso_alf.io,alfio.manager,BillingDocumentManagerTest,generateCreditNoteNumberFromSequence,Long Statement,The length of the statement "verify(auditingRepository`never()).insert(eq(RESERVATION_ID)`any()`eq(purchaseContext)`eq(EXTERNAL_INVOICE_NUMBER)`any()`eq(RESERVATION)`eq(RESERVATION_ID)`any());" is 163.,212
exteso_alf.io,alfio.manager,BillingDocumentManagerTest,generateCreditNoteNumberFromSequence,Magic Number,The method contains a magic number: 123,212
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,testPreRegistration,Long Identifier,The length of the field waitingQueueSubscriptionProcessor is 33.,107
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,testPreRegistration,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(1)`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(2)`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 486.,107
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,testPreRegistration,Long Statement,The length of the statement "waitingQueueManager.subscribe(event`new CustomerName("Giuseppe Garibaldi"`"Giuseppe"`"Garibaldi"`event.mustUseFirstAndLastName())`"peppino@garibaldi.com"`null`Locale.ENGLISH);" is 175.,107
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,testPreRegistration,Long Statement,The length of the statement "waitingQueueManager.subscribe(event`new CustomerName("Nino Bixio"`"Nino"`"Bixio"`event.mustUseFirstAndLastName())`"bixio@mille.org"`null`Locale.ITALIAN);" is 153.,107
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,testPreRegistration,Long Statement,The length of the statement "TicketCategoryModification tcm=new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(ClockProvider.clock()).minusDays(1)`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(5)`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty());" is 446.,107
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,testPreRegistration,Long Statement,The length of the statement "assertTrue(subscriptions.stream().allMatch(w -> w.getSubscriptionType().equals(WaitingQueueSubscription.Type.PRE_SALES)));" is 122.,107
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,testPreRegistration,Magic Number,The method contains a magic number: 10,107
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,testPreRegistration,Magic Number,The method contains a magic number: 2,107
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,testPreRegistration,Magic Number,The method contains a magic number: 2,107
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,testPreRegistration,Magic Number,The method contains a magic number: 18,107
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,testPreRegistration,Magic Number,The method contains a magic number: 10,107
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,testPreRegistration,Magic Number,The method contains a magic number: 5,107
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,testPreRegistration,Magic Number,The method contains a magic number: 2,107
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,testSoldOut,Long Identifier,The length of the field waitingQueueSubscriptionProcessor is 33.,138
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,testSoldOut,Long Statement,The length of the statement "Optional<WaitingQueueSubscription> first=subscriptions.stream().filter(w -> w.getStatus().equals(WaitingQueueSubscription.Status.PENDING)).findFirst();" is 151.,138
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,testAddSeatsAfterSoldOut,Long Identifier,The length of the field waitingQueueSubscriptionProcessor is 33.,153
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,testAddSeatsAfterSoldOut,Long Statement,The length of the statement "EventModification eventModification=new EventModification(event.getId()`event.getFormat()`event.getWebsiteUrl()`event.getExternalUrl()`event.getTermsAndConditionsUrl()`event.getPrivacyPolicyUrl()`event.getImageUrl()`event.getFileBlobId()`event.getShortName()`event.getDisplayName()`event.getOrganizationId()`event.getLocation()`event.getLatitude()`event.getLongitude()`event.getZoneId().getId()`emptyMap()`fromZonedDateTime(event.getBegin())`fromZonedDateTime(event.getEnd())`event.getRegularPrice()`event.getCurrency()`eventRepository.countExistingTickets(event.getId()) + 1`event.getVat()`event.isVatIncluded()`event.getAllowedPaymentProxies()`Collections.emptyList()`event.isFreeOfCharge()`null`event.getLocales()`Collections.emptyList()`Collections.emptyList()`AlfioMetadata.empty()`List.of());" is 798.,153
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,testAddSeatsAfterSoldOut,Long Statement,The length of the statement "Optional<WaitingQueueSubscription> first=subscriptions.stream().filter(w -> w.getStatus().equals(WaitingQueueSubscription.Status.PENDING)).findFirst();" is 151.,153
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,testAddSeatsAfterSoldOutWithoutUnbounded,Long Identifier,The length of the field waitingQueueSubscriptionProcessor is 33.,172
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,testAddSeatsAfterSoldOutWithoutUnbounded,Long Statement,The length of the statement "EventModification eventModification=new EventModification(event.getId()`event.getFormat()`event.getWebsiteUrl()`event.getExternalUrl()`event.getTermsAndConditionsUrl()`event.getPrivacyPolicyUrl()`event.getImageUrl()`event.getFileBlobId()`event.getShortName()`event.getDisplayName()`event.getOrganizationId()`event.getLocation()`event.getLatitude()`event.getLongitude()`event.getZoneId().getId()`emptyMap()`fromZonedDateTime(event.getBegin())`fromZonedDateTime(event.getEnd())`event.getRegularPrice()`event.getCurrency()`eventRepository.countExistingTickets(event.getId()) + 1`event.getVat()`event.isVatIncluded()`event.getAllowedPaymentProxies()`Collections.emptyList()`event.isFreeOfCharge()`null`event.getLocales()`Collections.emptyList()`Collections.emptyList()`AlfioMetadata.empty()`List.of());" is 798.,172
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,testAddSeatsAfterSoldOutWithoutUnbounded,Long Statement,The length of the statement "eventManager.updateCategory(category.getId()`event.getId()`new TicketCategoryModification(category.getId()`category.getName()`TicketCategory.TicketAccessType.INHERIT`category.getMaxTickets() + 1`fromZonedDateTime(category.getInception(event.getZoneId()))`fromZonedDateTime(category.getExpiration(event.getZoneId()))`emptyMap()`category.getPrice()`category.isAccessRestricted()`""`category.isBounded()`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`"admin");" is 470.,172
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,testAddSeatsAfterSoldOutWithoutUnbounded,Long Statement,The length of the statement "Optional<WaitingQueueSubscription> first=subscriptions.stream().filter(w -> w.getStatus().equals(WaitingQueueSubscription.Status.PENDING)).findFirst();" is 151.,172
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,initSoldOutEvent,Long Identifier,The length of the field waitingQueueSubscriptionProcessor is 33.,202
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,initSoldOutEvent,Long Statement,The length of the statement "categories.add(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`boundedCategorySize`new DateTimeModification(LocalDate.now(ClockProvider.clock()).minusDays(1)`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(2)`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.ZERO`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 449.,202
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,initSoldOutEvent,Long Statement,The length of the statement "categories.add(new TicketCategoryModification(null`"unbounded"`TicketCategory.TicketAccessType.INHERIT`0`new DateTimeModification(LocalDate.now(ClockProvider.clock()).minusDays(1)`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(2)`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.ZERO`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 434.,202
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,initSoldOutEvent,Long Statement,The length of the statement "TicketCategory bounded=ticketCategories.stream().filter(t -> t.getName().equals("default")).findFirst().orElseThrow(IllegalStateException::new);" is 144.,202
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,initSoldOutEvent,Long Statement,The length of the statement "ticketReservationRepository.createNewReservation(reservationId`ZonedDateTime.now(ClockProvider.clock())`DateUtils.addHours(new Date()`1)`null`Locale.ITALIAN.getLanguage()`event.getId()`event.getVat()`event.isVatIncluded()`event.getCurrency()`event.getOrganizationId()`null);" is 274.,202
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,initSoldOutEvent,Long Statement,The length of the statement "TicketCategory unbounded=ticketCategories.stream().filter(t -> t.getName().equals("unbounded")).findFirst().orElseThrow(IllegalStateException::new);" is 148.,202
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,initSoldOutEvent,Long Statement,The length of the statement "ticketRepository.reserveTickets(reservationId`reserved.subList(19`20)`unbounded`Locale.ITALIAN.getLanguage()`event.getVatStatus()`i -> null);" is 141.,202
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,initSoldOutEvent,Long Statement,The length of the statement "waitingQueueManager.subscribe(event`new CustomerName("Giuseppe Garibaldi"`"Giuseppe"`"Garibaldi"`event.mustUseFirstAndLastName())`"peppino@garibaldi.com"`null`Locale.ENGLISH);" is 175.,202
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,initSoldOutEvent,Long Statement,The length of the statement "waitingQueueManager.subscribe(event`new CustomerName("Nino Bixio"`"Nino"`"Bixio"`event.mustUseFirstAndLastName())`"bixio@mille.org"`null`Locale.ITALIAN);" is 153.,202
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,initSoldOutEvent,Long Statement,The length of the statement "assertTrue(subscriptions.stream().allMatch(w -> w.getSubscriptionType().equals(WaitingQueueSubscription.Type.SOLD_OUT)));" is 121.,202
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,initSoldOutEvent,Magic Number,The method contains a magic number: 2,202
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,initSoldOutEvent,Magic Number,The method contains a magic number: 2,202
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,initSoldOutEvent,Magic Number,The method contains a magic number: 20,202
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,initSoldOutEvent,Magic Number,The method contains a magic number: 19,202
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,initSoldOutEvent,Magic Number,The method contains a magic number: 20,202
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,initSoldOutEvent,Magic Number,The method contains a magic number: 19,202
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,initSoldOutEvent,Magic Number,The method contains a magic number: 20,202
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,initSoldOutEvent,Magic Number,The method contains a magic number: 100L,202
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,initSoldOutEvent,Magic Number,The method contains a magic number: 2,202
exteso_alf.io,alfio.manager,WaitingQueueProcessorIntegrationTest,initSoldOutEvent,Magic Number,The method contains a magic number: 2,202
exteso_alf.io,alfio.manager,EventManagerUnbindTicketsTest,setUp,Long Identifier,The length of the field ticketCategoryDescriptionRepository is 35.,63
exteso_alf.io,alfio.manager,EventManagerUnbindTicketsTest,setUp,Long Statement,The length of the statement "eventManager=new EventManager(userManager`eventRepository`eventDescriptionRepository`ticketCategoryRepository`ticketCategoryDescriptionRepository`ticketRepository`specialPriceRepository`null`null`null`null`null`null`null`null`organizationRepository`null`null`null`null`null`null`TestUtil.clockProvider()`mock(SubscriptionRepository.class));" is 340.,63
exteso_alf.io,alfio.manager,EventManagerUnbindTicketsTest,unbindTicketsFromBoundedCategory,Long Statement,The length of the statement "when(ticketRepository.selectTicketInCategoryForUpdate(eq(eventId)`eq(categoryId)`eq(notSold)`eq(singletonList(Ticket.TicketStatus.FREE.name())))).thenReturn(lockedTickets);" is 172.,122
exteso_alf.io,alfio.manager,EventManagerUnbindTicketsTest,unbindTicketsFromBoundedCategory,Long Statement,The length of the statement "verify(ticketRepository).selectTicketInCategoryForUpdate(eq(eventId)`eq(categoryId)`eq(notSold)`eq(singletonList(Ticket.TicketStatus.FREE.name())));" is 148.,122
exteso_alf.io,alfio.manager,EventManagerUnbindTicketsTest,unbindTicketsFromBoundedCategory,Magic Number,The method contains a magic number: 2,122
exteso_alf.io,alfio.manager,EventManagerUnbindTicketsTest,unbindTicketsFromBoundedCategory,Magic Number,The method contains a magic number: 2,122
exteso_alf.io,alfio.manager,EventManagerUnbindTicketsTest,unbindTicketsFromBoundedCategory,Magic Number,The method contains a magic number: 2,122
exteso_alf.io,alfio.manager,AdminOpenIdAuthenticationManagerTest,setUp,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ConfigurationKeys.BASE_URL)`any())).thenReturn(new ConfigurationManager.MaybeConfiguration(ConfigurationKeys.BASE_URL`new ConfigurationKeyValuePathLevel(""`"blabla"`ConfigurationPathLevel.SYSTEM)));" is 234.,57
exteso_alf.io,alfio.manager,AdminOpenIdAuthenticationManagerTest,setUp,Long Statement,The length of the statement "authenticationManager=new AdminOpenIdAuthenticationManager(environment`null`configurationManager`null`null`null`null`null`null`null`new Json());" is 144.,57
exteso_alf.io,alfio.manager,AdminOpenIdAuthenticationManagerTest,oauth2_authorize_url_test,Long Statement,The length of the statement "String expectedURL="https://domain_test/auth?redirect_uri=callback&client_id=123&state=" + state + "&scope=openid+email+profile+groups+alfio-groups+given_name+family_name&response_type=code";" is 191.,77
exteso_alf.io,alfio.manager,AdminOpenIdAuthenticationManagerTest,oauth2_json_build_body_test,Long Statement,The length of the statement "Map<String`String> expectedBody=mapper.readValue("{\"code\":\"code\"`\"redirect_uri\":\"callback\"`\"grant_type\":\"authorization_code\"`\"client_secret\":\"1234\"`\"client_id\":\"123\"}"`new TypeReference<>(){" is 210.,99
exteso_alf.io,alfio.manager,AdminOpenIdAuthenticationManagerTest,oauth2GetScopes,Long Statement,The length of the statement "List<String> expectedScopes=Arrays.asList("openid"`"email"`"profile"`GROUPS_NAME`ALFIO_GROUPS_NAME`"given_name"`"family_name");" is 127.,120
exteso_alf.io,alfio.manager,AdminOpenIdAuthenticationManagerTest,oauth2GetScopesOverrideClaims,Long Statement,The length of the statement "List<String> expectedScopes=Arrays.asList("openid"`"email"`"profile"`GROUPS_NAME`ALFIO_GROUPS_NAME`givenNameClaim`familyNameClaim);" is 131.,127
exteso_alf.io,alfio.manager,TicketReservationManagerTest,init,Long Identifier,The length of the identifier additionalServiceTextRepository is 31.,143
exteso_alf.io,alfio.manager,TicketReservationManagerTest,init,Long Identifier,The length of the identifier additionalServiceItemRepository is 31.,143
exteso_alf.io,alfio.manager,TicketReservationManagerTest,init,Long Identifier,The length of the field ticketCategoryDescriptionRepository is 35.,143
exteso_alf.io,alfio.manager,TicketReservationManagerTest,init,Long Statement,The length of the statement "trm=new TicketReservationManager(eventRepository`organizationRepository`ticketRepository`ticketReservationRepository`ticketCategoryRepository`ticketCategoryDescriptionRepository`configurationManager`paymentManager`promoCodeDiscountRepository`specialPriceRepository`transactionRepository`notificationManager`messageSourceManager`templateManager`transactionManager`waitingQueueManager`ticketFieldRepository`additionalServiceRepository`additionalServiceItemRepository`additionalServiceTextRepository`auditingRepository`userRepository`extensionManager`ticketSearchRepository`groupManager`billingDocumentRepository`jdbcTemplate`json`billingDocumentManager`TestUtil.clockProvider()`purchaseContextManager`mock(SubscriptionRepository.class)`mock(UserManager.class));" is 759.,143
exteso_alf.io,alfio.manager,TicketReservationManagerTest,init,Long Statement,The length of the statement "var baseUrlConf=new MaybeConfiguration(ConfigurationKeys.BASE_URL`new ConfigurationKeyValuePathLevel(null`BASE_URL`null));" is 122.,143
exteso_alf.io,alfio.manager,TicketReservationManagerTest,init,Long Statement,The length of the statement "when(billingDocumentRepository.insert(anyInt()`anyString()`anyString()`any()`anyString()`any()`anyInt())).thenReturn(new AffectedRowCountAndKey<>(1`1L));" is 153.,143
exteso_alf.io,alfio.manager,TicketReservationManagerTest,init,Magic Number,The method contains a magic number: 100,143
exteso_alf.io,alfio.manager,TicketReservationManagerTest,init,Magic Number,The method contains a magic number: 100,143
exteso_alf.io,alfio.manager,TicketReservationManagerTest,init,Magic Number,The method contains a magic number: 10,143
exteso_alf.io,alfio.manager,TicketReservationManagerTest,initUpdateTicketOwner,Long Parameter List,The method has 6 parameters. ,282
exteso_alf.io,alfio.manager,TicketReservationManagerTest,doNotSendWarningEmailIfAdmin,Long Statement,The length of the statement "when(ticketReservationRepository.findOptionalReservationById(eq(ticketReservationId))).thenReturn(Optional.of(reservation));" is 124.,292
exteso_alf.io,alfio.manager,TicketReservationManagerTest,doNotSendWarningEmailIfAdmin,Long Statement,The length of the statement "verify(messageSource`never()).getMessage(eq("ticket-has-changed-owner-subject")`eq(new Object[]{"short-name"})`eq(Locale.ITALIAN));" is 131.,292
exteso_alf.io,alfio.manager,TicketReservationManagerTest,sendWarningEmailIfNotAdmin,Long Statement,The length of the statement "when(ownerChangeTextBuilder.generate(eq(modified))).thenReturn(RenderedTemplate.multipart("Hello` world"`"<p>Hello` world</p>"`Map.of()));" is 138.,311
exteso_alf.io,alfio.manager,TicketReservationManagerTest,sendWarningEmailIfNotAdmin,Long Statement,The length of the statement "verify(notificationManager`times(1)).sendSimpleEmail(eq(event)`eq(RESERVATION_ID)`eq(originalEmail)`anyString()`any(TemplateGenerator.class));" is 142.,311
exteso_alf.io,alfio.manager,TicketReservationManagerTest,sendWarningEmailToOrganizer,Long Statement,The length of the statement "when(ownerChangeTextBuilder.generate(eq(modified))).thenReturn(RenderedTemplate.multipart("Hello` world"`"<p>Hello` world</p>"`Map.of()));" is 138.,333
exteso_alf.io,alfio.manager,TicketReservationManagerTest,sendWarningEmailToOrganizer,Long Statement,The length of the statement "verify(notificationManager`times(1)).sendSimpleEmail(eq(event)`eq(RESERVATION_ID)`eq(originalEmail)`anyString()`any(TemplateGenerator.class));" is 142.,333
exteso_alf.io,alfio.manager,TicketReservationManagerTest,sendWarningEmailToOrganizer,Long Statement,The length of the statement "verify(notificationManager`times(1)).sendSimpleEmail(eq(event)`eq(null)`eq(ORG_EMAIL)`anyString()`any(TemplateGenerator.class));" is 128.,333
exteso_alf.io,alfio.manager,TicketReservationManagerTest,dontSendWarningEmailIfNotAcquiredStatus,Long Statement,The length of the statement "when(ownerChangeTextBuilder.generate(eq(modified))).thenReturn(RenderedTemplate.multipart("Hello` world"`"<p>Hello` world</p>"`Map.of()));" is 138.,358
exteso_alf.io,alfio.manager,TicketReservationManagerTest,fallbackToCurrentLocale,Long Statement,The length of the statement "when(ownerChangeTextBuilder.generate(eq(modified))).thenReturn(RenderedTemplate.multipart("Hello` world"`"<p>Hello` world</p>"`Map.of()));" is 138.,376
exteso_alf.io,alfio.manager,TicketReservationManagerTest,fallbackToCurrentLocale,Long Statement,The length of the statement "verify(notificationManager`times(1)).sendTicketByEmail(eq(modified)`eq(event)`eq(Locale.ENGLISH)`any()`any()`any()`any());" is 122.,376
exteso_alf.io,alfio.manager,TicketReservationManagerTest,fallbackToCurrentLocale,Long Statement,The length of the statement "verify(notificationManager`times(1)).sendSimpleEmail(eq(event)`eq(RESERVATION_ID)`eq(originalEmail)`anyString()`any(TemplateGenerator.class));" is 142.,376
exteso_alf.io,alfio.manager,TicketReservationManagerTest,sendAssignmentReminderBeforeEventEnd,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ASSIGNMENT_REMINDER_START)`any())).thenReturn(new MaybeConfiguration(ASSIGNMENT_REMINDER_START));" is 133.,400
exteso_alf.io,alfio.manager,TicketReservationManagerTest,sendAssignmentReminderBeforeEventEnd,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ASSIGNMENT_REMINDER_INTERVAL)`any())).thenReturn(new MaybeConfiguration(ASSIGNMENT_REMINDER_INTERVAL));" is 139.,400
exteso_alf.io,alfio.manager,TicketReservationManagerTest,sendAssignmentReminderBeforeEventEnd,Long Statement,The length of the statement "verify(notificationManager`times(1)).sendSimpleEmail(eq(event)`eq("abcd")`eq("ciccio")`anyString()`any(TemplateGenerator.class));" is 129.,400
exteso_alf.io,alfio.manager,TicketReservationManagerTest,doNotSendAssignmentReminderAfterEventEnd,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ASSIGNMENT_REMINDER_START)`any())).thenReturn(new MaybeConfiguration(ASSIGNMENT_REMINDER_START));" is 133.,423
exteso_alf.io,alfio.manager,TicketReservationManagerTest,doNotSendAssignmentReminderAfterEventEnd,Long Statement,The length of the statement "verify(notificationManager`never()).sendSimpleEmail(eq(event)`anyString()`anyString()`anyString()`any(TemplateGenerator.class));" is 128.,423
exteso_alf.io,alfio.manager,TicketReservationManagerTest,considerZoneIdWhileChecking,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ASSIGNMENT_REMINDER_START)`any())).thenReturn(new MaybeConfiguration(ASSIGNMENT_REMINDER_START));" is 133.,441
exteso_alf.io,alfio.manager,TicketReservationManagerTest,considerZoneIdWhileChecking,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ASSIGNMENT_REMINDER_INTERVAL)`any())).thenReturn(new MaybeConfiguration(ASSIGNMENT_REMINDER_INTERVAL));" is 139.,441
exteso_alf.io,alfio.manager,TicketReservationManagerTest,considerZoneIdWhileChecking,Long Statement,The length of the statement "verify(notificationManager`times(1)).sendSimpleEmail(eq(event)`eq("abcd")`anyString()`anyString()`any(TemplateGenerator.class));" is 128.,441
exteso_alf.io,alfio.manager,TicketReservationManagerTest,considerZoneIdWhileChecking,Magic Number,The method contains a magic number: 4,441
exteso_alf.io,alfio.manager,TicketReservationManagerTest,considerZoneIdWhileCheckingExpired,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ASSIGNMENT_REMINDER_START)`any())).thenReturn(new MaybeConfiguration(ASSIGNMENT_REMINDER_START));" is 133.,466
exteso_alf.io,alfio.manager,TicketReservationManagerTest,considerZoneIdWhileCheckingExpired,Long Statement,The length of the statement "verify(notificationManager`never()).sendSimpleEmail(eq(event)`anyString()`anyString()`anyString()`any(TemplateGenerator.class));" is 128.,466
exteso_alf.io,alfio.manager,TicketReservationManagerTest,doNotSendReminderTooEarly,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ASSIGNMENT_REMINDER_START)`any())).thenReturn(new MaybeConfiguration(ASSIGNMENT_REMINDER_START));" is 133.,484
exteso_alf.io,alfio.manager,TicketReservationManagerTest,doNotSendReminderTooEarly,Long Statement,The length of the statement "verify(notificationManager`never()).sendSimpleEmail(eq(event)`anyString()`anyString()`anyString()`any(TemplateGenerator.class));" is 128.,484
exteso_alf.io,alfio.manager,TicketReservationManagerTest,doNotSendReminderTooEarly,Magic Number,The method contains a magic number: 3,484
exteso_alf.io,alfio.manager,TicketReservationManagerTest,initOfflinePaymentTest,Long Statement,The length of the statement "when(configurationManager.getFor(eq(OFFLINE_PAYMENT_DAYS)`any())).thenReturn(new MaybeConfiguration(OFFLINE_PAYMENT_DAYS`new ConfigurationKeyValuePathLevel(OFFLINE_PAYMENT_DAYS.getValue()`"2"`null)));" is 200.,503
exteso_alf.io,alfio.manager,TicketReservationManagerTest,returnTheExpiredDateAsConfigured,Long Statement,The length of the statement "ZonedDateTime offlinePaymentDeadline=BankTransferManager.getOfflinePaymentDeadline(new PaymentContext(event)`configurationManager);" is 131.,509
exteso_alf.io,alfio.manager,TicketReservationManagerTest,returnTheExpiredDateAsConfigured,Long Statement,The length of the statement "ZonedDateTime expectedDate=ZonedDateTime.now(ClockProvider.clock()).plusDays(2L).truncatedTo(ChronoUnit.HALF_DAYS).with(WorkingDaysAdjusters.defaultWorkingDays());" is 163.,509
exteso_alf.io,alfio.manager,TicketReservationManagerTest,returnTheExpiredDateAsConfigured,Magic Number,The method contains a magic number: 3,509
exteso_alf.io,alfio.manager,TicketReservationManagerTest,returnTheExpiredDateAsConfigured,Magic Number,The method contains a magic number: 2L,509
exteso_alf.io,alfio.manager,TicketReservationManagerTest,returnTheConfiguredWaitingTime,Long Statement,The length of the statement "OptionalInt offlinePaymentWaitingPeriod=BankTransferManager.getOfflinePaymentWaitingPeriod(new PaymentContext(event)`configurationManager);" is 139.,518
exteso_alf.io,alfio.manager,TicketReservationManagerTest,returnTheConfiguredWaitingTime,Magic Number,The method contains a magic number: 3,518
exteso_alf.io,alfio.manager,TicketReservationManagerTest,returnTheConfiguredWaitingTime,Magic Number,The method contains a magic number: 2,518
exteso_alf.io,alfio.manager,TicketReservationManagerTest,considerEventBeginDateWhileCalculatingExpDate,Long Statement,The length of the statement "ZonedDateTime offlinePaymentDeadline=BankTransferManager.getOfflinePaymentDeadline(new PaymentContext(event)`configurationManager);" is 131.,527
exteso_alf.io,alfio.manager,TicketReservationManagerTest,considerEventBeginDateWhileCalculatingExpDate,Long Statement,The length of the statement "Assertions.assertTrue(LocalDate.now(ClockProvider.clock()).getDayOfWeek() != DayOfWeek.FRIDAY || days == 3`"value must be 3 on Friday");" is 136.,527
exteso_alf.io,alfio.manager,TicketReservationManagerTest,considerEventBeginDateWhileCalculatingExpDate,Long Statement,The length of the statement "Assertions.assertTrue(LocalDate.now(ClockProvider.clock()).getDayOfWeek() != DayOfWeek.SATURDAY || days == 2`"value must be 2 on Saturday");" is 140.,527
exteso_alf.io,alfio.manager,TicketReservationManagerTest,considerEventBeginDateWhileCalculatingExpDate,Long Statement,The length of the statement "Assertions.assertTrue(!EnumSet.of(DayOfWeek.MONDAY`DayOfWeek.TUESDAY`DayOfWeek.WEDNESDAY`DayOfWeek.THURSDAY).contains(LocalDate.now(ClockProvider.clock()).getDayOfWeek()) || days == 1`"value must be 1 on week days");" is 216.,527
exteso_alf.io,alfio.manager,TicketReservationManagerTest,considerEventBeginDateWhileCalculatingExpDate,Magic Number,The method contains a magic number: 3,527
exteso_alf.io,alfio.manager,TicketReservationManagerTest,considerEventBeginDateWhileCalculatingExpDate,Magic Number,The method contains a magic number: 2,527
exteso_alf.io,alfio.manager,TicketReservationManagerTest,returnConfiguredWaitingTimeConsideringEventStart,Long Statement,The length of the statement "OptionalInt offlinePaymentWaitingPeriod=BankTransferManager.getOfflinePaymentWaitingPeriod(new PaymentContext(event)`configurationManager);" is 139.,539
exteso_alf.io,alfio.manager,TicketReservationManagerTest,neverReturnADateInThePast,Long Statement,The length of the statement "ZonedDateTime offlinePaymentDeadline=BankTransferManager.getOfflinePaymentDeadline(new PaymentContext(event)`configurationManager);" is 131.,548
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reserveTicketsForCategoryWithAccessCode,Long Statement,The length of the statement "when(specialPriceRepository.bindToAccessCode(eq(TICKET_CATEGORY_ID)`eq(accessCodeId)`eq(2))).thenReturn(List.of(new SpecialPrice(1`"AAAA"`0`TICKET_CATEGORY_ID`SpecialPrice.Status.FREE.name()`null`null`null`accessCodeId)`new SpecialPrice(2`"BBBB"`0`TICKET_CATEGORY_ID`SpecialPrice.Status.FREE.name()`null`null`null`accessCodeId)));" is 330.,566
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reserveTicketsForCategoryWithAccessCode,Long Statement,The length of the statement "when(ticketRepository.selectNotAllocatedTicketsForUpdateSkipLocked(eq(EVENT_ID)`eq(2)`eq(List.of("FREE")))).thenReturn(List.of(TICKET_ID`2));" is 141.,566
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reserveTicketsForCategoryWithAccessCode,Magic Number,The method contains a magic number: 2,566
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reserveTicketsForCategoryWithAccessCode,Magic Number,The method contains a magic number: 666,566
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reserveTicketsForCategoryWithAccessCode,Magic Number,The method contains a magic number: 1000,566
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reserveTicketsForCategoryWithAccessCode,Magic Number,The method contains a magic number: 1000,566
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reserveTicketsForCategoryWithAccessCode,Magic Number,The method contains a magic number: 2,566
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reserveTicketsForCategoryWithAccessCode,Magic Number,The method contains a magic number: 2,566
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reserveTicketsForCategoryWithAccessCode,Magic Number,The method contains a magic number: 2,566
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reserveTicketsForCategoryWithAccessCode,Magic Number,The method contains a magic number: 2,566
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reserveTicketsForCategoryWithAccessCode,Magic Number,The method contains a magic number: 2,566
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reserveTicketsForBoundedCategories,Long Statement,The length of the statement "when(ticketRepository.selectTicketInCategoryForUpdateSkipLocked(eq(EVENT_ID)`eq(TICKET_CATEGORY_ID)`eq(1)`eq(singletonList(Ticket.TicketStatus.FREE.name())))).thenReturn(ids);" is 175.,595
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reserveTicketsForBoundedCategories,Long Statement,The length of the statement "when(ticketRepository.reserveTickets(eq("trid")`eq(ids)`same(ticketCategory)`eq(Locale.ENGLISH.getLanguage())`any()`any())).thenReturn(1);" is 138.,595
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reserveTicketsForBoundedCategories,Long Statement,The length of the statement "verify(ticketRepository).reserveTickets(eq("trid")`eq(ids)`eq(ticketCategory)`eq(Locale.ENGLISH.getLanguage())`any()`any());" is 124.,595
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reserveTicketsForBoundedCategoriesWaitingQueue,Long Statement,The length of the statement "when(ticketRepository.selectTicketInCategoryForUpdateSkipLocked(eq(EVENT_ID)`eq(TICKET_CATEGORY_ID)`eq(1)`eq(asList(TicketStatus.RELEASED.name()`TicketStatus.PRE_RESERVED.name())))).thenReturn(ids);" is 198.,609
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reserveTicketsForBoundedCategoriesWaitingQueue,Long Statement,The length of the statement "when(ticketRepository.reserveTickets(eq("trid")`eq(ids)`same(ticketCategory)`eq(Locale.ENGLISH.getLanguage())`any()`any())).thenReturn(1);" is 138.,609
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reserveTicketsForBoundedCategoriesWaitingQueue,Long Statement,The length of the statement "verify(ticketRepository).reserveTickets(eq("trid")`eq(ids)`eq(ticketCategory)`eq(Locale.ENGLISH.getLanguage())`any()`any());" is 124.,609
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reserveTicketsForUnboundedCategories,Long Statement,The length of the statement "when(ticketRepository.selectNotAllocatedTicketsForUpdateSkipLocked(eq(EVENT_ID)`eq(1)`eq(singletonList(Ticket.TicketStatus.FREE.name())))).thenReturn(ids);" is 155.,623
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reserveTicketsForUnboundedCategories,Long Statement,The length of the statement "when(ticketRepository.reserveTickets(eq("trid")`eq(ids)`eq(ticketCategory)`eq(Locale.ENGLISH.getLanguage())`any()`any())).thenReturn(1);" is 136.,623
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reserveTicketsForUnboundedCategories,Long Statement,The length of the statement "verify(ticketRepository).reserveTickets(eq("trid")`eq(ids)`eq(ticketCategory)`eq(Locale.ENGLISH.getLanguage())`any()`any());" is 124.,623
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reserveTicketsForUnboundedCategoriesWaitingQueue,Long Statement,The length of the statement "when(ticketRepository.selectNotAllocatedTicketsForUpdateSkipLocked(eq(EVENT_ID)`eq(1)`eq(asList(TicketStatus.RELEASED.name()`TicketStatus.PRE_RESERVED.name())))).thenReturn(ids);" is 178.,637
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reserveTicketsForUnboundedCategoriesWaitingQueue,Long Statement,The length of the statement "when(ticketRepository.reserveTickets(eq("trid")`eq(ids)`same(ticketCategory)`eq(Locale.ENGLISH.getLanguage())`any()`any())).thenReturn(1);" is 138.,637
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reserveTicketsForUnboundedCategoriesWaitingQueue,Long Statement,The length of the statement "verify(ticketRepository).reserveTickets(eq("trid")`eq(ids)`eq(ticketCategory)`eq(Locale.ENGLISH.getLanguage())`any()`any());" is 124.,637
exteso_alf.io,alfio.manager,TicketReservationManagerTest,initReleaseTicket,Long Identifier,The length of the field ticketCategoryDescriptionRepository is 35.,691
exteso_alf.io,alfio.manager,TicketReservationManagerTest,initReleaseTicket,Long Statement,The length of the statement "when(ticketCategoryDescriptionRepository.findByTicketCategoryIdAndLocale(anyInt()`anyString())).thenReturn(Optional.of("desc"));" is 128.,691
exteso_alf.io,alfio.manager,TicketReservationManagerTest,sendEmailToAssigneeOnSuccess,Long Statement,The length of the statement "verify(notificationManager).sendSimpleEmail(eq(event)`eq(RESERVATION_ID)`eq(RESERVATION_EMAIL)`any()`any(TemplateGenerator.class));" is 131.,710
exteso_alf.io,alfio.manager,TicketReservationManagerTest,releaseRestrictedTicketIfUnboundedCategoryPresent,Long Statement,The length of the statement "verify(notificationManager).sendSimpleEmail(eq(event)`eq(RESERVATION_ID)`eq(RESERVATION_EMAIL)`any()`any(TemplateGenerator.class));" is 131.,737
exteso_alf.io,alfio.manager,TicketReservationManagerTest,throwExceptionIfMultipleTickets,Magic Number,The method contains a magic number: 2,756
exteso_alf.io,alfio.manager,TicketReservationManagerTest,initConfirmReservation,Magic Number,The method contains a magic number: 5,772
exteso_alf.io,alfio.manager,TicketReservationManagerTest,confirmPaidReservation,Long Statement,The length of the statement "when(ticketReservationRepository.findOptionalStatusAndValidationById(eq(RESERVATION_ID))).thenReturn(Optional.of(new TicketReservationStatusAndValidation(PENDING`true)));" is 170.,777
exteso_alf.io,alfio.manager,TicketReservationManagerTest,confirmPaidReservation,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ENABLE_TICKET_TRANSFER)`any())).thenReturn(new MaybeConfiguration(ENABLE_TICKET_TRANSFER));" is 127.,777
exteso_alf.io,alfio.manager,TicketReservationManagerTest,confirmPaidReservation,Long Statement,The length of the statement "when(configurationManager.getFor(eq(SEND_TICKETS_AUTOMATICALLY)`any())).thenReturn(new MaybeConfiguration(SEND_TICKETS_AUTOMATICALLY));" is 135.,777
exteso_alf.io,alfio.manager,TicketReservationManagerTest,confirmPaidReservationButDoNotSendEmail,Long Statement,The length of the statement "when(ticketReservationRepository.findOptionalStatusAndValidationById(eq(RESERVATION_ID))).thenReturn(Optional.of(new TicketReservationStatusAndValidation(PENDING`true)));" is 170.,792
exteso_alf.io,alfio.manager,TicketReservationManagerTest,confirmPaidReservationButDoNotSendEmail,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ENABLE_TICKET_TRANSFER)`any())).thenReturn(new MaybeConfiguration(ENABLE_TICKET_TRANSFER));" is 127.,792
exteso_alf.io,alfio.manager,TicketReservationManagerTest,confirmPaidReservationButDoNotSendEmail,Long Statement,The length of the statement "when(configurationManager.getFor(eq(SEND_TICKETS_AUTOMATICALLY)`any())).thenReturn(new MaybeConfiguration(SEND_TICKETS_AUTOMATICALLY`new ConfigurationKeyValuePathLevel(null`"false"`null)));" is 189.,792
exteso_alf.io,alfio.manager,TicketReservationManagerTest,confirmAndLockTickets,Long Statement,The length of the statement "when(ticketReservationRepository.findOptionalStatusAndValidationById(eq(RESERVATION_ID))).thenReturn(Optional.of(new TicketReservationStatusAndValidation(PENDING`true)));" is 170.,807
exteso_alf.io,alfio.manager,TicketReservationManagerTest,confirmAndLockTickets,Long Statement,The length of the statement "when(configurationManager.getFor(eq(SEND_TICKETS_AUTOMATICALLY)`any())).thenReturn(new MaybeConfiguration(SEND_TICKETS_AUTOMATICALLY));" is 135.,807
exteso_alf.io,alfio.manager,TicketReservationManagerTest,doNotCompleteReservationIfAlreadyCompleted,Long Statement,The length of the statement "when(ticketReservationRepository.findOptionalStatusAndValidationById(eq(RESERVATION_ID))).thenReturn(Optional.of(new TicketReservationStatusAndValidation(COMPLETE`true)));" is 171.,819
exteso_alf.io,alfio.manager,TicketReservationManagerTest,doNotCompleteReservationIfAlreadyCompleted,Long Statement,The length of the statement "when(configurationManager.getFor(eq(SEND_TICKETS_AUTOMATICALLY)`any())).thenReturn(new MaybeConfiguration(SEND_TICKETS_AUTOMATICALLY));" is 135.,819
exteso_alf.io,alfio.manager,TicketReservationManagerTest,mockBillingDocument,Long Statement,The length of the statement "BillingDocument document=new BillingDocument(42`42`""`"42"`BillingDocument.Type.INVOICE`"{}"`ZonedDateTime.now(ClockProvider.clock())`BillingDocument.Status.VALID`"42");" is 169.,832
exteso_alf.io,alfio.manager,TicketReservationManagerTest,mockBillingDocument,Magic Number,The method contains a magic number: 42,832
exteso_alf.io,alfio.manager,TicketReservationManagerTest,mockBillingDocument,Magic Number,The method contains a magic number: 42,832
exteso_alf.io,alfio.manager,TicketReservationManagerTest,lockFailed,Long Statement,The length of the statement "when(configurationManager.getFor(eq(SEND_TICKETS_AUTOMATICALLY)`any())).thenReturn(new MaybeConfiguration(SEND_TICKETS_AUTOMATICALLY));" is 135.,837
exteso_alf.io,alfio.manager,TicketReservationManagerTest,lockFailed,Long Statement,The length of the statement "when(billingDocumentRepository.insert(eq(event.getId())`anyString()`anyString()`any(BillingDocument.Type.class)`anyString()`any(ZonedDateTime.class)`anyInt())).thenReturn(new AffectedRowCountAndKey<>(1`1L));" is 207.,837
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testPaidReservation,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ENABLE_TICKET_TRANSFER)`any())).thenReturn(new MaybeConfiguration(ENABLE_TICKET_TRANSFER`new ConfigurationKeyValuePathLevel(null`Boolean.toString(enableTicketTransfer)`null)));" is 212.,853
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testPaidReservation,Long Statement,The length of the statement "when(ticketReservationRepository.updateTicketReservation(eq(RESERVATION_ID)`eq(TicketReservationStatus.COMPLETE.toString())`anyString()`anyString()`isNull()`isNull()`anyString()`anyString()`any()`eq(PaymentProxy.STRIPE.toString())`isNull())).thenReturn(1);" is 256.,853
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testPaidReservation,Long Statement,The length of the statement "when(ticketRepository.updateTicketsStatusWithReservationId(eq(RESERVATION_ID)`eq(TicketStatus.ACQUIRED.toString()))).thenReturn(1);" is 131.,853
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testPaidReservation,Long Statement,The length of the statement "when(ticketReservationRepository.findOptionalReservationById(eq(RESERVATION_ID))).thenReturn(Optional.of(ticketReservation));" is 125.,853
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testPaidReservation,Long Statement,The length of the statement "when(ticketReservationRepository.updateTicketReservation(eq(RESERVATION_ID)`eq(IN_PAYMENT.toString())`anyString()`anyString()`isNull()`isNull()`anyString()`anyString()`isNull()`eq(PaymentProxy.STRIPE.toString())`isNull())).thenReturn(1);" is 237.,853
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testPaidReservation,Long Statement,The length of the statement "when(paymentManager.streamActiveProvidersByProxy(eq(PaymentProxy.STRIPE)`any())).thenReturn(Stream.of(stripeCreditCardManager));" is 128.,853
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testPaidReservation,Long Statement,The length of the statement "PaymentSpecification spec=new PaymentSpecification(RESERVATION_ID`new StripeCreditCardToken(GATEWAY_TOKEN)`100`event`"test@email"`new CustomerName("Full Name"`null`null`event.mustUseFirstAndLastName())`""`null`Locale.ENGLISH`true`false`null`"IT"`"123456"`PriceContainer.VatStatus.INCLUDED`true`false);" is 301.,853
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testPaidReservation,Long Statement,The length of the statement "PaymentResult result=trm.performPayment(spec`new TotalPrice(100`0`0`0`"CHF")`PaymentProxy.STRIPE`PaymentMethod.CREDIT_CARD`null);" is 129.,853
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testPaidReservation,Long Statement,The length of the statement "verify(ticketReservationRepository).updateBillingData(eq(PriceContainer.VatStatus.INCLUDED)`eq(100)`eq(100)`eq(0)`eq(0)`eq(EVENT_CURRENCY)`eq("123456")`eq("IT")`eq(true)`eq(RESERVATION_ID));" is 190.,853
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testPaidReservation,Long Statement,The length of the statement "verify(ticketReservationRepository`verificationMode).updateTicketReservation(eq(RESERVATION_ID)`eq(TicketReservationStatus.IN_PAYMENT.toString())`anyString()`anyString()`isNull()`isNull()`anyString()`anyString()`any()`eq(PaymentProxy.STRIPE.toString())`isNull());" is 263.,853
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testPaidReservation,Long Statement,The length of the statement "verify(ticketRepository`verificationMode).updateTicketsStatusWithReservationId(eq(RESERVATION_ID)`eq(TicketStatus.ACQUIRED.toString()));" is 136.,853
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testPaidReservation,Long Statement,The length of the statement "verify(specialPriceRepository`verificationMode).updateStatusForReservation(eq(singletonList(RESERVATION_ID))`eq(SpecialPrice.Status.TAKEN.toString()));" is 151.,853
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testPaidReservation,Long Statement,The length of the statement "verify(ticketReservationRepository`verificationMode).updateTicketReservation(eq(RESERVATION_ID)`eq(TicketReservationStatus.COMPLETE.toString())`anyString()`anyString()`isNull()`isNull()`anyString()`anyString()`any()`eq(PaymentProxy.STRIPE.toString())`isNull());" is 261.,853
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testPaidReservation,Magic Number,The method contains a magic number: 100,853
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testPaidReservation,Magic Number,The method contains a magic number: 100,853
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testPaidReservation,Magic Number,The method contains a magic number: 100,853
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testPaidReservation,Magic Number,The method contains a magic number: 100,853
exteso_alf.io,alfio.manager,TicketReservationManagerTest,returnFailureCodeIfPaymentNotSuccessful,Long Statement,The length of the statement "when(ticketReservationRepository.updateTicketReservation(eq(RESERVATION_ID)`eq(IN_PAYMENT.toString())`anyString()`anyString()`isNull()`isNull()`anyString()`isNull()`isNull()`eq(PaymentProxy.STRIPE.toString())`isNull())).thenReturn(1);" is 234.,903
exteso_alf.io,alfio.manager,TicketReservationManagerTest,returnFailureCodeIfPaymentNotSuccessful,Long Statement,The length of the statement "when(ticketReservationRepository.updateReservationStatus(eq(RESERVATION_ID)`eq(TicketReservationStatus.PENDING.toString()))).thenReturn(1);" is 139.,903
exteso_alf.io,alfio.manager,TicketReservationManagerTest,returnFailureCodeIfPaymentNotSuccessful,Long Statement,The length of the statement "when(paymentManager.streamActiveProvidersByProxy(eq(PaymentProxy.STRIPE)`any())).thenReturn(Stream.of(stripeCreditCardManager));" is 128.,903
exteso_alf.io,alfio.manager,TicketReservationManagerTest,returnFailureCodeIfPaymentNotSuccessful,Long Statement,The length of the statement "PaymentSpecification spec=new PaymentSpecification(RESERVATION_ID`new StripeCreditCardToken(GATEWAY_TOKEN)`100`event`"email@user"`new CustomerName("Full Name"`null`null`event.mustUseFirstAndLastName())`null`null`Locale.ENGLISH`true`false`null`"IT"`"12345"`PriceContainer.VatStatus.INCLUDED`true`false);" is 302.,903
exteso_alf.io,alfio.manager,TicketReservationManagerTest,returnFailureCodeIfPaymentNotSuccessful,Long Statement,The length of the statement "PaymentResult result=trm.performPayment(spec`new TotalPrice(100`0`0`0`"CHF")`PaymentProxy.STRIPE`PaymentMethod.CREDIT_CARD`null);" is 129.,903
exteso_alf.io,alfio.manager,TicketReservationManagerTest,returnFailureCodeIfPaymentNotSuccessful,Long Statement,The length of the statement "verify(ticketReservationRepository).updateTicketReservation(eq(RESERVATION_ID)`eq(TicketReservationStatus.IN_PAYMENT.toString())`anyString()`anyString()`isNull()`isNull()`anyString()`isNull()`isNull()`eq(PaymentProxy.STRIPE.toString())`isNull());" is 246.,903
exteso_alf.io,alfio.manager,TicketReservationManagerTest,returnFailureCodeIfPaymentNotSuccessful,Long Statement,The length of the statement "verify(ticketReservationRepository).updateReservationStatus(eq(RESERVATION_ID)`eq(TicketReservationStatus.PENDING.toString()));" is 127.,903
exteso_alf.io,alfio.manager,TicketReservationManagerTest,returnFailureCodeIfPaymentNotSuccessful,Long Statement,The length of the statement "verify(ticketReservationRepository).updateBillingData(eq(PriceContainer.VatStatus.INCLUDED)`eq(100)`eq(100)`eq(0)`eq(0)`eq(EVENT_CURRENCY)`eq("12345")`eq("IT")`eq(true)`eq(RESERVATION_ID));" is 189.,903
exteso_alf.io,alfio.manager,TicketReservationManagerTest,returnFailureCodeIfPaymentNotSuccessful,Magic Number,The method contains a magic number: 100,903
exteso_alf.io,alfio.manager,TicketReservationManagerTest,returnFailureCodeIfPaymentNotSuccessful,Magic Number,The method contains a magic number: 100,903
exteso_alf.io,alfio.manager,TicketReservationManagerTest,returnFailureCodeIfPaymentNotSuccessful,Magic Number,The method contains a magic number: 100,903
exteso_alf.io,alfio.manager,TicketReservationManagerTest,returnFailureCodeIfPaymentNotSuccessful,Magic Number,The method contains a magic number: 100,903
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOnSitePaymentMethod,Long Statement,The length of the statement "when(ticketReservationRepository.findOptionalStatusAndValidationById(eq(RESERVATION_ID))).thenReturn(Optional.of(new TicketReservationStatusAndValidation(PENDING`true)));" is 170.,925
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOnSitePaymentMethod,Long Statement,The length of the statement "when(ticketRepository.updateTicketsStatusWithReservationId(eq(RESERVATION_ID)`eq(TicketStatus.TO_BE_PAID.toString()))).thenReturn(1);" is 133.,925
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOnSitePaymentMethod,Long Statement,The length of the statement "when(ticketReservationRepository.updateTicketReservation(eq(RESERVATION_ID)`eq(COMPLETE.toString())`anyString()`anyString()`isNull()`isNull()`anyString()`anyString()`any(ZonedDateTime.class)`eq(PaymentProxy.ON_SITE.toString())`isNull())).thenReturn(1);" is 252.,925
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOnSitePaymentMethod,Long Statement,The length of the statement "when(ticketReservationRepository.findOptionalReservationById(eq(RESERVATION_ID))).thenReturn(Optional.of(ticketReservation));" is 125.,925
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOnSitePaymentMethod,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ENABLE_TICKET_TRANSFER)`any())).thenReturn(new MaybeConfiguration(ENABLE_TICKET_TRANSFER));" is 127.,925
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOnSitePaymentMethod,Long Statement,The length of the statement "when(onSiteManager.getTokenAndPay(any())).thenReturn(PaymentResult.successful(TicketReservationManager.NOT_YET_PAID_TRANSACTION_ID));" is 133.,925
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOnSitePaymentMethod,Long Statement,The length of the statement "PaymentSpecification spec=new PaymentSpecification(RESERVATION_ID`new StripeCreditCardToken(GATEWAY_TOKEN)`100`event`"test@email"`new CustomerName("Full Name"`null`null`event.mustUseFirstAndLastName())`""`null`Locale.ENGLISH`true`false`null`"IT"`"123456"`PriceContainer.VatStatus.INCLUDED`true`false);" is 301.,925
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOnSitePaymentMethod,Long Statement,The length of the statement "when(ticketReservationRepository.updateTicketReservation(eq(RESERVATION_ID)`anyString()`anyString()`anyString()`isNull()`isNull()`eq(Locale.ENGLISH.getLanguage())`isNull()`any()`any()`isNull())).thenReturn(1);" is 209.,925
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOnSitePaymentMethod,Long Statement,The length of the statement "PaymentResult result=trm.performPayment(spec`new TotalPrice(100`0`0`0`"CHF")`PaymentProxy.ON_SITE`PaymentMethod.ON_SITE`null);" is 126.,925
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOnSitePaymentMethod,Long Statement,The length of the statement "verify(ticketReservationRepository).updateTicketReservation(eq(RESERVATION_ID)`eq(TicketReservationStatus.COMPLETE.toString())`anyString()`anyString()`isNull()`isNull()`anyString()`anyString()`any()`eq(PaymentProxy.ON_SITE.toString())`isNull());" is 245.,925
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOnSitePaymentMethod,Long Statement,The length of the statement "verify(ticketRepository).updateTicketsStatusWithReservationId(eq(RESERVATION_ID)`eq(TicketStatus.TO_BE_PAID.toString()));" is 121.,925
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOnSitePaymentMethod,Long Statement,The length of the statement "verify(specialPriceRepository).updateStatusForReservation(eq(singletonList(RESERVATION_ID))`eq(SpecialPrice.Status.TAKEN.toString()));" is 134.,925
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOnSitePaymentMethod,Long Statement,The length of the statement "verify(ticketReservationRepository).updateBillingData(eq(PriceContainer.VatStatus.INCLUDED)`eq(100)`eq(100)`eq(0)`eq(0)`eq(EVENT_CURRENCY)`eq("123456")`eq("IT")`eq(true)`eq(RESERVATION_ID));" is 190.,925
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOnSitePaymentMethod,Magic Number,The method contains a magic number: 100,925
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOnSitePaymentMethod,Magic Number,The method contains a magic number: 100,925
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOnSitePaymentMethod,Magic Number,The method contains a magic number: 100,925
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOnSitePaymentMethod,Magic Number,The method contains a magic number: 100,925
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOfflinePaymentMethod,Long Statement,The length of the statement "when(ticketReservationRepository.findOptionalStatusAndValidationById(eq(RESERVATION_ID))).thenReturn(Optional.of(new TicketReservationStatusAndValidation(PENDING`true)));" is 170.,959
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOfflinePaymentMethod,Long Statement,The length of the statement "when(ticketReservationRepository.postponePayment(eq(RESERVATION_ID)`eq(OFFLINE_PAYMENT)`any(Date.class)`anyString()`anyString()`isNull()`isNull()`anyString()`isNull())).thenReturn(1);" is 183.,959
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOfflinePaymentMethod,Long Statement,The length of the statement "when(paymentManager.streamActiveProvidersByProxy(eq(PaymentProxy.OFFLINE)`any())).thenReturn(Stream.of(bankTransferManager));" is 125.,959
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOfflinePaymentMethod,Long Statement,The length of the statement "when(bankTransferManager.getTokenAndPay(any())).thenReturn(PaymentResult.successful(TicketReservationManager.NOT_YET_PAID_TRANSACTION_ID));" is 139.,959
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOfflinePaymentMethod,Long Statement,The length of the statement "PaymentSpecification spec=new PaymentSpecification(RESERVATION_ID`new StripeCreditCardToken(GATEWAY_TOKEN)`100`event`"test@email"`new CustomerName("Full Name"`null`null`event.mustUseFirstAndLastName())`""`null`Locale.ENGLISH`true`false`null`"IT"`"123456"`PriceContainer.VatStatus.INCLUDED`true`false);" is 301.,959
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOfflinePaymentMethod,Long Statement,The length of the statement "PaymentResult result=trm.performPayment(spec`new TotalPrice(100`0`0`0`"CHF")`PaymentProxy.OFFLINE`PaymentMethod.BANK_TRANSFER`null);" is 132.,959
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOfflinePaymentMethod,Long Statement,The length of the statement "verify(ticketReservationRepository).updateBillingData(eq(PriceContainer.VatStatus.INCLUDED)`eq(100)`eq(100)`eq(0)`eq(0)`eq(EVENT_CURRENCY)`eq("123456")`eq("IT")`eq(true)`eq(RESERVATION_ID));" is 190.,959
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOfflinePaymentMethod,Magic Number,The method contains a magic number: 100,959
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOfflinePaymentMethod,Magic Number,The method contains a magic number: 100,959
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOfflinePaymentMethod,Magic Number,The method contains a magic number: 100,959
exteso_alf.io,alfio.manager,TicketReservationManagerTest,handleOfflinePaymentMethod,Magic Number,The method contains a magic number: 100,959
exteso_alf.io,alfio.manager,TicketReservationManagerTest,confirmOfflinePayments,Long Statement,The length of the statement "when(ticketRepository.updateTicketsStatusWithReservationId(eq(RESERVATION_ID)`eq(TicketStatus.ACQUIRED.toString()))).thenReturn(1);" is 131.,985
exteso_alf.io,alfio.manager,TicketReservationManagerTest,confirmOfflinePayments,Long Statement,The length of the statement "when(ticketReservationRepository.updateTicketReservation(eq(RESERVATION_ID)`eq(COMPLETE.toString())`anyString()`anyString()`isNull()`isNull()`anyString()`isNull()`any()`eq(PaymentProxy.OFFLINE.toString())`isNull())).thenReturn(1);" is 230.,985
exteso_alf.io,alfio.manager,TicketReservationManagerTest,confirmOfflinePayments,Long Statement,The length of the statement "when(configurationManager.getFor(eq(VAT_NR)`any())).thenReturn(new MaybeConfiguration(VAT_NR`new ConfigurationKeyValuePathLevel(null`"vatnr"`null)));" is 149.,985
exteso_alf.io,alfio.manager,TicketReservationManagerTest,confirmOfflinePayments,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ENABLE_TICKET_TRANSFER)`any())).thenReturn(new MaybeConfiguration(ENABLE_TICKET_TRANSFER));" is 127.,985
exteso_alf.io,alfio.manager,TicketReservationManagerTest,confirmOfflinePayments,Long Statement,The length of the statement "when(configurationManager.getFor(eq(PLATFORM_MODE_ENABLED)`any())).thenReturn(new MaybeConfiguration(PLATFORM_MODE_ENABLED));" is 125.,985
exteso_alf.io,alfio.manager,TicketReservationManagerTest,confirmOfflinePayments,Long Statement,The length of the statement "when(billingDocumentRepository.insert(anyInt()`anyString()`anyString()`any(BillingDocument.Type.class)`anyString()`any(ZonedDateTime.class)`anyInt())).thenReturn(new AffectedRowCountAndKey<>(1`1L));" is 198.,985
exteso_alf.io,alfio.manager,TicketReservationManagerTest,confirmOfflinePayments,Long Statement,The length of the statement "when(billingDocumentRepository.findByIdAndReservationId(anyLong()`anyString())).thenReturn(Optional.of(new BillingDocument(1`1`"1"`"42"`BillingDocument.Type.INVOICE`"{}"`ZonedDateTime.now(ClockProvider.clock())`BillingDocument.Status.VALID`null)));" is 248.,985
exteso_alf.io,alfio.manager,TicketReservationManagerTest,confirmOfflinePayments,Long Statement,The length of the statement "when(configurationManager.getFor(eq(EnumSet.of(DEFERRED_BANK_TRANSFER_ENABLED`DEFERRED_BANK_TRANSFER_SEND_CONFIRMATION_EMAIL))`any())).thenReturn(Map.of(DEFERRED_BANK_TRANSFER_ENABLED`new MaybeConfiguration(DEFERRED_BANK_TRANSFER_ENABLED)));" is 241.,985
exteso_alf.io,alfio.manager,TicketReservationManagerTest,confirmOfflinePayments,Long Statement,The length of the statement "verify(ticketReservationRepository).confirmOfflinePayment(eq(RESERVATION_ID)`eq(COMPLETE.toString())`any(ZonedDateTime.class));" is 127.,985
exteso_alf.io,alfio.manager,TicketReservationManagerTest,confirmOfflinePayments,Long Statement,The length of the statement "verify(ticketReservationRepository).updateTicketReservation(eq(RESERVATION_ID)`eq(TicketReservationStatus.COMPLETE.toString())`anyString()`anyString()`isNull()`isNull()`anyString()`isNull()`any()`eq(PaymentProxy.OFFLINE.toString())`isNull());" is 242.,985
exteso_alf.io,alfio.manager,TicketReservationManagerTest,confirmOfflinePayments,Long Statement,The length of the statement "verify(specialPriceRepository).updateStatusForReservation(eq(singletonList(RESERVATION_ID))`eq(SpecialPrice.Status.TAKEN.toString()));" is 134.,985
exteso_alf.io,alfio.manager,TicketReservationManagerTest,copy,Long Statement,The length of the statement "return new Event(EVENT_ID`event.getFormat()`event.getShortName()`event.getDisplayName()`event.getLocation()`event.getLatitude()`event.getLongitude()`Optional.ofNullable(event.getBegin()).orElse(ZonedDateTime.now(ClockProvider.clock()).plusDays(2).minusHours(2))`Optional.ofNullable(event.getEnd()).orElse(ZonedDateTime.now(ClockProvider.clock()).plusDays(2))`"UTC"`event.getWebsiteUrl()`event.getExternalUrl()`event.getFileBlobId()`event.getTermsAndConditionsUrl()`event.getPrivacyPolicyUrl()`event.getImageUrl()`event.getCurrency()`event.getVat()`event.getShortName()`event.getPrivateKey()`event.getOrganizationId()`event.getLocales()`event.getId()`event.getVatStatus()`event.getVersion()`event.getStatus());" is 709.,1042
exteso_alf.io,alfio.manager,TicketReservationManagerTest,copy,Magic Number,The method contains a magic number: 2,1042
exteso_alf.io,alfio.manager,TicketReservationManagerTest,copy,Magic Number,The method contains a magic number: 2,1042
exteso_alf.io,alfio.manager,TicketReservationManagerTest,copy,Magic Number,The method contains a magic number: 2,1042
exteso_alf.io,alfio.manager,TicketReservationManagerTest,copy,Long Statement,The length of the statement "return new TicketReservation(reservation.getId()`reservation.getValidity()`reservation.getStatus()`reservation.getFullName()`reservation.getFirstName()`reservation.getLastName()`reservation.getEmail()`reservation.getBillingAddress()`reservation.getConfirmationTimestamp()`reservation.getLatestReminder()`reservation.getPaymentMethod()`reservation.getReminderSent()`reservation.getPromoCodeDiscountId()`reservation.isAutomatic()`reservation.getUserLanguage()`reservation.isDirectAssignmentRequested()`reservation.getInvoiceNumber()`reservation.getInvoiceModel()`reservation.getVatStatus()`reservation.getVatNr()`reservation.getVatCountryCode()`reservation.isInvoiceRequested()`reservation.getUsedVatPercent()`reservation.getVatIncluded()`reservation.getCreationTimestamp()`reservation.getCustomerReference()`reservation.getRegistrationTimestamp()`reservation.getSrcPriceCts()`reservation.getFinalPriceCts()`reservation.getVatCts()`reservation.getDiscountCts()`reservation.getCurrencyCode());" is 990.,1073
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reservationURLGeneration,Long Statement,The length of the statement "Assertions.assertEquals(BASE_URL + "event/" + shortName+ "/reservation/"+ RESERVATION_ID+ "?lang=en"`trm.reservationUrl(RESERVATION_ID));" is 137.,1108
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reservationURLGeneration,Long Statement,The length of the statement "Assertions.assertEquals(BASE_URL + "event/" + shortName+ "/reservation/"+ RESERVATION_ID+ "?lang=en"`trm.reservationUrl(RESERVATION_ID`event));" is 143.,1108
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reservationURLGeneration,Long Statement,The length of the statement "Assertions.assertEquals(BASE_URL + "event/" + shortName+ "/reservation/"+ RESERVATION_ID+ "?lang=en"`trm.reservationUrl(ticketReservation`event));" is 146.,1108
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reservationURLGeneration,Long Statement,The length of the statement "Assertions.assertEquals(BASE_URL + "event/" + shortName+ "/ticket/ticketId/update?lang=it"`trm.ticketUpdateUrl(event`"ticketId"));" is 130.,1108
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reservationUrlForExternalClients,Long Statement,The length of the statement "when(configurationManager.getFor(eq(EnumSet.of(ConfigurationKeys.BASE_URL`OPENID_PUBLIC_ENABLED))`any())).thenReturn(Map.of(ConfigurationKeys.BASE_URL`maybeBaseUrl`OPENID_PUBLIC_ENABLED`maybeOpenId));" is 200.,1134
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reservationUrlForExternalClients,Long Statement,The length of the statement "Assertions.assertEquals(BASE_URL + "openid/authentication?reservation=" + RESERVATION_ID+ "&contextType="+ PurchaseContext.PurchaseContextType.event+ "&id="+ shortName`trm.reservationUrlForExternalClients(RESERVATION_ID`event`"en"`true));" is 238.,1134
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reservationUrlForExternalClients,Long Statement,The length of the statement "Assertions.assertEquals(BASE_URL + "event/" + shortName+ "/reservation/"+ RESERVATION_ID+ "?lang=en"`trm.reservationUrlForExternalClients(RESERVATION_ID`event`"en"`false));" is 172.,1134
exteso_alf.io,alfio.manager,TicketReservationManagerTest,reservationUrlForExternalClients,Long Statement,The length of the statement "Assertions.assertEquals(BASE_URL + "event/" + shortName+ "/reservation/"+ RESERVATION_ID+ "?lang=en"`trm.reservationUrlForExternalClients(RESERVATION_ID`event`"en"`true));" is 171.,1134
exteso_alf.io,alfio.manager,TicketReservationManagerTest,sendReminderOnlyIfNoPreviousNotifications,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ASSIGNMENT_REMINDER_START)`any())).thenReturn(new MaybeConfiguration(ASSIGNMENT_REMINDER_START));" is 133.,1166
exteso_alf.io,alfio.manager,TicketReservationManagerTest,sendReminderOnlyIfNoPreviousNotifications,Long Statement,The length of the statement "when(ticketReservationRepository.findOptionalReservationById(eq(RESERVATION_ID))).thenReturn(Optional.of(ticketReservation));" is 125.,1166
exteso_alf.io,alfio.manager,TicketReservationManagerTest,sendReminderOnlyIfNoPreviousNotifications,Long Statement,The length of the statement "when(ticketRepository.findAllReservationsConfirmedButNotAssignedForUpdate(anyInt())).thenReturn(singleton(RESERVATION_ID));" is 123.,1166
exteso_alf.io,alfio.manager,TicketReservationManagerTest,sendReminderOnlyIfNoPreviousNotifications,Long Statement,The length of the statement "when(configurationManager.getFor(eq(OPTIONAL_DATA_REMINDER_ENABLED)`any())).thenReturn(MaybeConfigurationBuilder.existing(OPTIONAL_DATA_REMINDER_ENABLED`"true"));" is 162.,1166
exteso_alf.io,alfio.manager,TicketReservationManagerTest,sendReminderOnlyIfNoPreviousNotifications,Long Statement,The length of the statement "verify(notificationManager`times(1)).sendSimpleEmail(eq(event)`eq(RESERVATION_ID)`eq("ciccio")`eq("subject")`any(TemplateGenerator.class));" is 139.,1166
exteso_alf.io,alfio.manager,TicketReservationManagerTest,sendReminderOnlyIfNoPreviousNotifications,Magic Number,The method contains a magic number: 2,1166
exteso_alf.io,alfio.manager,TicketReservationManagerTest,doNotSendReminderIfPreviousNotifications,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ASSIGNMENT_REMINDER_START)`any())).thenReturn(new MaybeConfiguration(ASSIGNMENT_REMINDER_START));" is 133.,1196
exteso_alf.io,alfio.manager,TicketReservationManagerTest,doNotSendReminderIfPreviousNotifications,Long Statement,The length of the statement "when(configurationManager.getFor(eq(OPTIONAL_DATA_REMINDER_ENABLED)`any())).thenReturn(MaybeConfigurationBuilder.existing(OPTIONAL_DATA_REMINDER_ENABLED`"true"));" is 162.,1196
exteso_alf.io,alfio.manager,TicketReservationManagerTest,doNotSendReminderIfPreviousNotifications,Long Statement,The length of the statement "when(ticketReservation.latestNotificationTimestamp(any())).thenReturn(Optional.of(ZonedDateTime.now(ClockProvider.clock()).minusDays(10)));" is 139.,1196
exteso_alf.io,alfio.manager,TicketReservationManagerTest,doNotSendReminderIfPreviousNotifications,Long Statement,The length of the statement "verify(notificationManager`never()).sendSimpleEmail(eq(event)`anyString()`anyString()`anyString()`any(TemplateGenerator.class));" is 128.,1196
exteso_alf.io,alfio.manager,TicketReservationManagerTest,doNotSendReminderIfPreviousNotifications,Magic Number,The method contains a magic number: 10,1196
exteso_alf.io,alfio.manager,TicketReservationManagerTest,doNotSendReminderIfPreviousNotifications,Magic Number,The method contains a magic number: 2,1196
exteso_alf.io,alfio.manager,TicketReservationManagerTest,doNotSendReminderIfTicketHasAlreadyBeenModified,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ASSIGNMENT_REMINDER_START)`any())).thenReturn(new MaybeConfiguration(ASSIGNMENT_REMINDER_START));" is 133.,1223
exteso_alf.io,alfio.manager,TicketReservationManagerTest,doNotSendReminderIfTicketHasAlreadyBeenModified,Long Statement,The length of the statement "when(configurationManager.getFor(eq(OPTIONAL_DATA_REMINDER_ENABLED)`any())).thenReturn(MaybeConfigurationBuilder.existing(OPTIONAL_DATA_REMINDER_ENABLED`"true"));" is 162.,1223
exteso_alf.io,alfio.manager,TicketReservationManagerTest,doNotSendReminderIfTicketHasAlreadyBeenModified,Long Statement,The length of the statement "verify(notificationManager`never()).sendSimpleEmail(eq(event)`anyString()`anyString()`anyString()`any(TemplateGenerator.class));" is 128.,1223
exteso_alf.io,alfio.manager,TicketReservationManagerTest,doNotSendReminderIfTicketHasAlreadyBeenModified,Magic Number,The method contains a magic number: 2,1223
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testBuildCompleteBillingAddress,Long Statement,The length of the statement "Assertions.assertEquals("First Last\nline1\nzip city state\nSwitzerland"`buildCompleteBillingAddress(customerName`" "`"line1"`null`"zip"`"city"`"state"`"CH"`Locale.ENGLISH));" is 174.,1286
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testBuildCompleteBillingAddress,Long Statement,The length of the statement "Assertions.assertEquals("Company\nFirst Last\nline1\nzip city state\nSwitzerland"`buildCompleteBillingAddress(customerName`"Company"`"line1"`null`"zip"`"city"`"state"`"CH"`Locale.ENGLISH));" is 189.,1286
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testBuildCompleteBillingAddress,Long Statement,The length of the statement "Assertions.assertEquals("Company\nFirst Last\nline1\nline2\nzip city state\nSwitzerland"`buildCompleteBillingAddress(customerName`"Company"`"line1"`"line2"`"zip"`"city"`"state"`"CH"`Locale.ENGLISH));" is 199.,1286
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testValidatePaymentMethodsReservationFreeOfCharge,Long Statement,The length of the statement "when(configurationManager.getFor(eq(RESERVATION_TIMEOUT)`any())).thenReturn(new MaybeConfiguration(RESERVATION_TIMEOUT));" is 121.,1294
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testValidatePaymentMethodsReservationFreeOfCharge,Long Statement,The length of the statement "when(configurationManager.getBlacklistedMethodsForReservation(eq(event)`any())).thenReturn(Arrays.asList(PaymentMethod.values()));" is 130.,1294
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testValidatePaymentMethodsReservationFreeOfCharge,Long Statement,The length of the statement "when(paymentManager.getPaymentMethods(eq(event)`any())).thenReturn(Arrays.stream(PaymentProxy.values()).map(pp -> new PaymentMethodDTO(pp`pp.getPaymentMethod()`PaymentMethodStatus.ACTIVE)).collect(Collectors.toList()));" is 219.,1294
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testValidatePaymentMethodsPayPalError,Long Statement,The length of the statement "when(configurationManager.getBlacklistedMethodsForReservation(eq(event)`any())).thenReturn(new ArrayList<>(EnumSet.complementOf(EnumSet.of(PaymentMethod.PAYPAL`PaymentMethod.NONE))));" is 183.,1304
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testValidatePaymentMethodsPayPalError,Long Statement,The length of the statement "when(paymentManager.getPaymentMethods(eq(event)`any())).thenReturn(Arrays.stream(PaymentProxy.values()).map(pp -> new PaymentMethodDTO(pp`pp.getPaymentMethod()`pp.getPaymentMethod() == PaymentMethod.PAYPAL ? PaymentMethodStatus.ERROR : PaymentMethodStatus.ACTIVE)).collect(Collectors.toList()));" is 295.,1304
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testValidatePaymentMethodsAllBlacklisted,Long Statement,The length of the statement "when(configurationManager.getBlacklistedMethodsForReservation(eq(event)`any())).thenReturn(new ArrayList<>(EnumSet.complementOf(EnumSet.of(PaymentMethod.NONE))));" is 162.,1313
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testValidatePaymentMethodsAllBlacklisted,Long Statement,The length of the statement "when(paymentManager.getPaymentMethods(eq(event)`any())).thenReturn(Arrays.stream(PaymentProxy.values()).map(pp -> new PaymentMethodDTO(pp`pp.getPaymentMethod()`PaymentMethodStatus.ACTIVE)).collect(Collectors.toList()));" is 219.,1313
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testValidatePaymentMethodsAllowed,Long Statement,The length of the statement "when(paymentManager.getPaymentMethods(eq(event)`any())).thenReturn(Arrays.stream(PaymentProxy.values()).map(pp -> new PaymentMethodDTO(pp`pp.getPaymentMethod()`PaymentMethodStatus.ACTIVE)).collect(Collectors.toList()));" is 219.,1322
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testValidatePaymentMethodsPartiallyAllowed,Long Statement,The length of the statement "when(configurationManager.getBlacklistedMethodsForReservation(eq(event)`any())).thenReturn(List.of(PaymentMethod.CREDIT_CARD));" is 127.,1331
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testValidatePaymentMethodsPartiallyAllowed,Long Statement,The length of the statement "when(paymentManager.getPaymentMethods(eq(event)`any())).thenReturn(Arrays.stream(PaymentProxy.values()).map(pp -> new PaymentMethodDTO(pp`pp.getPaymentMethod()`PaymentMethodStatus.ACTIVE)).collect(Collectors.toList()));" is 219.,1331
exteso_alf.io,alfio.manager,TicketReservationManagerTest,testValidatePaymentMethodsPartiallyAllowed,Magic Number,The method contains a magic number: 2,1331
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,prepareEnv,Long Statement,The length of the statement "List<TicketCategoryModification> ticketsCategory=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`20`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`Collections.singletonMap("en"`"desc")`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 493.,92
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,prepareEnv,Long Statement,The length of the statement "EventModification em=new EventModification(null`Event.EventFormat.IN_PERSON`"url"`"url"`"url"`null`null`null`"eventShortName"`"displayName"`organization.getId()`"muh location"`"0.0"`"0.0"`ZoneId.systemDefault().getId()`desc`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`BigDecimal.TEN`"CHF"`20`BigDecimal.ONE`true`null`ticketsCategory`false`new LocationDescriptor(""`""`""`"")`7`null`null`AlfioMetadata.empty()`List.of());" is 576.,92
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,prepareEnv,Magic Number,The method contains a magic number: 20,92
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,prepareEnv,Magic Number,The method contains a magic number: 20,92
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,prepareEnv,Magic Number,The method contains a magic number: 7,92
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testPresentStringConfigValue,Long Statement,The length of the statement "assertEquals(Optional.of("5")`configurationManager.getFor(MAX_AMOUNT_OF_TICKETS_BY_RESERVATION`ConfigurationLevel.event(event)).getValue());" is 140.,123
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testStringValueWithDefault,Long Statement,The length of the statement "assertEquals("5"`configurationManager.getFor(MAX_AMOUNT_OF_TICKETS_BY_RESERVATION`ConfigurationLevel.event(event)).getRequiredValue());" is 135.,133
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testMissingConfigValue,Long Statement,The length of the statement "assertThrows(IllegalArgumentException.class`() -> configurationManager.getFor(SMTP_PASSWORD`ConfigurationLevel.event(event)).getRequiredValue());" is 145.,139
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testRequiredValue,Long Statement,The length of the statement "assertEquals("5"`configurationManager.getFor(MAX_AMOUNT_OF_TICKETS_BY_RESERVATION`ConfigurationLevel.event(event)).getRequiredValue());" is 135.,144
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testIntValue,Long Statement,The length of the statement "assertEquals(5`configurationManager.getFor(MAX_AMOUNT_OF_TICKETS_BY_RESERVATION`ConfigurationLevel.event(event)).getValueAsIntOrDefault(-1));" is 141.,149
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testIntValue,Long Statement,The length of the statement "assertEquals(-1`configurationManager.getFor(ASSIGNMENT_REMINDER_INTERVAL`ConfigurationLevel.event(event)).getValueAsIntOrDefault(-1));" is 134.,149
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testIntValue,Long Statement,The length of the statement "assertEquals("blabla"`configurationManager.getFor(ConfigurationKeys.BASE_URL`ConfigurationLevel.event(event)).getRequiredValue());" is 130.,149
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testIntValue,Long Statement,The length of the statement "assertEquals(-1`configurationManager.getFor(ConfigurationKeys.BASE_URL`ConfigurationLevel.event(event)).getValueAsIntOrDefault(-1));" is 132.,149
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testIntValue,Magic Number,The method contains a magic number: 5,149
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testBooleanValue,Long Statement,The length of the statement "assertFalse(configurationManager.getFor(ALLOW_FREE_TICKETS_CANCELLATION`ConfigurationLevel.ticketCategory(event`ticketCategory.getId())).getValueAsBooleanOrDefault());" is 167.,163
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testBooleanValue,Long Statement,The length of the statement "assertFalse(configurationManager.getFor(ALLOW_FREE_TICKETS_CANCELLATION`ConfigurationLevel.ticketCategory(event`ticketCategory.getId())).getValueAsBooleanOrDefault());" is 167.,163
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testBooleanValue,Long Statement,The length of the statement "assertTrue(configurationManager.getFor(ALLOW_FREE_TICKETS_CANCELLATION`ConfigurationLevel.ticketCategory(event`ticketCategory.getId())).getValueAsBooleanOrDefault());" is 166.,163
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testOverrideMechanism,Long Statement,The length of the statement "assertEquals(5`configurationManager.getFor(Collections.singleton(MAX_AMOUNT_OF_TICKETS_BY_RESERVATION)`ConfigurationLevel.event(event)).get(MAX_AMOUNT_OF_TICKETS_BY_RESERVATION).getValueAsIntOrDefault(Integer.MIN_VALUE));" is 221.,177
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testOverrideMechanism,Long Statement,The length of the statement "assertEquals(5`configurationManager.getFor(MAX_AMOUNT_OF_TICKETS_BY_RESERVATION`ConfigurationLevel.event(event)).getValueAsIntOrDefault(-1));" is 141.,177
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testOverrideMechanism,Long Statement,The length of the statement "configurationRepository.insertOrganizationLevel(organization.getId()`MAX_AMOUNT_OF_TICKETS_BY_RESERVATION.getValue()`"6"`"desc");" is 129.,177
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testOverrideMechanism,Long Statement,The length of the statement "assertEquals(6`configurationManager.getFor(MAX_AMOUNT_OF_TICKETS_BY_RESERVATION`ConfigurationLevel.event(event)).getValueAsIntOrDefault(-1));" is 141.,177
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testOverrideMechanism,Long Statement,The length of the statement "assertEquals(6`configurationManager.getFor(Collections.singleton(MAX_AMOUNT_OF_TICKETS_BY_RESERVATION)`ConfigurationLevel.event(event)).get(MAX_AMOUNT_OF_TICKETS_BY_RESERVATION).getValueAsIntOrDefault(Integer.MIN_VALUE));" is 221.,177
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testOverrideMechanism,Long Statement,The length of the statement "configurationRepository.insertEventLevel(organization.getId()`event.getId()`MAX_AMOUNT_OF_TICKETS_BY_RESERVATION.getValue()`"7"`"desc");" is 136.,177
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testOverrideMechanism,Long Statement,The length of the statement "assertEquals(7`configurationManager.getFor(Collections.singleton(MAX_AMOUNT_OF_TICKETS_BY_RESERVATION)`ConfigurationLevel.event(event)).get(MAX_AMOUNT_OF_TICKETS_BY_RESERVATION).getValueAsIntOrDefault(Integer.MIN_VALUE));" is 221.,177
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testOverrideMechanism,Long Statement,The length of the statement "configurationRepository.insertTicketCategoryLevel(organization.getId()`event.getId()`tc.getId()`MAX_AMOUNT_OF_TICKETS_BY_RESERVATION.getValue()`"8"`"desc");" is 156.,177
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testOverrideMechanism,Long Statement,The length of the statement "assertEquals(7`configurationManager.getFor(MAX_AMOUNT_OF_TICKETS_BY_RESERVATION`ConfigurationLevel.event(event)).getValueAsIntOrDefault(-1));" is 141.,177
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testOverrideMechanism,Magic Number,The method contains a magic number: 5,177
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testOverrideMechanism,Magic Number,The method contains a magic number: 5,177
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testOverrideMechanism,Magic Number,The method contains a magic number: 6,177
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testOverrideMechanism,Magic Number,The method contains a magic number: 6,177
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testOverrideMechanism,Magic Number,The method contains a magic number: 7,177
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testOverrideMechanism,Magic Number,The method contains a magic number: 7,177
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testSaveOnlyExistingConfiguration,Long Statement,The length of the statement "configurationRepository.insertOrganizationLevel(event.getOrganizationId()`ConfigurationKeys.BANK_ACCOUNT_NR.getValue()`"MY-ACCOUNT_NUMBER"`"empty");" is 148.,223
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testSaveOnlyExistingConfiguration,Long Statement,The length of the statement "Configuration existing=configurationRepository.findByKeyAtOrganizationLevel(event.getOrganizationId()`ConfigurationKeys.BANK_ACCOUNT_NR.getValue()).orElseThrow(IllegalStateException::new);" is 188.,223
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testSaveOnlyExistingConfiguration,Long Statement,The length of the statement "Map<ConfigurationKeys.SettingCategory`List<Configuration>> all=configurationManager.loadOrganizationConfig(event.getOrganizationId()`USERNAME);" is 143.,223
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testSaveOnlyExistingConfiguration,Long Statement,The length of the statement "List<ConfigurationModification> modified=flatten.stream().filter(c -> !c.getKey().equals(ConfigurationKeys.BANK_ACCOUNT_NR.getValue())).map(ConfigurationModification::fromConfiguration).collect(Collectors.toList());" is 215.,223
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testSaveOnlyExistingConfiguration,Long Statement,The length of the statement "List<Configuration> organizationConfiguration=configurationRepository.findOrganizationConfiguration(event.getOrganizationId());" is 127.,223
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testSaveOnlyExistingConfiguration,Long Statement,The length of the statement "Optional<Configuration> result=configurationRepository.findByKeyAtOrganizationLevel(event.getOrganizationId()`ConfigurationKeys.BANK_ACCOUNT_NR.getValue());" is 156.,223
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testSaveOnlyValidConfiguration,Long Statement,The length of the statement "configurationRepository.insertOrganizationLevel(event.getOrganizationId()`ConfigurationKeys.BANK_ACCOUNT_NR.getValue()`"MY-ACCOUNT_NUMBER"`"empty");" is 148.,241
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testSaveOnlyValidConfiguration,Long Statement,The length of the statement "Configuration existing=configurationRepository.findByKeyAtOrganizationLevel(event.getOrganizationId()`ConfigurationKeys.BANK_ACCOUNT_NR.getValue()).orElseThrow(IllegalStateException::new);" is 188.,241
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testSaveOnlyValidConfiguration,Long Statement,The length of the statement "Map<ConfigurationKeys.SettingCategory`List<Configuration>> all=configurationManager.loadOrganizationConfig(event.getOrganizationId()`USERNAME);" is 143.,241
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testSaveOnlyValidConfiguration,Long Statement,The length of the statement "List<ConfigurationModification> modified=flatten.stream().filter(c -> !c.getKey().equals(ConfigurationKeys.BANK_ACCOUNT_NR.getValue()) && !c.getKey().equals(ConfigurationKeys.PARTIAL_RESERVATION_ID_LENGTH.getValue())).map(ConfigurationModification::fromConfiguration).collect(Collectors.toList());" is 297.,241
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testSaveOnlyValidConfiguration,Long Statement,The length of the statement "List<Configuration> organizationConfiguration=configurationRepository.findOrganizationConfiguration(event.getOrganizationId());" is 127.,241
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testSaveOnlyValidConfiguration,Long Statement,The length of the statement "Optional<Configuration> result=configurationRepository.findByKeyAtOrganizationLevel(event.getOrganizationId()`ConfigurationKeys.BANK_ACCOUNT_NR.getValue());" is 156.,241
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testSaveOnlyValidConfiguration,Long Statement,The length of the statement "result=configurationRepository.findByKeyAtOrganizationLevel(event.getOrganizationId()`ConfigurationKeys.PARTIAL_RESERVATION_ID_LENGTH.getValue());" is 146.,241
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testSaveOnlyValidConfiguration,Magic Number,The method contains a magic number: 2,241
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testLoadOrganizationConfiguration,Long Statement,The length of the statement "Map<ConfigurationKeys.SettingCategory`List<Configuration>> orgConf=configurationManager.loadOrganizationConfig(event.getOrganizationId()`USERNAME);" is 147.,265
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testLoadOrganizationConfiguration,Long Statement,The length of the statement "assertEquals(ConfigurationKeys.byPathLevel(ConfigurationPathLevel.ORGANIZATION).size()`orgConf.values().stream().mapToLong(Collection::size).sum());" is 148.,265
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testLoadOrganizationConfiguration,Long Statement,The length of the statement "configurationRepository.insertOrganizationLevel(event.getOrganizationId()`ConfigurationKeys.BANK_ACCOUNT_NR.getValue()`value`"empty");" is 134.,265
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testLoadOrganizationConfiguration,Long Statement,The length of the statement "assertEquals(ConfigurationKeys.byPathLevel(ConfigurationPathLevel.ORGANIZATION).size()`orgConf.values().stream().mapToLong(Collection::size).sum());" is 148.,265
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testLoadOrganizationConfiguration,Long Statement,The length of the statement "assertEquals(value`orgConf.get(SettingCategory.PAYMENT_OFFLINE).stream().filter(c -> c.getConfigurationKey() == ConfigurationKeys.BANK_ACCOUNT_NR).findFirst().orElseThrow(IllegalStateException::new).getValue());" is 211.,265
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testSaveBooleanOptions,Long Statement,The length of the statement "ConfigurationModification ftc=new ConfigurationModification(configurationRepository.findByKey(ftcKey).getId()`ftcKey`"true");" is 125.,282
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testSaveBooleanOptions,Long Statement,The length of the statement "ConfigurationModification pr=new ConfigurationModification(configurationRepository.findByKey(prKey).getId()`prKey`"false");" is 123.,282
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testSaveBooleanOptions,Long Statement,The length of the statement "ConfigurationModification newFalse=new ConfigurationModification(-1`ENABLE_WAITING_QUEUE_NOTIFICATION.getValue()`"false");" is 122.,282
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testBulk,Long Statement,The length of the statement "var res=configurationManager.getFor(Set.of(MAX_AMOUNT_OF_TICKETS_BY_RESERVATION`ENABLE_WAITING_QUEUE`ENABLE_WAITING_QUEUE_NOTIFICATION)`ConfigurationLevel.event(event));" is 169.,319
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testBulk,Long Statement,The length of the statement "assertEquals(ConfigurationPathLevel.SYSTEM`res.get(MAX_AMOUNT_OF_TICKETS_BY_RESERVATION).getConfigurationPathLevelOrDefault(null));" is 131.,319
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testBulk,Long Statement,The length of the statement "configurationRepository.insertOrganizationLevel(event.getOrganizationId()`ENABLE_WAITING_QUEUE_NOTIFICATION.getValue()`"false"`"");" is 131.,319
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testBulk,Long Statement,The length of the statement "res=configurationManager.getFor(Set.of(MAX_AMOUNT_OF_TICKETS_BY_RESERVATION`ENABLE_WAITING_QUEUE`ENABLE_WAITING_QUEUE_NOTIFICATION)`ConfigurationLevel.event(event));" is 165.,319
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testBulk,Long Statement,The length of the statement "assertEquals(ConfigurationPathLevel.ORGANIZATION`res.get(ENABLE_WAITING_QUEUE).getConfigurationPathLevelOrDefault(null));" is 121.,319
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testBulk,Long Statement,The length of the statement "assertEquals(ConfigurationPathLevel.ORGANIZATION`res.get(ENABLE_WAITING_QUEUE_NOTIFICATION).getConfigurationPathLevelOrDefault(null));" is 134.,319
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testBulk,Long Statement,The length of the statement "configurationRepository.insertEventLevel(event.getOrganizationId()`event.getId()`MAX_AMOUNT_OF_TICKETS_BY_RESERVATION.getValue()`"20"`"");" is 138.,319
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testBulk,Long Statement,The length of the statement "configurationRepository.insertEventLevel(event.getOrganizationId()`event.getId()`ENABLE_WAITING_QUEUE.getValue()`"true"`"");" is 124.,319
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testBulk,Long Statement,The length of the statement "configurationRepository.insertEventLevel(event.getOrganizationId()`event.getId()`ENABLE_WAITING_QUEUE_NOTIFICATION.getValue()`"true"`"");" is 137.,319
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testBulk,Long Statement,The length of the statement "res=configurationManager.getFor(Set.of(MAX_AMOUNT_OF_TICKETS_BY_RESERVATION`ENABLE_WAITING_QUEUE`ENABLE_WAITING_QUEUE_NOTIFICATION)`ConfigurationLevel.event(event));" is 165.,319
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testBulk,Long Statement,The length of the statement "assertEquals(ConfigurationPathLevel.EVENT`res.get(MAX_AMOUNT_OF_TICKETS_BY_RESERVATION).getConfigurationPathLevelOrDefault(null));" is 130.,319
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testBulk,Long Statement,The length of the statement "assertEquals(ConfigurationPathLevel.EVENT`res.get(ENABLE_WAITING_QUEUE_NOTIFICATION).getConfigurationPathLevelOrDefault(null));" is 127.,319
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testBulk,Magic Number,The method contains a magic number: 3,319
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testBulk,Magic Number,The method contains a magic number: 5,319
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testBulk,Magic Number,The method contains a magic number: 3,319
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testBulk,Magic Number,The method contains a magic number: 20,319
exteso_alf.io,alfio.manager,ConfigurationManagerIntegrationTest,testBaseUrl,Long Statement,The length of the statement "configurationRepository.insertEventLevel(event.getOrganizationId()`event.getId()`BASE_URL.getValue()`"https://test/"`"");" is 121.,363
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,setUp,Long Identifier,The length of the field ticketCategoryDescriptionRepository is 35.,84
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,setUp,Long Identifier,The length of the field additionalServiceItemRepository is 31.,84
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,setUp,Long Identifier,The length of the field additionalServiceTextRepository is 31.,84
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,setUp,Long Statement,The length of the statement "manager=new TicketReservationManager(eventRepository`organizationRepository`ticketRepository`ticketReservationRepository`ticketCategoryRepository`ticketCategoryDescriptionRepository`configurationManager`paymentManager`promoCodeDiscountRepository`specialPriceRepository`transactionRepository`notificationManager`messageSourceManager`templateManager`transactionManager`waitingQueueManager`ticketFieldRepository`additionalServiceRepository`additionalServiceItemRepository`additionalServiceTextRepository`auditingRepository`userRepository`extensionManager`mock(TicketSearchRepository.class)`groupManager`billingDocumentRepository`mock(NamedParameterJdbcTemplate.class)`json`mock(BillingDocumentManager.class)`TestUtil.clockProvider()`purchaseContextManager`mock(SubscriptionRepository.class)`mock(UserManager.class));" is 813.,84
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostOnlyTickets,Long Identifier,The length of the identifier additionalServiceItemRepository is 31.,165
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostOnlyTickets,Long Statement,The length of the statement "when(ticketRepository.findTicketsInReservation(eq(TICKET_RESERVATION_ID))).thenReturn(Collections.singletonList(ticket));" is 121.,165
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostOnlyTickets,Long Statement,The length of the statement "when(additionalServiceItemRepository.findByReservationUuid(eq(TICKET_RESERVATION_ID))).thenReturn(Collections.emptyList());" is 123.,165
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostOnlyTickets,Long Statement,The length of the statement "Pair<TotalPrice`Optional<PromoCodeDiscount>> priceAndDiscount=manager.totalReservationCostWithVAT(TICKET_RESERVATION_ID);" is 121.,165
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostOnlyTickets,Long Statement,The length of the statement "Pair<TotalPrice`Optional<PromoCodeDiscount>> priceAndDiscountNotIncluded=manager.totalReservationCostWithVAT(TICKET_RESERVATION_ID);" is 132.,165
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostOnlyTickets,Magic Number,The method contains a magic number: 10,165
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostOnlyTickets,Magic Number,The method contains a magic number: 10,165
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostOnlyTickets,Magic Number,The method contains a magic number: 11,165
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostWithASVatIncludedInherited,Long Statement,The length of the statement "Pair<TotalPrice`Optional<PromoCodeDiscount>> priceAndDiscount=manager.totalReservationCostWithVAT(TICKET_RESERVATION_ID);" is 121.,192
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostWithASVatIncludedInherited,Magic Number,The method contains a magic number: 10,192
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostWithASVatIncludedInherited,Magic Number,The method contains a magic number: 10,192
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostWithASVatIncludedInherited,Magic Number,The method contains a magic number: 20,192
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostWithASVatIncludedInherited,Magic Number,The method contains a magic number: 2,192
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostWithASVatIncludedASNoVat,Long Statement,The length of the statement "Pair<TotalPrice`Optional<PromoCodeDiscount>> priceAndDiscount=manager.totalReservationCostWithVAT(TICKET_RESERVATION_ID);" is 121.,203
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostWithASVatIncludedASNoVat,Magic Number,The method contains a magic number: 10,203
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostWithASVatIncludedASNoVat,Magic Number,The method contains a magic number: 10,203
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostWithASVatIncludedASNoVat,Magic Number,The method contains a magic number: 20,203
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostWithASVatNotIncludedASInherited,Long Statement,The length of the statement "Pair<TotalPrice`Optional<PromoCodeDiscount>> priceAndDiscount=manager.totalReservationCostWithVAT(TICKET_RESERVATION_ID);" is 121.,214
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostWithASVatNotIncludedASInherited,Magic Number,The method contains a magic number: 10,214
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostWithASVatNotIncludedASInherited,Magic Number,The method contains a magic number: 10,214
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostWithASVatNotIncludedASInherited,Magic Number,The method contains a magic number: 22,214
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostWithASVatNotIncludedASInherited,Magic Number,The method contains a magic number: 2,214
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostWithASVatNotIncludedASNone,Long Statement,The length of the statement "Pair<TotalPrice`Optional<PromoCodeDiscount>> priceAndDiscount=manager.totalReservationCostWithVAT(TICKET_RESERVATION_ID);" is 121.,225
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostWithASVatNotIncludedASNone,Magic Number,The method contains a magic number: 10,225
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostWithASVatNotIncludedASNone,Magic Number,The method contains a magic number: 10,225
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,calcReservationCostWithASVatNotIncludedASNone,Magic Number,The method contains a magic number: 21,225
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatNotIncluded,Long Statement,The length of the statement "List<SummaryRow> summaryRows=manager.extractSummary(TICKET_RESERVATION_ID`null`event`Locale.ENGLISH`null`new TotalPrice(1100`100`0`0`"CHF"));" is 141.,236
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatNotIncluded,Magic Number,The method contains a magic number: 1000,236
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatNotIncluded,Magic Number,The method contains a magic number: 1100,236
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatNotIncluded,Magic Number,The method contains a magic number: 100,236
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatIncluded,Long Statement,The length of the statement "List<SummaryRow> summaryRows=manager.extractSummary(TICKET_RESERVATION_ID`null`event`Locale.ENGLISH`null`new TotalPrice(1000`100`0`0`"CHF"));" is 141.,244
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatIncluded,Magic Number,The method contains a magic number: 1000,244
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatIncluded,Magic Number,The method contains a magic number: 1000,244
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatIncluded,Magic Number,The method contains a magic number: 100,244
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatIncludedExempt,Long Statement,The length of the statement "List<SummaryRow> summaryRows=manager.extractSummary(TICKET_RESERVATION_ID`PriceContainer.VatStatus.INCLUDED_EXEMPT`event`Locale.ENGLISH`null`new TotalPrice(1000`100`0`0`"CHF"));" is 177.,252
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatIncludedExempt,Magic Number,The method contains a magic number: 1000,252
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatIncludedExempt,Magic Number,The method contains a magic number: 909,252
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatIncludedExempt,Magic Number,The method contains a magic number: 1000,252
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatIncludedExempt,Magic Number,The method contains a magic number: 100,252
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatNotIncludedExempt,Long Statement,The length of the statement "List<SummaryRow> summaryRows=manager.extractSummary(TICKET_RESERVATION_ID`PriceContainer.VatStatus.NOT_INCLUDED_EXEMPT`event`Locale.ENGLISH`null`new TotalPrice(1000`100`0`0`"CHF"));" is 181.,262
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatNotIncludedExempt,Magic Number,The method contains a magic number: 1000,262
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatNotIncludedExempt,Magic Number,The method contains a magic number: 1000,262
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatNotIncludedExempt,Magic Number,The method contains a magic number: 1000,262
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatNotIncludedExempt,Magic Number,The method contains a magic number: 100,262
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatNotIncludedASInherited,Long Statement,The length of the statement "List<SummaryRow> summaryRows=manager.extractSummary(TICKET_RESERVATION_ID`null`event`Locale.ENGLISH`null`new TotalPrice(2200`200`0`0`"CHF"));" is 141.,272
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatNotIncludedASInherited,Magic Number,The method contains a magic number: 1000,272
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatNotIncludedASInherited,Magic Number,The method contains a magic number: 1000,272
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatNotIncludedASInherited,Magic Number,The method contains a magic number: 2200,272
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatNotIncludedASInherited,Magic Number,The method contains a magic number: 200,272
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatNotIncludedASInherited,Magic Number,The method contains a magic number: 2,272
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatIncludedASInherited,Long Statement,The length of the statement "List<SummaryRow> summaryRows=manager.extractSummary(TICKET_RESERVATION_ID`null`event`Locale.ENGLISH`null`new TotalPrice(2000`182`0`0`"CHF"));" is 141.,280
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatIncludedASInherited,Magic Number,The method contains a magic number: 1000,280
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatIncludedASInherited,Magic Number,The method contains a magic number: 1000,280
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatIncludedASInherited,Magic Number,The method contains a magic number: 2000,280
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatIncludedASInherited,Magic Number,The method contains a magic number: 182,280
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatIncludedASInherited,Magic Number,The method contains a magic number: 2,280
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatNotIncludedASNone,Long Statement,The length of the statement "List<SummaryRow> summaryRows=manager.extractSummary(TICKET_RESERVATION_ID`null`event`Locale.ENGLISH`null`new TotalPrice(1000`100`0`0`"CHF"));" is 141.,288
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatNotIncludedASNone,Magic Number,The method contains a magic number: 1000,288
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatNotIncludedASNone,Magic Number,The method contains a magic number: 1000,288
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatNotIncludedASNone,Magic Number,The method contains a magic number: 1000,288
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatNotIncludedASNone,Magic Number,The method contains a magic number: 100,288
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatNotIncludedASNone,Magic Number,The method contains a magic number: 2,288
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatIncludedASNone,Long Statement,The length of the statement "List<SummaryRow> summaryRows=manager.extractSummary(TICKET_RESERVATION_ID`null`event`Locale.ENGLISH`null`new TotalPrice(2000`100`0`0`"CHF"));" is 141.,296
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatIncludedASNone,Magic Number,The method contains a magic number: 1000,296
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatIncludedASNone,Magic Number,The method contains a magic number: 1000,296
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatIncludedASNone,Magic Number,The method contains a magic number: 2000,296
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatIncludedASNone,Magic Number,The method contains a magic number: 100,296
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,testExtractSummaryVatIncludedASNone,Magic Number,The method contains a magic number: 2,296
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,initReservationWithTicket,Long Statement,The length of the statement "when(event.getVatStatus()).thenReturn(eventVatIncluded ? PriceContainer.VatStatus.INCLUDED : PriceContainer.VatStatus.NOT_INCLUDED);" is 132.,305
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,initReservationWithTicket,Long Statement,The length of the statement "when(ticketRepository.findTicketsInReservation(eq(TICKET_RESERVATION_ID))).thenReturn(Collections.singletonList(ticket));" is 121.,305
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,initReservationWithAdditionalServices,Long Identifier,The length of the identifier additionalServiceItemRepository is 31.,320
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,initReservationWithAdditionalServices,Long Identifier,The length of the field additionalServiceTextRepository is 31.,320
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,initReservationWithAdditionalServices,Long Statement,The length of the statement "when(additionalServiceItemRepository.findByReservationUuid(eq(TICKET_RESERVATION_ID))).thenReturn(Collections.singletonList(additionalServiceItem));" is 148.,320
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,initReservationWithAdditionalServices,Long Statement,The length of the statement "when(additionalServiceItemRepository.findByReservationUuid(eq(TICKET_RESERVATION_ID))).thenReturn(Collections.emptyList());" is 123.,320
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,initReservationWithAdditionalServices,Long Statement,The length of the statement "when(additionalServiceTextRepository.findBestMatchByLocaleAndType(anyInt()`eq("en")`eq(AdditionalServiceText.TextType.TITLE))).thenReturn(text);" is 144.,320
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,doNotCallExtensionIfTicketsAreFreeOfCharge,Long Statement,The length of the statement "Optional<String> result=manager.createDynamicPromoCodeIfNeeded(event`List.of(ticketReservationMock)`TICKET_RESERVATION_ID);" is 123.,344
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,callExtensionIfTicketsMustBePaid,Long Statement,The length of the statement "when(extensionManager.handleDynamicDiscount(eq(event)`anyMap()`eq(TICKET_RESERVATION_ID))).thenReturn(Optional.of(promoCode));" is 126.,354
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,callExtensionIfTicketsMustBePaid,Long Statement,The length of the statement "when(promoCodeDiscountRepository.addPromoCodeIfNotExists(eq("abcd")`any()`anyInt()`any()`any()`anyInt()`any()`any()`any()`isNull()`isNull()`any()`isNull())).thenReturn(0);" is 171.,354
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,callExtensionIfTicketsMustBePaid,Long Statement,The length of the statement "Optional<String> result=manager.createDynamicPromoCodeIfNeeded(event`List.of(ticketReservationMock)`TICKET_RESERVATION_ID);" is 123.,354
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,addAuditingIfPromoCodeHasBeenCreated,Long Statement,The length of the statement "when(extensionManager.handleDynamicDiscount(eq(event)`anyMap()`eq(TICKET_RESERVATION_ID))).thenReturn(Optional.of(promoCode));" is 126.,368
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,addAuditingIfPromoCodeHasBeenCreated,Long Statement,The length of the statement "when(promoCodeDiscountRepository.addPromoCodeIfNotExists(eq("abcd")`any()`anyInt()`any()`any()`anyInt()`any()`any()`any()`isNull()`isNull()`any()`isNull())).thenReturn(1);" is 171.,368
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,addAuditingIfPromoCodeHasBeenCreated,Long Statement,The length of the statement "Optional<String> result=manager.createDynamicPromoCodeIfNeeded(event`List.of(ticketReservationMock)`TICKET_RESERVATION_ID);" is 123.,368
exteso_alf.io,alfio.manager,TicketReservationManagerUnitTest,addAuditingIfPromoCodeHasBeenCreated,Long Statement,The length of the statement "verify(auditingRepository).insert(eq(TICKET_RESERVATION_ID)`any()`anyInt()`eq(Audit.EventType.DYNAMIC_DISCOUNT_CODE_CREATED)`any()`eq(Audit.EntityType.RESERVATION)`eq(TICKET_RESERVATION_ID));" is 191.,368
exteso_alf.io,alfio.manager,EventNameManagerIntegrationTest,setUp,Long Statement,The length of the statement "assertEquals(Boolean.FALSE`jdbcTemplate.queryForObject("select usesuper from pg_user where usename = CURRENT_USER"`EmptySqlParameterSource.INSTANCE`Boolean.class));" is 164.,81
exteso_alf.io,alfio.manager,EventNameManagerIntegrationTest,setUp,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 487.,81
exteso_alf.io,alfio.manager,EventNameManagerIntegrationTest,testValidSlug,Long Statement,The length of the statement "assertEquals(Boolean.TRUE`jdbcTemplate.queryForObject("select set_config('alfio.checkRowAccess'` 'true'` true)"`EmptySqlParameterSource.INSTANCE`Boolean.class));" is 161.,101
exteso_alf.io,alfio.manager,EventNameManagerIntegrationTest,testValidSlug,Long Statement,The length of the statement "assertEquals(String.valueOf(secondOrgId)`jdbcTemplate.queryForObject("select set_config('alfio.currentUserOrgs'` :orgs` true)"`new MapSqlParameterSource("orgs"`String.valueOf(secondOrgId))`String.class));" is 204.,101
exteso_alf.io,alfio.manager,EventNameManagerIntegrationTest,testAlreadyUsedSlug,Long Statement,The length of the statement "assertEquals(Boolean.TRUE`jdbcTemplate.queryForObject("select set_config('alfio.checkRowAccess'` 'true'` true)"`EmptySqlParameterSource.INSTANCE`Boolean.class));" is 161.,108
exteso_alf.io,alfio.manager,EventNameManagerIntegrationTest,testAlreadyUsedSlug,Long Statement,The length of the statement "assertEquals(String.valueOf(secondOrgId)`jdbcTemplate.queryForObject("select set_config('alfio.currentUserOrgs'` :orgs` true)"`new MapSqlParameterSource("orgs"`String.valueOf(secondOrgId))`String.class));" is 204.,108
exteso_alf.io,alfio.manager,WaitingQueueManagerTest,setUp,Long Statement,The length of the statement "manager=new WaitingQueueManager(waitingQueueRepository`ticketRepository`ticketCategoryRepository`configurationManager`eventStatisticsManager`notificationManager`templateManager`messageSourceManager`organizationRepository`eventRepository`extensionManager`TestUtil.clockProvider());" is 280.,75
exteso_alf.io,alfio.manager,WaitingQueueManagerTest,handleReservationConfirmation,Long Statement,The length of the statement "verify(waitingQueueRepository).updateStatusByReservationId(eq(reservationId)`eq(WaitingQueueSubscription.Status.ACQUIRED.toString()));" is 134.,102
exteso_alf.io,alfio.manager,WaitingQueueManagerTest,processPreReservations,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ENABLE_PRE_REGISTRATION)`any())).thenReturn(new ConfigurationManager.MaybeConfiguration(ENABLE_PRE_REGISTRATION`new ConfigurationKeyValuePathLevel(null`"true"`null)));" is 203.,146
exteso_alf.io,alfio.manager,WaitingQueueManagerTest,processPreReservations,Long Statement,The length of the statement "when(configurationManager.getFor(eq(WAITING_QUEUE_RESERVATION_TIMEOUT)`any())).thenReturn(new ConfigurationManager.MaybeConfiguration(WAITING_QUEUE_RESERVATION_TIMEOUT));" is 170.,146
exteso_alf.io,alfio.manager,WaitingQueueManagerTest,processPreReservations,Long Statement,The length of the statement "when(ticketRepository.selectWaitingTicketsForUpdate(eventId`Ticket.TicketStatus.PRE_RESERVED.name()`1)).thenReturn(Collections.singletonList(ticket));" is 150.,146
exteso_alf.io,alfio.manager,WaitingQueueManagerTest,processPreReservations,Long Statement,The length of the statement "Stream<Triple<WaitingQueueSubscription`TicketReservationWithOptionalCodeModification`ZonedDateTime>> stream=manager.distributeSeats(event);" is 139.,146
exteso_alf.io,alfio.manager,WaitingQueueManagerTest,processPreReservations,Magic Number,The method contains a magic number: 10,146
exteso_alf.io,alfio.manager,WaitingQueueProcessorMultiThreadedIntegrationTest,testPreRegistration,Long Identifier,The length of the field waitingQueueSubscriptionProcessor is 33.,94
exteso_alf.io,alfio.manager,WaitingQueueProcessorMultiThreadedIntegrationTest,testPreRegistration,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(1)`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(2)`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 486.,94
exteso_alf.io,alfio.manager,WaitingQueueProcessorMultiThreadedIntegrationTest,testPreRegistration,Long Statement,The length of the statement "waitingQueueManager.subscribe(event`new CustomerName("Giuseppe Garibaldi"`"Giuseppe"`"Garibaldi"`event.mustUseFirstAndLastName())`"peppino@garibaldi.com"`null`Locale.ENGLISH);" is 175.,94
exteso_alf.io,alfio.manager,WaitingQueueProcessorMultiThreadedIntegrationTest,testPreRegistration,Long Statement,The length of the statement "waitingQueueManager.subscribe(event`new CustomerName("Nino Bixio"`"Nino"`"Bixio"`event.mustUseFirstAndLastName())`"bixio@mille.org"`null`Locale.ITALIAN);" is 153.,94
exteso_alf.io,alfio.manager,WaitingQueueProcessorMultiThreadedIntegrationTest,testPreRegistration,Long Statement,The length of the statement "TicketCategoryModification tcm=new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(ClockProvider.clock()).minusDays(1)`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(5)`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty());" is 446.,94
exteso_alf.io,alfio.manager,WaitingQueueProcessorMultiThreadedIntegrationTest,testPreRegistration,Long Statement,The length of the statement "assertTrue(subscriptions.stream().allMatch(w -> w.getSubscriptionType().equals(WaitingQueueSubscription.Type.PRE_SALES)));" is 122.,94
exteso_alf.io,alfio.manager,WaitingQueueProcessorMultiThreadedIntegrationTest,testPreRegistration,Magic Number,The method contains a magic number: 10,94
exteso_alf.io,alfio.manager,WaitingQueueProcessorMultiThreadedIntegrationTest,testPreRegistration,Magic Number,The method contains a magic number: 2,94
exteso_alf.io,alfio.manager,WaitingQueueProcessorMultiThreadedIntegrationTest,testPreRegistration,Magic Number,The method contains a magic number: 2,94
exteso_alf.io,alfio.manager,WaitingQueueProcessorMultiThreadedIntegrationTest,testPreRegistration,Magic Number,The method contains a magic number: 10,94
exteso_alf.io,alfio.manager,WaitingQueueProcessorMultiThreadedIntegrationTest,testPreRegistration,Magic Number,The method contains a magic number: 10,94
exteso_alf.io,alfio.manager,WaitingQueueProcessorMultiThreadedIntegrationTest,testPreRegistration,Magic Number,The method contains a magic number: 18,94
exteso_alf.io,alfio.manager,WaitingQueueProcessorMultiThreadedIntegrationTest,testPreRegistration,Magic Number,The method contains a magic number: 10,94
exteso_alf.io,alfio.manager,WaitingQueueProcessorMultiThreadedIntegrationTest,testPreRegistration,Magic Number,The method contains a magic number: 5,94
exteso_alf.io,alfio.manager,WaitingQueueProcessorMultiThreadedIntegrationTest,testPreRegistration,Magic Number,The method contains a magic number: 10,94
exteso_alf.io,alfio.manager,WaitingQueueProcessorMultiThreadedIntegrationTest,testPreRegistration,Magic Number,The method contains a magic number: 2,94
exteso_alf.io,alfio.manager,DemoModeDataManagerIntegrationTest,DemoModeDataManagerIntegrationTest,Long Parameter List,The method has 7 parameters. ,70
exteso_alf.io,alfio.manager,DemoModeDataManagerIntegrationTest,deleteExpiredUsersAndEvents,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`Map.of("en"`"desc")`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 483.,92
exteso_alf.io,alfio.manager,DemoModeDataManagerIntegrationTest,deleteExpiredUsersAndEvents,Long Statement,The length of the statement "int updateResult=jdbcTemplate.update("update ba_user set user_type = 'DEMO'` user_creation_time = :date where username = :username"`Map.of("date"`expirationDate`"username"`eventAndUser.getRight()));" is 198.,92
exteso_alf.io,alfio.manager,DemoModeDataManagerIntegrationTest,deleteExpiredUsersAndEvents,Magic Number,The method contains a magic number: 30,92
exteso_alf.io,alfio.manager,DemoModeDataManagerIntegrationTest,doNotDeleteNewUsers,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`Map.of("en"`"desc")`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 483.,111
exteso_alf.io,alfio.manager,EventManagerCheckInConfigurationTest,init,Long Statement,The length of the statement "eventManager=new EventManager(null`null`null`null`null`null`null`null`configurationManager`null`null`null`null`null`null`null`null`null`null`null`configurationRepository`null`TestUtil.clockProvider()`mock(SubscriptionRepository.class));" is 236.,46
exteso_alf.io,alfio.manager,EventManagerCheckInConfigurationTest,insertConfiguration,Long Statement,The length of the statement "verify(configurationRepository).insertEventLevel(eq(1)`eq(eventId)`eq(CHECK_IN_COLOR_CONFIGURATION.name())`eq("{\"defaultColorName\":\"success\"`\"configurations\":[{\"colorName\":\"warning\"`\"categories\":[1]}]}")`isNull());" is 226.,59
exteso_alf.io,alfio.manager,EventManagerCheckInConfigurationTest,saveConfigurationNewColor,Long Statement,The length of the statement "verify(configurationRepository).updateEventLevel(eq(eventId)`eq(1)`eq(CHECK_IN_COLOR_CONFIGURATION.name())`eq("{\"defaultColorName\":\"success\"`\"configurations\":[{\"colorName\":\"info\"`\"categories\":[5]}`{\"colorName\":\"warning\"`\"categories\":[1]}]}"));" is 261.,66
exteso_alf.io,alfio.manager,EventManagerCheckInConfigurationTest,saveConfigurationExistingColor,Long Statement,The length of the statement "verify(configurationRepository).updateEventLevel(eq(eventId)`eq(1)`eq(CHECK_IN_COLOR_CONFIGURATION.name())`eq("{\"defaultColorName\":\"success\"`\"configurations\":[{\"colorName\":\"info\"`\"categories\":[5`1]}]}"));" is 216.,74
exteso_alf.io,alfio.manager,EventManagerCheckInConfigurationTest,saveConfigurationModifyColor,Long Statement,The length of the statement "verify(configurationRepository).updateEventLevel(eq(eventId)`eq(1)`eq(CHECK_IN_COLOR_CONFIGURATION.name())`eq("{\"defaultColorName\":\"success\"`\"configurations\":[{\"colorName\":\"warning\"`\"categories\":[1]}]}"));" is 217.,82
exteso_alf.io,alfio.manager,EventManagerHandleTokenModificationTest,init,Long Statement,The length of the statement "eventManager=new EventManager(null`null`null`null`null`ticketRepository`specialPriceRepository`null`null`null`null`null`null`null`null`null`null`null`null`null`null`null`TestUtil.clockProvider()`mock(SubscriptionRepository.class));" is 231.,47
exteso_alf.io,alfio.manager,EventManagerHandleTokenModificationTest,init,Magic Number,The method contains a magic number: 20,47
exteso_alf.io,alfio.manager,EventManagerHandleTokenModificationTest,init,Magic Number,The method contains a magic number: 30,47
exteso_alf.io,alfio.manager,EventManagerHandleTokenModificationTest,init,Magic Number,The method contains a magic number: 1000,47
exteso_alf.io,alfio.manager,EventManagerHandleTokenModificationTest,init,Magic Number,The method contains a magic number: 1000,47
exteso_alf.io,alfio.manager,EventManagerHandleTokenModificationTest,init,Magic Number,The method contains a magic number: 10,47
exteso_alf.io,alfio.manager,EventManagerHandleTokenModificationTest,init,Magic Number,The method contains a magic number: 11,47
exteso_alf.io,alfio.manager,EventManagerHandleTokenModificationTest,doNothingIfCategoriesAreNotAccessRestricted,Magic Number,The method contains a magic number: 50,67
exteso_alf.io,alfio.manager,EventManagerHandleTokenModificationTest,handleRestrictionActivation,Magic Number,The method contains a magic number: 50,76
exteso_alf.io,alfio.manager,EventManagerHandleTokenModificationTest,handleRestrictionActivation,Magic Number,The method contains a magic number: 50,76
exteso_alf.io,alfio.manager,EventManagerHandleTokenModificationTest,handleRestrictionDeactivation,Magic Number,The method contains a magic number: 20,86
exteso_alf.io,alfio.manager,EventManagerHandleTokenModificationTest,handleRestrictionDeactivation,Magic Number,The method contains a magic number: 50,86
exteso_alf.io,alfio.manager,EventManagerHandleTokenModificationTest,handleRestrictionDeactivation,Magic Number,The method contains a magic number: 20,86
exteso_alf.io,alfio.manager,EventManagerHandleTokenModificationTest,handleTicketAddition,Magic Number,The method contains a magic number: 50,96
exteso_alf.io,alfio.manager,EventManagerHandleTokenModificationTest,handleTicketAddition,Magic Number,The method contains a magic number: 50,96
exteso_alf.io,alfio.manager,EventManagerHandleTokenModificationTest,handleTicketRemoval,Magic Number,The method contains a magic number: 20,105
exteso_alf.io,alfio.manager,EventManagerHandleTokenModificationTest,handleTicketRemoval,Magic Number,The method contains a magic number: 2,105
exteso_alf.io,alfio.manager,EventManagerHandleTokenModificationTest,handleTicketRemoval,Magic Number,The method contains a magic number: 20,105
exteso_alf.io,alfio.manager,EventManagerHandleTokenModificationTest,handleTicketRemoval,Magic Number,The method contains a magic number: 2,105
exteso_alf.io,alfio.manager,EventManagerHandleTokenModificationTest,handleTicketRemoval,Magic Number,The method contains a magic number: 2,105
exteso_alf.io,alfio.manager,EventManagerHandleTokenModificationTest,failIfNotEnoughTickets,Magic Number,The method contains a magic number: 20,117
exteso_alf.io,alfio.manager,EventManagerHandleTokenModificationTest,failIfNotEnoughTickets,Magic Number,The method contains a magic number: 20,117
exteso_alf.io,alfio.manager,EventManagerHandleTokenModificationTest,failIfNotEnoughTickets,Magic Number,The method contains a magic number: 2,117
exteso_alf.io,alfio.manager,EventManagerHandleTokenModificationTest,failIfNotEnoughTickets,Magic Number,The method contains a magic number: 2,117
exteso_alf.io,alfio.manager,PaymentManagerTest,selectionConflict,Long Statement,The length of the statement "when(mollie.getSupportedPaymentMethods(any()`any())).thenReturn(EnumSet.of(PaymentMethod.CREDIT_CARD`PaymentMethod.IDEAL));" is 123.,63
exteso_alf.io,alfio.manager,PaymentManagerTest,selectionConflict,Long Statement,The length of the statement "List<Map.Entry<PaymentMethod`Set<PaymentProxy>>> entries=paymentManager.validateSelection(List.of(PaymentProxy.STRIPE`PaymentProxy.MOLLIE)`1);" is 142.,63
exteso_alf.io,alfio.manager,GroupManagerIntegrationTest,testLinkToEvent,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(1)`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(2)`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 486.,95
exteso_alf.io,alfio.manager,GroupManagerIntegrationTest,testLinkToEvent,Long Statement,The length of the statement "LinkedGroupModification modification=new LinkedGroupModification(null`group.getId()`event.getId()`null`LinkedGroup.Type.ONCE_PER_VALUE`LinkedGroup.MatchType.FULL`null);" is 168.,95
exteso_alf.io,alfio.manager,GroupManagerIntegrationTest,testLinkToEvent,Long Statement,The length of the statement "assertFalse(groupManager.isAllowed("test@test.ch"`event.getId()`categoryId)`"Group is empty` therefore no value is allowed");" is 125.,95
exteso_alf.io,alfio.manager,GroupManagerIntegrationTest,testLinkToEvent,Long Statement,The length of the statement "Result<Integer> items=groupManager.insertMembers(group.getId()`Collections.singletonList(new GroupMemberModification(null`"test@test.ch"`"description")));" is 154.,95
exteso_alf.io,alfio.manager,GroupManagerIntegrationTest,testLinkToEvent,Long Statement,The length of the statement "String reservationId=ticketReservationManager.createTicketReservation(event`Collections.singletonList(new TicketReservationWithOptionalCodeModification(ticketReservation`Optional.empty()))`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.empty()`Locale.ENGLISH`false`null);" is 289.,95
exteso_alf.io,alfio.manager,GroupManagerIntegrationTest,testLinkToEvent,Long Statement,The length of the statement "reservationId=ticketReservationManager.createTicketReservation(event`Collections.singletonList(new TicketReservationWithOptionalCodeModification(ticketReservation`Optional.empty()))`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.empty()`Locale.ENGLISH`false`null);" is 282.,95
exteso_alf.io,alfio.manager,GroupManagerIntegrationTest,testLinkToEvent,Magic Number,The method contains a magic number: 10,95
exteso_alf.io,alfio.manager,GroupManagerIntegrationTest,testLinkToEvent,Magic Number,The method contains a magic number: 2,95
exteso_alf.io,alfio.manager,GroupManagerIntegrationTest,testDuplicates,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(1)`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(2)`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 486.,144
exteso_alf.io,alfio.manager,GroupManagerIntegrationTest,testDuplicates,Long Statement,The length of the statement "LinkedGroupModification modification=new LinkedGroupModification(null`group.getId()`event.getId()`null`LinkedGroup.Type.ONCE_PER_VALUE`LinkedGroup.MatchType.FULL`null);" is 168.,144
exteso_alf.io,alfio.manager,GroupManagerIntegrationTest,testDuplicates,Long Statement,The length of the statement "Result<Integer> items=groupManager.insertMembers(group.getId()`Arrays.asList(new GroupMemberModification(null`"test@test.ch"`"description")`new GroupMemberModification(null`"test@test.ch"`"description")));" is 205.,144
exteso_alf.io,alfio.manager,GroupManagerIntegrationTest,testDuplicates,Magic Number,The method contains a magic number: 10,144
exteso_alf.io,alfio.manager,GroupManagerIntegrationTest,testDuplicates,Magic Number,The method contains a magic number: 2,144
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,setup,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock()).minusDays(1)`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(1)`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 500.,111
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,testCreateRead,Long Statement,The length of the statement "var optionalDescriptorId=subscriptionManager.createSubscriptionDescriptor(buildSubscriptionDescriptor(orgId`null`new BigDecimal("100")));" is 137.,138
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,testCreateRead,Long Statement,The length of the statement "var count=jdbcTemplate.queryForObject("select count(*) from subscription where subscription_descriptor_fk = :descriptorId"`Map.of("descriptorId"`descriptorId)`Integer.class);" is 174.,138
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,testCreateRead,Long Statement,The length of the statement "subscriptionManager.updateSubscriptionDescriptor(buildSubscriptionDescriptor(orgId`descriptor.getId()`new BigDecimal("200")));" is 126.,138
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,testCreateRead,Long Statement,The length of the statement "var publicSubscriptions=subscriptionManager.getActivePublicSubscriptionsDescriptor(ZonedDateTime.now(ClockProvider.clock())`SearchOptions.empty());" is 147.,138
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,testCreateRead,Long Statement,The length of the statement "publicSubscriptions=subscriptionManager.getActivePublicSubscriptionsDescriptor(ZonedDateTime.now(ClockProvider.clock())`SearchOptions.empty());" is 143.,138
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,testCreateRead,Magic Number,The method contains a magic number: 42,138
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,testCreateRead,Magic Number,The method contains a magic number: 10000,138
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,testCreateRead,Magic Number,The method contains a magic number: 20000,138
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,linkToEventUsingEventManager,Long Statement,The length of the statement "var subscriptionId=subscriptionManager.createSubscriptionDescriptor(buildSubscriptionDescriptor(orgId`null`new BigDecimal("100"))).orElseThrow();" is 145.,188
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,linkToEventUsingEventManager,Long Statement,The length of the statement "var eventModification=new EventModification(event.getId()`null`null`null`null`null`null`null`null`null`orgId`null`null`null`null`null`null`null`BigDecimal.TEN`"CHF"`0`BigDecimal.ONE`false`List.of(PaymentProxy.OFFLINE)`List.of()`false`null`0`List.of()`List.of()`AlfioMetadata.empty()`List.of(subscriptionId));" is 308.,188
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,linkToEventUsingEventManager,Long Statement,The length of the statement "eventModification=new EventModification(event.getId()`null`null`null`null`null`null`null`null`null`orgId`null`null`null`null`null`null`null`BigDecimal.TEN`"CHF"`0`BigDecimal.ONE`false`List.of(PaymentProxy.OFFLINE)`List.of()`false`null`0`List.of()`List.of()`AlfioMetadata.empty()`null);" is 285.,188
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,linkToEventUsingEventManager,Long Statement,The length of the statement "var subscriptionId2=subscriptionManager.createSubscriptionDescriptor(buildSubscriptionDescriptor(orgId`null`new BigDecimal("100"))).orElseThrow();" is 146.,188
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,linkToEventUsingEventManager,Long Statement,The length of the statement "eventModification=new EventModification(event.getId()`null`null`null`null`null`null`null`null`null`orgId`null`null`null`null`null`null`null`BigDecimal.TEN`"CHF"`0`BigDecimal.ONE`false`List.of(PaymentProxy.OFFLINE)`List.of()`false`null`0`List.of()`List.of()`AlfioMetadata.empty()`List.of(subscriptionId`subscriptionId2));" is 320.,188
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,linkToEventUsingEventManager,Long Statement,The length of the statement "eventModification=new EventModification(event.getId()`null`null`null`null`null`null`null`null`null`orgId`null`null`null`null`null`null`null`BigDecimal.TEN`"CHF"`0`BigDecimal.ONE`false`List.of(PaymentProxy.OFFLINE)`List.of()`false`null`0`List.of()`List.of()`AlfioMetadata.empty()`List.of());" is 290.,188
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,linkToEventUsingEventManager,Magic Number,The method contains a magic number: 2,188
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,createAsUnlimitedThenSetLimit,Long Statement,The length of the statement "var count=jdbcTemplate.queryForObject("select count(*) from subscription where subscription_descriptor_fk = :descriptorId"`Map.of("descriptorId"`descriptorId)`Integer.class);" is 174.,247
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,createAsUnlimitedThenSetLimit,Long Statement,The length of the statement "count=jdbcTemplate.queryForObject("select count(*) from subscription where subscription_descriptor_fk = :descriptorId"`Map.of("descriptorId"`descriptorId)`Integer.class);" is 170.,247
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,createAsUnlimitedThenSetLimit,Long Statement,The length of the statement "count=jdbcTemplate.queryForObject("select count(*) from subscription where subscription_descriptor_fk = :descriptorId and status = 'FREE'"`Map.of("descriptorId"`descriptorId)`Integer.class);" is 190.,247
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,createAsUnlimitedThenSetLimit,Magic Number,The method contains a magic number: 42,247
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,createAsUnlimitedThenSetLimit,Magic Number,The method contains a magic number: 42,247
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,updatePrice,Long Statement,The length of the statement "var count=jdbcTemplate.queryForObject("select count(*) from subscription where subscription_descriptor_fk = :descriptorId and src_price_cts = 10000"`paramsMap`Integer.class);" is 174.,277
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,updatePrice,Long Statement,The length of the statement "count=jdbcTemplate.queryForObject("select count(*) from subscription where subscription_descriptor_fk = :descriptorId and src_price_cts = 20000"`paramsMap`Integer.class);" is 170.,277
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,updatePrice,Magic Number,The method contains a magic number: 10,277
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,updatePrice,Magic Number,The method contains a magic number: 10,277
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,updatePrice,Magic Number,The method contains a magic number: 10,277
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,updatePrice,Magic Number,The method contains a magic number: 10,277
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,buildSubscriptionDescriptor,Magic Number,The method contains a magic number: 42,298
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,buildSubscriptionDescriptor,Long Statement,The length of the statement "return new SubscriptionDescriptorModification(id`Map.of("en"`"title")`Map.of("en"`"description")`maxAvailable`ZonedDateTime.now(ClockProvider.clock())`null`price`new BigDecimal("7.7")`PriceContainer.VatStatus.INCLUDED`"CHF"`false`orgId`42`SubscriptionDescriptor.SubscriptionValidityType.CUSTOM`null`null`ZonedDateTime.now(ClockProvider.clock()).minusDays(1)`ZonedDateTime.now(ClockProvider.clock()).plusDays(42)`SubscriptionDescriptor.SubscriptionUsageType.ONCE_PER_EVENT`"https://example.org"`null`fileBlobId`List.of(PaymentProxy.STRIPE)`ZoneId.of("Europe/Zurich")`false);" is 573.,302
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,buildSubscriptionDescriptor,Magic Number,The method contains a magic number: 42,302
exteso_alf.io,alfio.manager,SubscriptionManagerIntegrationTest,buildSubscriptionDescriptor,Magic Number,The method contains a magic number: 42,302
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testUnboundedTicketsGeneration,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 487.,96
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testUnboundedTicketsGeneration,Long Statement,The length of the statement "BaseIntegrationTest.testTransferEventToAnotherOrg(event.getId()`event.getOrganizationId()`eventAndUsername.getRight()`jdbcTemplate);" is 132.,96
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testEventGeneration,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 473.,113
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testEventGeneration,Long Statement,The length of the statement "BaseIntegrationTest.testTransferEventToAnotherOrg(event.getId()`event.getOrganizationId()`eventAndUsername.getRight()`jdbcTemplate);" is 132.,113
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testEventGeneration,Magic Number,The method contains a magic number: 9000,113
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testEventGeneration,Magic Number,The method contains a magic number: 10,113
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testEventGeneration,Magic Number,The method contains a magic number: 10,113
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testUnboundedEventGeneration,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 474.,134
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testUnboundedEventGeneration,Long Statement,The length of the statement "BaseIntegrationTest.testTransferEventToAnotherOrg(event.getId()`event.getOrganizationId()`eventAndUsername.getRight()`jdbcTemplate);" is 132.,134
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testUnboundedEventGeneration,Magic Number,The method contains a magic number: 10,134
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testEventGenerationWithUnboundedCategory,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Arrays.asList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`9`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`0`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 1264.,154
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testEventGenerationWithUnboundedCategory,Magic Number,The method contains a magic number: 10,154
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testEventGenerationWithUnboundedCategory,Magic Number,The method contains a magic number: 9,154
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testEventGenerationWithOverflow,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Arrays.asList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`0`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 1265.,178
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testEventGenerationWithOverflow,Long Statement,The length of the statement "assertThrows(IllegalArgumentException.class`() -> initEvent(categories`organizationRepository`userManager`eventManager`eventRepository));" is 137.,178
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testEventGenerationWithOverflow,Magic Number,The method contains a magic number: 10,178
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testEventGenerationWithOverflow,Magic Number,The method contains a magic number: 10,178
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testAddUnboundedCategory,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 473.,196
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testAddUnboundedCategory,Long Statement,The length of the statement "TicketCategoryModification tcm=new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`-1`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty());" is 434.,196
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testAddUnboundedCategory,Magic Number,The method contains a magic number: 10,196
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testAddUnboundedCategory,Magic Number,The method contains a magic number: 10,196
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testAddUnboundedCategoryShrinkBoundedCategory,Long Identifier,The length of the field waitingQueueSubscriptionProcessor is 33.,225
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testAddUnboundedCategoryShrinkBoundedCategory,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 486.,225
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testAddUnboundedCategoryShrinkBoundedCategory,Long Statement,The length of the statement "TicketCategoryModification shrink=new TicketCategoryModification(categoryId`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS - 2`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty());" is 459.,225
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testAddUnboundedCategoryShrinkBoundedCategory,Long Statement,The length of the statement "TicketCategoryModification tcm=new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty());" is 434.,225
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testAddUnboundedCategoryShrinkBoundedCategory,Magic Number,The method contains a magic number: 2,225
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testAddUnboundedCategoryShrinkBoundedCategory,Magic Number,The method contains a magic number: 10,225
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testAddUnboundedCategoryShrinkBoundedCategory,Magic Number,The method contains a magic number: 18,225
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testAddUnboundedCategoryShrinkBoundedCategory,Magic Number,The method contains a magic number: 2,225
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseEventSeatsWithAnUnboundedCategory,Long Identifier,The length of the field waitingQueueSubscriptionProcessor is 33.,259
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseEventSeatsWithAnUnboundedCategory,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 474.,259
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseEventSeatsWithAnUnboundedCategory,Long Statement,The length of the statement "EventModification update=new EventModification(event.getId()`Event.EventFormat.IN_PERSON`null`null`null`null`null`null`null`null`event.getOrganizationId()`null`"0.0"`"0.0"`ZoneId.systemDefault().getId()`null`DateTimeModification.fromZonedDateTime(event.getBegin())`DateTimeModification.fromZonedDateTime(event.getEnd())`event.getRegularPrice()`event.getCurrency()`40`event.getVat()`event.isVatIncluded()`event.getAllowedPaymentProxies()`null`event.isFreeOfCharge()`null`7`null`null`AlfioMetadata.empty()`List.of());" is 515.,259
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseEventSeatsWithAnUnboundedCategory,Magic Number,The method contains a magic number: 10,259
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseEventSeatsWithAnUnboundedCategory,Magic Number,The method contains a magic number: 40,259
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseEventSeatsWithAnUnboundedCategory,Magic Number,The method contains a magic number: 7,259
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseEventSeatsWithAnUnboundedCategory,Magic Number,The method contains a magic number: 20,259
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseEventSeatsWithAnUnboundedCategory,Magic Number,The method contains a magic number: 20,259
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseEventSeatsWithAnUnboundedCategory,Magic Number,The method contains a magic number: 40,259
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseEventSeatsWithAnUnboundedCategory,Magic Number,The method contains a magic number: 40,259
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseEventSeatsWithABoundedCategory,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 473.,284
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseEventSeatsWithABoundedCategory,Long Statement,The length of the statement "EventModification update=new EventModification(event.getId()`Event.EventFormat.IN_PERSON`null`null`null`null`null`null`null`null`event.getOrganizationId()`null`"0.0"`"0.0"`ZoneId.systemDefault().getId()`null`DateTimeModification.fromZonedDateTime(event.getBegin())`DateTimeModification.fromZonedDateTime(event.getEnd())`event.getRegularPrice()`event.getCurrency()`40`event.getVat()`event.isVatIncluded()`event.getAllowedPaymentProxies()`null`event.isFreeOfCharge()`null`7`null`null`AlfioMetadata.empty()`List.of());" is 515.,284
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseEventSeatsWithABoundedCategory,Magic Number,The method contains a magic number: 10,284
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseEventSeatsWithABoundedCategory,Magic Number,The method contains a magic number: 40,284
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseEventSeatsWithABoundedCategory,Magic Number,The method contains a magic number: 7,284
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseEventSeatsWithABoundedCategory,Magic Number,The method contains a magic number: 20,284
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseEventSeatsWithABoundedCategory,Magic Number,The method contains a magic number: 20,284
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseEventSeatsWithABoundedCategory,Magic Number,The method contains a magic number: 10,284
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseEventSeatsWithAnUnboundedCategory,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 474.,306
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseEventSeatsWithAnUnboundedCategory,Long Statement,The length of the statement "EventModification update=new EventModification(event.getId()`Event.EventFormat.IN_PERSON`null`null`null`null`null`null`null`null`event.getOrganizationId()`null`"0.0"`"0.0"`ZoneId.systemDefault().getId()`null`DateTimeModification.fromZonedDateTime(event.getBegin())`DateTimeModification.fromZonedDateTime(event.getEnd())`event.getRegularPrice()`event.getCurrency()`10`event.getVat()`event.isVatIncluded()`event.getAllowedPaymentProxies()`null`event.isFreeOfCharge()`null`7`null`null`AlfioMetadata.empty()`List.of());" is 515.,306
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseEventSeatsWithAnUnboundedCategory,Magic Number,The method contains a magic number: 10,306
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseEventSeatsWithAnUnboundedCategory,Magic Number,The method contains a magic number: 10,306
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseEventSeatsWithAnUnboundedCategory,Magic Number,The method contains a magic number: 7,306
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseEventSeatsWithAnUnboundedCategory,Magic Number,The method contains a magic number: 10,306
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseEventSeatsWithAnUnboundedCategory,Magic Number,The method contains a magic number: 10,306
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseEventSeatsWithABoundedCategory,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 473.,327
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseEventSeatsWithABoundedCategory,Long Statement,The length of the statement "EventModification update=new EventModification(event.getId()`Event.EventFormat.IN_PERSON`null`null`null`null`null`null`null`null`event.getOrganizationId()`null`"0.0"`"0.0"`ZoneId.systemDefault().getId()`null`DateTimeModification.fromZonedDateTime(event.getBegin())`DateTimeModification.fromZonedDateTime(event.getEnd())`event.getRegularPrice()`event.getCurrency()`10`event.getVat()`event.isVatIncluded()`event.getAllowedPaymentProxies()`null`event.isFreeOfCharge()`null`7`null`null`AlfioMetadata.empty()`List.of());" is 515.,327
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseEventSeatsWithABoundedCategory,Magic Number,The method contains a magic number: 10,327
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseEventSeatsWithABoundedCategory,Magic Number,The method contains a magic number: 10,327
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseEventSeatsWithABoundedCategory,Magic Number,The method contains a magic number: 7,327
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseEventSeatsWithABoundedCategory,Magic Number,The method contains a magic number: 10,327
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testAddBoundedCategoryToUnboundedEvent,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`0`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 473.,348
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testAddBoundedCategoryToUnboundedEvent,Long Statement,The length of the statement "TicketCategoryModification tcm=new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty());" is 433.,348
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testAddBoundedCategoryToUnboundedEvent,Magic Number,The method contains a magic number: 10,348
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testAddBoundedCategoryToUnboundedEvent,Magic Number,The method contains a magic number: 10,348
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testAddBoundedCategoryToUnboundedEvent,Magic Number,The method contains a magic number: 10,348
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testAddBoundedCategoryToUnboundedEvent,Magic Number,The method contains a magic number: 10,348
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testUpdateBoundedCategory,Long Identifier,The length of the field waitingQueueSubscriptionProcessor is 33.,371
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testUpdateBoundedCategory,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 474.,371
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testUpdateBoundedCategory,Long Statement,The length of the statement "TicketCategoryModification tcm=new TicketCategoryModification(category.getId()`"default"`TicketCategory.TicketAccessType.INHERIT`20`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty());" is 446.,371
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testUpdateBoundedCategory,Magic Number,The method contains a magic number: 10,371
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testUpdateBoundedCategory,Magic Number,The method contains a magic number: 20,371
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testUpdateEventHeader,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 474.,394
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testUpdateEventHeader,Long Statement,The length of the statement "EventModification em=new EventModification(event.getId()`Event.EventFormat.IN_PERSON`"http://example.com/new"`null`"http://example.com/tc"`"http://example.com/pp"`"https://example.com/img.png"`null`event.getShortName()`"new display name"`event.getOrganizationId()`event.getLocation()`"0.0"`"0.0"`ZoneId.systemDefault().getId()`desc`DateTimeModification.fromZonedDateTime(event.getBegin())`DateTimeModification.fromZonedDateTime(event.getEnd().plusDays(42))`event.getRegularPrice()`event.getCurrency()`eventRepository.countExistingTickets(event.getId())`event.getVat()`event.isVatIncluded()`event.getAllowedPaymentProxies()`Collections.emptyList()`false`null`7`null`null`AlfioMetadata.empty()`List.of());" is 703.,394
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testUpdateEventHeader,Magic Number,The method contains a magic number: 10,394
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testUpdateEventHeader,Magic Number,The method contains a magic number: 42,394
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testUpdateEventHeader,Magic Number,The method contains a magic number: 7,394
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testUpdateBoundedFlagToTrue,Long Identifier,The length of the field ticketCategoryDescriptionRepository is 35.,454
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testUpdateBoundedFlagToTrue,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 487.,454
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testUpdateBoundedFlagToTrue,Long Statement,The length of the statement "Map<String`String> categoryDescription=ticketCategoryDescriptionRepository.descriptionForTicketCategory(category.getId());" is 122.,454
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testUpdateBoundedFlagToTrue,Long Statement,The length of the statement "TicketCategoryModification tcm=new TicketCategoryModification(category.getId()`category.getName()`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`DateTimeModification.fromZonedDateTime(category.getUtcInception())`DateTimeModification.fromZonedDateTime(category.getUtcExpiration())`categoryDescription`category.getPrice()`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty());" is 403.,454
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testUpdateBoundedFlagToFalse,Long Identifier,The length of the field ticketCategoryDescriptionRepository is 35.,476
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testUpdateBoundedFlagToFalse,Long Identifier,The length of the field waitingQueueSubscriptionProcessor is 33.,476
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testUpdateBoundedFlagToFalse,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 486.,476
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testUpdateBoundedFlagToFalse,Long Statement,The length of the statement "Map<String`String> categoryDescription=ticketCategoryDescriptionRepository.descriptionForTicketCategory(category.getId());" is 122.,476
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testUpdateBoundedFlagToFalse,Long Statement,The length of the statement "TicketCategoryModification tcm=new TicketCategoryModification(category.getId()`category.getName()`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`DateTimeModification.fromZonedDateTime(category.getUtcInception())`DateTimeModification.fromZonedDateTime(category.getUtcExpiration())`categoryDescription`category.getPrice()`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty());" is 404.,476
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testValidationBoundedFailedRestrictedFlag,Long Identifier,The length of the field ticketCategoryDescriptionRepository is 35.,502
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testValidationBoundedFailedRestrictedFlag,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`true`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 472.,502
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testValidationBoundedFailedRestrictedFlag,Long Statement,The length of the statement "Map<String`String> categoryDescription=ticketCategoryDescriptionRepository.descriptionForTicketCategory(category.getId());" is 122.,502
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testValidationBoundedFailedRestrictedFlag,Long Statement,The length of the statement "TicketCategoryModification tcm=new TicketCategoryModification(category.getId()`category.getName()`TicketCategory.TicketAccessType.INHERIT`10`DateTimeModification.fromZonedDateTime(category.getUtcInception())`DateTimeModification.fromZonedDateTime(category.getUtcExpiration())`categoryDescription`category.getPrice()`true`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty());" is 390.,502
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testValidationBoundedFailedRestrictedFlag,Magic Number,The method contains a magic number: 10,502
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testValidationBoundedFailedRestrictedFlag,Magic Number,The method contains a magic number: 10,502
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testValidationBoundedFailedPendingTickets,Long Identifier,The length of the field ticketCategoryDescriptionRepository is 35.,526
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testValidationBoundedFailedPendingTickets,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 473.,526
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testValidationBoundedFailedPendingTickets,Long Statement,The length of the statement "Map<String`String> categoryDescription=ticketCategoryDescriptionRepository.descriptionForTicketCategory(category.getId());" is 122.,526
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testValidationBoundedFailedPendingTickets,Long Statement,The length of the statement "List<Integer> tickets=ticketRepository.selectTicketInCategoryForUpdate(event.getId()`category.getId()`1`Collections.singletonList(Ticket.TicketStatus.FREE.name()));" is 164.,526
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testValidationBoundedFailedPendingTickets,Long Statement,The length of the statement "ticketReservationRepository.createNewReservation(reservationId`ZonedDateTime.now(clockProvider.getClock())`DateUtils.addDays(new Date()`1)`null`"en"`event.getId()`event.getVat()`event.isVatIncluded()`event.getCurrency()`event.getOrganizationId()`null);" is 252.,526
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testValidationBoundedFailedPendingTickets,Long Statement,The length of the statement "TicketCategoryModification tcm=new TicketCategoryModification(category.getId()`category.getName()`TicketCategory.TicketAccessType.INHERIT`10`DateTimeModification.fromZonedDateTime(category.getUtcInception())`DateTimeModification.fromZonedDateTime(category.getUtcExpiration())`categoryDescription`category.getPrice()`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty());" is 391.,526
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testValidationBoundedFailedPendingTickets,Magic Number,The method contains a magic number: 10,526
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testValidationBoundedFailedPendingTickets,Magic Number,The method contains a magic number: 10,526
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseRestrictedCategory,Long Identifier,The length of the field ticketCategoryDescriptionRepository is 35.,552
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseRestrictedCategory,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`true`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 472.,552
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseRestrictedCategory,Long Statement,The length of the statement "Map<String`String> categoryDescription=ticketCategoryDescriptionRepository.descriptionForTicketCategory(category.getId());" is 122.,552
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseRestrictedCategory,Long Statement,The length of the statement "TicketCategoryModification tcm=new TicketCategoryModification(category.getId()`category.getName()`TicketCategory.TicketAccessType.INHERIT`11`DateTimeModification.fromZonedDateTime(category.getUtcInception())`DateTimeModification.fromZonedDateTime(category.getUtcExpiration())`categoryDescription`category.getPrice()`true`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty());" is 389.,552
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseRestrictedCategory,Magic Number,The method contains a magic number: 10,552
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseRestrictedCategory,Magic Number,The method contains a magic number: 11,552
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testIncreaseRestrictedCategory,Magic Number,The method contains a magic number: 11,552
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseRestrictedCategory,Long Identifier,The length of the field ticketCategoryDescriptionRepository is 35.,577
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseRestrictedCategory,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`true`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 472.,577
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseRestrictedCategory,Long Statement,The length of the statement "Map<String`String> categoryDescription=ticketCategoryDescriptionRepository.descriptionForTicketCategory(category.getId());" is 122.,577
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseRestrictedCategory,Long Statement,The length of the statement "TicketCategoryModification tcm=new TicketCategoryModification(category.getId()`category.getName()`TicketCategory.TicketAccessType.INHERIT`9`DateTimeModification.fromZonedDateTime(category.getUtcInception())`DateTimeModification.fromZonedDateTime(category.getUtcExpiration())`categoryDescription`category.getPrice()`true`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty());" is 388.,577
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseRestrictedCategory,Magic Number,The method contains a magic number: 10,577
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseRestrictedCategory,Magic Number,The method contains a magic number: 9,577
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseRestrictedCategory,Magic Number,The method contains a magic number: 9,577
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseRestrictedCategoryWithAlreadySentToken,Long Identifier,The length of the field ticketCategoryDescriptionRepository is 35.,604
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseRestrictedCategoryWithAlreadySentToken,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`4`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`true`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 471.,604
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseRestrictedCategoryWithAlreadySentToken,Long Statement,The length of the statement "Map<String`String> categoryDescription=ticketCategoryDescriptionRepository.descriptionForTicketCategory(category.getId());" is 122.,604
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseRestrictedCategoryWithAlreadySentToken,Long Statement,The length of the statement "List<SendCodeModification> linked=specialPriceManager.linkAssigneeToCode(Arrays.asList(new SendCodeModification(null`"test1"`"test@test.com"`"it")`new SendCodeModification(null`"test2"`"test@test.com"`"it"))`event.getShortName()`category.getId()`username);" is 256.,604
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseRestrictedCategoryWithAlreadySentToken,Long Statement,The length of the statement "TicketCategoryModification tcmOk=new TicketCategoryModification(category.getId()`category.getName()`TicketCategory.TicketAccessType.INHERIT`2`DateTimeModification.fromZonedDateTime(category.getUtcInception())`DateTimeModification.fromZonedDateTime(category.getUtcExpiration())`categoryDescription`category.getPrice()`true`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty());" is 390.,604
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseRestrictedCategoryWithAlreadySentToken,Long Statement,The length of the statement "TicketCategoryModification tcm=new TicketCategoryModification(category.getId()`category.getName()`TicketCategory.TicketAccessType.INHERIT`1`DateTimeModification.fromZonedDateTime(category.getUtcInception())`DateTimeModification.fromZonedDateTime(category.getUtcExpiration())`categoryDescription`category.getPrice()`true`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty());" is 388.,604
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseRestrictedCategoryWithAlreadySentToken,Magic Number,The method contains a magic number: 4,604
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testDecreaseRestrictedCategoryWithAlreadySentToken,Magic Number,The method contains a magic number: 2,604
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testNewCategoryBoundedAddReleasedTickets,Long Statement,The length of the statement "TicketCategoryModification tcm=new TicketCategoryModification(null`"additional"`TicketCategory.TicketAccessType.INHERIT`20`DateTimeModification.fromZonedDateTime(event.now(clockProvider).minusMinutes(1))`DateTimeModification.fromZonedDateTime(event.now(clockProvider).plusDays(5))`Collections.emptyMap()`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty());" is 393.,649
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testNewCategoryBoundedAddReleasedTickets,Magic Number,The method contains a magic number: 10,649
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testNewCategoryBoundedAddReleasedTickets,Magic Number,The method contains a magic number: 20,649
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testNewCategoryBoundedAddReleasedTickets,Magic Number,The method contains a magic number: 5,649
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testNewCategoryBoundedAddReleasedTickets,Magic Number,The method contains a magic number: 20,649
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testNewRestrictedCategory,Long Statement,The length of the statement "TicketCategoryModification tcm=new TicketCategoryModification(null`"additional"`TicketCategory.TicketAccessType.INHERIT`20`DateTimeModification.fromZonedDateTime(event.now(clockProvider).minusMinutes(1))`DateTimeModification.fromZonedDateTime(event.now(clockProvider).plusDays(5))`Collections.emptyMap()`BigDecimal.TEN`true`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty());" is 392.,664
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testNewRestrictedCategory,Magic Number,The method contains a magic number: 10,664
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testNewRestrictedCategory,Magic Number,The method contains a magic number: 20,664
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testNewRestrictedCategory,Magic Number,The method contains a magic number: 5,664
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testNewRestrictedCategory,Magic Number,The method contains a magic number: 20,664
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testNewBoundedCategoryWithExistingBoundedAndPendingTicket,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 487.,679
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testNewBoundedCategoryWithExistingBoundedAndPendingTicket,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification reservation=new TicketReservationWithOptionalCodeModification(trm`Optional.empty());" is 130.,679
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testNewBoundedCategoryWithExistingBoundedAndPendingTicket,Long Statement,The length of the statement "ticketReservationManager.createTicketReservation(event`Collections.singletonList(reservation)`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.empty()`Locale.ENGLISH`false`null);" is 194.,679
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testNewBoundedCategoryWithExistingBoundedAndPendingTicket,Long Statement,The length of the statement "TicketCategoryModification tcm=new TicketCategoryModification(null`"new"`TicketCategory.TicketAccessType.INHERIT`1`DateTimeModification.fromZonedDateTime(ZonedDateTime.now(clockProvider.getClock()))`DateTimeModification.fromZonedDateTime(ZonedDateTime.now(clockProvider.getClock()).plusDays(1))`Collections.emptyMap()`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty());" is 407.,679
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testNewBoundedCategoryWithExistingBoundedAndPendingTicket,Long Statement,The length of the statement "tcm=new TicketCategoryModification(categoryID`tcm.getName()`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`tcm.getInception()`tcm.getExpiration()`tcm.getDescription()`tcm.getPrice()`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty());" is 265.,679
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deleteUnboundedTicketCategorySuccess,Long Statement,The length of the statement "List<TicketCategoryModification> cat=List.of(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS - 1`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"second"`TicketCategory.TicketAccessType.INHERIT`1`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 866.,709
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deleteUnboundedTicketCategorySuccess,Magic Number,The method contains a magic number: 2,709
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deleteUnboundedTicketCategoryFailure,Long Statement,The length of the statement "List<TicketCategoryModification> cat=List.of(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS - 1`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"second"`TicketCategory.TicketAccessType.INHERIT`1`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 866.,730
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deleteUnboundedTicketCategoryFailure,Long Statement,The length of the statement "var tickets=ticketRepository.selectNotAllocatedTicketsForUpdate(event.getId()`1`List.of(Ticket.TicketStatus.FREE.name()));" is 122.,730
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deleteUnboundedTicketCategoryFailure,Long Statement,The length of the statement "ticketReservationRepository.createNewReservation(reservationId`ZonedDateTime.now(clockProvider.getClock())`DateUtils.addDays(new Date()`1)`null`"en"`event.getId()`event.getVat()`event.isVatIncluded()`event.getCurrency()`event.getOrganizationId()`null);" is 252.,730
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deleteUnboundedTicketCategoryFailure,Long Statement,The length of the statement "assertThrows(IllegalStateException.class`() -> eventManager.deleteCategory(event.getShortName()`categoryId`pair.getRight()));" is 125.,730
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deleteUnboundedTicketCategoryFailure,Magic Number,The method contains a magic number: 2,730
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deleteUnboundedTicketCategoryFailureBecauseSingle,Long Statement,The length of the statement "List<TicketCategoryModification> cat=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 480.,754
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deleteUnboundedTicketCategoryFailureBecauseSingle,Long Statement,The length of the statement "var tickets=ticketRepository.selectNotAllocatedTicketsForUpdate(event.getId()`1`List.of(Ticket.TicketStatus.FREE.name()));" is 122.,754
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deleteUnboundedTicketCategoryFailureBecauseSingle,Long Statement,The length of the statement "ticketReservationRepository.createNewReservation(reservationId`ZonedDateTime.now(clockProvider.getClock())`DateUtils.addDays(new Date()`1)`null`"en"`event.getId()`event.getVat()`event.isVatIncluded()`event.getCurrency()`event.getOrganizationId()`null);" is 252.,754
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deleteUnboundedTicketCategoryFailureBecauseSingle,Long Statement,The length of the statement "assertThrows(IllegalArgumentException.class`() -> eventManager.deleteCategory(event.getShortName()`categoryId`pair.getRight()));" is 128.,754
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deleteBoundedTicketCategorySuccess,Long Identifier,The length of the field waitingQueueSubscriptionProcessor is 33.,774
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deleteBoundedTicketCategorySuccess,Long Statement,The length of the statement "List<TicketCategoryModification> cat=List.of(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS - 1`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"second"`TicketCategory.TicketAccessType.INHERIT`1`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 865.,774
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deleteBoundedTicketCategorySuccess,Magic Number,The method contains a magic number: 2,774
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deleteBoundedTicketCategoryFailure,Long Statement,The length of the statement "List<TicketCategoryModification> cat=List.of(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS - 1`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"second"`TicketCategory.TicketAccessType.INHERIT`1`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 865.,796
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deleteBoundedTicketCategoryFailure,Long Statement,The length of the statement "var tickets=ticketRepository.selectTicketInCategoryForUpdate(event.getId()`categoryId`1`List.of(Ticket.TicketStatus.FREE.name()));" is 130.,796
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deleteBoundedTicketCategoryFailure,Long Statement,The length of the statement "ticketReservationRepository.createNewReservation(reservationId`ZonedDateTime.now(clockProvider.getClock())`DateUtils.addDays(new Date()`1)`null`"en"`event.getId()`event.getVat()`event.isVatIncluded()`event.getCurrency()`event.getOrganizationId()`null);" is 252.,796
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deleteBoundedTicketCategoryFailure,Long Statement,The length of the statement "assertThrows(IllegalStateException.class`() -> eventManager.deleteCategory(event.getShortName()`categoryId`pair.getRight()));" is 125.,796
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deleteBoundedTicketCategoryFailure,Magic Number,The method contains a magic number: 2,796
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deletedBoundedCategoriesNotIncludedInStatistics,Long Statement,The length of the statement "List<TicketCategoryModification> cat=List.of(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS - 10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`to_be_deleted`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 872.,820
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deletedBoundedCategoriesNotIncludedInStatistics,Long Statement,The length of the statement "var updateResult=eventManager.updateCategory(activeCategory.getId()`event`new TicketCategoryModification(activeCategory.getId()`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`username);" is 517.,820
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deletedBoundedCategoriesNotIncludedInStatistics,Magic Number,The method contains a magic number: 10,820
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deletedBoundedCategoriesNotIncludedInStatistics,Magic Number,The method contains a magic number: 10,820
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deletedBoundedCategoriesNotIncludedInStatistics,Magic Number,The method contains a magic number: 2,820
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,deletedBoundedCategoriesNotIncludedInStatistics,Magic Number,The method contains a magic number: 10,820
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,rearrangeTicketCategories,Long Statement,The length of the statement "List<TicketCategoryModification> cat=List.of(new TicketCategoryModification(null`"first"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`2`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"second"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`1`null`null`AlfioMetadata.empty()));" is 875.,875
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,rearrangeTicketCategories,Long Statement,The length of the statement "var categoryModifications=List.of(new CategoryOrdinalModification(first.getId()`first.getName()`second.getOrdinal())`new CategoryOrdinalModification(second.getId()`second.getName()`first.getOrdinal()));" is 202.,875
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,rearrangeTicketCategories,Magic Number,The method contains a magic number: 2,875
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,rearrangeTicketCategories,Magic Number,The method contains a magic number: 2,875
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,rearrangeTicketCategories,Magic Number,The method contains a magic number: 2,875
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateEventFormat,Long Identifier,The length of the identifier onSitePaymentMethodModification is 31.,907
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateEventFormat,Long Statement,The length of the statement "var categories=List.of(new TicketCategoryModification(null`"first"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`2`null`null`AlfioMetadata.empty()));" is 438.,907
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateEventFormat,Long Statement,The length of the statement "var onSitePaymentMethodModification=createEventModification(AVAILABLE_SEATS`event`Event.EventFormat.IN_PERSON`withOnSite`event.getLocation());" is 142.,907
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateEventFormat,Long Statement,The length of the statement "eventManager.updateEventHeader(event`createEventModification(AVAILABLE_SEATS`event`Event.EventFormat.ONLINE`withOnSite`event.getLocation())`username);" is 150.,907
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateEventFormat,Long Statement,The length of the statement "eventManager.updateEventPrices(event`createEventModification(AVAILABLE_SEATS`event`event.getFormat()`List.of(PaymentProxy.OFFLINE)`event.getLocation())`username);" is 162.,907
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateEventFormat,Long Statement,The length of the statement "eventManager.updateEventHeader(event`createEventModification(AVAILABLE_SEATS`event`Event.EventFormat.ONLINE`event.getAllowedPaymentProxies()`event.getLocation())`username);" is 172.,907
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateEventFormat,Magic Number,The method contains a magic number: 2,907
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateInPersonEventToHybridAndBack,Long Statement,The length of the statement "var categories=List.of(new TicketCategoryModification(null`"first"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS - 10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`2`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"second"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS - 10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`2`null`null`AlfioMetadata.empty()));" is 863.,942
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateInPersonEventToHybridAndBack,Long Statement,The length of the statement "eventManager.updateEventHeader(event`createEventModification(AVAILABLE_SEATS`event`Event.EventFormat.HYBRID`event.getAllowedPaymentProxies()`event.getLocation())`username);" is 172.,942
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateInPersonEventToHybridAndBack,Long Statement,The length of the statement "assertTrue(ticketCategoryRepository.findAllTicketCategories(event.getId()).stream().allMatch(tc -> tc.getTicketAccessType() == TicketCategory.TicketAccessType.IN_PERSON));" is 171.,942
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateInPersonEventToHybridAndBack,Long Statement,The length of the statement "eventManager.updateEventHeader(event`createEventModification(AVAILABLE_SEATS`event`Event.EventFormat.IN_PERSON`event.getAllowedPaymentProxies()`event.getLocation())`username);" is 175.,942
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateInPersonEventToHybridAndBack,Long Statement,The length of the statement "assertTrue(ticketCategoryRepository.findAllTicketCategories(event.getId()).stream().allMatch(tc -> tc.getTicketAccessType() == TicketCategory.TicketAccessType.INHERIT));" is 169.,942
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateInPersonEventToHybridAndBack,Magic Number,The method contains a magic number: 10,942
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateInPersonEventToHybridAndBack,Magic Number,The method contains a magic number: 2,942
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateInPersonEventToHybridAndBack,Magic Number,The method contains a magic number: 10,942
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateInPersonEventToHybridAndBack,Magic Number,The method contains a magic number: 2,942
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testFailedUpdateOnlineEventToHybrid,Long Statement,The length of the statement "var categories=List.of(new TicketCategoryModification(null`"first"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS - 10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`2`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"second"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS - 10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`2`null`null`AlfioMetadata.empty()));" is 863.,973
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testFailedUpdateOnlineEventToHybrid,Long Statement,The length of the statement "var eventAndUsername=initEvent(categories`organizationRepository`userManager`eventManager`eventRepository`List.of()`Event.EventFormat.ONLINE);" is 142.,973
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testFailedUpdateOnlineEventToHybrid,Long Statement,The length of the statement "assertThrows(DataIntegrityViolationException.class`() -> eventManager.updateEventHeader(event`createEventModification(AVAILABLE_SEATS`event`Event.EventFormat.HYBRID`event.getAllowedPaymentProxies()`null)`username));" is 215.,973
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testFailedUpdateOnlineEventToHybrid,Magic Number,The method contains a magic number: 10,973
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testFailedUpdateOnlineEventToHybrid,Magic Number,The method contains a magic number: 2,973
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testFailedUpdateOnlineEventToHybrid,Magic Number,The method contains a magic number: 10,973
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,testFailedUpdateOnlineEventToHybrid,Magic Number,The method contains a magic number: 2,973
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateOnlineEventToHybridAndBack,Long Statement,The length of the statement "var categories=List.of(new TicketCategoryModification(null`"first"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS - 10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`2`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"second"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS - 10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`2`null`null`AlfioMetadata.empty()));" is 863.,993
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateOnlineEventToHybridAndBack,Long Statement,The length of the statement "var eventAndUsername=initEvent(categories`organizationRepository`userManager`eventManager`eventRepository`List.of()`Event.EventFormat.ONLINE);" is 142.,993
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateOnlineEventToHybridAndBack,Long Statement,The length of the statement "eventManager.updateEventHeader(event`createEventModification(AVAILABLE_SEATS`event`Event.EventFormat.HYBRID`event.getAllowedPaymentProxies()`"location")`username);" is 163.,993
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateOnlineEventToHybridAndBack,Long Statement,The length of the statement "assertTrue(ticketCategoryRepository.findAllTicketCategories(event.getId()).stream().allMatch(tc -> tc.getTicketAccessType() == TicketCategory.TicketAccessType.ONLINE));" is 168.,993
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateOnlineEventToHybridAndBack,Long Statement,The length of the statement "eventManager.updateEventHeader(event`createEventModification(AVAILABLE_SEATS`event`Event.EventFormat.ONLINE`event.getAllowedPaymentProxies()`null)`username);" is 157.,993
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateOnlineEventToHybridAndBack,Long Statement,The length of the statement "assertTrue(ticketCategoryRepository.findAllTicketCategories(event.getId()).stream().allMatch(tc -> tc.getTicketAccessType() == TicketCategory.TicketAccessType.INHERIT));" is 169.,993
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateOnlineEventToHybridAndBack,Magic Number,The method contains a magic number: 10,993
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateOnlineEventToHybridAndBack,Magic Number,The method contains a magic number: 2,993
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateOnlineEventToHybridAndBack,Magic Number,The method contains a magic number: 10,993
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,updateOnlineEventToHybridAndBack,Magic Number,The method contains a magic number: 2,993
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,generateAndEditEvent,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 473.,1026
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,generateAndEditEvent,Magic Number,The method contains a magic number: 10,1026
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,generateAndEditEvent,Magic Number,The method contains a magic number: 10,1026
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,createEventModification,Long Statement,The length of the statement "return createEventModification(availableSeats`event`Event.EventFormat.IN_PERSON`event.getAllowedPaymentProxies()`event.getLocation());" is 134.,1050
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,createEventModification,Long Parameter List,The method has 5 parameters. ,1054
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,createEventModification,Long Statement,The length of the statement "return new EventModification(event.getId()`format`"http://website-url"`null`"http://website-url/tc"`null`null`null`null`null`event.getOrganizationId()`location`null`null`event.getZoneId().toString()`Collections.emptyMap()`DateTimeModification.fromZonedDateTime(event.getBegin())`DateTimeModification.fromZonedDateTime(event.getEnd())`event.getRegularPrice()`event.getCurrency()`availableSeats`event.getVat()`event.isVatIncluded()`allowedPaymentProxies`null`event.isFreeOfCharge()`null`7`null`null`AlfioMetadata.empty()`List.of());" is 530.,1054
exteso_alf.io,alfio.manager,EventManagerIntegrationTest,createEventModification,Magic Number,The method contains a magic number: 7,1054
exteso_alf.io,alfio.manager,TicketReservationManagerConcurrentTest,setUp,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(clockProvider().getClock())`LocalTime.now(clockProvider().getClock()))`new DateTimeModification(LocalDate.now(clockProvider().getClock())`LocalTime.now(clockProvider().getClock()))`DESCRIPTION`BigDecimal.TEN`true`""`true`null`null`null`null`null`null`TicketCategory.TicketCheckInStrategy.ONCE_PER_EVENT`null`AlfioMetadata.empty()));" is 543.,97
exteso_alf.io,alfio.manager,TicketReservationManagerConcurrentTest,setUp,Long Statement,The length of the statement "Pair<Event`String> eventStringPair=initEvent(categories`organizationRepository`userManager`eventManager`eventRepository);" is 121.,97
exteso_alf.io,alfio.manager,TicketReservationManagerConcurrentTest,setUp,Long Statement,The length of the statement "promoCodeDiscountRepository.addPromoCode(ACCESS_CODE`eventId`event.getOrganizationId()`ZonedDateTime.now(clockProvider().getClock())`ZonedDateTime.now(clockProvider().getClock()).plusDays(1)`0`PromoCodeDiscount.DiscountType.NONE`null`100`null`null`PromoCodeDiscount.CodeType.ACCESS`firstCategoryId`null);" is 304.,97
exteso_alf.io,alfio.manager,TicketReservationManagerConcurrentTest,setUp,Long Statement,The length of the statement "promoCodeDiscount=promoCodeDiscountRepository.findPublicPromoCodeInEventOrOrganization(eventId`ACCESS_CODE).orElseThrow();" is 122.,97
exteso_alf.io,alfio.manager,TicketReservationManagerConcurrentTest,setUp,Magic Number,The method contains a magic number: 100,97
exteso_alf.io,alfio.manager,TicketReservationManagerConcurrentTest,testConcurrentAccessCode,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification mod=new TicketReservationWithOptionalCodeModification(tr`Optional.empty());" is 121.,123
exteso_alf.io,alfio.manager,TicketReservationManagerConcurrentTest,testExpirationDuringReservation,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification mod=new TicketReservationWithOptionalCodeModification(tr`Optional.empty());" is 121.,155
exteso_alf.io,alfio.manager,TicketReservationManagerConcurrentTest,testExpirationDuringReservation,Long Statement,The length of the statement "var id1=ticketReservationManager.createTicketReservation(event`List.of(mod)`List.of()`DateUtils.addHours(new Date()`-1)`Optional.of(ACCESS_CODE)`Locale.ENGLISH`false`null);" is 172.,155
exteso_alf.io,alfio.manager,TicketReservationManagerConcurrentTest,testExpirationDuringReservation,Long Statement,The length of the statement "var id2=ticketReservationManager.createTicketReservation(event`List.of(mod)`List.of()`DateUtils.addHours(new Date()`1)`Optional.of(ACCESS_CODE)`Locale.ENGLISH`false`null);" is 171.,155
exteso_alf.io,alfio.manager,TicketReservationManagerConcurrentTest,testExpirationDuringReservation,Long Statement,The length of the statement "assertEquals(1`specialPriceRepository.findAllByCategoryId(firstCategoryId).stream().filter(sp -> sp.getAccessCodeId() != null).count());" is 136.,155
exteso_alf.io,alfio.manager,FileDownloadManagerIntegrationTest,startServer,Long Statement,The length of the statement "mockServer.when(HttpRequest.request().withMethod("GET").withPath("/test.txt")).respond(HttpResponse.response().withStatusCode(200).withHeader("Content-Type"`"text/plain; charset=utf-8").withBody("Hello World!"));" is 212.,35
exteso_alf.io,alfio.manager,FileDownloadManagerIntegrationTest,startServer,Long Statement,The length of the statement "mockServer.when(HttpRequest.request().withMethod("GET").withPath("/404")).respond(HttpResponse.response().withStatusCode(404));" is 127.,35
exteso_alf.io,alfio.manager,FileDownloadManagerIntegrationTest,startServer,Magic Number,The method contains a magic number: 4242,35
exteso_alf.io,alfio.manager,FileDownloadManagerIntegrationTest,startServer,Magic Number,The method contains a magic number: 200,35
exteso_alf.io,alfio.manager,FileDownloadManagerIntegrationTest,startServer,Magic Number,The method contains a magic number: 404,35
exteso_alf.io,alfio.manager,EventManagerCategoriesTest,init,Long Identifier,The length of the identifier ticketCategoryDescriptionRepository is 35.,54
exteso_alf.io,alfio.manager,EventManagerCategoriesTest,init,Long Statement,The length of the statement "eventManager=new EventManager(null`eventRepository`null`ticketCategoryRepository`ticketCategoryDescriptionRepository`null`null`null`null`null`null`null`null`null`null`null`null`null`null`null`null`null`clockProvider()`mock(SubscriptionRepository.class));" is 254.,54
exteso_alf.io,alfio.manager,EventManagerCategoriesTest,createTicketsForUnboundedCategory,Long Statement,The length of the statement "MapSqlParameterSource[] parameterSources=eventManager.prepareTicketsBulkInsertParameters(ZonedDateTime.now(clockProvider().getClock())`event`availableSeats`Ticket.TicketStatus.FREE);" is 182.,67
exteso_alf.io,alfio.manager,EventManagerCategoriesTest,createTicketsForUnboundedCategory,Long Statement,The length of the statement "assertTrue(Arrays.stream(parameterSources).allMatch(ps -> Ticket.TicketStatus.FREE.name().equals(ps.getValue("status"))));" is 122.,67
exteso_alf.io,alfio.manager,EventManagerCategoriesTest,createTicketsForUnboundedCategory,Magic Number,The method contains a magic number: 3,67
exteso_alf.io,alfio.manager,EventManagerCategoriesTest,createTicketsForUnboundedCategories,Long Statement,The length of the statement "MapSqlParameterSource[] parameterSources=eventManager.prepareTicketsBulkInsertParameters(ZonedDateTime.now(clockProvider().getClock())`event`availableSeats`Ticket.TicketStatus.FREE);" is 182.,78
exteso_alf.io,alfio.manager,EventManagerCategoriesTest,createTicketsForUnboundedCategories,Long Statement,The length of the statement "assertTrue(Arrays.stream(parameterSources).allMatch(ps -> Ticket.TicketStatus.FREE.name().equals(ps.getValue("status"))));" is 122.,78
exteso_alf.io,alfio.manager,EventManagerCategoriesTest,createTicketsForUnboundedCategories,Magic Number,The method contains a magic number: 6,78
exteso_alf.io,alfio.manager,EventManagerCategoriesTest,createTicketsOnlyForBounded,Long Statement,The length of the statement "MapSqlParameterSource[] parameterSources=eventManager.prepareTicketsBulkInsertParameters(ZonedDateTime.now(clockProvider().getClock())`event`availableSeats`Ticket.TicketStatus.FREE);" is 182.,89
exteso_alf.io,alfio.manager,EventManagerCategoriesTest,createTicketsOnlyForBounded,Long Statement,The length of the statement "assertTrue(Arrays.stream(parameterSources).allMatch(ps -> Ticket.TicketStatus.FREE.name().equals(ps.getValue("status"))));" is 122.,89
exteso_alf.io,alfio.manager,EventManagerCategoriesTest,createTicketsOnlyForBounded,Magic Number,The method contains a magic number: 2,89
exteso_alf.io,alfio.manager,EventManagerCategoriesTest,createTicketsOnlyForBounded,Magic Number,The method contains a magic number: 4L,89
exteso_alf.io,alfio.manager,WaitingQueueSubscriptionProcessorTest,setUp,Long Statement,The length of the statement "processor=new WaitingQueueSubscriptionProcessor(eventManager`ticketReservationManager`configurationManager`waitingQueueManager`notificationManager`waitingQueueRepository`messageSourceManager`templateManager`ticketRepository`transactionManager`clockProvider());" is 260.,65
exteso_alf.io,alfio.manager,WaitingQueueSubscriptionProcessorTest,filterWaitingQueueFlagIsNotActive,Long Statement,The length of the statement "when(configurationManager.getFor(eq(Set.of(ENABLE_WAITING_QUEUE`ENABLE_PRE_REGISTRATION))`any())).thenReturn(Map.of(ENABLE_WAITING_QUEUE`new ConfigurationManager.MaybeConfiguration(ENABLE_WAITING_QUEUE`new ConfigurationKeyValuePathLevel(""`"false"`null))`ENABLE_PRE_REGISTRATION`new ConfigurationManager.MaybeConfiguration(ENABLE_PRE_REGISTRATION)));" is 350.,100
exteso_alf.io,alfio.manager,WaitingQueueSubscriptionProcessorTest,processPendingTickets,Long Statement,The length of the statement "when(configurationManager.getFor(eq(Set.of(ENABLE_WAITING_QUEUE`ENABLE_PRE_REGISTRATION))`any())).thenReturn(Map.of(ENABLE_WAITING_QUEUE`new ConfigurationManager.MaybeConfiguration(ENABLE_WAITING_QUEUE`new ConfigurationKeyValuePathLevel(""`"true"`null))`ENABLE_PRE_REGISTRATION`new ConfigurationManager.MaybeConfiguration(ENABLE_PRE_REGISTRATION)));" is 349.,112
exteso_alf.io,alfio.manager,WaitingQueueSubscriptionProcessorTest,processPendingTickets,Long Statement,The length of the statement "when(waitingQueueManager.distributeSeats(eq(event))).thenReturn(Stream.of(Triple.of(subscription`reservation`expiration)));" is 123.,112
exteso_alf.io,alfio.manager,WaitingQueueSubscriptionProcessorTest,processPendingTickets,Long Statement,The length of the statement "when(ticketReservationManager.createTicketReservation(eq(event)`anyList()`anyList()`any(Date.class)`eq(Optional.empty())`any(Locale.class)`eq(true)`isNull())).thenReturn(reservationId);" is 185.,112
exteso_alf.io,alfio.manager,WaitingQueueSubscriptionProcessorTest,processPendingTickets,Long Statement,The length of the statement "verify(ticketReservationManager).createTicketReservation(eq(event)`eq(Collections.singletonList(reservation))`anyList()`eq(Date.from(expiration.toInstant()))`eq(Optional.empty())`eq(Locale.ENGLISH)`eq(true)`isNull());" is 217.,112
exteso_alf.io,alfio.manager,WaitingQueueSubscriptionProcessorTest,processPendingTickets,Long Statement,The length of the statement "verify(notificationManager).sendSimpleEmail(eq(event)`eq(reservationId)`eq("me")`eq("subject")`any(TemplateGenerator.class));" is 125.,112
exteso_alf.io,alfio.manager,EuVatCheckerTest,init,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ConfigurationKeys.ENABLE_EU_VAT_DIRECTIVE)`any(ConfigurationLevel.class))).thenReturn(existing(ConfigurationKeys.ENABLE_EU_VAT_DIRECTIVE`"true"));" is 182.,46
exteso_alf.io,alfio.manager,EuVatCheckerTest,init,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ConfigurationKeys.ENABLE_VIES_VALIDATION)`any(ConfigurationLevel.class))).thenReturn(existing(ConfigurationKeys.ENABLE_VIES_VALIDATION`"true"));" is 180.,46
exteso_alf.io,alfio.manager,EuVatCheckerTest,init,Long Statement,The length of the statement "when(configurationManager.getForSystem(ConfigurationKeys.EU_COUNTRIES_LIST)).thenReturn(existing(ConfigurationKeys.EU_COUNTRIES_LIST`"IE"));" is 140.,46
exteso_alf.io,alfio.manager,EuVatCheckerTest,init,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ConfigurationKeys.COUNTRY_OF_BUSINESS)`any(ConfigurationLevel.class))).thenReturn(existing(ConfigurationKeys.COUNTRY_OF_BUSINESS`"IT"));" is 172.,46
exteso_alf.io,alfio.manager,EuVatCheckerTest,init,Long Statement,The length of the statement "when(configurationManager.getFor(eq(EnumSet.of(ConfigurationKeys.ENABLE_EU_VAT_DIRECTIVE`ConfigurationKeys.COUNTRY_OF_BUSINESS`ConfigurationKeys.ENABLE_REVERSE_CHARGE_ONLINE`ConfigurationKeys.ENABLE_REVERSE_CHARGE_IN_PERSON))`any())).thenReturn(Map.of(ConfigurationKeys.ENABLE_EU_VAT_DIRECTIVE`existing(ConfigurationKeys.ENABLE_EU_VAT_DIRECTIVE`"true")`ConfigurationKeys.COUNTRY_OF_BUSINESS`existing(ConfigurationKeys.COUNTRY_OF_BUSINESS`"IT")`ConfigurationKeys.ENABLE_REVERSE_CHARGE_ONLINE`missing(ConfigurationKeys.ENABLE_REVERSE_CHARGE_ONLINE)`ConfigurationKeys.ENABLE_REVERSE_CHARGE_IN_PERSON`missing(ConfigurationKeys.ENABLE_REVERSE_CHARGE_IN_PERSON)));" is 658.,46
exteso_alf.io,alfio.manager,EuVatCheckerTest,performCheckOK,Long Statement,The length of the statement "Optional<VatDetail> result=EuVatChecker.performCheck("1234"`"IE"`eventAndOrganizationId).apply(configurationManager`client);" is 124.,70
exteso_alf.io,alfio.manager,EuVatCheckerTest,performCheckKO,Long Statement,The length of the statement "Optional<VatDetail> result=EuVatChecker.performCheck("12345"`"IE"`eventAndOrganizationId).apply(configurationManager`client);" is 125.,85
exteso_alf.io,alfio.manager,EuVatCheckerTest,performCheckRequestFailed,Long Statement,The length of the statement "assertThrows(IllegalStateException.class`() -> EuVatChecker.performCheck("1234"`"IE"`eventAndOrganizationId).apply(configurationManager`client));" is 145.,100
exteso_alf.io,alfio.manager,EuVatCheckerTest,testForeignBusinessVATApplied,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ConfigurationKeys.APPLY_VAT_FOREIGN_BUSINESS)`any(ConfigurationLevel.class))).thenReturn(existing(ConfigurationKeys.APPLY_VAT_FOREIGN_BUSINESS`"true"));" is 188.,106
exteso_alf.io,alfio.manager,EuVatCheckerTest,testForeignBusinessVATApplied,Long Statement,The length of the statement "Optional<VatDetail> result=EuVatChecker.performCheck("1234"`"UK"`eventAndOrganizationId).apply(configurationManager`client);" is 124.,106
exteso_alf.io,alfio.manager,EuVatCheckerTest,testForeignBusinessVATNotApplied,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ConfigurationKeys.APPLY_VAT_FOREIGN_BUSINESS)`any(ConfigurationLevel.class))).thenReturn(existing(ConfigurationKeys.APPLY_VAT_FOREIGN_BUSINESS`"false"));" is 189.,119
exteso_alf.io,alfio.manager,EuVatCheckerTest,testForeignBusinessVATNotApplied,Long Statement,The length of the statement "Optional<VatDetail> result=EuVatChecker.performCheck("1234"`"UK"`eventAndOrganizationId).apply(configurationManager`client);" is 124.,119
exteso_alf.io,alfio.manager,EuVatCheckerTest,testForeignBusinessVATNotAppliedValidationDisabled,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ConfigurationKeys.ENABLE_VIES_VALIDATION)`any(ConfigurationLevel.class))).thenReturn(existing(ConfigurationKeys.ENABLE_VIES_VALIDATION`"true"));" is 180.,132
exteso_alf.io,alfio.manager,EuVatCheckerTest,testForeignBusinessVATNotAppliedValidationDisabled,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ConfigurationKeys.APPLY_VAT_FOREIGN_BUSINESS)`any(ConfigurationLevel.class))).thenReturn(existing(ConfigurationKeys.APPLY_VAT_FOREIGN_BUSINESS`"false"));" is 189.,132
exteso_alf.io,alfio.manager,EuVatCheckerTest,testForeignBusinessVATNotAppliedValidationDisabled,Long Statement,The length of the statement "Optional<VatDetail> result=EuVatChecker.performCheck("1234"`"UK"`eventAndOrganizationId).apply(configurationManager`client);" is 124.,132
exteso_alf.io,alfio.manager,EuVatCheckerTest,testEUBusinessVATNotAppliedValidationDisabled,Long Statement,The length of the statement "when(configurationManager.getFor(eq(ConfigurationKeys.ENABLE_VIES_VALIDATION)`any(ConfigurationLevel.class))).thenReturn(existing(ConfigurationKeys.ENABLE_VIES_VALIDATION`"false"));" is 181.,146
exteso_alf.io,alfio.manager,EuVatCheckerTest,testEUBusinessVATNotAppliedValidationDisabled,Long Statement,The length of the statement "Optional<VatDetail> result=EuVatChecker.performCheck("1234"`"IE"`eventAndOrganizationId).apply(configurationManager`client);" is 124.,146
exteso_alf.io,alfio.manager,EventNameManagerTest,giveUpAfter5Times,Magic Number,The method contains a magic number: 6,64
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveFromExistingCategory,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 475.,93
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveFromExistingMultipleCategories,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Arrays.asList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"2nd"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 837.,103
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveFromExistingMultipleCategories,Magic Number,The method contains a magic number: 10,103
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveFromExistingMultipleCategories,Magic Number,The method contains a magic number: 10,103
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveFromExistingMultipleCategories,Magic Number,The method contains a magic number: 10,103
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveFromExistingMultipleCategories,Magic Number,The method contains a magic number: 10,103
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveFromExistingCategoryNotEnoughSeatsNotBounded,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`1`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 461.,117
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveExistingCategoryNotEnoughSeatsNotBoundedSoldOut,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`1`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 461.,127
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveExistingCategoryNotEnoughSeatsNotBoundedSoldOut,Long Statement,The length of the statement "performExistingCategoryTest(categories`false`Collections.singletonList(1)`true`true`AVAILABLE_SEATS`AVAILABLE_SEATS + 1);" is 121.,127
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveFromExistingCategoryNotEnoughSeatsBounded,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`1`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 460.,137
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveFromExistingCategoryNotEnoughSeatsBounded,Magic Number,The method contains a magic number: 2,137
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveFromExistingCategoryNotEnoughSeatsNoExtensionAllowedBounded,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 474.,147
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveFromExistingCategoryNotEnoughSeatsNoExtensionAllowedBounded,Long Statement,The length of the statement "performExistingCategoryTest(categories`true`Collections.singletonList(AVAILABLE_SEATS + 1)`false`false`0`AVAILABLE_SEATS);" is 122.,147
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveFromExistingCategoryNotEnoughSeatsNoExtensionAllowedNotBounded,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 475.,157
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveFromExistingCategoryNotEnoughSeatsNoExtensionAllowedNotBounded,Long Statement,The length of the statement "performExistingCategoryTest(categories`true`Collections.singletonList(AVAILABLE_SEATS + 1)`false`false`0`AVAILABLE_SEATS);" is 122.,157
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveFromNewCategory,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`1`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 460.,167
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveFromNewCategory,Long Statement,The length of the statement "Pair<Event`String> eventWithUsername=initEvent(categories`organizationRepository`userManager`eventManager`eventRepository);" is 123.,167
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveFromNewCategory,Long Statement,The length of the statement "DateTimeModification expiration=DateTimeModification.fromZonedDateTime(ZonedDateTime.now(ClockProvider.clock()).plusDays(1));" is 125.,167
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveFromNewCategory,Long Statement,The length of the statement "CustomerData customerData=new CustomerData("Integration"`"Test"`"integration-test@test.ch"`"Billing Address"`"reference"`"en"`"1234"`"CH"`null);" is 144.,167
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveFromNewCategory,Long Statement,The length of the statement "List<TicketsInfo> ticketsInfoList=Collections.singletonList(new TicketsInfo(category`generateAttendees(attendees)`true`false));" is 127.,167
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveFromNewCategory,Long Statement,The length of the statement "AdminReservationModification modification=new AdminReservationModification(expiration`customerData`ticketsInfoList`"en"`false`false`null`null`null`null);" is 153.,167
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveFromNewCategory,Long Statement,The length of the statement "Result<Pair<TicketReservation`List<Ticket>>> result=adminReservationManager.createReservation(modification`event.getShortName()`username);" is 138.,167
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveFromNewCategory,Long Statement,The length of the statement "ticketCategoryRepository.findAllTicketCategories(event.getId()).forEach(tc -> assertTrue(specialPriceRepository.findAllByCategoryId(tc.getId()).stream().allMatch(sp -> sp.getStatus() == SpecialPrice.Status.PENDING)));" is 217.,167
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveFromNewCategory,Long Statement,The length of the statement "adminReservationManager.confirmReservation(PurchaseContextType.event`event.getShortName()`data.getLeft().getId()`username`EMPTY);" is 129.,167
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveFromNewCategory,Long Statement,The length of the statement "ticketCategoryRepository.findAllTicketCategories(event.getId()).forEach(tc -> assertTrue(specialPriceRepository.findAllByCategoryId(tc.getId()).stream().allMatch(sp -> sp.getStatus() == SpecialPrice.Status.TAKEN)));" is 215.,167
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveFromNewCategory,Long Statement,The length of the statement "assertFalse(ticketRepository.findAllReservationsConfirmedButNotAssignedForUpdate(event.getId()).contains(data.getLeft().getId()));" is 130.,167
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveMixed,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`1`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 461.,201
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveMixed,Long Statement,The length of the statement "Pair<Event`String> eventWithUsername=initEvent(categories`organizationRepository`userManager`eventManager`eventRepository);" is 123.,201
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveMixed,Long Statement,The length of the statement "DateTimeModification expiration=DateTimeModification.fromZonedDateTime(ZonedDateTime.now(ClockProvider.clock()).plusDays(1));" is 125.,201
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveMixed,Long Statement,The length of the statement "CustomerData customerData=new CustomerData("Integration"`"Test"`"integration-test@test.ch"`"Billing Address"`"reference"`"en"`"1234"`"CH"`null);" is 144.,201
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveMixed,Long Statement,The length of the statement "List<TicketsInfo> ticketsInfoList=Arrays.asList(new TicketsInfo(resExistingCategory`generateAttendees(attendees)`false`false)`new TicketsInfo(resNewCategory`generateAttendees(attendees)`false`false)`new TicketsInfo(resExistingCategory`generateAttendees(attendees)`false`false));" is 278.,201
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveMixed,Long Statement,The length of the statement "AdminReservationModification modification=new AdminReservationModification(expiration`customerData`ticketsInfoList`"en"`false`false`null`null`null`null);" is 153.,201
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveMixed,Long Statement,The length of the statement "Result<Pair<TicketReservation`List<Ticket>>> result=adminReservationManager.createReservation(modification`event.getShortName()`username);" is 138.,201
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveMixed,Long Statement,The length of the statement "assertEquals(3`ticketRepository.findPendingTicketsInCategories(Arrays.asList(resExistingCategoryId`resNewCategoryId)).size());" is 126.,201
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveMixed,Long Statement,The length of the statement "assertEquals(ticketRepository.findTicketsInReservation(reservationId).stream().findFirst().get().getId()`ticketRepository.findFirstTicketInReservation(reservationId).get().getId());" is 181.,201
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveMixed,Long Statement,The length of the statement "ticketCategoryRepository.findAllTicketCategories(event.getId()).forEach(tc -> assertTrue(specialPriceRepository.findAllByCategoryId(tc.getId()).stream().allMatch(sp -> sp.getStatus() == SpecialPrice.Status.PENDING)));" is 217.,201
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveMixed,Long Statement,The length of the statement "adminReservationManager.confirmReservation(PurchaseContextType.event`event.getShortName()`data.getLeft().getId()`username`EMPTY);" is 129.,201
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveMixed,Long Statement,The length of the statement "ticketCategoryRepository.findAllTicketCategories(event.getId()).forEach(tc -> assertTrue(specialPriceRepository.findAllByCategoryId(tc.getId()).stream().allMatch(sp -> sp.getStatus() == SpecialPrice.Status.TAKEN)));" is 215.,201
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveMixed,Long Statement,The length of the statement "assertFalse(ticketRepository.findAllReservationsConfirmedButNotAssignedForUpdate(event.getId()).contains(data.getLeft().getId()));" is 130.,201
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveMixed,Magic Number,The method contains a magic number: 3,201
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveMixed,Magic Number,The method contains a magic number: 2,201
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveMixed,Magic Number,The method contains a magic number: 3,201
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testReserveMixed,Magic Number,The method contains a magic number: 3,201
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testConfirmReservation,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`1`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 460.,247
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testConfirmReservation,Long Statement,The length of the statement "Triple<Event`String`TicketReservation> testResult=performExistingCategoryTest(categories`true`Collections.singletonList(2)`false`true`0`AVAILABLE_SEATS);" is 153.,247
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testConfirmReservation,Long Statement,The length of the statement "var result=adminReservationManager.confirmReservation(PurchaseContextType.event`testResult.getLeft().getShortName()`testResult.getRight().getId()`testResult.getMiddle()`EMPTY);" is 176.,247
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testConfirmReservation,Long Statement,The length of the statement "ticketCategoryRepository.findAllTicketCategories(eventId).forEach(tc -> assertTrue(specialPriceRepository.findAllByCategoryId(tc.getId()).stream().allMatch(sp -> sp.getStatus() == SpecialPrice.Status.TAKEN)));" is 209.,247
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testConfirmReservation,Long Statement,The length of the statement "assertFalse(ticketRepository.findAllReservationsConfirmedButNotAssignedForUpdate(eventId).contains(triple.getLeft().getId()));" is 126.,247
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testConfirmReservation,Magic Number,The method contains a magic number: 2,247
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testConfirmReservation,Magic Number,The method contains a magic number: 50,247
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testConfirmReservationSendConfirmationEmail,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`1`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 460.,268
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testConfirmReservationSendConfirmationEmail,Long Statement,The length of the statement "Triple<Event`String`TicketReservation> testResult=performExistingCategoryTest(categories`true`Collections.singletonList(attendees)`false`true`0`AVAILABLE_SEATS);" is 161.,268
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testConfirmReservationSendConfirmationEmail,Long Statement,The length of the statement "var result=adminReservationManager.confirmReservation(PurchaseContextType.event`testResult.getLeft().getShortName()`testResult.getRight().getId()`testResult.getMiddle()`new Notification(true`true));" is 198.,268
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testConfirmReservationSendConfirmationEmail,Long Statement,The length of the statement "ticketCategoryRepository.findAllTicketCategories(eventId).forEach(tc -> assertTrue(specialPriceRepository.findAllByCategoryId(tc.getId()).stream().allMatch(sp -> sp.getStatus() == SpecialPrice.Status.TAKEN)));" is 209.,268
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testConfirmReservationSendConfirmationEmail,Long Statement,The length of the statement "assertFalse(ticketRepository.findAllReservationsConfirmedButNotAssignedForUpdate(eventId).contains(triple.getLeft().getId()));" is 126.,268
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testConfirmReservationSendConfirmationEmail,Magic Number,The method contains a magic number: 2,268
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testConfirmReservationSendConfirmationEmail,Magic Number,The method contains a magic number: 2,268
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,testConfirmReservationSendConfirmationEmail,Magic Number,The method contains a magic number: 50,268
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,performExistingCategoryTest,Long Parameter List,The method has 7 parameters. ,290
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,performExistingCategoryTest,Long Statement,The length of the statement "Pair<Event`String> eventWithUsername=initEvent(categories`organizationRepository`userManager`eventManager`eventRepository);" is 123.,290
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,performExistingCategoryTest,Long Statement,The length of the statement "DateTimeModification expiration=DateTimeModification.fromZonedDateTime(ZonedDateTime.now(ClockProvider.clock()).plusDays(1));" is 125.,290
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,performExistingCategoryTest,Long Statement,The length of the statement "CustomerData customerData=new CustomerData("Integration"`"Test"`"integration-test@test.ch"`"Billing Address"`"reference"`"en"`"1234"`"CH"`null);" is 144.,290
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,performExistingCategoryTest,Long Statement,The length of the statement "AdminReservationModification modification=new AdminReservationModification(expiration`customerData`ticketsInfoList`"en"`false`false`null`null`null`null);" is 153.,290
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,performExistingCategoryTest,Long Statement,The length of the statement "ticketReservationManager.createTicketReservation(event`Collections.singletonList(r)`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.empty()`Locale.ENGLISH`false`null);" is 184.,290
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,performExistingCategoryTest,Long Statement,The length of the statement "Result<Pair<TicketReservation`List<Ticket>>> result=adminReservationManager.createReservation(modification`event.getShortName()`username);" is 138.,290
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,performExistingCategoryTest,Long Statement,The length of the statement "validateSuccess(bounded`attendeesNr`event`username`existingCategories`result`allAttendees`expectedEventSeats`reservedTickets);" is 126.,290
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,validateSuccess,Long Parameter List,The method has 9 parameters. ,329
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,validateSuccess,Long Statement,The length of the statement "List<Ticket> tickets=ticketRepository.findPendingTicketsInCategories(existingCategories.stream().map(TicketCategory::getId).collect(toList()));" is 143.,329
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,validateSuccess,Long Statement,The length of the statement "ticketCategoryRepository.findAllTicketCategories(modified.getId()).forEach(tc -> assertTrue(specialPriceRepository.findAllByCategoryId(tc.getId()).stream().allMatch(sp -> sp.getStatus() == SpecialPrice.Status.PENDING)));" is 220.,329
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,validateSuccess,Long Statement,The length of the statement "assertFalse(ticketRepository.findAllReservationsConfirmedButNotAssignedForUpdate(event.getId()).contains(data.getLeft().getId()));" is 130.,329
exteso_alf.io,alfio.manager,AdminReservationManagerIntegrationTest,generateAttendees,Long Statement,The length of the statement "return IntStream.range(0`count).mapToObj(i -> new Attendee(null`"Attendee " + i`"Test" + i`"attendee" + i + "@test.ch"`"en"`false`null`null`Collections.emptyMap())).collect(toList());" is 183.,363
exteso_alf.io,alfio.manager,ExtensionManagerIntegrationTest,init,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock()).minusDays(1)`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(1)`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 500.,102
exteso_alf.io,alfio.manager,ExtensionManagerIntegrationTest,capabilitiesSaved,Long Statement,The length of the statement "assertEquals(List.of(CREATE_VIRTUAL_ROOM.name()`CREATE_GUEST_LINK.name())`extension.getExtensionMetadata().getCapabilities());" is 126.,130
exteso_alf.io,alfio.manager,ExtensionManagerIntegrationTest,capabilitiesSaved,Magic Number,The method contains a magic number: 2,130
exteso_alf.io,alfio.manager,ExtensionManagerIntegrationTest,requestSupportedCapabilities,Long Statement,The length of the statement "assertEquals(Set.of(CREATE_VIRTUAL_ROOM`CREATE_GUEST_LINK)`extensionManager.getSupportedCapabilities(requested`event).stream().map(ExtensionCapabilitySummary::getCapability).collect(Collectors.toSet()));" is 203.,150
exteso_alf.io,alfio.manager,ExtensionManagerIntegrationTest,executeCapability,Long Statement,The length of the statement "var optionalResult=extensionManager.executeCapability(CREATE_VIRTUAL_ROOM`Map.of("selector"`selector)`event`String.class);" is 122.,156
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,init,Long Statement,The length of the statement "when(event.now(any(ClockProvider.class))).thenReturn(ZonedDateTime.now(clockProvider().getClock().withZone(ZoneId.systemDefault())));" is 133.,53
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,init,Long Statement,The length of the statement "eventManager=new EventManager(null`null`null`null`null`ticketRepository`null`null`null`null`null`null`null`null`null`null`null`null`null`null`null`null`clockProvider()`mock(SubscriptionRepository.class));" is 204.,53
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,init,Magic Number,The method contains a magic number: 1000,53
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,init,Magic Number,The method contains a magic number: 1000,53
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,init,Magic Number,The method contains a magic number: 10,53
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,init,Magic Number,The method contains a magic number: 11,53
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,throwExceptionIfAlreadySold,Magic Number,The method contains a magic number: 30,73
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,throwExceptionIfAlreadySold,Magic Number,The method contains a magic number: 2,73
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,throwExceptionIfAlreadySold,Magic Number,The method contains a magic number: 2,73
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,invalidateExceedingTickets,Magic Number,The method contains a magic number: 2,81
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,invalidateExceedingTickets,Magic Number,The method contains a magic number: 2,81
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,invalidateExceedingTickets,Magic Number,The method contains a magic number: 2,81
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,insertTicketIfDifference1,Long Statement,The length of the statement "when(ticketRepository.selectNotAllocatedTicketsForUpdate(eq(eventId)`eq(1)`eq(Arrays.asList(Ticket.TicketStatus.FREE.name()`Ticket.TicketStatus.RELEASED.name())))).thenReturn(singletonList(1));" is 193.,98
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,doNothingIfPriceIsNotChanged,Magic Number,The method contains a magic number: 10,107
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,doNothingIfPriceIsNotChanged,Magic Number,The method contains a magic number: 10,107
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,throwExceptionIfNotEnoughTickets,Long Statement,The length of the statement "when(ticketRepository.selectTicketInCategoryForUpdate(eq(eventId)`eq(originalCategoryId)`eq(2)`eq(singletonList(Ticket.TicketStatus.FREE.name())))).thenReturn(singletonList(1));" is 177.,117
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,throwExceptionIfNotEnoughTickets,Magic Number,The method contains a magic number: 10,117
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,throwExceptionIfNotEnoughTickets,Magic Number,The method contains a magic number: 11,117
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,throwExceptionIfNotEnoughTickets,Magic Number,The method contains a magic number: 2,117
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,throwExceptionIfNotEnoughTickets,Magic Number,The method contains a magic number: 20,117
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,throwExceptionIfNotEnoughTickets,Magic Number,The method contains a magic number: 2,117
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,updateTicketsIfConstraintsVerified,Long Statement,The length of the statement "when(ticketRepository.selectTicketInCategoryForUpdate(eq(eventId)`eq(updatedCategoryId)`eq(2)`eq(singletonList(Ticket.TicketStatus.FREE.name())))).thenReturn(Arrays.asList(1`2));" is 178.,129
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,updateTicketsIfConstraintsVerified,Magic Number,The method contains a magic number: 10,129
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,updateTicketsIfConstraintsVerified,Magic Number,The method contains a magic number: 11,129
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,updateTicketsIfConstraintsVerified,Magic Number,The method contains a magic number: 2,129
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,updateTicketsIfConstraintsVerified,Magic Number,The method contains a magic number: 2,129
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,updateTicketsIfConstraintsVerified,Magic Number,The method contains a magic number: 2,129
exteso_alf.io,alfio.manager,EventManagerHandleTicketModificationTest,updateTicketsIfConstraintsVerified,Magic Number,The method contains a magic number: 11,129
exteso_alf.io,alfio.manager,CheckInManagerIntegrationTest,testReturnOnlyOnce,Long Identifier,The length of the identifier additionalServicesModification is 30.,84
exteso_alf.io,alfio.manager,CheckInManagerIntegrationTest,testReturnOnlyOnce,Long Statement,The length of the statement "List<TicketCategoryModification> categories=List.of(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock()).minusDays(1)`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(1)`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 482.,84
exteso_alf.io,alfio.manager,CheckInManagerIntegrationTest,testReturnOnlyOnce,Long Statement,The length of the statement "var additionalServiceRequest=new EventModification.AdditionalService(null`BigDecimal.ONE`true`1`100`2`DateTimeModification.fromZonedDateTime(ZonedDateTime.now(ClockProvider.clock()).minusDays(1))`DateTimeModification.fromZonedDateTime(ZonedDateTime.now(ClockProvider.clock()).plusDays(1))`BigDecimal.ZERO`AdditionalService.VatType.INHERITED`List.of()`List.of(new EventModification.AdditionalServiceText(null`"en"`"bla"`AdditionalServiceText.TextType.TITLE))`List.of(new EventModification.AdditionalServiceText(null`"en"`"blabla"`AdditionalServiceText.TextType.DESCRIPTION))`AdditionalService.AdditionalServiceType.SUPPLEMENT`AdditionalService.SupplementPolicy.OPTIONAL_UNLIMITED_AMOUNT);" is 687.,84
exteso_alf.io,alfio.manager,CheckInManagerIntegrationTest,testReturnOnlyOnce,Long Statement,The length of the statement "String reservationId=ticketReservationManager.createTicketReservation(event`List.of(tickets)`List.of(additionalServicesModification)`DateUtils.addDays(new Date()`1)`Optional.empty()`Locale.ENGLISH`false`null);" is 209.,84
exteso_alf.io,alfio.manager,CheckInManagerIntegrationTest,testReturnOnlyOnce,Long Statement,The length of the statement "Pair<TotalPrice`Optional<PromoCodeDiscount>> priceAndDiscount=ticketReservationManager.totalReservationCostWithVAT(reservationId);" is 130.,84
exteso_alf.io,alfio.manager,CheckInManagerIntegrationTest,testReturnOnlyOnce,Long Statement,The length of the statement "PaymentSpecification specification=new PaymentSpecification(reservationId`null`reservationCost.getPriceWithVAT()`event`"email@example.com"`new CustomerName("full name"`"full"`"name"`event.mustUseFirstAndLastName())`"billing address"`null`Locale.ENGLISH`true`false`null`"IT"`"123456"`PriceContainer.VatStatus.INCLUDED`true`false);" is 329.,84
exteso_alf.io,alfio.manager,CheckInManagerIntegrationTest,testReturnOnlyOnce,Long Statement,The length of the statement "PaymentResult result=ticketReservationManager.performPayment(specification`reservationCost`PaymentProxy.OFFLINE`PaymentMethod.BANK_TRANSFER`null);" is 146.,84
exteso_alf.io,alfio.manager,CheckInManagerIntegrationTest,testReturnOnlyOnce,Long Statement,The length of the statement "var returnedAdditionalServices=ticketReservationManager.findTicketsInReservation(reservationId).stream().filter(ticket -> !checkInManager.getAdditionalServicesForTicket(ticket).isEmpty()).toList();" is 197.,84
exteso_alf.io,alfio.manager,CheckInManagerIntegrationTest,testReturnOnlyOnce,Long Statement,The length of the statement "assertEquals((int)ticketRepository.findFirstTicketIdInReservation(reservationId).orElseThrow()`returnedAdditionalServices.get(0).getId());" is 138.,84
exteso_alf.io,alfio.manager,CheckInManagerIntegrationTest,testReturnOnlyOnce,Magic Number,The method contains a magic number: 100,84
exteso_alf.io,alfio.manager,CheckInManagerIntegrationTest,testReturnOnlyOnce,Magic Number,The method contains a magic number: 2,84
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testPriceIsOverridden,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 475.,114
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testPriceIsOverridden,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification mod=new TicketReservationWithOptionalCodeModification(tr`Optional.empty());" is 121.,114
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testPriceIsOverridden,Long Statement,The length of the statement "ticketReservationManager.createTicketReservation(event`Collections.singletonList(mod)`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.empty()`Locale.ENGLISH`false`null);" is 186.,114
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testPriceIsOverridden,Long Statement,The length of the statement "List<Ticket> pendingTickets=ticketRepository.findPendingTicketsInCategories(Collections.singletonList(category.getId()));" is 121.,114
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testPriceIsOverridden,Magic Number,The method contains a magic number: 2,114
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testPriceIsOverridden,Magic Number,The method contains a magic number: 2,114
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testPriceIsOverridden,Magic Number,The method contains a magic number: 1000,114
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testPriceIsOverridden,Magic Number,The method contains a magic number: 18,114
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Long Statement,The length of the statement "List<TicketCategoryModification> categories=List.of(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 847.,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Long Statement,The length of the statement "Pair<Event`String> eventAndUsername=initEvent(categories`organizationRepository`userManager`eventManager`eventRepository);" is 122.,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Long Statement,The length of the statement "TicketCategory bounded=ticketCategoryRepository.findAllTicketCategories(event.getId()).stream().filter(TicketCategory::isBounded).findFirst().orElseThrow(IllegalStateException::new);" is 182.,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Long Statement,The length of the statement "TicketCategory unbounded=ticketCategoryRepository.findAllTicketCategories(event.getId()).stream().filter(t -> !t.isBounded()).findFirst().orElseThrow(IllegalStateException::new);" is 178.,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification mod=new TicketReservationWithOptionalCodeModification(tr`Optional.empty());" is 121.,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification mod2=new TicketReservationWithOptionalCodeModification(tr2`Optional.empty());" is 123.,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Long Statement,The length of the statement "String reservationId=ticketReservationManager.createTicketReservation(event`List.of(mod`mod2)`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.empty()`Locale.ENGLISH`false`null);" is 194.,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Long Statement,The length of the statement "Pair<TotalPrice`Optional<PromoCodeDiscount>> priceAndDiscount=ticketReservationManager.totalReservationCostWithVAT(reservationId);" is 130.,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Long Statement,The length of the statement "PaymentSpecification specification=new PaymentSpecification(reservationId`null`totalPrice.getPriceWithVAT()`event`"email@example.com"`new CustomerName("full name"`"full"`"name"`event.mustUseFirstAndLastName())`"billing address"`null`Locale.ENGLISH`true`false`null`"IT"`"123456"`PriceContainer.VatStatus.INCLUDED`true`false);" is 324.,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Long Statement,The length of the statement "PaymentResult confirm=ticketReservationManager.performPayment(specification`totalPrice`PaymentProxy.OFFLINE`PaymentMethod.BANK_TRANSFER`null);" is 142.,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Long Statement,The length of the statement "assertEquals(TicketReservation.TicketReservationStatus.OFFLINE_PAYMENT`ticketReservationManager.findById(reservationId).get().getStatus());" is 139.,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Long Statement,The length of the statement "assertTrue(ticketReservationRepository.getSoldStatistic(event.getId()`from`to`"day").stream().allMatch(tds -> tds.getCount() == 0L));" is 133.,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Long Statement,The length of the statement "ticketReservationManager.validateAndConfirmOfflinePayment(reservationId`event`new BigDecimal("190.00")`eventAndUsername.getValue());" is 132.,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Long Statement,The length of the statement "assertEquals(TicketReservation.TicketReservationStatus.COMPLETE`ticketReservationManager.findById(reservationId).get().getStatus());" is 132.,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification modForDelete=new TicketReservationWithOptionalCodeModification(trForDelete`Optional.empty());" is 139.,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Long Statement,The length of the statement "String reservationId2=ticketReservationManager.createTicketReservation(event`Collections.singletonList(modForDelete)`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.empty()`Locale.ENGLISH`false`null);" is 217.,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Long Statement,The length of the statement "PaymentSpecification specification2=new PaymentSpecification(reservationId2`null`totalPrice.getPriceWithVAT()`event`"email@example.com"`new CustomerName("full name"`"full"`"name"`event.mustUseFirstAndLastName())`"billing address"`null`Locale.ENGLISH`true`false`null`"IT"`"123456"`PriceContainer.VatStatus.INCLUDED`true`false);" is 326.,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Long Statement,The length of the statement "PaymentResult confirm2=ticketReservationManager.performPayment(specification2`totalPrice`PaymentProxy.OFFLINE`PaymentMethod.BANK_TRANSFER`null);" is 144.,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Magic Number,The method contains a magic number: 10,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Magic Number,The method contains a magic number: 10,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Magic Number,The method contains a magic number: 9,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Magic Number,The method contains a magic number: 19,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Magic Number,The method contains a magic number: 1000,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Magic Number,The method contains a magic number: 23,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Magic Number,The method contains a magic number: 3,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Magic Number,The method contains a magic number: 19L,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Magic Number,The method contains a magic number: 19L,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Magic Number,The method contains a magic number: 10,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Magic Number,The method contains a magic number: 10,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Magic Number,The method contains a magic number: 9,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelection,Magic Number,The method contains a magic number: 9,138
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,deferredOfflinePayment,Empty catch clause,The method has an empty catch block.,240
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,deferredOfflinePayment,Long Statement,The length of the statement "List<TicketCategoryModification> categories=List.of(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 457.,240
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,deferredOfflinePayment,Long Statement,The length of the statement "Pair<Event`String> eventAndUsername=initEvent(categories`organizationRepository`userManager`eventManager`eventRepository);" is 122.,240
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,deferredOfflinePayment,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification modForDeferred=new TicketReservationWithOptionalCodeModification(trForDeferred`Optional.empty());" is 143.,240
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,deferredOfflinePayment,Long Statement,The length of the statement "String reservationId=ticketReservationManager.createTicketReservation(event`Collections.singletonList(modForDeferred)`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.empty()`Locale.ENGLISH`false`null);" is 218.,240
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,deferredOfflinePayment,Long Statement,The length of the statement "Pair<TotalPrice`Optional<PromoCodeDiscount>> priceAndDiscount=ticketReservationManager.totalReservationCostWithVAT(reservationId);" is 130.,240
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,deferredOfflinePayment,Long Statement,The length of the statement "PaymentSpecification specificationDeferred=new PaymentSpecification(reservationId`null`totalPrice.getPriceWithVAT()`event`"email@example.com"`new CustomerName("full name"`"full"`"name"`event.mustUseFirstAndLastName())`"billing address"`null`Locale.ENGLISH`true`false`null`"IT"`"123456"`PriceContainer.VatStatus.INCLUDED`true`false);" is 332.,240
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,deferredOfflinePayment,Long Statement,The length of the statement "PaymentResult confirm=ticketReservationManager.performPayment(specificationDeferred`totalPrice`PaymentProxy.OFFLINE`PaymentMethod.BANK_TRANSFER`null);" is 150.,240
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,deferredOfflinePayment,Long Statement,The length of the statement "reservationId=ticketReservationManager.createTicketReservation(event`Collections.singletonList(modForDeferred)`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.empty()`Locale.ENGLISH`false`null);" is 211.,240
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,deferredOfflinePayment,Long Statement,The length of the statement "specificationDeferred=new PaymentSpecification(reservationId`null`totalPrice.getPriceWithVAT()`event`"email@example.com"`new CustomerName("full name"`"full"`"name"`event.mustUseFirstAndLastName())`"billing address"`null`Locale.ENGLISH`true`false`null`"IT"`"123456"`PriceContainer.VatStatus.INCLUDED`true`false);" is 311.,240
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,deferredOfflinePayment,Long Statement,The length of the statement "confirm=ticketReservationManager.performPayment(specificationDeferred`totalPrice`PaymentProxy.OFFLINE`PaymentMethod.BANK_TRANSFER`null);" is 136.,240
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 475.,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Long Statement,The length of the statement "TicketCategory unbounded=ticketCategoryRepository.findAllTicketCategories(event.getId()).stream().filter(t -> !t.isBounded()).findFirst().orElseThrow(IllegalStateException::new);" is 178.,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Long Statement,The length of the statement "eventManager.addPromoCode("MYPROMOCODE"`event.getId()`null`event.getBegin()`event.getEnd()`10`PromoCodeDiscount.DiscountType.PERCENTAGE`null`3`"description"`"email@reference.ch"`PromoCodeDiscount.CodeType.DISCOUNT`null`null);" is 225.,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Long Statement,The length of the statement "eventManager.addPromoCode("MYFIXEDPROMO"`null`event.getOrganizationId()`event.getBegin()`event.getEnd()`5`PromoCodeDiscount.DiscountType.FIXED_AMOUNT`null`null`"description"`"email@reference.ch"`PromoCodeDiscount.CodeType.DISCOUNT`null`"CHF");" is 243.,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification mod=new TicketReservationWithOptionalCodeModification(tr`Optional.empty());" is 121.,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Long Statement,The length of the statement "String reservationId=ticketReservationManager.createTicketReservation(event`Collections.singletonList(mod)`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.of("MYPROMOCODE")`Locale.ENGLISH`false`null);" is 217.,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Long Statement,The length of the statement "Pair<TotalPrice`Optional<PromoCodeDiscount>> priceAndDiscount=ticketReservationManager.totalReservationCostWithVAT(reservationId);" is 130.,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification modFixed=new TicketReservationWithOptionalCodeModification(trFixed`Optional.empty());" is 131.,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Long Statement,The length of the statement "String reservationIdFixed=ticketReservationManager.createTicketReservation(event`Collections.singletonList(modFixed)`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.of("MYFIXEDPROMO")`Locale.ENGLISH`false`null);" is 228.,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Long Statement,The length of the statement "Pair<TotalPrice`Optional<PromoCodeDiscount>> priceAndDiscountFixed=ticketReservationManager.totalReservationCostWithVAT(reservationIdFixed);" is 140.,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification modTooMuch=new TicketReservationWithOptionalCodeModification(trTooMuch`Optional.empty());" is 135.,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Long Statement,The length of the statement "assertThrows(TicketReservationManager.TooManyTicketsForDiscountCodeException.class`() -> ticketReservationManager.createTicketReservation(event`Collections.singletonList(modTooMuch)`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.of("MYPROMOCODE")`Locale.ENGLISH`false`null));" is 293.,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Magic Number,The method contains a magic number: 10,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Magic Number,The method contains a magic number: 3,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Magic Number,The method contains a magic number: 5,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Magic Number,The method contains a magic number: 3,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Magic Number,The method contains a magic number: 2700,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Magic Number,The method contains a magic number: 27,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Magic Number,The method contains a magic number: 300,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Magic Number,The method contains a magic number: 3,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Magic Number,The method contains a magic number: 3,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Magic Number,The method contains a magic number: 2985,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Magic Number,The method contains a magic number: 30,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Magic Number,The method contains a magic number: 15,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Magic Number,The method contains a magic number: 3,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Magic Number,The method contains a magic number: 3,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketWithDiscount,Magic Number,The method contains a magic number: 4,299
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testAdditionalServiceWithDiscount,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 475.,374
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testAdditionalServiceWithDiscount,Long Statement,The length of the statement "var firstAsKey=additionalServiceRepository.insert(event.getId()`1000`true`1`100`1`ZonedDateTime.now(ClockProvider.clock()).minusHours(1)`ZonedDateTime.now(ClockProvider.clock()).plusHours(1)`BigDecimal.TEN`AdditionalService.VatType.INHERITED`AdditionalService.AdditionalServiceType.SUPPLEMENT`AdditionalService.SupplementPolicy.OPTIONAL_UNLIMITED_AMOUNT);" is 355.,374
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testAdditionalServiceWithDiscount,Long Statement,The length of the statement "var secondAsKey=additionalServiceRepository.insert(event.getId()`500`true`2`100`1`ZonedDateTime.now(ClockProvider.clock()).minusHours(1)`ZonedDateTime.now(ClockProvider.clock()).plusHours(1)`BigDecimal.TEN`AdditionalService.VatType.INHERITED`AdditionalService.AdditionalServiceType.DONATION`AdditionalService.SupplementPolicy.OPTIONAL_UNLIMITED_AMOUNT);" is 353.,374
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testAdditionalServiceWithDiscount,Long Statement,The length of the statement "TicketCategory unbounded=ticketCategoryRepository.findAllTicketCategories(event.getId()).stream().filter(t -> !t.isBounded()).findFirst().orElseThrow(IllegalStateException::new);" is 178.,374
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testAdditionalServiceWithDiscount,Long Statement,The length of the statement "eventManager.addPromoCode("MYPROMOCODE"`event.getId()`null`event.getBegin()`event.getEnd()`10`PromoCodeDiscount.DiscountType.PERCENTAGE`null`3`"description"`"email@reference.ch"`PromoCodeDiscount.CodeType.DISCOUNT`null`null);" is 225.,374
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testAdditionalServiceWithDiscount,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification mod=new TicketReservationWithOptionalCodeModification(tr`Optional.empty());" is 121.,374
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testAdditionalServiceWithDiscount,Long Statement,The length of the statement "var additionalServices=List.of(new ASReservationWithOptionalCodeModification(firstAsModification`Optional.empty())`new ASReservationWithOptionalCodeModification(secondAsModification`Optional.empty()));" is 201.,374
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testAdditionalServiceWithDiscount,Long Statement,The length of the statement "String reservationId=ticketReservationManager.createTicketReservation(event`Collections.singletonList(mod)`additionalServices`DateUtils.addDays(new Date()`1)`Optional.of("MYPROMOCODE")`Locale.ENGLISH`false`null);" is 212.,374
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testAdditionalServiceWithDiscount,Long Statement,The length of the statement "Pair<TotalPrice`Optional<PromoCodeDiscount>> priceAndDiscount=ticketReservationManager.totalReservationCostWithVAT(reservationId);" is 130.,374
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testAdditionalServiceWithDiscount,Magic Number,The method contains a magic number: 1000,374
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testAdditionalServiceWithDiscount,Magic Number,The method contains a magic number: 100,374
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testAdditionalServiceWithDiscount,Magic Number,The method contains a magic number: 500,374
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testAdditionalServiceWithDiscount,Magic Number,The method contains a magic number: 2,374
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testAdditionalServiceWithDiscount,Magic Number,The method contains a magic number: 100,374
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testAdditionalServiceWithDiscount,Magic Number,The method contains a magic number: 10,374
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testAdditionalServiceWithDiscount,Magic Number,The method contains a magic number: 3,374
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testAdditionalServiceWithDiscount,Magic Number,The method contains a magic number: 3,374
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testAdditionalServiceWithDiscount,Magic Number,The method contains a magic number: 4100,374
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testAdditionalServiceWithDiscount,Magic Number,The method contains a magic number: 400,374
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketsWithAccessCode,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`true`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 473.,424
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketsWithAccessCode,Long Statement,The length of the statement "TicketCategory category=ticketCategoryRepository.findAllTicketCategories(event.getId()).stream().filter(TicketCategory::isAccessRestricted).findFirst().orElseThrow();" is 166.,424
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketsWithAccessCode,Long Statement,The length of the statement "eventManager.addPromoCode(accessCode`event.getId()`null`event.getBegin()`event.getEnd()`0`null`null`3`"description"`"email@reference.ch"`PromoCodeDiscount.CodeType.ACCESS`category.getId()`null);" is 194.,424
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketsWithAccessCode,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification mod=new TicketReservationWithOptionalCodeModification(tr`Optional.empty());" is 121.,424
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketsWithAccessCode,Long Statement,The length of the statement "String reservationId=ticketReservationManager.createTicketReservation(event`Collections.singletonList(mod)`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.of(accessCode)`Locale.ENGLISH`false`null);" is 214.,424
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketsWithAccessCode,Long Statement,The length of the statement "Pair<TotalPrice`Optional<PromoCodeDiscount>> priceAndDiscount=ticketReservationManager.totalReservationCostWithVAT(reservationId);" is 130.,424
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketsWithAccessCode,Magic Number,The method contains a magic number: 3,424
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketsWithAccessCode,Magic Number,The method contains a magic number: 3,424
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketsWithAccessCode,Magic Number,The method contains a magic number: 3000,424
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketsWithAccessCode,Magic Number,The method contains a magic number: 30,424
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketsWithAccessCode,Magic Number,The method contains a magic number: 3,424
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testAccessCodeLimit,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification modTooMuch=new TicketReservationWithOptionalCodeModification(trTooMuch`Optional.empty());" is 135.,468
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testAccessCodeLimit,Long Statement,The length of the statement "assertThrows(TicketReservationManager.TooManyTicketsForDiscountCodeException.class`() -> ticketReservationManager.createTicketReservation(triple.getLeft()`List.of(modTooMuch)`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.of(ACCESS_CODE)`Locale.ENGLISH`false`null));" is 284.,468
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testAccessCodeReleaseTickets,Long Identifier,The length of the field waitingQueueSubscriptionProcessor is 33.,479
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testAccessCodeReleaseTickets,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification modTooMuch=new TicketReservationWithOptionalCodeModification(trTooMuch`Optional.empty());" is 135.,479
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testAccessCodeReleaseTickets,Long Statement,The length of the statement "var newReservationId=ticketReservationManager.createTicketReservation(triple.getLeft()`List.of(modTooMuch)`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.of(ACCESS_CODE)`Locale.ENGLISH`false`null);" is 215.,479
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testWithAdditionalServices,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 475.,494
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testWithAdditionalServices,Long Statement,The length of the statement "List<EventModification.AdditionalService> additionalServices=Collections.singletonList(new EventModification.AdditionalService(null`BigDecimal.TEN`true`1`100`5`DateTimeModification.fromZonedDateTime(ZonedDateTime.now(ClockProvider.clock()).minusDays(1L))`DateTimeModification.fromZonedDateTime(ZonedDateTime.now(ClockProvider.clock()).plusDays(1L))`BigDecimal.TEN`AdditionalService.VatType.INHERITED`Collections.emptyList()`Collections.emptyList()`Collections.emptyList()`AdditionalService.AdditionalServiceType.SUPPLEMENT`AdditionalService.SupplementPolicy.OPTIONAL_UNLIMITED_AMOUNT));" is 586.,494
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testWithAdditionalServices,Long Statement,The length of the statement "Event event=initEvent(categories`organizationRepository`userManager`eventManager`eventRepository`additionalServices`Event.EventFormat.IN_PERSON).getKey();" is 154.,494
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testWithAdditionalServices,Long Statement,The length of the statement "TicketCategory unbounded=ticketCategoryRepository.findAllTicketCategories(event.getId()).stream().filter(t -> !t.isBounded()).findFirst().orElseThrow(IllegalStateException::new);" is 178.,494
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testWithAdditionalServices,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification mod=new TicketReservationWithOptionalCodeModification(tr`Optional.empty());" is 121.,494
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testWithAdditionalServices,Long Statement,The length of the statement "String reservationId=ticketReservationManager.createTicketReservation(event`Collections.singletonList(mod)`Collections.singletonList(asMod)`DateUtils.addDays(new Date()`1)`Optional.of("MYPROMOCODE")`Locale.ENGLISH`false`null);" is 226.,494
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testWithAdditionalServices,Long Statement,The length of the statement "Pair<TotalPrice`Optional<PromoCodeDiscount>> priceAndDiscount=ticketReservationManager.totalReservationCostWithVAT(reservationId);" is 130.,494
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testWithAdditionalServices,Long Statement,The length of the statement "List<SummaryRow> asRows=orderSummary.getSummary().stream().filter(s -> s.getType() == SummaryRow.SummaryType.ADDITIONAL_SERVICE).toList();" is 138.,494
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testWithAdditionalServices,Magic Number,The method contains a magic number: 100,494
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testWithAdditionalServices,Magic Number,The method contains a magic number: 5,494
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testWithAdditionalServices,Magic Number,The method contains a magic number: 3,494
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testWithAdditionalServices,Magic Number,The method contains a magic number: 4000,494
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testWithAdditionalServices,Magic Number,The method contains a magic number: 40,494
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testWithAdditionalServices,Magic Number,The method contains a magic number: 3,494
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelectionNotEnoughTicketsAvailable,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 475.,542
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelectionNotEnoughTicketsAvailable,Long Statement,The length of the statement "TicketCategory unbounded=ticketCategoryRepository.findAllTicketCategories(event.getId()).stream().filter(t -> !t.isBounded()).findFirst().orElseThrow(IllegalStateException::new);" is 178.,542
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelectionNotEnoughTicketsAvailable,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification mod=new TicketReservationWithOptionalCodeModification(tr`Optional.empty());" is 121.,542
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testTicketSelectionNotEnoughTicketsAvailable,Long Statement,The length of the statement "assertThrows(TicketReservationManager.NotEnoughTicketsException.class`() -> ticketReservationManager.createTicketReservation(event`Collections.singletonList(mod)`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.empty()`Locale.ENGLISH`false`null));" is 263.,542
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testDeletePendingPaymentUnboundedCategory,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 475.,561
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testDeletePendingPaymentUnboundedCategory,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification mod=new TicketReservationWithOptionalCodeModification(tr`Optional.empty());" is 121.,561
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testDeletePendingPaymentUnboundedCategory,Long Statement,The length of the statement "String reservationId=ticketReservationManager.createTicketReservation(event`Collections.singletonList(mod)`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.empty()`Locale.ENGLISH`false`null);" is 207.,561
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testDeletePendingPaymentUnboundedCategory,Long Statement,The length of the statement "Pair<TotalPrice`Optional<PromoCodeDiscount>> priceAndDiscount=ticketReservationManager.totalReservationCostWithVAT(reservationId);" is 130.,561
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testDeletePendingPaymentUnboundedCategory,Long Statement,The length of the statement "PaymentSpecification specification=new PaymentSpecification(reservationId`null`reservationCost.getPriceWithVAT()`event`"email@example.com"`new CustomerName("full name"`"full"`"name"`event.mustUseFirstAndLastName())`"billing address"`null`Locale.ENGLISH`true`false`null`"IT"`"123456"`PriceContainer.VatStatus.INCLUDED`true`false);" is 329.,561
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testDeletePendingPaymentUnboundedCategory,Long Statement,The length of the statement "PaymentResult result=ticketReservationManager.performPayment(specification`reservationCost`PaymentProxy.OFFLINE`PaymentMethod.BANK_TRANSFER`null);" is 146.,561
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testDeletePendingPaymentUnboundedCategory,Long Statement,The length of the statement "reservationId=ticketReservationManager.createTicketReservation(event`Collections.singletonList(mod)`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.empty()`Locale.ENGLISH`false`null);" is 200.,561
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testDeletePendingPaymentUnboundedCategory,Long Statement,The length of the statement "PaymentSpecification specification2=new PaymentSpecification(reservationId`null`reservationCost.getPriceWithVAT()`event`"email@example.com"`new CustomerName("full name"`"full"`"name"`event.mustUseFirstAndLastName())`"billing address"`null`Locale.ENGLISH`true`false`null`"IT"`"123456"`PriceContainer.VatStatus.INCLUDED`true`false);" is 330.,561
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testDeletePendingPaymentUnboundedCategory,Long Statement,The length of the statement "result=ticketReservationManager.performPayment(specification2`reservationCost`PaymentProxy.OFFLINE`PaymentMethod.BANK_TRANSFER`null);" is 133.,561
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testDeletePendingPaymentUnboundedCategory,Magic Number,The method contains a magic number: 2,561
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testCleanupExpiredReservations,Long Statement,The length of the statement "var testCases=List.of(List.of(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()))`List.of(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`-1`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty())));" is 822.,602
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testCleanupExpiredReservations,Long Statement,The length of the statement "Pair<Event`String> eventAndUsername=initEvent(categories`organizationRepository`userManager`eventManager`eventRepository);" is 122.,602
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testCleanupExpiredReservations,Long Statement,The length of the statement "TicketCategory category=ticketCategoryRepository.findAllTicketCategories(event.getId()).stream().findFirst().orElseThrow(IllegalStateException::new);" is 149.,602
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testCleanupExpiredReservations,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification mod=new TicketReservationWithOptionalCodeModification(tr`Optional.empty());" is 121.,602
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testCleanupExpiredReservations,Long Statement,The length of the statement "final Supplier<List<String>> idsPendingQuery=() -> jdbcTemplate.queryForList("select id from tickets_reservation where validity < :date and status = 'PENDING'"`Collections.singletonMap("date"`now)`String.class);" is 211.,602
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testCleanupExpiredReservations,Long Statement,The length of the statement "String reservationId=ticketReservationManager.createTicketReservation(event`List.of(mod)`Collections.emptyList()`DateUtils.addDays(new Date()`-2)`Optional.empty()`Locale.ENGLISH`false`null);" is 190.,602
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testCleanupExpiredReservations,Magic Number,The method contains a magic number: 10,602
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testCleanupExpiredReservations,Magic Number,The method contains a magic number: 10,602
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testCleanupExpiredReservations,Magic Number,The method contains a magic number: 2,602
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testCleanupExpiredReservations,Magic Number,The method contains a magic number: 10,602
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testCleanupExpiredReservations,Magic Number,The method contains a magic number: 10,602
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testCleanupOfflineExpiredReservations,Long Statement,The length of the statement "List<TicketCategoryModification> categories=List.of(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 443.,665
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testCleanupOfflineExpiredReservations,Long Statement,The length of the statement "Pair<Event`String> eventAndUsername=initEvent(categories`organizationRepository`userManager`eventManager`eventRepository);" is 122.,665
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testCleanupOfflineExpiredReservations,Long Statement,The length of the statement "TicketCategory bounded=ticketCategoryRepository.findAllTicketCategories(event.getId()).stream().filter(TicketCategory::isBounded).findFirst().orElseThrow(IllegalStateException::new);" is 182.,665
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testCleanupOfflineExpiredReservations,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification mod=new TicketReservationWithOptionalCodeModification(tr`Optional.empty());" is 121.,665
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testCleanupOfflineExpiredReservations,Long Statement,The length of the statement "String reservationId=ticketReservationManager.createTicketReservation(event`List.of(mod)`Collections.emptyList()`past`Optional.empty()`Locale.ENGLISH`false`null);" is 162.,665
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testCleanupOfflineExpiredReservations,Long Statement,The length of the statement "final Supplier<List<String>> idsOfflinePayment=() -> jdbcTemplate.queryForList("select id from tickets_reservation where validity < :date and status = 'OFFLINE_PAYMENT'"`Collections.singletonMap("date"`now)`String.class);" is 221.,665
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testCleanupOfflineExpiredReservations,Long Statement,The length of the statement "Pair<TotalPrice`Optional<PromoCodeDiscount>> priceAndDiscount=ticketReservationManager.totalReservationCostWithVAT(reservationId);" is 130.,665
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testCleanupOfflineExpiredReservations,Long Statement,The length of the statement "PaymentSpecification specification=new PaymentSpecification(reservationId`null`reservationCost.getPriceWithVAT()`event`"email@example.com"`new CustomerName("full name"`"full"`"name"`event.mustUseFirstAndLastName())`"billing address"`null`Locale.ENGLISH`true`false`null`"IT"`"123456"`PriceContainer.VatStatus.INCLUDED`true`false);" is 329.,665
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testCleanupOfflineExpiredReservations,Long Statement,The length of the statement "PaymentResult result=ticketReservationManager.performPayment(specification`reservationCost`PaymentProxy.OFFLINE`PaymentMethod.BANK_TRANSFER`null);" is 146.,665
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testCleanupOfflineExpiredReservations,Long Statement,The length of the statement "assertEquals(1`jdbcTemplate.update("update tickets_reservation set validity = :date where id = :id"`Map.of("date"`past`"id"`reservationId)));" is 141.,665
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testCleanupOfflineExpiredReservations,Magic Number,The method contains a magic number: 10,665
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testCleanupOfflineExpiredReservations,Magic Number,The method contains a magic number: 10,665
exteso_alf.io,alfio.manager,TicketReservationManagerIntegrationTest,testCleanupOfflineExpiredReservations,Magic Number,The method contains a magic number: 2,665
exteso_alf.io,alfio.manager,ReverseChargeManagerIntegrationTest,ReverseChargeManagerIntegrationTest,Long Parameter List,The method has 11 parameters. ,93
exteso_alf.io,alfio.manager,ReverseChargeManagerIntegrationTest,setUp,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Arrays.asList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.IN_PERSON`AVAILABLE_SEATS - 10`new DateTimeModification(LocalDate.now(clockProvider.getClock()).minusDays(1)`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock()).plusDays(1)`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"online"`TicketCategory.TicketAccessType.ONLINE`-1`new DateTimeModification(LocalDate.now(clockProvider.getClock()).minusDays(1)`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock()).plusDays(1)`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.ONE`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 933.,118
exteso_alf.io,alfio.manager,ReverseChargeManagerIntegrationTest,setUp,Long Statement,The length of the statement "Pair<Event`String> eventAndUser=initEvent(categories`organizationRepository`userManager`eventManager`eventRepository`null`Event.EventFormat.HYBRID);" is 148.,118
exteso_alf.io,alfio.manager,ReverseChargeManagerIntegrationTest,setUp,Magic Number,The method contains a magic number: 10,118
exteso_alf.io,alfio.manager,ReverseChargeManagerIntegrationTest,applyReverseChargeForOnlineTicket,Magic Number,The method contains a magic number: 2198,141
exteso_alf.io,alfio.manager,ReverseChargeManagerIntegrationTest,applyReverseChargeForOnlineTicket,Magic Number,The method contains a magic number: 3,141
exteso_alf.io,alfio.manager,ReverseChargeManagerIntegrationTest,applyReverseChargeForInPersonTicket,Magic Number,The method contains a magic number: 2180,161
exteso_alf.io,alfio.manager,ReverseChargeManagerIntegrationTest,defaultReverseCharge,Magic Number,The method contains a magic number: 2178,172
exteso_alf.io,alfio.manager,ReverseChargeManagerIntegrationTest,revertReverseCharge,Magic Number,The method contains a magic number: 2178,180
exteso_alf.io,alfio.manager,ReverseChargeManagerIntegrationTest,revertReverseCharge,Magic Number,The method contains a magic number: 2200,180
exteso_alf.io,alfio.manager,ReverseChargeManagerIntegrationTest,reverseChargeDisabled,Magic Number,The method contains a magic number: 2200,194
exteso_alf.io,alfio.manager,ReverseChargeManagerIntegrationTest,reverseChargeDisabled,Magic Number,The method contains a magic number: 2200,194
exteso_alf.io,alfio.manager,ReverseChargeManagerIntegrationTest,createReservation,Long Statement,The length of the statement "var res=eventApiV2Controller.reserveTickets(event.getShortName()`"en"`form`new BeanPropertyBindingResult(form`"reservation")`new ServletWebRequest(new MockHttpServletRequest()`new MockHttpServletResponse())`null);" is 213.,215
exteso_alf.io,alfio.manager,ReverseChargeManagerIntegrationTest,createReservation,Long Statement,The length of the statement "var overviewRes=reservationApiV2Controller.validateToOverview(reservationId`"en"`false`contactForm`new BeanPropertyBindingResult(contactForm`"paymentForm")`null);" is 162.,215
exteso_alf.io,alfio.manager,ReverseChargeManagerIntegrationTest,createReservation,Magic Number,The method contains a magic number: 2,215
exteso_alf.io,alfio.manager,ReverseChargeManagerIntegrationTest,createReservation,Magic Number,The method contains a magic number: 2,215
exteso_alf.io,alfio.manager,CheckInManagerTest,setUp,Long Statement,The length of the statement "checkInManager=new CheckInManager(null`eventRepository`null`null`null`null`null`configurationManager`organizationRepository`null`null`null`null`null`TestUtil.clockProvider());" is 175.,51
exteso_alf.io,alfio.manager,CheckInManagerTest,getStatistics,Long Statement,The length of the statement "when(configurationManager.getFor(eq(CHECK_IN_STATS)`any(ConfigurationLevel.class))).thenReturn(new ConfigurationManager.MaybeConfiguration(CHECK_IN_STATS`new ConfigurationKeyValuePathLevel(null`"true"`null)));" is 209.,70
exteso_alf.io,alfio.manager,CheckInManagerTest,getStatisticsDisabled,Long Statement,The length of the statement "when(configurationManager.getFor(eq(CHECK_IN_STATS)`any(ConfigurationLevel.class))).thenReturn(new ConfigurationManager.MaybeConfiguration(CHECK_IN_STATS`new ConfigurationKeyValuePathLevel(null`"false"`null)));" is 210.,79
exteso_alf.io,alfio.manager.system,Mailer,send,Long Parameter List,The method has 8 parameters. ,29
exteso_alf.io,alfio.manager.system,MockMailer,send,Long Parameter List,The method has 8 parameters. ,44
exteso_alf.io,alfio.manager.system,MockMailer,send,Long Statement,The length of the statement "String printedAttachments=Optional.ofNullable(attachments).map(Arrays::asList).orElse(Collections.emptyList()).stream().map(a -> "{filename:" + a.getFilename() + "` contentType: "+ a.getContentType()+ "}").collect(Collectors.joining("` "));" is 240.,44
exteso_alf.io,alfio.manager.system,MockMailer,send,Long Statement,The length of the statement "log.info("Email: from: {}` replyTo: {}` to: {}` cc: {}` subject: {}` text: {}` html: {}` attachments: {}"`fromName`configurationManager.getFor(MAIL_REPLY_TO`configurable.getConfigurationLevel()).getValueOrDefault("")`to`cc`subject`text`html.orElse("no html")`printedAttachments);" is 279.,44
exteso_alf.io,alfio.manager.system,ExternalConfiguration,getSingle,Long Statement,The length of the statement "return Optional.ofNullable(settings.get(key)).map(value -> new Configuration(EXTERNAL_CONFIGURATION_ID`key`value`ConfigurationPathLevel.EXTERNAL));" is 147.,61
exteso_alf.io,alfio.manager.system,ExternalConfiguration,getAll,Long Statement,The length of the statement "return keys.stream().map(this::getSingle).filter(Optional::isPresent).map(Optional::get).map(c -> new ConfigurationKeyValuePathLevel(c.getKey()`c.getValue()`c.getConfigurationPathLevel())).collect(Collectors.toList());" is 218.,65
exteso_alf.io,alfio.manager.system,ExternalConfiguration,getAllExtensionsFor,Long Statement,The length of the statement "return extensions.stream().filter(e -> e.async == async && e.isValid() && e.getEvents().contains(event)).map(e -> new ExtensionSupport.ScriptPathNameHash(EXTERNAL_EXTENSION_PATH`e.getId()`DigestUtils.sha256Hex(e.file))).collect(Collectors.toList());" is 249.,83
exteso_alf.io,alfio.manager.system,ExternalConfiguration,getAllExtensionsForCapability,Long Statement,The length of the statement "return extensions.stream().filter(e -> e.isValid() && CollectionUtils.containsAny(e.events`eventsAsString) && e.getCapabilities().contains(capability.name())).map(e -> new ExtensionSupport.ScriptPathNameHash(EXTERNAL_EXTENSION_PATH`e.getId()`DigestUtils.sha256Hex(e.file))).collect(Collectors.toList());" is 303.,90
exteso_alf.io,alfio.manager.system,ExternalConfiguration,getSupportedCapabilities,Long Statement,The length of the statement "return extensions.stream().map(e -> Pair.of(e`e.getCapabilityDetails().stream().filter(cd -> requested.contains(cd.key)).collect(Collectors.toList()))).filter(p -> !p.getRight().isEmpty()).flatMap(p -> {" is 203.,99
exteso_alf.io,alfio.manager.system,ExternalConfiguration,getSupportedCapabilities,Long Statement,The length of the statement "Map<ExtensionCapability`List<ExtensionCapabilityDetails>> byCapability=p.getRight().stream().collect(groupingBy(ExtensionCapabilityDetailsOverride::getKey`mapping(cd -> new ExtensionCapabilityDetails(cd.label`cd.description`cd.selector)`toList())));" is 249.,99
exteso_alf.io,alfio.manager.system,ExternalConfiguration,getParametersForExtension,Long Statement,The length of the statement "return extensions.stream().filter(ExtensionOverride::isValid).filter(extensionOverride -> extensionOverride.id.equals(id)).map(ExtensionOverride::getParams).findFirst().orElse(Map.of());" is 186.,111
exteso_alf.io,alfio.manager.system,SmtpMailer,send,Long Parameter List,The method has 8 parameters. ,56
exteso_alf.io,alfio.manager.system,SmtpMailer,send,Long Statement,The length of the statement "var conf=configurationManager.getFor(Set.of(SMTP_FROM_EMAIL`MAIL_REPLY_TO`SMTP_HOST`SMTP_PORT`SMTP_PROTOCOL`SMTP_USERNAME`SMTP_PASSWORD`SMTP_PROPERTIES)`configurable.getConfigurationLevel());" is 191.,56
exteso_alf.io,alfio.manager.system,SmtpMailer,send,Long Statement,The length of the statement "MimeMessageHelper message=html.isPresent() || !ArrayUtils.isEmpty(attachments) ? new MimeMessageHelper(mimeMessage`true`"UTF-8") : new MimeMessageHelper(mimeMessage`"UTF-8");" is 174.,56
exteso_alf.io,alfio.manager.system,SmtpMailer,toMailSender,Long Statement,The length of the statement "Properties prop=PropertiesLoaderUtils.loadProperties(new EncodedResource(new ByteArrayResource(properties.getBytes(StandardCharsets.UTF_8))`"UTF-8"));" is 150.,96
exteso_alf.io,alfio.manager.system,AdminJobManager,AdminJobManager,Long Statement,The length of the statement "this.executorsByJobId=jobExecutors.stream().flatMap(je -> je.getJobNames().stream().map(n -> Pair.of(n`je))).collect(groupingBy(Pair::getLeft`() -> new EnumMap<>(JobName.class)`mapping(Pair::getValue`toList())));" is 212.,63
exteso_alf.io,alfio.manager.system,AdminJobManager,AdminJobManager,Long Statement,The length of the statement "this.nestedTransactionTemplate=new TransactionTemplate(transactionManager`new DefaultTransactionDefinition(TransactionDefinition.PROPAGATION_NESTED));" is 150.,63
exteso_alf.io,alfio.manager.system,AdminJobManager,processPendingExtensionRetry,Magic Number,The method contains a magic number: 1000L,79
exteso_alf.io,alfio.manager.system,AdminJobManager,processPendingRequests,Long Statement,The length of the statement "internalProcessPendingSchedules(adminJobQueueRepository.loadPendingSchedules(ADMIN_JOBS`ZonedDateTime.now(clockProvider.getClock())));" is 134.,91
exteso_alf.io,alfio.manager.system,AdminJobManager,processPendingRequests,Magic Number,The method contains a magic number: 60,91
exteso_alf.io,alfio.manager.system,AdminJobManager,processPendingRequests,Magic Number,The method contains a magic number: 1000,91
exteso_alf.io,alfio.manager.system,AdminJobManager,internalProcessPendingSchedules,Long Statement,The length of the statement "pendingSchedules.stream().map(this::processPendingRequest).filter(p -> !p.getRight().isEmpty()).forEach(scheduleWithResults -> {" is 128.,98
exteso_alf.io,alfio.manager.system,AdminJobManager,internalProcessPendingSchedules,Long Statement,The length of the statement "partitionedResults.get(false).forEach(r -> log.warn("Processing failed for {}: {}"`schedule.getJobName()`r.getErrors()));" is 121.,98
exteso_alf.io,alfio.manager.system,AdminJobManager,internalProcessPendingSchedules,Long Statement,The length of the statement "adminJobQueueRepository.updateSchedule(schedule.getId()`AdminJobSchedule.Status.FAILED`ZonedDateTime.now(clockProvider.getClock())`Map.of());" is 141.,98
exteso_alf.io,alfio.manager.system,AdminJobManager,getNextExecution,Magic Number,The method contains a magic number: 2,126
exteso_alf.io,alfio.manager.system,SendGridMailer,send,Long Parameter List,The method has 8 parameters. ,51
exteso_alf.io,alfio.manager.system,SendGridMailer,send,Long Statement,The length of the statement "final var config=configurationManager.getFor(Set.of(ConfigurationKeys.SENDGRID_API_KEY`ConfigurationKeys.SENDGRID_FROM`ConfigurationKeys.MAIL_REPLY_TO)`configurable.getConfigurationLevel());" is 190.,51
exteso_alf.io,alfio.manager.system,SendGridMailer,send,Long Statement,The length of the statement "final var request=HttpRequest.newBuilder(URI.create("https://api.sendgrid.com/v3/mail/send")).header(HttpUtils.AUTHORIZATION`String.format("Bearer %s"`config.get(ConfigurationKeys.SENDGRID_API_KEY).getRequiredValue())).header(HttpUtils.CONTENT_TYPE`HttpUtils.APPLICATION_JSON).POST(HttpRequest.BodyPublishers.ofString(body)).build();" is 333.,51
exteso_alf.io,alfio.manager.system,SendGridMailer,createContents,Long Statement,The length of the statement "Objects.requireNonNull(html).ifPresent(htmlContent -> contents.add(Map.of("type"`MediaType.TEXT_HTML_VALUE`"value"`htmlContent)));" is 130.,93
exteso_alf.io,alfio.manager.system,SendGridMailer,addAttachments,Long Statement,The length of the statement "final var attachments=Stream.of(attachment).map(attach -> Map.of("filename"`attach.getFilename()`"content"`attach.getSource()`"content_id"`attach.getIdentifier().name()`"type"`attach.getContentType())).toList();" is 211.,100
exteso_alf.io,alfio.manager.system,MailjetMailer,send,Long Parameter List,The method has 8 parameters. ,48
exteso_alf.io,alfio.manager.system,MailjetMailer,send,Long Statement,The length of the statement "var conf=configurationManager.getFor(EnumSet.of(MAILJET_APIKEY_PUBLIC`MAILJET_APIKEY_PRIVATE`MAILJET_FROM`MAIL_REPLY_TO)`configurable.getConfigurationLevel());" is 159.,48
exteso_alf.io,alfio.manager.system,MailjetMailer,send,Long Statement,The length of the statement "HttpRequest request=HttpRequest.newBuilder(URI.create("https://api.mailjet.com/v3/send")).header(HttpUtils.AUTHORIZATION`HttpUtils.basicAuth(apiKeyPublic`apiKeyPrivate)).header(HttpUtils.CONTENT_TYPE`HttpUtils.APPLICATION_JSON).POST(HttpRequest.BodyPublishers.ofString(Json.GSON.toJson(mailPayload))).build();" is 309.,48
exteso_alf.io,alfio.manager.system,DefaultMailer,send,Long Parameter List,The method has 8 parameters. ,50
exteso_alf.io,alfio.manager.system,DefaultMailer,send,Long Statement,The length of the statement "String mailerType=configurationManager.getFor(MAILER_TYPE`configurable.getConfigurationLevel()).getValueOrDefault("disabled").toLowerCase(Locale.ENGLISH);" is 154.,50
exteso_alf.io,alfio.manager.system,ReservationPriceCalculator,ReservationPriceCalculator,Long Parameter List,The method has 8 parameters. ,46
exteso_alf.io,alfio.manager.system,ReservationPriceCalculator,getSrcPriceCts,Long Statement,The length of the statement "return tickets.stream().mapToInt(this::getTicketSrcPriceCts).sum() + additionalServiceItems.stream().mapToInt(AdditionalServiceItem::getSrcPriceCts).sum() + subscriptions.stream().mapToInt(Subscription::getSrcPriceCts).sum();" is 225.,64
exteso_alf.io,alfio.manager.system,ReservationPriceCalculator,getAppliedDiscount,Long Statement,The length of the statement "int subscriptionDiscount=appliedSubscription.map(subscription -> tickets.stream().filter(t -> Objects.equals(t.getSubscriptionId()`subscription.getId())).mapToInt(Ticket::getSrcPriceCts).sum()).orElse(0);" is 204.,71
exteso_alf.io,alfio.manager.system,ReservationPriceCalculator,getAppliedDiscount,Long Statement,The length of the statement "return MonetaryUtil.centsToUnit(tickets.stream().mapToInt(Ticket::getDiscountCts).sum() + additionalServiceItems.stream().mapToInt(AdditionalServiceItem::getDiscountCts).sum() + subscriptions.stream().mapToInt(Subscription::getDiscountCts).sum()+ subscriptionDiscount`reservation.getCurrencyCode());" is 299.,71
exteso_alf.io,alfio.manager.system,ReservationPriceCalculator,getTaxablePrice,Long Statement,The length of the statement "var ticketsTaxablePrice=tickets.stream().map(t -> TicketPriceContainer.from(t`reservation.getVatStatus()`getVatPercentageOrZero()`purchaseContext.getVatStatus()`discount).getTaxablePrice()).reduce(BigDecimal.ZERO`BigDecimal::add);" is 230.,109
exteso_alf.io,alfio.manager.system,ReservationPriceCalculator,getTaxablePrice,Long Statement,The length of the statement "var additionalServiceTaxablePrice=additionalServiceItems.stream().map(asi -> AdditionalServiceItemPriceContainer.from(asi`additionalServices.stream().filter(as -> as.getId() == asi.getAdditionalServiceId()).findFirst().orElseThrow()`purchaseContext`discount).getTaxablePrice()).reduce(BigDecimal.ZERO`BigDecimal::add);" is 318.,109
exteso_alf.io,alfio.manager.system,ReservationPriceCalculator,getTaxablePrice,Long Statement,The length of the statement "var subscriptionsPrice=subscriptions.stream().map(s -> SubscriptionPriceContainer.from(s`purchaseContext`discount).getTaxablePrice()).reduce(BigDecimal.ZERO`BigDecimal::add);" is 174.,109
exteso_alf.io,alfio.manager.system,ReservationPriceCalculator,from,Long Identifier,The length of the parameter additionalServiceItemsByAdditionalService is 41.,127
exteso_alf.io,alfio.manager.system,ReservationPriceCalculator,from,Long Parameter List,The method has 7 parameters. ,127
exteso_alf.io,alfio.manager.system,ReservationPriceCalculator,from,Long Statement,The length of the statement "var additionalServiceItems=additionalServiceItemsByAdditionalService.stream().flatMap(p -> p.getRight().stream()).collect(Collectors.toList());" is 143.,127
exteso_alf.io,alfio.manager.system,ReservationPriceCalculator,from,Long Statement,The length of the statement "var additionalServices=additionalServiceItemsByAdditionalService.stream().map(Pair::getKey).collect(Collectors.toList());" is 121.,127
exteso_alf.io,alfio.manager.system,ReservationPriceCalculator,from,Long Statement,The length of the statement "return new ReservationPriceCalculator(reservation`discount`tickets`additionalServiceItems`additionalServices`purchaseContext`subscriptions`appliedSubscription);" is 160.,127
exteso_alf.io,alfio.manager.system,ConfigurationLevel,ticketCategory,Long Statement,The length of the statement "return new ConfigurationLevels.CategoryLevel(eventAndOrganizationId.getOrganizationId()`eventAndOrganizationId.getId()`ticketCategoryId);" is 137.,68
exteso_alf.io,alfio.manager.system,DataMigrator,DataMigrator,Long Identifier,The length of the parameter additionalServiceItemRepository is 31.,92
exteso_alf.io,alfio.manager.system,DataMigrator,DataMigrator,Long Identifier,The length of the field additionalServiceItemRepository is 31.,92
exteso_alf.io,alfio.manager.system,DataMigrator,DataMigrator,Long Parameter List,The method has 15 parameters. ,92
exteso_alf.io,alfio.manager.system,DataMigrator,DataMigrator,Long Statement,The length of the statement "this.transactionTemplate=new TransactionTemplate(transactionManager`new DefaultTransactionDefinition(TransactionDefinition.PROPAGATION_REQUIRES_NEW));" is 150.,92
exteso_alf.io,alfio.manager.system,DataMigrator,fixVatStatus,Long Statement,The length of the statement "int rows=jdbc.update("update tickets_reservation set vat_status = e.vat_status from event e where tickets_reservation.vat_status is null and tickets_reservation.event_id_fk = e.id"`Map.of());" is 191.,135
exteso_alf.io,alfio.manager.system,DataMigrator,fixReservationPrice,Long Statement,The length of the statement "Map<Integer`List<String>> candidates=jdbc.queryForList("select id` event_id_fk from tickets_reservation where src_price_cts = 0 and payment_method <> 'NONE' and status not in ('CANCELLED'` 'CREDIT_NOTE_ISSUED') order by 2"`Map.of()).stream().map(m -> Pair.of((Integer)m.get("event_id_fk")`(String)m.get("id"))).collect(groupingBy(Pair::getKey`mapping(Pair::getValue`toList())));" is 378.,143
exteso_alf.io,alfio.manager.system,DataMigrator,fixReservationPrice,Magic Number,The method contains a magic number: 1000,143
exteso_alf.io,alfio.manager.system,DataMigrator,fixReservationsForEvent,Long Identifier,The length of the field additionalServiceItemRepository is 31.,159
exteso_alf.io,alfio.manager.system,DataMigrator,fixReservationsForEvent,Long Statement,The length of the statement "var byReservationId=ticketSearchRepository.loadAllReservationsWithTickets(event.getId()`reservations).stream().collect(groupingBy(trt -> trt.getTicketReservation().getId()));" is 174.,159
exteso_alf.io,alfio.manager.system,DataMigrator,fixReservationsForEvent,Long Statement,The length of the statement "var tickets=ticketsReservationAndTransactions.stream().map(TicketWithReservationAndTransaction::getTicket).collect(toList());" is 125.,159
exteso_alf.io,alfio.manager.system,DataMigrator,fixReservationsForEvent,Long Statement,The length of the statement "var calculator=new ReservationPriceCalculator(ticketReservation`discount`tickets`additionalServiceItems`additionalServices`event`List.of()`Optional.empty());" is 157.,159
exteso_alf.io,alfio.manager.system,DataMigrator,fixReservationsForEvent,Long Statement,The length of the statement "return new MapSqlParameterSource("reservationId"`calculator.reservation.getId()).addValue("srcPrice"`calculator.getSrcPriceCts()).addValue("finalPrice"`MonetaryUtil.unitToCents(calculator.getFinalPrice()`currencyCode)).addValue("discount"`MonetaryUtil.unitToCents(calculator.getAppliedDiscount()`currencyCode)).addValue("vat"`MonetaryUtil.unitToCents(calculator.getVAT()`currencyCode)).addValue("currencyCode"`currencyCode);" is 424.,159
exteso_alf.io,alfio.manager.system,DataMigrator,fixReservationsForEvent,Long Statement,The length of the statement "int[] results=jdbc.batchUpdate("update tickets_reservation set src_price_cts = :srcPrice` final_price_cts = :finalPrice` discount_cts = :discount` vat_cts = :vat` currency_code = :currencyCode where id = :reservationId"`reservationsToUpdate);" is 242.,159
exteso_alf.io,alfio.manager.system,DataMigrator,fillDefaultOptions,Long Statement,The length of the statement "Integer count=jdbc.queryForObject("select count(*) from configuration where c_key = :key"`new MapSqlParameterSource("key"`ConfigurationKeys.GOOGLE_ANALYTICS_ANONYMOUS_MODE.getValue())`Integer.class);" is 199.,190
exteso_alf.io,alfio.manager.system,DataMigrator,fillDefaultOptions,Long Statement,The length of the statement "configurationRepository.insert(ConfigurationKeys.GOOGLE_ANALYTICS_ANONYMOUS_MODE.getValue()`"true"`ConfigurationKeys.GOOGLE_ANALYTICS_ANONYMOUS_MODE.getDescription());" is 167.,190
exteso_alf.io,alfio.manager.system,DataMigrator,migrateEventToCurrentVersion,Long Statement,The length of the statement "int result=eventMigrationRepository.updateMigrationData(eventMigration.getId()`currentVersionAsString`buildTimestamp`EventMigration.Status.COMPLETE.name());" is 156.,200
exteso_alf.io,alfio.manager.system,DataMigrator,migrateEventToCurrentVersion,Long Statement,The length of the statement "eventMigrationRepository.insertMigrationData(event.getId()`currentVersionAsString`buildTimestamp`EventMigration.Status.COMPLETE.name());" is 136.,200
exteso_alf.io,alfio.manager.system,DataMigrator,createBillingDocuments,Long Statement,The length of the statement "List<String> reservations=jdbc.queryForList("select id from tickets_reservation where event_id_fk = :eventId and status in ('OFFLINE_PAYMENT'` 'COMPLETE') and invoice_number is not null and id not in(select distinct reservation_id_fk from billing_document where event_id_fk = :eventId)"`new MapSqlParameterSource("eventId"`event.getId())`String.class);" is 352.,230
exteso_alf.io,alfio.manager.system,DataMigrator,createBillingDocuments,Long Statement,The length of the statement "billingDocumentManager.getOrCreateBillingDocument(event`reservation`null`ticketReservationManager.orderSummaryForReservation(reservation`event));" is 145.,230
exteso_alf.io,alfio.manager.system,DataMigrator,fixStuckTickets,Long Statement,The length of the statement "List<Integer> ticketIds=jdbc.queryForList("select a.id from ticket a` tickets_reservation b where a.event_id = :eventId and a.status in('PENDING'`'TO_BE_PAID') and a.tickets_reservation_id = b.id and b.status = 'CANCELLED'"`new MapSqlParameterSource("eventId"`eventId)`Integer.class);" is 284.,245
exteso_alf.io,alfio.manager.system,DataMigrator,fixStuckTickets,Long Statement,The length of the statement "int[] results=jdbc.batchUpdate("update ticket set status = 'RELEASED'`" + RESET_TICKET + " where id = :ticketId"`ticketIds.stream().map(id -> new MapSqlParameterSource("ticketId"`id)).toArray(MapSqlParameterSource[]::new));" is 223.,245
exteso_alf.io,alfio.manager.system,DataMigrator,fixCategoriesSize,Long Statement,The length of the statement "ticketCategoryRepository.findAllTicketCategories(event.getId()).stream().filter(TicketCategory::isBounded).forEach(tc -> {" is 122.,256
exteso_alf.io,alfio.manager.system,DataMigrator,fixCategoriesSize,Long Statement,The length of the statement "Integer result=jdbc.queryForObject("select count(*) from ticket where event_id = :eventId and category_id = :categoryId and status <> 'INVALIDATED'"`new MapSqlParameterSource("eventId"`tc.getEventId()).addValue("categoryId"`tc.getId())`Integer.class);" is 251.,256
exteso_alf.io,alfio.manager.system,DataMigrator,fillReservationsLanguage,Long Statement,The length of the statement "jdbc.queryForList("select id from tickets_reservation where user_language is null"`EmptySqlParameterSource.INSTANCE`String.class).forEach(id -> {" is 145.,269
exteso_alf.io,alfio.manager.system,DataMigrator,fillReservationsLanguage,Long Statement,The length of the statement "String language=optionally(() -> jdbc.queryForObject("select user_language from ticket where tickets_reservation_id = :reservationId limit 1"`param`String.class)).orElse("en");" is 176.,269
exteso_alf.io,alfio.manager.system,DataMigrator,fillReservationsLanguage,Long Statement,The length of the statement "jdbc.update("update tickets_reservation set user_language = :userLanguage where id = :reservationId"`param.addValue("userLanguage"`language));" is 142.,269
exteso_alf.io,alfio.manager.system,DataMigrator,fixAvailableSeats,Long Statement,The length of the statement "eventRepository.updatePrices(event.getCurrency()`availableSeats`event.isVatIncluded()`event.getVat()`paymentProxies`event.getId()`event.getVatStatus()`event.getSrcPriceCts());" is 175.,292
exteso_alf.io,alfio.manager.system,DataMigrator,needsFixing,Long Statement,The length of the statement "return eventMigration.getBuildTimestamp().isBefore(buildTimestamp) || parseVersion(eventMigration.getCurrentVersion()).compareTo(currentVersion) < 0;" is 149.,303
exteso_alf.io,alfio.manager.system,DataMigrator,parseVersion,Magic Number,The method contains a magic number: 2,307
exteso_alf.io,alfio.manager.system,DataMigrator,migratePrices,Long Statement,The length of the statement "Map<String`List<MapSqlParameterSource>> migrationData=jdbc.queryForList("select * from event where type = :type and id = :eventId and regular_price_cts > 0"`new MapSqlParameterSource("type"`"INTERNAL").addValue("eventId"`eventId)).stream().flatMap(event -> {" is 258.,315
exteso_alf.io,alfio.manager.system,DataMigrator,migratePrices,Long Statement,The length of the statement "modifications.add(Pair.of("event"`new MapSqlParameterSource(srcPriceCtsParam`eventSrcPrice).addValue("vatStatus"`eventVatIncluded ? INCLUDED.name() : NOT_INCLUDED.name()).addValue("eventId"`eventId)));" is 201.,315
exteso_alf.io,alfio.manager.system,DataMigrator,migratePrices,Long Statement,The length of the statement "modifications.addAll(collectTicketMigrationData(srcPriceCtsParam`eventVatIncluded`vatPercentage`currencyCode`eventId`eventIdParam));" is 132.,315
exteso_alf.io,alfio.manager.system,DataMigrator,migratePrices,Long Statement,The length of the statement "modifications.addAll(collectASItemMigrationData(srcPriceCtsParam`eventVatIncluded`vatPercentage`currencyCode`eventIdParam));" is 124.,315
exteso_alf.io,alfio.manager.system,DataMigrator,migratePrices,Long Statement,The length of the statement "PRICE_UPDATE_BY_KEY.entrySet().stream().filter(e -> migrationData.containsKey(e.getKey())).map(e -> Pair.of(e`migrationData.get(e.getKey()))).forEach(p -> {" is 156.,315
exteso_alf.io,alfio.manager.system,DataMigrator,collectASItemMigrationData,Long Parameter List,The method has 5 parameters. ,371
exteso_alf.io,alfio.manager.system,DataMigrator,collectASItemMigrationData,Long Statement,The length of the statement "return jdbc.queryForList("select ai.id as id` ai.paid_price_cts as paid_price_cts` a.vat_type as vat_type from additional_service_item ai` additional_service a where ai.paid_price_cts > 0 and ai.src_price_cts = 0 and ai.event_id_fk = :eventId"`eventIdParam).stream().map(item -> {" is 280.,371
exteso_alf.io,alfio.manager.system,DataMigrator,collectASItemMigrationData,Long Statement,The length of the statement "return Pair.of("additional_service_item"`new MapSqlParameterSource(srcPriceCtsParam`priceContainer.getSrcPriceCts()).addValue("finalPriceCts"`MonetaryUtil.unitToCents(priceContainer.getFinalPrice()`currencyCode)).addValue("vatCts"`MonetaryUtil.unitToCents(priceContainer.getVAT()`currencyCode)).addValue("additionalServiceItemId"`p.getKey()));" is 343.,371
exteso_alf.io,alfio.manager.system,DataMigrator,collectASMigrationData,Long Statement,The length of the statement "return jdbc.queryForList("select id` price_cts` vat_type from additional_service where event_id_fk = :eventId and fix_price = true and price_cts > 0 and src_price_cts = 0"`eventIdParam).stream().map(as -> {" is 206.,410
exteso_alf.io,alfio.manager.system,DataMigrator,collectASMigrationData,Long Statement,The length of the statement "int srcPrice=vatType == AdditionalService.VatType.INHERITED && eventVatIncluded ? MonetaryUtil.addVAT(priceCts`vatPercentage) : priceCts;" is 137.,410
exteso_alf.io,alfio.manager.system,DataMigrator,collectASMigrationData,Long Statement,The length of the statement "return Pair.of("additional_service"`new MapSqlParameterSource(srcPriceCtsParam`srcPrice).addValue("additionalServiceId"`as.get("id")));" is 135.,410
exteso_alf.io,alfio.manager.system,DataMigrator,collectTicketMigrationData,Long Parameter List,The method has 6 parameters. ,421
exteso_alf.io,alfio.manager.system,DataMigrator,collectTicketMigrationData,Long Statement,The length of the statement "return jdbc.queryForList("select ticket.id as id` ticket.original_price_cts as original_price_cts` ticket.paid_price_cts as paid_price_cts` promo_code.discount_amount as discount_amount` promo_code.discount_type as discount_type from ticket join tickets_reservation on tickets_reservation.id = ticket.tickets_reservation_id left join promo_code on tickets_reservation.promo_code_id_fk = promo_code.id where ticket.event_id = :eventId and ticket.original_price_cts > 0 and ticket.src_price_cts = 0"`eventIdParam).stream().map(ticket -> {" is 536.,421
exteso_alf.io,alfio.manager.system,DataMigrator,collectTicketMigrationData,Long Statement,The length of the statement "return Optional.ofNullable(ticket.get("discount_amount")).map(amount -> new PromoCodeDiscount(0`""`eventId`null`null`null`(int)amount`PromoCodeDiscount.DiscountType.valueOf((String)ticket.get("discount_type"))`""`null`null`null`PromoCodeDiscount.CodeType.DISCOUNT`null`currencyCode));" is 284.,421
exteso_alf.io,alfio.manager.system,DataMigrator,collectTicketMigrationData,Long Statement,The length of the statement "return Pair.of("ticket"`new MapSqlParameterSource(srcPriceCtsParam`priceContainer.getSrcPriceCts()).addValue("finalPriceCts"`MonetaryUtil.unitToCents(priceContainer.getFinalPrice()`currencyCode)).addValue("vatCts"`MonetaryUtil.unitToCents(priceContainer.getVAT()`currencyCode)).addValue("discountCts"`MonetaryUtil.unitToCents(priceContainer.getAppliedDiscount()`currencyCode)).addValue("ticketId"`p.getKey()));" is 410.,421
exteso_alf.io,alfio.manager.system,DataMigrator,getDiscount,Long Statement,The length of the statement "return Optional.ofNullable(ticket.get("discount_amount")).map(amount -> new PromoCodeDiscount(0`""`eventId`null`null`null`(int)amount`PromoCodeDiscount.DiscountType.valueOf((String)ticket.get("discount_type"))`""`null`null`null`PromoCodeDiscount.CodeType.DISCOUNT`null`currencyCode));" is 284.,447
exteso_alf.io,alfio.manager.system,DataMigrator,collectTicketCategoryMigrationData,Long Statement,The length of the statement "return jdbc.queryForList("select id` price_cts from ticket_category where event_id = :eventId and price_cts > 0 and src_price_cts = 0"`eventIdParam).stream().map(category -> {" is 175.,465
exteso_alf.io,alfio.manager.system,DataMigrator,collectTicketCategoryMigrationData,Long Statement,The length of the statement "return Pair.of("category"`new MapSqlParameterSource(srcPriceCtsParam`categorySrcPrice).addValue("categoryId"`category.get("id")));" is 130.,465
exteso_alf.io,alfio.manager.system,ConfigurationManager,ConfigurationManager,Long Parameter List,The method has 6 parameters. ,85
exteso_alf.io,alfio.manager.system,ConfigurationManager,findByConfigurationPathAndKey,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@31aca52b,101
exteso_alf.io,alfio.manager.system,ConfigurationManager,selectPath,Long Statement,The length of the statement "return conf.size() == 1 ? Optional.of(conf.get(0)) : conf.stream().max(Comparator.comparing(Configuration::getConfigurationPathLevel));" is 135.,130
exteso_alf.io,alfio.manager.system,ConfigurationManager,saveConfig,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@149b0310,142
exteso_alf.io,alfio.manager.system,ConfigurationManager,saveOrganizationConfiguration,Long Statement,The length of the statement "configurationRepository.insertOrganizationLevel(organizationId`key`value.get()`ConfigurationKeys.fromString(key).getDescription());" is 131.,162
exteso_alf.io,alfio.manager.system,ConfigurationManager,saveAllOrganizationConfiguration,Long Statement,The length of the statement "Validate.isTrue(userManager.isOwnerOfOrganization(userManager.findUserByUsername(username)`organizationId)`"Cannot update settings` user is not owner");" is 152.,174
exteso_alf.io,alfio.manager.system,ConfigurationManager,saveAllOrganizationConfiguration,Long Statement,The length of the statement "list.stream().filter(ConfigurationManager::toBeSaved).forEach(c -> saveOrganizationConfiguration(organizationId`c.getKey()`c.getValue()));" is 138.,174
exteso_alf.io,alfio.manager.system,ConfigurationManager,saveEventConfiguration,Long Statement,The length of the statement "configurationRepository.insertEventLevel(organizationId`eventId`key`value.get()`ConfigurationKeys.fromString(key).getDescription());" is 132.,181
exteso_alf.io,alfio.manager.system,ConfigurationManager,saveAllEventConfiguration,Long Statement,The length of the statement "Validate.isTrue(userManager.isOwnerOfOrganization(user`event.getOrganizationId())`"Cannot update settings` user is not owner of event");" is 136.,193
exteso_alf.io,alfio.manager.system,ConfigurationManager,saveAllEventConfiguration,Long Statement,The length of the statement "list.stream().filter(ConfigurationManager::toBeSaved).forEach(c -> saveEventConfiguration(eventId`organizationId`c.getKey()`c.getValue()));" is 139.,193
exteso_alf.io,alfio.manager.system,ConfigurationManager,saveCategoryConfiguration,Long Statement,The length of the statement "Validate.isTrue(userManager.isOwnerOfOrganization(user`event.getOrganizationId())`"Cannot update settings` user is not owner of event");" is 136.,206
exteso_alf.io,alfio.manager.system,ConfigurationManager,saveCategoryConfiguration,Long Statement,The length of the statement "Optional<Configuration> existing=configurationRepository.findByKeyAtCategoryLevel(eventId`event.getOrganizationId()`categoryId`c.getKey());" is 139.,206
exteso_alf.io,alfio.manager.system,ConfigurationManager,saveCategoryConfiguration,Long Statement,The length of the statement "configurationRepository.insertTicketCategoryLevel(event.getOrganizationId()`eventId`categoryId`c.getKey()`value.get()`ConfigurationKeys.fromString(c.getKey()).getDescription());" is 177.,206
exteso_alf.io,alfio.manager.system,ConfigurationManager,isBasicConfigurationNeeded,Long Statement,The length of the statement "boolean absent=externalConfiguration.getSingle(key.getValue()).or(() -> configurationRepository.findOptionalByKey(key.getValue())).isEmpty();" is 141.,260
exteso_alf.io,alfio.manager.system,ConfigurationManager,loadOrganizationConfig,Long Statement,The length of the statement "Map<ConfigurationKeys.SettingCategory`List<Configuration>> existing=configurationRepository.findOrganizationConfiguration(organizationId).stream().filter(checkActualConfigurationLevel(isAdmin`ORGANIZATION)).sorted().collect(groupByCategory());" is 243.,285
exteso_alf.io,alfio.manager.system,ConfigurationManager,loadOrganizationConfig,Long Statement,The length of the statement "String paymentMethodsBlacklist=getFor(ConfigurationKeys.PAYMENT_METHODS_BLACKLIST`new OrganizationLevel(organizationId)).getValueOrDefault("");" is 143.,285
exteso_alf.io,alfio.manager.system,ConfigurationManager,loadOrganizationConfig,Long Statement,The length of the statement "Map<SettingCategory`List<Configuration>> result=groupByCategory(isAdmin ? union(SYSTEM`ORGANIZATION) : ORGANIZATION_CONFIGURATION`existing);" is 140.,285
exteso_alf.io,alfio.manager.system,ConfigurationManager,loadOrganizationConfig,Long Statement,The length of the statement "List<SettingCategory> toBeRemoved=PaymentProxy.availableProxies().stream().filter(pp -> paymentMethodsBlacklist.contains(pp.getKey())).flatMap(pp -> pp.getSettingCategories().stream()).toList();" is 194.,285
exteso_alf.io,alfio.manager.system,ConfigurationManager,loadOrganizationConfig,Long Statement,The length of the statement "return result.entrySet().stream().filter(entry -> !toBeRemoved.contains(entry.getKey())).collect(Collectors.toMap(Map.Entry::getKey`Map.Entry::getValue));" is 154.,285
exteso_alf.io,alfio.manager.system,ConfigurationManager,getSingleConfigForOrganization,Long Statement,The length of the statement "return getFirstConfigurationResult(configurationRepository.findByOrganizationAndKey(organizationId`key.name())`keyAsString);" is 124.,308
exteso_alf.io,alfio.manager.system,ConfigurationManager,getSingleConfigForEvent,Long Statement,The length of the statement "return getFirstConfigurationResult(configurationRepository.findByEventAndKey(organizationId`eventId`key.name())`keyAsString);" is 125.,317
exteso_alf.io,alfio.manager.system,ConfigurationManager,getFirstConfigurationResult,Long Statement,The length of the statement "return Objects.requireNonNull(results).stream().findFirst().map(Configuration::getValue).or(() -> externalConfiguration.getSingle(keyAsString).map(Configuration::getValue)).orElse(null);" is 186.,328
exteso_alf.io,alfio.manager.system,ConfigurationManager,loadEventConfig,Long Statement,The length of the statement "Map<ConfigurationKeys.SettingCategory`List<Configuration>> existing=configurationRepository.findEventConfiguration(organizationId`eventId).stream().filter(checkActualConfigurationLevel(isAdmin`EVENT)).sorted().collect(groupByCategory());" is 237.,336
exteso_alf.io,alfio.manager.system,ConfigurationManager,loadEventConfig,Long Statement,The length of the statement "boolean offlineCheckInEnabled=areBooleanSettingsEnabledForEvent(ALFIO_PI_INTEGRATION_ENABLED`OFFLINE_CHECKIN_ENABLED).test(event);" is 130.,336
exteso_alf.io,alfio.manager.system,ConfigurationManager,loadEventConfig,Long Statement,The length of the statement "return removeAlfioPISettingsIfNeeded(offlineCheckInEnabled`groupByCategory(isAdmin ? union(SYSTEM`EVENT) : EVENT_CONFIGURATION`existing));" is 138.,336
exteso_alf.io,alfio.manager.system,ConfigurationManager,areBooleanSettingsEnabledForEvent,Long Statement,The length of the statement "return event -> getFor(Set.of(keys)`event.getConfigurationLevel()).entrySet().stream().allMatch(kv -> kv.getValue().getValueAsBooleanOrDefault());" is 146.,349
exteso_alf.io,alfio.manager.system,ConfigurationManager,removeAlfioPISettingsIfNeeded,Long Statement,The length of the statement "return settings.entrySet().stream().filter(e -> e.getKey() != ConfigurationKeys.SettingCategory.ALFIO_PI).collect(Collectors.toMap(Map.Entry::getKey`Map.Entry::getValue));" is 171.,353
exteso_alf.io,alfio.manager.system,ConfigurationManager,union,Long Statement,The length of the statement "List<Configuration> configurations=Arrays.stream(levels).sorted(ConfigurationPathLevel.COMPARATOR.reversed()).flatMap(l -> ConfigurationKeys.byPathLevel(l).stream().map(mapEmptyKeys(l))).sorted((c1`c2) -> new CompareToBuilder().append(c2.getConfigurationPathLevel()`c1.getConfigurationPathLevel()).append(c1.getConfigurationKey()`c2.getConfigurationKey()).toComparison()).collect(ArrayList::new`( List<Configuration> list` Configuration conf) -> {" is 447.,362
exteso_alf.io,alfio.manager.system,ConfigurationManager,loadCategoryConfig,Long Statement,The length of the statement "Map<ConfigurationKeys.SettingCategory`List<Configuration>> existing=configurationRepository.findCategoryConfiguration(organizationId`eventId`categoryId).stream().sorted().collect(groupByCategory());" is 198.,377
exteso_alf.io,alfio.manager.system,ConfigurationManager,loadAllSystemConfigurationIncludingMissing,Long Statement,The length of the statement "final List<Configuration> existing=configurationRepository.findSystemConfiguration().stream().filter(c -> !ConfigurationKeys.fromString(c.getKey()).isInternal()).toList();" is 171.,403
exteso_alf.io,alfio.manager.system,ConfigurationManager,loadAllSystemConfigurationIncludingMissing,Long Statement,The length of the statement "final List<Configuration> missing=Arrays.stream(ConfigurationKeys.visible()).filter(k -> existing.stream().noneMatch(c -> c.getKey().equals(k.getValue()))).map(mapEmptyKeys(ConfigurationPathLevel.SYSTEM)).toList();" is 214.,403
exteso_alf.io,alfio.manager.system,ConfigurationManager,deleteOrganizationLevelByKey,Long Statement,The length of the statement "Validate.isTrue(userManager.isOwnerOfOrganization(userManager.findUserByUsername(username)`organizationId)`DELETE_ERROR);" is 121.,430
exteso_alf.io,alfio.manager.system,ConfigurationManager,deleteEventLevelByKey,Long Statement,The length of the statement "Validate.isTrue(userManager.isOwnerOfOrganization(userManager.findUserByUsername(username)`event.getOrganizationId())`DELETE_ERROR);" is 132.,435
exteso_alf.io,alfio.manager.system,ConfigurationManager,deleteCategoryLevelByKey,Long Statement,The length of the statement "Validate.isTrue(userManager.isOwnerOfOrganization(userManager.findUserByUsername(username)`event.getOrganizationId())`DELETE_ERROR);" is 132.,442
exteso_alf.io,alfio.manager.system,ConfigurationManager,collectConfigurationKeysByCategory,Long Statement,The length of the statement "return ConfigurationKeys.byPathLevel(pathLevel).stream().map(mapEmptyKeys(pathLevel)).sorted().collect(groupByCategory());" is 122.,449
exteso_alf.io,alfio.manager.system,ConfigurationManager,getShortReservationID,Long Statement,The length of the statement "return StringUtils.substring(reservation.getId()`0`conf.get(PARTIAL_RESERVATION_ID_LENGTH).getValueAsIntOrDefault(8)).toUpperCase();" is 132.,457
exteso_alf.io,alfio.manager.system,ConfigurationManager,getShortReservationID,Magic Number,The method contains a magic number: 8,457
exteso_alf.io,alfio.manager.system,ConfigurationManager,getPublicReservationID,Long Statement,The length of the statement "if (getFor(USE_INVOICE_NUMBER_AS_ID`configurable.getConfigurationLevel()).getValueAsBooleanOrDefault() && reservation.getHasInvoiceNumber()) {" is 142.,465
exteso_alf.io,alfio.manager.system,ConfigurationManager,isRecaptchaForOfflinePaymentAndFreeEnabled,Long Statement,The length of the statement "Validate.isTrue(configurationValues.containsKey(ENABLE_CAPTCHA_FOR_OFFLINE_PAYMENTS) && configurationValues.containsKey(RECAPTCHA_API_KEY));" is 140.,486
exteso_alf.io,alfio.manager.system,ConfigurationManager,isRecaptchaForOfflinePaymentAndFreeEnabled,Long Statement,The length of the statement "return configurationValues.get(ENABLE_CAPTCHA_FOR_OFFLINE_PAYMENTS).getValueAsBooleanOrDefault() && configurationValues.get(RECAPTCHA_API_KEY).getValueOrNull() != null;" is 168.,486
exteso_alf.io,alfio.manager.system,ConfigurationManager,isInvoiceOnly,Long Statement,The length of the statement "Validate.isTrue(configurationValues.containsKey(GENERATE_ONLY_INVOICE) && configurationValues.containsKey(ENABLE_ITALY_E_INVOICING));" is 133.,511
exteso_alf.io,alfio.manager.system,ConfigurationManager,isInvoiceOnly,Long Statement,The length of the statement "return configurationValues.get(GENERATE_ONLY_INVOICE).getValueAsBooleanOrDefault() || configurationValues.get(ENABLE_ITALY_E_INVOICING).getValueAsBooleanOrDefault();" is 165.,511
exteso_alf.io,alfio.manager.system,ConfigurationManager,getFor,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@3bfb4500,544
exteso_alf.io,alfio.manager.system,ConfigurationManager,getBlacklistedMethodsForReservation,Long Statement,The length of the statement "Map<Integer`String> blacklistForCategories=configurationRepository.getAllCategoriesAndValueWith(e.getOrganizationId()`e.getId()`PAYMENT_METHODS_BLACKLIST);" is 155.,585
exteso_alf.io,alfio.manager.system,ConfigurationManager,getBlacklistedMethodsForReservation,Long Statement,The length of the statement "return categoryIds.stream().filter(blacklistForCategories::containsKey).flatMap(id -> Arrays.stream(blacklistForCategories.get(id).split("`"))).map(name -> PaymentProxy.valueOf(name).getPaymentMethod()).toList();" is 212.,585
exteso_alf.io,alfio.manager.system,ConfigurationManager,getBlacklistedMethodsForReservation,Long Statement,The length of the statement "return configurationRepository.findByKeyAtCategoryLevel(e.getId()`e.getOrganizationId()`IterableUtils.get(categoryIds`0)`PAYMENT_METHODS_BLACKLIST.name()).map(v -> Arrays.stream(v.getValue().split("`")).map(name -> PaymentProxy.valueOf(name).getPaymentMethod()).toList()).orElse(List.of());" is 290.,585
exteso_alf.io,alfio.manager.system,ConfigurationManager,getInfo,Long Statement,The length of the statement "var options=EnumSet.of(GOOGLE_ANALYTICS_ANONYMOUS_MODE`GOOGLE_ANALYTICS_KEY`GLOBAL_PRIVACY_POLICY`GLOBAL_TERMS`ENABLE_ITALY_E_INVOICING`ENABLE_CUSTOMER_REFERENCE`VAT_NUMBER_IS_REQUIRED`GENERATE_ONLY_INVOICE`INVOICE_ADDRESS`VAT_NR`ENABLE_EU_VAT_DIRECTIVE`COUNTRY_OF_BUSINESS`ENABLE_REVERSE_CHARGE_IN_PERSON`ENABLE_REVERSE_CHARGE_ONLINE`ANNOUNCEMENT_BANNER_CONTENT);" is 364.,682
exteso_alf.io,alfio.manager.system,ConfigurationManager,getInfo,Long Statement,The length of the statement "return new AlfioInfo(demoMode`devMode`prodMode`analyticsConf`conf.get(GLOBAL_PRIVACY_POLICY).getValueOrNull()`conf.get(GLOBAL_TERMS).getValueOrNull()`PurchaseContextInfoBuilder.invoicingInfo(this`conf)`StringUtils.trimToNull(conf.get(ANNOUNCEMENT_BANNER_CONTENT).getValueOrNull()));" is 282.,682
exteso_alf.io,alfio.manager.system,ConfigurationManager,getPublicOpenIdConfiguration,Long Statement,The length of the statement "return oneMinuteCache.get(EnumSet.of(OPENID_PUBLIC_ENABLED`OPENID_CONFIGURATION_JSON)`k -> getFor(k`ConfigurationLevel.system()));" is 130.,718
exteso_alf.io,alfio.manager.system,ConfigurationManager,baseUrl,Long Statement,The length of the statement "var configurationLevel=purchaseContext.event().map(ConfigurationLevel::event).orElseGet(() -> ConfigurationLevel.organization(purchaseContext.getOrganizationId()));" is 164.,727
exteso_alf.io,alfio.manager.system,ConfigurationManager,generateApiKey,Magic Number,The method contains a magic number: 48,748
exteso_alf.io,alfio.manager.system,ConfigurationManager,generateApiKey,Magic Number,The method contains a magic number: 36,748
exteso_alf.io,alfio.manager.system,MailgunMailer,getEmailData,Long Parameter List,The method has 7 parameters. ,50
exteso_alf.io,alfio.manager.system,MailgunMailer,send,Long Parameter List,The method has 8 parameters. ,68
exteso_alf.io,alfio.manager.system,MailgunMailer,send,Long Statement,The length of the statement "var conf=configurationManager.getFor(Set.of(MAILGUN_KEY`MAILGUN_DOMAIN`MAILGUN_EU`MAILGUN_FROM`MAIL_REPLY_TO)`configurable.getConfigurationLevel());" is 148.,68
exteso_alf.io,alfio.manager.system,MailgunMailer,send,Long Statement,The length of the statement "var requestBuilder=HttpRequest.newBuilder().uri(URI.create(baseUrl + domain + "/messages")).header(HttpUtils.AUTHORIZATION`HttpUtils.basicAuth("api"`apiKey));" is 158.,68
exteso_alf.io,alfio.manager.system,MailgunMailer,send,Long Statement,The length of the statement "Stream.of(attachment).forEach(a -> mpb.addPart("attachment"`() -> new ByteArrayInputStream(a.getSource())`a.getFilename()`a.getContentType()));" is 143.,68
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,initEvent,Long Statement,The length of the statement "EventModification em=new EventModification(null`Event.EventFormat.IN_PERSON`"url"`"url"`"url"`"privacy"`null`null`eventName`displayName`organization.getId()`"muh location"`"0.0"`"0.0"`ZoneId.systemDefault().getId()`desc`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(5)`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(5)`LocalTime.now(ClockProvider.clock()).plusHours(1))`BigDecimal.TEN`"CHF"`AVAILABLE_SEATS`BigDecimal.ONE`true`List.of(PaymentProxy.ON_SITE)`categories`false`new LocationDescriptor(""`""`""`"")`7`null`null`AlfioMetadata.empty()`List.of());" is 642.,95
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,initEvent,Magic Number,The method contains a magic number: 5,95
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,initEvent,Magic Number,The method contains a magic number: 5,95
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,initEvent,Magic Number,The method contains a magic number: 7,95
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,testMigration,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 475.,120
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,testMigration,Long Statement,The length of the statement "eventRepository.updatePrices("CHF"`40`false`BigDecimal.ONE`"STRIPE"`event.getId()`PriceContainer.VatStatus.NOT_INCLUDED`1000);" is 126.,120
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,testMigration,Magic Number,The method contains a magic number: 40,120
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,testMigration,Magic Number,The method contains a magic number: 1000,120
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,testMigrationWithExistingRecord,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 475.,149
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,testMigrationWithExistingRecord,Long Statement,The length of the statement "eventMigrationRepository.insertMigrationData(event.getId()`"1.4"`ZonedDateTime.now(ZoneId.of("UTC")).minusDays(1)`EventMigration.Status.COMPLETE.toString());" is 157.,149
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,testMigrationWithExistingRecord,Long Statement,The length of the statement "eventRepository.updatePrices("CHF"`40`false`BigDecimal.ONE`"STRIPE"`event.getId()`PriceContainer.VatStatus.NOT_INCLUDED`1000);" is 126.,149
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,testMigrationWithExistingRecord,Magic Number,The method contains a magic number: 40,149
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,testMigrationWithExistingRecord,Magic Number,The method contains a magic number: 1000,149
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,testMigrationWithExistingRecord,Magic Number,The method contains a magic number: 20,149
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,testAlreadyMigratedEvent,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 475.,178
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,testAlreadyMigratedEvent,Long Statement,The length of the statement "eventMigrationRepository.insertMigrationData(event.getId()`currentVersion`migrationTs`EventMigration.Status.COMPLETE.toString());" is 129.,178
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,testAlreadyMigratedEvent,Long Statement,The length of the statement "eventRepository.updatePrices("CHF"`40`false`BigDecimal.ONE`"STRIPE"`event.getId()`PriceContainer.VatStatus.NOT_INCLUDED`1000);" is 126.,178
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,testAlreadyMigratedEvent,Magic Number,The method contains a magic number: 40,178
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,testAlreadyMigratedEvent,Magic Number,The method contains a magic number: 1000,178
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,testUpdateDisplayName,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 475.,208
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,testUpdateTicketReservation,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 475.,234
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,testUpdateTicketReservation,Long Statement,The length of the statement "String reservationId=ticketReservationManager.createTicketReservation(event`Collections.singletonList(r)`Collections.emptyList()`expiration`Optional.empty()`Locale.ENGLISH`false`null);" is 184.,234
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,testFixCategoriesSize,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Arrays.asList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS - 1`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`1`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 856.,258
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,testFixCategoriesSize,Long Statement,The length of the statement "TicketCategory firstCategory=ticketCategoryRepository.findAllTicketCategories(event.getId()).stream().filter(TicketCategory::isBounded).findFirst().orElseThrow(IllegalStateException::new);" is 188.,258
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,testFixStuckTickets,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock())`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 475.,281
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,testFixStuckTickets,Long Statement,The length of the statement "String reservationId=ticketReservationManager.createTicketReservation(event`Collections.singletonList(r)`Collections.emptyList()`expiration`Optional.empty()`Locale.ENGLISH`false`null);" is 184.,281
exteso_alf.io,alfio.manager.system,DataMigratorIntegrationTest,testFixStuckTickets,Long Statement,The length of the statement "ticketReservationRepository.updateReservationStatus(reservationId`TicketReservation.TicketReservationStatus.CANCELLED.name());" is 126.,281
exteso_alf.io,alfio.manager.system,MailjetMailerTest,setUp,Long Statement,The length of the statement "when(configurationManager.getFor(eq(EnumSet.of(MAILJET_APIKEY_PUBLIC`MAILJET_APIKEY_PRIVATE`MAILJET_FROM`MAIL_REPLY_TO))`any())).thenReturn(Map.of(MAILJET_APIKEY_PUBLIC`existing(MAILJET_APIKEY_PUBLIC`"public")`MAILJET_APIKEY_PRIVATE`existing(MAILJET_APIKEY_PRIVATE`"private")`MAILJET_FROM`existing(MAILJET_FROM`"mail_from")`MAIL_REPLY_TO`existing(MAIL_REPLY_TO`"mail_to")));" is 374.,61
exteso_alf.io,alfio.manager.system,MailjetMailerTest,send,Long Statement,The length of the statement "var attachment=new Mailer.Attachment("filename"`"test".getBytes(StandardCharsets.UTF_8)`"text/plain"`Map.of("model"`"model")`Mailer.AttachmentIdentifier.CALENDAR_ICS);" is 167.,78
exteso_alf.io,alfio.manager.system,MailjetMailerTest,send,Long Statement,The length of the statement "assertEquals(Base64.getEncoder().encodeToString("test".getBytes(StandardCharsets.UTF_8))`attachment.get("content").asText());" is 125.,78
exteso_alf.io,alfio.manager.system,MailjetMailerTest,send,Magic Number,The method contains a magic number: 200,78
exteso_alf.io,alfio.manager.system,MailjetMailerTest,send,Magic Number,The method contains a magic number: 2,78
exteso_alf.io,alfio.manager.system,MailjetMailerTest,onComplete,Long Statement,The length of the statement "assertEquals(Base64.getEncoder().encodeToString("test".getBytes(StandardCharsets.UTF_8))`attachment.get("content").asText());" is 125.,114
exteso_alf.io,alfio.manager.system,MailjetMailerTest,onComplete,Magic Number,The method contains a magic number: 2,114
exteso_alf.io,alfio.manager.system,ConfigurationManagerTest,testUnionEvent,Long Statement,The length of the statement "Assertions.assertTrue(ConfigurationKeys.byPathLevel(EVENT).stream().allMatch(k -> values.stream().anyMatch(v -> v.getConfigurationKey() == k && v.getConfigurationPathLevel() == EVENT)));" is 186.,31
exteso_alf.io,alfio.manager.system,ConfigurationManagerTest,testUnionEvent,Long Statement,The length of the statement "Assertions.assertTrue(values.stream().anyMatch(v -> v.getConfigurationKey() == ConfigurationKeys.BASE_URL && v.getConfigurationPathLevel() == SYSTEM));" is 151.,31
exteso_alf.io,alfio.manager.system,ConfigurationManagerTest,testUnionOrganization,Long Statement,The length of the statement "Assertions.assertTrue(ConfigurationKeys.byPathLevel(EVENT).stream().allMatch(k -> values.stream().anyMatch(v -> v.getConfigurationKey() == k && v.getConfigurationPathLevel() == EVENT)));" is 186.,40
exteso_alf.io,alfio.manager.system,ConfigurationManagerTest,testUnionOrganization,Long Statement,The length of the statement "Assertions.assertTrue(values.stream().anyMatch(v -> v.getConfigurationKey() == ConfigurationKeys.VAT_NR && v.getConfigurationPathLevel() == ORGANIZATION));" is 155.,40
exteso_alf.io,alfio.manager.system,SendGridMailerTest,shouldSendEmail,Long Statement,The length of the statement "final var apiConfig=new ConfigurationManager.MaybeConfiguration(ConfigurationKeys.SENDGRID_API_KEY`new ConfigurationKeyValuePathLevel("key"`"value"`ConfigurationPathLevel.SYSTEM));" is 180.,57
exteso_alf.io,alfio.manager.system,SendGridMailerTest,shouldSendEmail,Long Statement,The length of the statement "final var fromConfig=new ConfigurationManager.MaybeConfiguration(ConfigurationKeys.SENDGRID_FROM`new ConfigurationKeyValuePathLevel("key"`"value"`ConfigurationPathLevel.SYSTEM));" is 178.,57
exteso_alf.io,alfio.manager.system,SendGridMailerTest,shouldSendEmail,Long Statement,The length of the statement "when(configurationManager.getFor(anySet()`any(ConfigurationLevel.class))).thenReturn(Map.of(ConfigurationKeys.SENDGRID_API_KEY`apiConfig`ConfigurationKeys.SENDGRID_FROM`fromConfig));" is 182.,57
exteso_alf.io,alfio.manager.system,SendGridMailerTest,shouldSendEmail,Long Statement,The length of the statement "sendGridMailer.send(new EventAndOrganizationId(1`2)`"Test"`"TestEmail"`List.of()`"TestSubject"`"Test"`Optional.empty()`ArrayUtils.toArray());" is 141.,57
exteso_alf.io,alfio.manager.system,SendGridMailerTest,shouldSendEmail,Magic Number,The method contains a magic number: 2,57
exteso_alf.io,alfio.manager.system,SendGridMailerTest,createMockHttpResponse,Magic Number,The method contains a magic number: 200,74
exteso_alf.io,alfio.manager.system,SendGridMailerTest,statusCode,Magic Number,The method contains a magic number: 200,76
exteso_alf.io,alfio.manager.system,ConfigurationLevelTest,organization,Magic Number,The method contains a magic number: 666,41
exteso_alf.io,alfio.manager.system,ConfigurationLevelTest,organization,Magic Number,The method contains a magic number: 666,41
exteso_alf.io,alfio.manager.system,ConfigurationLevelTest,event,Magic Number,The method contains a magic number: 666,49
exteso_alf.io,alfio.manager.system,ConfigurationLevelTest,event,Magic Number,The method contains a magic number: 666,49
exteso_alf.io,alfio.manager.system,ConfigurationLevelTest,ticketCategory,Magic Number,The method contains a magic number: 666,60
exteso_alf.io,alfio.manager.system,ConfigurationLevelTest,ticketCategory,Magic Number,The method contains a magic number: 777,60
exteso_alf.io,alfio.manager.system,ConfigurationLevelTest,ticketCategory,Magic Number,The method contains a magic number: 666,60
exteso_alf.io,alfio.manager.system,ConfigurationLevelTest,ticketCategory,Magic Number,The method contains a magic number: 777,60
exteso_alf.io,alfio.manager.system,AdminJobManagerTest,getNextExecution,Magic Number,The method contains a magic number: 2,30
exteso_alf.io,alfio.manager.system,AdminJobManagerTest,getNextExecution,Magic Number,The method contains a magic number: 2,30
exteso_alf.io,alfio.manager.user,PublicUserManager,deleteUserProfile,Long Statement,The length of the statement "return userManager.findOptionalEnabledUserByUsername(authentication.getName()).filter(u -> u.getType() == User.Type.PUBLIC).map(user -> {" is 137.,67
exteso_alf.io,alfio.manager.user,PublicUserManager,findOptionalProfileForUser,Long Statement,The length of the statement "return userManager.findOptionalEnabledUserByUsername(authentication.getName()).map(user -> Pair.of(user`userRepository.loadUserProfile(user.getId())));" is 151.,78
exteso_alf.io,alfio.manager.user,PublicUserManager,updateProfile,Long Statement,The length of the statement "userRepository.update(userId`original.getUsername()`update.getFirstName()`update.getLastName()`original.getEmailAddress()`original.getDescription());" is 149.,83
exteso_alf.io,alfio.manager.user,PublicUserManager,updateProfile,Long Statement,The length of the statement "var currentAdditionalData=userRepository.loadUserProfile(userId).map(PublicUserProfile::getAdditionalData).orElse(Map.of());" is 124.,83
exteso_alf.io,alfio.manager.user,PublicUserManager,updateProfile,Long Statement,The length of the statement "Validate.isTrue(1 == userRepository.persistUserProfile(userId`update.getBillingAddressCompany()`update.getBillingAddressLine1()`update.getBillingAddressLine2()`update.getBillingAddressZip()`update.getBillingAddressCity()`update.getBillingAddressState()`update.getVatCountryCode()`update.getVatNr()`getAdditionalInfo(update`italianEInvoicingEnabled)`updateExistingAdditionalData(currentAdditionalData`update)));" is 410.,83
exteso_alf.io,alfio.manager.user,PublicUserManager,updateExistingAdditionalData,Complex Conditional,The conditional expression existingData == null || existingData.isEmpty() || !form.hasAdditionalInfo() is complex.,105
exteso_alf.io,alfio.manager.user,PublicUserManager,updateExistingAdditionalData,Long Identifier,The length of the identifier existingAdditionalInfoWithLabel is 31.,105
exteso_alf.io,alfio.manager.user,PublicUserManager,updateExistingAdditionalData,Long Statement,The length of the statement "var newVal=additionalInfoMap.containsKey(entry.getKey()) ? List.of(additionalInfoMap.get(entry.getKey())) : existingAdditionalInfoWithLabel.getValues();" is 152.,105
exteso_alf.io,alfio.manager.user,PublicUserManager,buildAdditionalInfoWithLabels,Long Statement,The length of the statement "filteredItemsByKey=filteredItems.map(additionalInfoItems -> additionalInfoItems.stream().collect(toMap(AdditionalInfoItem::getKey`Function.identity()))).orElse(null);" is 166.,121
exteso_alf.io,alfio.manager.user,PublicUserManager,buildAdditionalInfoWithLabels,Long Statement,The length of the statement "var labels=ticketFieldRepository.findDescriptions(event.getId()`userLanguage).stream().filter(f -> fieldsById.containsKey(f.getTicketFieldConfigurationId())).map(f -> Map.entry(fieldsById.get(f.getTicketFieldConfigurationId()).getName()`f)).filter(f -> filteredItemsByKey == null || filteredItemsByKey.containsKey(f.getKey())).map(e -> {" is 337.,121
exteso_alf.io,alfio.manager.user,PublicUserManager,buildAdditionalInfoWithLabels,Long Statement,The length of the statement "Map<String`AdditionalInfoWithLabel> result=new HashMap<>(Optional.ofNullable(existingProfile).map(PublicUserProfile::getAdditionalData).orElse(Map.of()));" is 154.,121
exteso_alf.io,alfio.manager.user,PublicUserManager,getAdditionalInfo,Long Statement,The length of the statement "return new TicketReservationInvoicingAdditionalInfo(new TicketReservationInvoicingAdditionalInfo.ItalianEInvoicing(update.getItalyEInvoicingFiscalCode()`update.getItalyEInvoicingReferenceType()`update.getItalyEInvoicingReferenceAddresseeCode()`update.getItalyEInvoicingReferencePEC()`update.isItalyEInvoicingSplitPayment()));" is 325.,157
exteso_alf.io,alfio.manager.user,PublicUserManager,persistProfileForPublicUser,Long Parameter List,The method has 5 parameters. ,176
exteso_alf.io,alfio.manager.user,PublicUserManager,persistProfileForPublicUser,Long Statement,The length of the statement "userRepository.findIdByUserName(principal.getName()).ifPresent(id -> userRepository.persistUserProfile(id`reservationAdditionalInfo.getBillingAddressCompany()`reservationAdditionalInfo.getBillingAddressLine1()`reservationAdditionalInfo.getBillingAddressLine2()`reservationAdditionalInfo.getBillingAddressZip()`reservationAdditionalInfo.getBillingAddressCity()`reservationAdditionalInfo.getBillingAddressState()`reservationAdditionalInfo.getBillingAddressCountry()`reservationAdditionalInfo.getVatNr()`reservationAdditionalInfo.getInvoicingAdditionalInfo()`userAdditionalData));" is 577.,176
exteso_alf.io,alfio.manager.user,UserManager,UserManager,Long Parameter List,The method has 6 parameters. ,67
exteso_alf.io,alfio.manager.user,UserManager,findAllUsers,Long Statement,The length of the statement "Map<Integer`List<UserOrganization>> usersAndOrganizations=userOrganizationRepository.findByOrganizationIdsOrderByUserId(organizations.stream().map(Organization::getId).collect(toList())).stream().collect(Collectors.groupingBy(UserOrganization::getUserId));" is 256.,85
exteso_alf.io,alfio.manager.user,UserManager,findAllUsers,Long Statement,The length of the statement "return Optional.of(usersAndOrganizations.keySet()).filter(isNotEmpty).map(ks -> userRepository.findByIds(ks).stream().map(u -> {" is 128.,85
exteso_alf.io,alfio.manager.user,UserManager,findAllUsers,Long Statement,The length of the statement "List<Organization> filteredOrganizations=organizations.stream().filter(o -> userOrganizations.stream().anyMatch(uo -> uo.getOrganizationId() == o.getId())).collect(toList());" is 174.,85
exteso_alf.io,alfio.manager.user,UserManager,findAllEnabledUsers,Long Statement,The length of the statement "return findUserOrganizations(username).stream().flatMap(o -> userOrganizationRepository.findByOrganizationId(o.getId()).stream()).map(uo -> userRepository.findById(uo.getUserId())).filter(User::isEnabled).collect(toList());" is 223.,107
exteso_alf.io,alfio.manager.user,UserManager,getAvailableRoles,Long Statement,The length of the statement "return isAdmin(user) || isOwner(user) ? EnumSet.of(Role.OWNER`Role.OPERATOR`Role.SUPERVISOR`Role.SPONSOR`Role.API_CONSUMER) : Collections.emptySet();" is 149.,136
exteso_alf.io,alfio.manager.user,UserManager,isOwnerOfOrganization,Long Statement,The length of the statement "return isAdmin(user) || (isOwner(user) && userOrganizationRepository.findByUserId(user.getId()).stream().anyMatch(uo -> uo.getOrganizationId() == organizationId));" is 163.,173
exteso_alf.io,alfio.manager.user,UserManager,createOrganization,Long Statement,The length of the statement "var affectedRowNumAndKey=organizationRepository.create(om.getName()`om.getDescription()`om.getEmail()`om.getExternalId()`om.getSlug());" is 135.,188
exteso_alf.io,alfio.manager.user,UserManager,createOrganization,Magic Number,The method contains a magic number: 2,188
exteso_alf.io,alfio.manager.user,UserManager,updateOrganization,Long Statement,The length of the statement "organizationRepository.update(om.getId()`om.getName()`om.getDescription()`om.getEmail()`isAdmin ? om.getExternalId() : currentOrg.getExternalId()`isAdmin ? om.getSlug() : currentOrg.getSlug());" is 193.,195
exteso_alf.io,alfio.manager.user,UserManager,validateOrganizationSlug,Long Statement,The length of the statement "return ValidationResult.failed(new ValidationResult.ErrorDescriptor("slug"`"URL is already taken"`"value_already_in_use"));" is 123.,206
exteso_alf.io,alfio.manager.user,UserManager,validateOrganization,Long Statement,The length of the statement "return ValidationResult.failed(new ValidationResult.ErrorDescriptor("name"`"There is already another organization with the same name."));" is 137.,220
exteso_alf.io,alfio.manager.user,UserManager,editUser,Long Parameter List,The method has 9 parameters. ,236
exteso_alf.io,alfio.manager.user,UserManager,insertUser,Long Parameter List,The method has 7 parameters. ,255
exteso_alf.io,alfio.manager.user,UserManager,insertUser,Long Parameter List,The method has 9 parameters. ,260
exteso_alf.io,alfio.manager.user,UserManager,insertUser,Long Statement,The length of the statement "return insertUser(organizationId`username`firstName`lastName`emailAddress`role`userType`userPassword`validTo`description);" is 122.,260
exteso_alf.io,alfio.manager.user,UserManager,insertUser,Long Parameter List,The method has 10 parameters. ,279
exteso_alf.io,alfio.manager.user,UserManager,insertUser,Long Statement,The length of the statement "AffectedRowCountAndKey<Integer> result=userRepository.create(username`passwordEncoder.encode(userPassword)`firstName`lastName`emailAddress`true`userType`validTo`description);" is 174.,279
exteso_alf.io,alfio.manager.user,UserManager,insertUser,Long Statement,The length of the statement "return new UserWithPassword(userRepository.findById(result.getKey())`userType != User.Type.API_KEY ? userPassword : ""`UUID.randomUUID().toString());" is 149.,279
exteso_alf.io,alfio.manager.user,UserManager,resetPassword,Long Statement,The length of the statement "Validate.isTrue(userRepository.resetPassword(userId`passwordEncoder.encode(password)) == 1`"error during password reset");" is 122.,288
exteso_alf.io,alfio.manager.user,UserManager,updatePassword,Long Statement,The length of the statement "Validate.isTrue(userRepository.resetPassword(user.getId()`passwordEncoder.encode(newPassword)) == 1`"error during password update");" is 132.,296
exteso_alf.io,alfio.manager.user,UserManager,validateUser,Long Parameter List,The method has 5 parameters. ,316
exteso_alf.io,alfio.manager.user,UserManager,validateUser,Long Statement,The length of the statement "return ValidationResult.failed(new ValidationResult.ErrorDescriptor("username"`"There is already another user with the same username."));" is 137.,316
exteso_alf.io,alfio.manager.user,UserManager,validateUser,Long Statement,The length of the statement "return ValidationResult.of(Stream.of(Pair.of(firstName`"firstName")`Pair.of(lastName`"lastName")`Pair.of(emailAddress`"emailAddress")).filter(p -> StringUtils.isEmpty(p.getKey())).map(p -> new ValidationResult.ErrorDescriptor(p.getKey()`p.getValue() + " is required")).collect(toList()));" is 288.,316
exteso_alf.io,alfio.manager.user,UserManager,validateNewPassword,Long Statement,The length of the statement "errors.add(new ValidationResult.ErrorDescriptor("alfio.new-password-does-not-match"`"new password has not been confirmed"));" is 124.,329
exteso_alf.io,alfio.manager.user,UserManager,createPublicUserIfNotExists,Long Statement,The length of the statement "int result=userRepository.createPublicUserIfNotExists(username`passwordEncoder.encode(PasswordGenerator.generateRandomPassword())`firstName`lastName`email`true);" is 161.,348
exteso_alf.io,alfio.manager.payment.saferpay,TransactionRefundBuilder,build,Long Statement,The length of the statement "requestHeaderBuilder.appendTo(writer.beginObject()).name("Refund").beginObject().name("Amount").beginObject().name("Value").value(amountToRefund).name("CurrencyCode").value(currencyCode).endObject().endObject().name("CaptureReference").beginObject().name("CaptureId").value(captureId).endObject().endObject().flush();" is 317.,42
exteso_alf.io,alfio.manager.payment.saferpay,PaymentPageInitializeRequestBuilder,PaymentPageInitializeRequestBuilder,Long Statement,The length of the statement "var eventUrl=cleanBaseUrl + expandUriTemplate(SUCCESS_URL_TEMPLATE`purchaseContextType`purchaseContextIdentifier`reservationId);" is 128.,66
exteso_alf.io,alfio.manager.payment.saferpay,PaymentPageInitializeRequestBuilder,PaymentPageInitializeRequestBuilder,Long Statement,The length of the statement "this.failureURL=cleanBaseUrl + expandUriTemplate(CANCEL_URL_TEMPLATE`purchaseContextType`purchaseContextIdentifier`reservationId);" is 130.,66
exteso_alf.io,alfio.manager.payment.saferpay,PaymentPageInitializeRequestBuilder,addOrderInformation,Long Parameter List,The method has 5 parameters. ,84
exteso_alf.io,alfio.manager.payment.saferpay,PaymentPageInitializeRequestBuilder,build,Long Statement,The length of the statement "addPaymentMethods(requestHeaderBuilder.appendTo(writer.beginObject()).name("TerminalId").value(terminalId).name("Payment").beginObject().name("Amount").beginObject().name("Value").value(formattedAmount).name("CurrencyCode").value(currencyCode).endObject().name("OrderId").value(orderId).name("Description").value(description).endObject().name("ReturnUrls").beginObject().name("Success").value(successURL).name("Fail").value(failureURL).endObject().name("Notification").beginObject().name("NotifyUrl").value(notifyURL).endObject()).endObject();" is 543.,97
exteso_alf.io,alfio.manager.payment.saferpay,PaymentPageInitializeRequestBuilder,expandUriTemplate,Long Statement,The length of the statement "return UriComponentsBuilder.fromPath(template).buildAndExpand(purchaseContextType`purchaseContextIdentifier`reservationId).toUriString();" is 137.,137
exteso_alf.io,alfio.manager.payment.saferpay,TransactionCaptureRequestBuilder,buildRequest,Long Statement,The length of the statement "requestHeaderBuilder.appendTo(writer.beginObject()).name("TransactionReference").beginObject().name("TransactionId").value(token).endObject().endObject().flush();" is 162.,46
exteso_alf.io,alfio.manager.payment.saferpay,PaymentPageInitializeBuilderTest,buildInitializeRequest,Long Statement,The length of the statement "var prb=new PaymentPageInitializeRequestBuilder("http://localhost"`paymentSpecification).addAuthentication("customerId"`"requestId"`"terminalId").addOrderInformation("orderId"`"1"`"CHF"`"description"`1).build();" is 211.,53
exteso_alf.io,alfio.manager.payment.saferpay,PaymentPageInitializeBuilderTest,buildInitializeRequest,Long Statement,The length of the statement "assertEquals("http://localhost/event/shortName/reservation/reservationId/payment/saferpay/cancel"`returnUrls.get("Fail").getAsString());" is 136.,53
exteso_alf.io,alfio.manager.payment.saferpay,PaymentPageInitializeBuilderTest,buildInitializeRequest,Long Statement,The length of the statement "assertEquals("http://localhost/api/payment/webhook/saferpay/reservation/reservationId/success"`notification.get("NotifyUrl").getAsString());" is 140.,53
exteso_alf.io,alfio.manager.payment,BaseStripeManager,getModelOptions,Long Statement,The length of the statement "options.put("enableSCA"`configurationManager.getFor(STRIPE_ENABLE_SCA`context.getConfigurationLevel()).getValueAsBooleanOrDefault());" is 133.,104
exteso_alf.io,alfio.manager.payment,BaseStripeManager,processWebhookEvent,Complex Conditional,The conditional expression "account.application.deauthorized".equals(event.getType()) && event.getLivemode() != null && event.getLivemode() == environment.acceptsProfiles(Profiles.of("dev"`"test"`"demo")) is complex.,119
exteso_alf.io,alfio.manager.payment,BaseStripeManager,processWebhookEvent,Long Statement,The length of the statement "if ("account.application.deauthorized".equals(event.getType()) && event.getLivemode() != null && event.getLivemode() == environment.acceptsProfiles(Profiles.of("dev"`"test"`"demo"))) {" is 184.,119
exteso_alf.io,alfio.manager.payment,BaseStripeManager,createParams,Long Statement,The length of the statement "FeeCalculator.getCalculator(purchaseContext`configurationManager`spec.getCurrencyCode()).apply(items`(long)spec.getPriceWithVAT()).filter(l -> l > 0).ifPresent(fee -> chargeParams.put("application_fee_amount"`fee));" is 215.,162
exteso_alf.io,alfio.manager.payment,BaseStripeManager,charge,Long Statement,The length of the statement "Optional<RequestOptions> opt=options(spec.getPurchaseContext()`builder -> builder.setIdempotencyKey(spec.getReservationId()));" is 126.,183
exteso_alf.io,alfio.manager.payment,BaseStripeManager,options,Long Statement,The length of the statement "return configurationManager.getFor(STRIPE_CONNECTED_ID`purchaseContext.getConfigurationLevel()).getValue().map(connectedId -> {" is 127.,215
exteso_alf.io,alfio.manager.payment,BaseStripeManager,getInfo,Long Statement,The length of the statement "return Optional.of(new PaymentInformation(paidAmount`refundedAmount`getFeeAmount(fees`"stripe_fee")`getFeeAmount(fees`"application_fee")));" is 139.,235
exteso_alf.io,alfio.manager.payment,BaseStripeManager,getFeeAmount,Long Statement,The length of the statement "return fees.stream().filter(f -> f.getType().equals(feeType)).findFirst().map(BalanceTransaction.Fee::getAmount).map(String::valueOf).orElse(null);" is 147.,252
exteso_alf.io,alfio.manager.payment,BaseStripeManager,refund,Long Statement,The length of the statement "log.info("Stripe: refund for payment {} {} for amount: {}"`chargeId`pending ? "registered" : "executed with success"`amountOrFull);" is 131.,262
exteso_alf.io,alfio.manager.payment,BaseStripeManager,refund,Long Statement,The length of the statement "log.warn("Stripe: was not able to refund payment with id {}` returned status is not 'succeded' but {}"`chargeId`r.getStatus());" is 127.,262
exteso_alf.io,alfio.manager.payment,BaseStripeManager,isActive,Long Statement,The length of the statement "return configuration.get(STRIPE_CC_ENABLED).getValueAsBooleanOrDefault() && (!configuration.get(PLATFORM_MODE_ENABLED).getValueAsBooleanOrDefault() || context.getConfigurationLevel().getPathLevel() == ConfigurationPathLevel.SYSTEM || configuration.get(STRIPE_CONNECTED_ID).isPresent()) && subValidator.test(configuration);" is 322.,302
exteso_alf.io,alfio.manager.payment,PaymentSpecification,PaymentSpecification,Long Parameter List,The method has 17 parameters. ,47
exteso_alf.io,alfio.manager.payment,PaymentSpecification,PaymentSpecification,Long Parameter List,The method has 7 parameters. ,83
exteso_alf.io,alfio.manager.payment,PaymentSpecification,PaymentSpecification,Long Statement,The length of the statement "this(reservation.getId()`gatewayToken`totalPrice.getPriceWithVAT()`purchaseContext`reservation.getEmail()`new CustomerName(reservation.getFullName()`reservation.getFirstName()`reservation.getLastName()`true)`reservation.getBillingAddress()`reservation.getCustomerReference()`LocaleUtil.forLanguageTag(reservation.getUserLanguage())`reservation.isInvoiceRequested()`!reservation.isDirectAssignmentRequested()`orderSummary`reservation.getVatCountryCode()`reservation.getVatNr()`reservation.getVatStatus()`tcAccepted`privacyAccepted);" is 531.,83
exteso_alf.io,alfio.manager.payment,PaymentSpecification,PaymentSpecification,Long Parameter List,The method has 6 parameters. ,97
exteso_alf.io,alfio.manager.payment,PaymentSpecification,PaymentSpecification,Long Statement,The length of the statement "this(reservationId`gatewayToken`priceWithVAT`purchaseContext`email`customerName`null`null`null`false`false`null`null`null`null`false`false);" is 140.,97
exteso_alf.io,alfio.manager.payment,StripeConnectManager,StripeConnectManager,Long Parameter List,The method has 5 parameters. ,55
exteso_alf.io,alfio.manager.payment,StripeConnectManager,getConnectURL,Long Statement,The length of the statement "var options=configurationManager.getFor(Set.of(STRIPE_SECRET_KEY`STRIPE_CONNECT_CLIENT_ID`STRIPE_CONNECT_CALLBACK`BASE_URL)`ConfigurationLevel.organization(organizationId));" is 173.,65
exteso_alf.io,alfio.manager.payment,StripeConnectManager,getConnectURL,Long Statement,The length of the statement "String callbackURL=options.get(STRIPE_CONNECT_CALLBACK).getValueOrDefault(options.get(BASE_URL).getRequiredValue() + STRIPE_CONNECT_REDIRECT_PATH);" is 147.,65
exteso_alf.io,alfio.manager.payment,StripeConnectManager,getConnectURL,Long Statement,The length of the statement "return new AuthorizationRequestDetails(new StripeConnectApi().getAuthorizationUrl("code"`clientId`callbackURL`"read_write"`state`Collections.emptyMap())`state);" is 160.,65
exteso_alf.io,alfio.manager.payment,SaferpayManager,SaferpayManager,Long Parameter List,The method has 6 parameters. ,78
exteso_alf.io,alfio.manager.payment,SaferpayManager,isActive,Long Statement,The length of the statement "var configurationMap=configurationManager.getFor(EnumSet.of(SAFERPAY_ENABLED`SAFERPAY_API_USERNAME`SAFERPAY_API_PASSWORD`SAFERPAY_CUSTOMER_ID`SAFERPAY_TERMINAL_ID)`paymentContext.getConfigurationLevel());" is 204.,118
exteso_alf.io,alfio.manager.payment,SaferpayManager,doPayment,Long Statement,The length of the statement "var existingTransaction=transactionRepository.loadOptionalByStatusAndPaymentProxyForUpdate(reservationId`Transaction.Status.PENDING`PaymentProxy.SAFERPAY);" is 155.,127
exteso_alf.io,alfio.manager.payment,SaferpayManager,doPayment,Long Statement,The length of the statement "var description=purchaseContext.ofType(PurchaseContext.PurchaseContextType.event) ? "ticket(s) for event" : "x subscription";" is 125.,127
exteso_alf.io,alfio.manager.payment,SaferpayManager,doPayment,Long Statement,The length of the statement "var paymentDescription=String.format("%s - %d %s %s"`configurationManager.getShortReservationID(purchaseContext`reservation)`items`description`purchaseContext.getDisplayName());" is 177.,127
exteso_alf.io,alfio.manager.payment,SaferpayManager,doPayment,Long Statement,The length of the statement "var requestBody=new PaymentPageInitializeRequestBuilder(configuration.get(BASE_URL).getRequiredValue()`spec).addAuthentication(configuration.get(SAFERPAY_CUSTOMER_ID).getRequiredValue()`reservationId`configuration.get(SAFERPAY_TERMINAL_ID).getRequiredValue()).addOrderInformation(reservationId`Integer.toString(spec.getPriceWithVAT())`spec.getCurrencyCode()`paymentDescription`retryCount).build();" is 397.,127
exteso_alf.io,alfio.manager.payment,SaferpayManager,authorizationHeader,Long Statement,The length of the statement "var credentials=configuration.get(SAFERPAY_API_USERNAME).getRequiredValue() + ":" + configuration.get(SAFERPAY_API_PASSWORD).getRequiredValue();" is 144.,178
exteso_alf.io,alfio.manager.payment,SaferpayManager,parseTransactionPayload,Long Statement,The length of the statement "return Optional.of(new EmptyWebhookPayload(additionalInfo.get("reservationId")`TransactionWebhookPayload.Status.SUCCESS));" is 122.,183
exteso_alf.io,alfio.manager.payment,SaferpayManager,internalProcessWebhook,Long Statement,The length of the statement "var paymentStatus=retrievePaymentStatus(configuration`transaction.getPaymentId()`transaction.getReservationId()`retryCount);" is 124.,197
exteso_alf.io,alfio.manager.payment,SaferpayManager,internalProcessWebhook,Long Statement,The length of the statement "ticketReservationRepository.updateValidity(transaction.getReservationId()`DateUtils.addMinutes(new Date()`configuration.get(RESERVATION_TIMEOUT).getValueAsIntOrDefault(25)));" is 174.,197
exteso_alf.io,alfio.manager.payment,SaferpayManager,internalProcessWebhook,Long Statement,The length of the statement "transactionRepository.update(transaction.getId()`paymentStatus.transactionId`paymentStatus.captureId`paymentStatus.timestamp`transaction.getPlatformFee()`transaction.getGatewayFee()`Transaction.Status.COMPLETE`transaction.getMetadata());" is 237.,197
exteso_alf.io,alfio.manager.payment,SaferpayManager,internalProcessWebhook,Magic Number,The method contains a magic number: 25,197
exteso_alf.io,alfio.manager.payment,SaferpayManager,getInfo,Long Statement,The length of the statement "var requestBody=new TransactionInquireRequestBuilder(transaction.getTransactionId()`0).addAuthentication(configuration.get(SAFERPAY_CUSTOMER_ID).getRequiredValue()`transaction.getReservationId()).build();" is 204.,229
exteso_alf.io,alfio.manager.payment,SaferpayManager,refund,Long Statement,The length of the statement "var requestBody=new TransactionRefundBuilder(transaction.getPaymentId()`0).addAuthentication(configuration.get(SAFERPAY_CUSTOMER_ID).getRequiredValue()`transaction.getReservationId()).build(Integer.toString(amount)`transaction.getCurrency());" is 242.,258
exteso_alf.io,alfio.manager.payment,SaferpayManager,refund,Long Statement,The length of the statement "return confirmTransaction(configuration`transactionResponse.get("Id").getAsString()`null`UUID.randomUUID().toString()`0).isSuccessful();" is 136.,258
exteso_alf.io,alfio.manager.payment,SaferpayManager,retrievePaymentStatus,Magic Number,The method contains a magic number: 499,287
exteso_alf.io,alfio.manager.payment,SaferpayManager,retrievePaymentStatus,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@266050ee,287
exteso_alf.io,alfio.manager.payment,SaferpayManager,confirmTransaction,Long Parameter List,The method has 5 parameters. ,331
exteso_alf.io,alfio.manager.payment,SaferpayManager,confirmTransaction,Long Statement,The length of the statement "var requestBody=new TransactionCaptureRequestBuilder(transactionId`retryCount).addAuthentication(configuration.get(SAFERPAY_CUSTOMER_ID).getRequiredValue()`requestId).build();" is 175.,331
exteso_alf.io,alfio.manager.payment,SaferpayManager,buildRequest,Long Statement,The length of the statement "return HttpRequest.newBuilder().uri(URI.create(endpoint + api)).header("Authorization"`"Basic " + authorizationHeader(configuration)).header("Content-Type"`"application/json; charset=utf-8").header("Accept"`"application/json").POST(HttpRequest.BodyPublishers.ofString(requestBody)).build();" is 290.,361
exteso_alf.io,alfio.manager.payment,SaferpayManager,loadConfiguration,Long Statement,The length of the statement "return configurationManager.getFor(EnumSet.of(SAFERPAY_ENABLED`SAFERPAY_API_USERNAME`SAFERPAY_API_PASSWORD`SAFERPAY_CUSTOMER_ID`SAFERPAY_TERMINAL_ID`SAFERPAY_LIVE_MODE`BASE_URL`RESERVATION_TIMEOUT)`purchaseContext.getConfigurationLevel());" is 239.,374
exteso_alf.io,alfio.manager.payment,SaferpayManager,processPaymentInitializationResponse,Long Statement,The length of the statement "transactionRepository.insert(paymentToken`paymentToken`reservationId`ZonedDateTime.now(clockProvider.withZone(spec.getPurchaseContext().getZoneId()))`spec.getPriceWithVAT()`spec.getPurchaseContext().getCurrency()`"Saferpay Payment"`PaymentProxy.SAFERPAY.name()`0L`0L`Transaction.Status.PENDING`Map.of(RETRY_COUNT`String.valueOf(retryCount)));" is 342.,378
exteso_alf.io,alfio.manager.payment,PayPalManager,PayPalManager,Long Parameter List,The method has 6 parameters. ,81
exteso_alf.io,alfio.manager.payment,PayPalManager,getApiContext,Long Statement,The length of the statement "var paypalConf=configurationManager.getFor(Set.of(ConfigurationKeys.PAYPAL_LIVE_MODE`ConfigurationKeys.PAYPAL_CLIENT_ID`ConfigurationKeys.PAYPAL_CLIENT_SECRET)`configurable.getConfigurationLevel());" is 198.,104
exteso_alf.io,alfio.manager.payment,PayPalManager,getApiContext,Long Statement,The length of the statement "return isLive ? new PayPalEnvironment.Live(clientId`clientSecret) : new PayPalEnvironment.Sandbox(clientId`clientSecret);" is 121.,104
exteso_alf.io,alfio.manager.payment,PayPalManager,createCheckoutRequest,Long Statement,The length of the statement "String baseUrl=StringUtils.removeEnd(configurationManager.getFor(ConfigurationKeys.BASE_URL`spec.getPurchaseContext().getConfigurationLevel()).getRequiredValue()`"/");" is 167.,115
exteso_alf.io,alfio.manager.payment,PayPalManager,createCheckoutRequest,Long Statement,The length of the statement "String bookUrl=baseUrl + "/" + purchaseContextType+ "/"+ publicIdentifier+ "/reservation/"+ spec.getReservationId()+ "/payment/paypal/"+ URL_PLACEHOLDER;" is 153.,115
exteso_alf.io,alfio.manager.payment,PayPalManager,createCheckoutRequest,Long Statement,The length of the statement "ApplicationContext applicationContext=new ApplicationContext().landingPage("BILLING").cancelUrl(finalUrl.replace(URL_PLACEHOLDER`"cancel")).returnUrl(finalUrl.replace(URL_PLACEHOLDER`"confirm")).userAction("CONTINUE").shippingPreference("NO_SHIPPING");" is 252.,115
exteso_alf.io,alfio.manager.payment,PayPalManager,createCheckoutRequest,Long Statement,The length of the statement "OrderRequest orderRequest=new OrderRequest().applicationContext(applicationContext).checkoutPaymentIntent("CAPTURE").purchaseUnits(List.of(new PurchaseUnitRequest().amountWithBreakdown(new AmountWithBreakdown().currencyCode(spec.getCurrencyCode()).value(spec.getOrderSummary().getTotalPrice()))));" is 297.,115
exteso_alf.io,alfio.manager.payment,PayPalManager,createCheckoutRequest,Long Statement,The length of the statement "return order.links().stream().filter(l -> l.rel().equals("approve")).map(LinkDescription::href).findFirst().orElseThrow();" is 122.,115
exteso_alf.io,alfio.manager.payment,PayPalManager,createCheckoutRequest,Magic Number,The method contains a magic number: 15,115
exteso_alf.io,alfio.manager.payment,PayPalManager,computeHMAC,Long Statement,The length of the statement "return new HmacUtils(HmacAlgorithms.HMAC_SHA_256`purchaseContext.getPrivateKey()).hmacHex(StringUtils.trimToEmpty(customerName.getFullName()) + StringUtils.trimToEmpty(email) + StringUtils.trimToEmpty(billingAddress));" is 218.,163
exteso_alf.io,alfio.manager.payment,PayPalManager,isValidHMAC,Long Parameter List,The method has 5 parameters. ,167
exteso_alf.io,alfio.manager.payment,PayPalManager,commitPayment,Long Statement,The length of the statement "var captureOptional=result.purchaseUnits().stream().map(PurchaseUnit::payments).flatMap(pc -> pc.captures().stream()).findFirst();" is 130.,192
exteso_alf.io,alfio.manager.payment,PayPalManager,commitPayment,Long Statement,The length of the statement "var payPalFee=captureOptional.map(Capture::sellerReceivableBreakdown).map(MerchantReceivableBreakdown::paypalFee).map(money -> MonetaryUtil.unitToCents(new BigDecimal(money.value())`money.currencyCode())).orElse(0);" is 215.,192
exteso_alf.io,alfio.manager.payment,PayPalManager,getInfo,Long Statement,The length of the statement "var refund=payments.stream().flatMap(p -> emptyIfNull(p.refunds()).stream()).map(r -> new BigDecimal(r.amount().value())).reduce(BigDecimal.ZERO`BigDecimal::add);" is 162.,237
exteso_alf.io,alfio.manager.payment,PayPalManager,getInfo,Long Statement,The length of the statement "var paidAmount=payments.stream().flatMap(p -> emptyIfNull(p.captures()).stream()).map(r -> new BigDecimal(r.amount().value())).reduce(BigDecimal.ZERO`BigDecimal::add);" is 167.,237
exteso_alf.io,alfio.manager.payment,PayPalManager,getInfo,Long Statement,The length of the statement "return Optional.of(new PaymentInformation(formatUnit(paidAmount`currency)`formatUnit(refund`currency)`String.valueOf(unitToCents(gatewayFee`currency))`platformFeeSupplier.get()));" is 179.,237
exteso_alf.io,alfio.manager.payment,PayPalManager,getInfo,Long Statement,The length of the statement "return FeeCalculator.getCalculator(purchaseContext`configurationManager`transaction.getCurrency()).apply(ticketRepository.countTicketsInReservation(transaction.getReservationId())`(long)transaction.getPriceInCents()).map(String::valueOf).orElse("0");" is 250.,280
exteso_alf.io,alfio.manager.payment,PayPalManager,refund,Long Statement,The length of the statement "amount.ifPresent(i -> refundRequest.requestBody(new com.paypal.payments.RefundRequest().amount(new com.paypal.payments.Money().currencyCode(currency).value(formatCents(i`currency)))));" is 184.,294
exteso_alf.io,alfio.manager.payment,PayPalManager,isActive,Long Statement,The length of the statement "var paypalConf=configurationManager.getFor(Set.of(PAYPAL_ENABLED`ConfigurationKeys.PAYPAL_CLIENT_ID`ConfigurationKeys.PAYPAL_CLIENT_SECRET)`paymentContext.getConfigurationLevel());" is 180.,346
exteso_alf.io,alfio.manager.payment,PayPalManager,isActive,Long Statement,The length of the statement "return paypalConf.get(PAYPAL_ENABLED).getValueAsBooleanOrDefault() && paypalConf.get(ConfigurationKeys.PAYPAL_CLIENT_ID).isPresent() && paypalConf.get(ConfigurationKeys.PAYPAL_CLIENT_SECRET).isPresent();" is 203.,346
exteso_alf.io,alfio.manager.payment,PayPalManager,doPayment,Complex Conditional,The conditional expression existingTransaction != null && existingTransaction.getPaymentProxy() == PaymentProxy.PAYPAL && existingTransaction.getTransactionId().equals(chargeDetails.captureId) is complex.,369
exteso_alf.io,alfio.manager.payment,PayPalManager,doPayment,Long Statement,The length of the statement "if (!isValidHMAC(spec.getCustomerName()`spec.getEmail()`spec.getBillingAddress()`gatewayToken.getHmac()`spec.getPurchaseContext())) {" is 133.,369
exteso_alf.io,alfio.manager.payment,PayPalManager,doPayment,Long Statement,The length of the statement "long applicationFee=FeeCalculator.getCalculator(spec.getPurchaseContext()`configurationManager`spec.getCurrencyCode()).apply(ticketRepository.countTicketsInReservation(spec.getReservationId())`(long)spec.getPriceWithVAT()).orElse(0L);" is 234.,369
exteso_alf.io,alfio.manager.payment,PayPalManager,doPayment,Long Statement,The length of the statement "var existingTransaction=transactionRepository.loadOptionalByReservationIdAndStatus(spec.getReservationId()`Transaction.Status.COMPLETE).orElse(null);" is 149.,369
exteso_alf.io,alfio.manager.payment,PayPalManager,doPayment,Long Statement,The length of the statement "if (existingTransaction != null && existingTransaction.getPaymentProxy() == PaymentProxy.PAYPAL && existingTransaction.getTransactionId().equals(chargeDetails.captureId)) {" is 172.,369
exteso_alf.io,alfio.manager.payment,PayPalManager,doPayment,Long Statement,The length of the statement "transactionRepository.insert(chargeDetails.captureId`chargeDetails.orderId`spec.getReservationId()`ZonedDateTime.now(clockProvider.withZone(spec.getPurchaseContext().getZoneId()))`spec.getPriceWithVAT()`spec.getPurchaseContext().getCurrency()`"Paypal confirmation"`PaymentProxy.PAYPAL.name()`applicationFee`chargeDetails.payPalFee`alfio.model.transaction.Transaction.Status.COMPLETE`Map.of());" is 393.,369
exteso_alf.io,alfio.manager.payment,PayPalManager,saveToken,Long Statement,The length of the statement "transactionRepository.insert(reservationId`token.getPaymentId()`reservationId`purchaseContext.now(clockProvider)`0`purchaseContext.getCurrency()`"Paypal token"`PaymentProxy.PAYPAL.name()`0`0`alfio.model.transaction.Transaction.Status.PENDING`Map.of(PaymentManager.PAYMENT_TOKEN`json.asJsonString(token)));" is 305.,403
exteso_alf.io,alfio.manager.payment,PayPalManager,removeToken,Complex Conditional,The conditional expression StringUtils.equals(transaction.getPaymentId()`paymentId) && transaction.getPaymentProxy() == PaymentProxy.PAYPAL && transaction.getStatus() == Transaction.Status.PENDING is complex.,416
exteso_alf.io,alfio.manager.payment,PayPalManager,removeToken,Long Statement,The length of the statement "if (StringUtils.equals(transaction.getPaymentId()`paymentId) && transaction.getPaymentProxy() == PaymentProxy.PAYPAL && transaction.getStatus() == Transaction.Status.PENDING) {" is 176.,416
exteso_alf.io,alfio.manager.payment,DeferredBankTransferManager,accept,Long Statement,The length of the statement "return paymentContext.getPurchaseContext() != null && bankTransferManager.bankTransferEnabledForMethod(paymentMethod`paymentContext`options) && bankTransferManager.isPaymentDeferredEnabled(options);" is 198.,53
exteso_alf.io,alfio.manager.payment,DeferredBankTransferManager,doPayment,Long Statement,The length of the statement "bankTransferManager.postponePayment(spec`DEFERRED_OFFLINE_PAYMENT`Objects.requireNonNull(spec.getPurchaseContext()).getBegin());" is 128.,61
exteso_alf.io,alfio.manager.payment,DeferredBankTransferManager,isActive,Long Statement,The length of the statement "return bankTransferManager.bankTransferActive(paymentContext`options) && bankTransferManager.isPaymentDeferredEnabled(options);" is 127.,83
exteso_alf.io,alfio.manager.payment,DeferredBankTransferManager,isReservationStatusCompatible,Long Statement,The length of the statement "return ticketReservationRepository.findOptionalStatusAndValidationById(transaction.getReservationId()).map(sv -> sv.getStatus() == DEFERRED_OFFLINE_PAYMENT).orElse(false);" is 171.,90
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,MollieWebhookPaymentManager,Long Parameter List,The method has 8 parameters. ,127
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,requestFor,Long Statement,The length of the statement "boolean platformMode=configurationLevel.getOrganizationId().isPresent() && configuration.get(PLATFORM_MODE_ENABLED).getValueAsBooleanOrDefault();" is 145.,145
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,requestFor,Long Statement,The length of the statement "return requestBuilder.header("Authorization"`"Bearer " + accessTokenCache.get(configurationLevel.getOrganizationId().orElseThrow()`org -> {" is 139.,145
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,accept,Long Statement,The length of the statement "return checkIfActive(configuration) && isPlatformConfigurationPresent(configuration) && retrieveAvailablePaymentMethods(transactionRequest`configuration`context.getConfigurationLevel()).contains(paymentMethod);" is 210.,177
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,isPlatformConfigurationPresent,Long Statement,The length of the statement "return !configuration.get(PLATFORM_MODE_ENABLED).getValueAsBooleanOrDefault() || (configuration.get(MOLLIE_CONNECT_REFRESH_TOKEN).isPresent() && configuration.get(MOLLIE_CONNECT_PROFILE_ID).isPresent());" is 203.,188
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,retrieveAvailablePaymentMethods,Long Statement,The length of the statement "return methodsCache.get(MethodCacheKey.from(transactionRequest`configuration)`key -> fetchAvailablePaymentMethods(key`configuration`configurationLevel));" is 153.,196
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,fetchAvailablePaymentMethods,Complex Method,Cyclomatic complexity of the method is 9,206
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,fetchAvailablePaymentMethods,Long Statement,The length of the statement "HttpRequest request=requestFor(METHODS_ENDPOINT + "?" + String.join("&"`params)`configuration`configurationLevel).GET().build();" is 128.,206
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,getPaymentResult,Long Statement,The length of the statement "var existingTransaction=transactionRepository.loadOptionalByReservationId(reservationId).filter(t -> t.getPaymentProxy() == PaymentProxy.MOLLIE && StringUtils.isNotEmpty(t.getPaymentId()));" is 189.,275
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,tryToReuseExistingTransaction,Long Parameter List,The method has 5 parameters. ,301
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,tryToReuseExistingTransaction,Long Statement,The length of the statement "var getPaymentResponse=callGetPayment(transaction.getPaymentId()`configuration`spec.getPurchaseContext().getConfigurationLevel());" is 130.,301
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,initPayment,Long Statement,The length of the statement "String bookUrl=baseUrl + "/" + purchaseContextUrlComponent+ "/"+ publicIdentifier+ "/reservation/"+ reservationId+ "/book";" is 123.,324
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,initPayment,Long Statement,The length of the statement "payload.put(AMOUNT`Map.of(VALUE`spec.getOrderSummary().getTotalPrice()`CURRENCY`spec.getPurchaseContext().getCurrency()));" is 122.,324
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,initPayment,Long Statement,The length of the statement "var description=purchaseContext.ofType(PurchaseContext.PurchaseContextType.event) ? "ticket(s) for event" : "x subscription";" is 125.,324
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,initPayment,Long Statement,The length of the statement "payload.put("description"`String.format("%s - %d %s %s"`configurationManager.getShortReservationID(spec.getPurchaseContext()`reservation)`items`description`spec.getPurchaseContext().getDisplayName()));" is 201.,324
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,initPayment,Long Statement,The length of the statement "payload.put("webhookUrl"`baseUrl + UriComponentsBuilder.fromPath(WEBHOOK_URL_TEMPLATE).buildAndExpand(reservationId).toUriString());" is 132.,324
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,initPayment,Long Statement,The length of the statement "FeeCalculator.getCalculator(spec.getPurchaseContext()`configurationManager`currencyCode).apply(items`(long)spec.getPriceWithVAT()).filter(fee -> fee > 1L).map(fee -> MonetaryUtil.formatCents(fee`currencyCode)).ifPresent(fee -> payload.put("applicationFee"`Map.of(AMOUNT`Map.of(CURRENCY`currencyCode`VALUE`fee)`"description"`"Reservation" + reservationId)));" is 357.,324
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,initPayment,Long Statement,The length of the statement "HttpRequest request=requestFor(PAYMENTS_ENDPOINT`configuration`spec.getPurchaseContext().getConfigurationLevel()).header(HttpUtils.CONTENT_TYPE`HttpUtils.APPLICATION_JSON).POST(HttpRequest.BodyPublishers.ofString(Json.GSON.toJson(payload))).build();" is 249.,324
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,initPayment,Long Statement,The length of the statement "transactionRepository.insert(paymentId`paymentId`reservationId`ZonedDateTime.now(clockProvider.withZone(spec.getPurchaseContext().getZoneId()))`spec.getPriceWithVAT()`spec.getPurchaseContext().getCurrency()`"Mollie Payment"`PaymentProxy.MOLLIE.name()`0L`0L`Transaction.Status.PENDING`Map.of());" is 294.,324
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,initPayment,Magic Number,The method contains a magic number: 5,324
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,checkIfActive,Long Statement,The length of the statement "return configuration.get(MOLLIE_CC_ENABLED).getValueAsBooleanOrDefault() && configuration.get(BASE_URL).isPresent() && configuration.get(MOLLIE_API_KEY).isPresent()&& connectOptionsPresent(configuration);" is 204.,399
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,connectOptionsPresent,Long Statement,The length of the statement "return configuration.get(MOLLIE_CONNECT_CLIENT_ID).isPresent() && configuration.get(MOLLIE_CONNECT_CLIENT_SECRET).isPresent();" is 126.,406
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,parseTransactionPayload,Long Identifier,The length of the field ADDITIONAL_INFO_PURCHASE_CONTEXT_TYPE is 37.,417
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,parseTransactionPayload,Long Identifier,The length of the field ADDITIONAL_INFO_PURCHASE_IDENTIFIER is 35.,417
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,parseTransactionPayload,Long Identifier,The length of the field ADDITIONAL_INFO_RESERVATION_ID is 30.,417
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,parseTransactionPayload,Long Statement,The length of the statement "return Optional.ofNullable(StringUtils.trimToNull(properties.getProperty("id"))).map(paymentId -> new MollieWebhookPayload(paymentId`PurchaseContext.PurchaseContextType.from(additionalInfo.get(ADDITIONAL_INFO_PURCHASE_CONTEXT_TYPE))`additionalInfo.get(ADDITIONAL_INFO_PURCHASE_IDENTIFIER)`additionalInfo.get(ADDITIONAL_INFO_RESERVATION_ID)));" is 342.,417
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,processWebhook,Long Statement,The length of the statement "var optionalPurchaseContext=purchaseContextManager.findBy(molliePayload.getPurchaseContextType()`molliePayload.getPurchaseContextIdentifier());" is 143.,441
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,validateRemotePayment,Long Statement,The length of the statement "log.warn("was not able to get payment id " + paymentId + " for purchaseContext of type "+ purchaseContext.getType()+ " with public identifier "+ purchaseContext.getPublicIdentifier());" is 184.,456
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,validateRemotePayment,Magic Number,The method contains a magic number: 404,456
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,processRemotePayment,Complex Method,Cyclomatic complexity of the method is 8,480
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,processRemotePayment,Long Parameter List,The method has 5 parameters. ,480
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,processRemotePayment,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@72b12cf4,480
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,refund,Long Statement,The length of the statement "var amountToRefund=Optional.ofNullable(amount).map(a -> MonetaryUtil.formatCents(a`currencyCode)).orElseGet(transaction::getFormattedAmount);" is 141.,543
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,refund,Long Statement,The length of the statement "log.trace("Platform mode is active. Setting testmode to {}"`!configuration.get(MOLLIE_CONNECT_LIVE_MODE).getValueAsBooleanOrDefault());" is 135.,543
exteso_alf.io,alfio.manager.payment,MollieWebhookPaymentManager,refund,Long Statement,The length of the statement "var request=requestFor(PAYMENTS_ENDPOINT + "/" + paymentId+ "/refunds"`configuration`configurationLevel).header("Content-Type"`"application/x-www-form-urlencoded").POST(HttpUtils.ofFormUrlEncodedBody(parameters)).build();" is 221.,543
exteso_alf.io,alfio.manager.payment,MollieConnectManager,getConnectURL,Long Statement,The length of the statement "var options=configurationManager.getFor(Set.of(MOLLIE_API_KEY`MOLLIE_CONNECT_CLIENT_ID`MOLLIE_CONNECT_CALLBACK`BASE_URL)`ConfigurationLevel.organization(organizationId));" is 170.,62
exteso_alf.io,alfio.manager.payment,MollieConnectManager,getConnectURL,Long Statement,The length of the statement "String callbackURL=options.get(MOLLIE_CONNECT_CALLBACK).getValueOrDefault(options.get(BASE_URL).getRequiredValue() + MOLLIE_CONNECT_REDIRECT_PATH);" is 147.,62
exteso_alf.io,alfio.manager.payment,MollieConnectManager,getConnectURL,Long Statement,The length of the statement "return new AuthorizationRequestDetails(new MollieConnectApi().getAuthorizationUrl("code"`options.get(MOLLIE_CONNECT_CLIENT_ID).getRequiredValue()`callbackURL`SCOPES`state`Collections.emptyMap())`state);" is 202.,62
exteso_alf.io,alfio.manager.payment,MollieConnectManager,storeConnectedAccountId,Long Statement,The length of the statement "var options=configurationManager.getFor(Set.of(MOLLIE_API_KEY`MOLLIE_CONNECT_CLIENT_ID`MOLLIE_CONNECT_CLIENT_SECRET`MOLLIE_CONNECT_CALLBACK`BASE_URL)`configurationLevel);" is 170.,71
exteso_alf.io,alfio.manager.payment,MollieConnectManager,storeConnectedAccountId,Long Statement,The length of the statement "OAuth20Service service=new ServiceBuilder(options.get(MOLLIE_CONNECT_CLIENT_ID).getRequiredValue()).apiSecret(options.get(MOLLIE_CONNECT_CLIENT_SECRET).getRequiredValue()).callback(options.get(MOLLIE_CONNECT_CALLBACK).getRequiredValue()).build(new MollieConnectApi());" is 268.,71
exteso_alf.io,alfio.manager.payment,MollieConnectManager,refreshAccessToken,Long Statement,The length of the statement "OAuth20Service service=new ServiceBuilder(options.get(MOLLIE_CONNECT_CLIENT_ID).getRequiredValue()).apiSecret(options.get(MOLLIE_CONNECT_CLIENT_SECRET).getRequiredValue()).callback(options.get(MOLLIE_CONNECT_CALLBACK).getRequiredValue()).build(new MollieConnectApi());" is 268.,96
exteso_alf.io,alfio.manager.payment,PaymentManagerUtils,invalidateExistingTransactions,Long Statement,The length of the statement "int invalidated=transactionRepository.invalidateForReservation(reservationId`paymentProxy != null ? paymentProxy.name() : null);" is 128.,36
exteso_alf.io,alfio.manager.payment,PaymentManagerUtils,invalidateExistingTransactions,Long Statement,The length of the statement "Validate.isTrue(transactionRepository.loadOptionalByReservationId(reservationId).isEmpty()`"There is already a transaction registered for reservation %s"`reservationId);" is 169.,36
exteso_alf.io,alfio.manager.payment,OnSiteManager,isActive,Long Statement,The length of the statement "return configurationManager.getFor(ON_SITE_ENABLED`paymentContext.getConfigurationLevel()).getValueAsBooleanOrDefault() && (paymentContext.getConfigurationLevel().getPathLevel() != ConfigurationPathLevel.EVENT || !paymentContext.isOnline());" is 241.,73
exteso_alf.io,alfio.manager.payment,OnSiteManager,getModelOptions,Long Statement,The length of the statement "boolean recaptchaEnabled=configurationManager.isRecaptchaForOfflinePaymentAndFreeEnabled(context.getConfigurationLevel());" is 122.,85
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManager,StripeWebhookPaymentManager,Long Parameter List,The method has 9 parameters. ,83
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManager,discardTransaction,Long Statement,The length of the statement "log.warn("An attempt to cancel a non-cancellable Payment Intent has been detected for reservation ID {}` PaymentIntent ID {}"`transaction.getReservationId()`transaction.getPaymentId());" is 185.,150
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManager,buildTokenFromTransaction,Long Statement,The length of the statement "processSuccessfulPaymentIntent(transaction`paymentIntent`ticketReservationRepository.findReservationById(transaction.getReservationId())`purchaseContext);" is 154.,167
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManager,createNewToken,Long Statement,The length of the statement "Map<String`String> baseMetadata=configurationManager.getFor(BASE_URL`paymentSpecification.getPurchaseContext().getConfigurationLevel()).getValue().map(baseUrl -> Map.of("alfioBaseUrl"`baseUrl)).orElse(Map.of());" is 211.,192
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManager,createNewToken,Long Statement,The length of the statement "var options=baseStripeManager.options(paymentSpecification.getPurchaseContext()`builder -> builder.setIdempotencyKey(paymentSpecification.getReservationId())).orElseThrow();" is 173.,192
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManager,createNewToken,Long Statement,The length of the statement "long platformFee=paymentIntentParams.containsKey("application_fee") ? (long)paymentIntentParams.get("application_fee") : 0L;" is 124.,192
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManager,createNewToken,Long Statement,The length of the statement "transactionRepository.insert(intent.getId()`intent.getId()`paymentSpecification.getReservationId()`ZonedDateTime.now(clockProvider.withZone(paymentSpecification.getPurchaseContext().getZoneId()))`paymentSpecification.getPriceWithVAT()`paymentSpecification.getPurchaseContext().getCurrency()`"Payment Intent"`PaymentProxy.STRIPE.name()`platformFee`0L`Transaction.Status.PENDING`Map.of(CLIENT_SECRET_METADATA`clientSecret`STRIPE_MANAGER_TYPE_KEY`STRIPE_MANAGER));" is 461.,192
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManager,deserializeObject,Long Statement,The length of the statement "log.warn("unable to deserialize payload. Expected version {}` actual {}` falling back to unsafe deserialization"`Stripe.API_VERSION`stripeEvent.getApiVersion());" is 161.,240
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManager,processWebhook,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@3efe2231,254
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManager,processFailedPaymentIntent,Long Statement,The length of the statement "auditingRepository.insert(reservation.getId()`null`purchaseContext`Audit.EventType.PAYMENT_FAILED`new Date()`Audit.EntityType.RESERVATION`reservation.getId()`modifications);" is 173.,302
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManager,processFailedPaymentIntent,Long Statement,The length of the statement "return PaymentWebhookResult.failed("Charge has been reset by Stripe. This is usually caused by a rejection from the customer's bank");" is 134.,302
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManager,processSuccessfulPaymentIntent,Long Statement,The length of the statement "int affectedRows=transactionRepository.updateIfStatus(transaction.getId()`chargeId`transaction.getPaymentId()`purchaseContext.now(clockProvider)`transaction.getPlatformFee()`gtwFee`Transaction.Status.COMPLETE`Map.of()`Transaction.Status.PENDING);" is 246.,319
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManager,processSuccessfulPaymentIntent,Long Statement,The length of the statement "auditingRepository.insert(reservation.getId()`null`purchaseContext`Audit.EventType.PAYMENT_ALREADY_CONFIRMED`new Date()`Audit.EntityType.RESERVATION`reservation.getId()`modifications);" is 184.,319
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManager,processSuccessfulPaymentIntent,Long Statement,The length of the statement "auditingRepository.insert(reservation.getId()`null`purchaseContext`Audit.EventType.PAYMENT_CONFIRMED`new Date()`Audit.EntityType.RESERVATION`reservation.getId()`modifications);" is 176.,319
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManager,isConfigurationValid,Long Statement,The length of the statement "return configuration.get(BASE_URL).isPresent() && configuration.get(STRIPE_WEBHOOK_PAYMENT_KEY).isPresent() && configuration.get(STRIPE_ENABLE_SCA).getValueAsBooleanOrDefault();" is 177.,347
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManager,accept,Long Statement,The length of the statement "var isWebHookManager=STRIPE_MANAGER.equals(transaction.getMetadata().get(STRIPE_MANAGER_TYPE_KEY)) || transaction.getMetadata().get(CLIENT_SECRET_METADATA) != null;" is 164.,366
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManager,doPayment,Long Statement,The length of the statement "return transaction.getStatus() == Transaction.Status.COMPLETE ? PaymentResult.successful(transaction.getTransactionId()) : PaymentResult.initialized(transaction.getPaymentId());" is 177.,382
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManager,forceTransactionCheck,Long Statement,The length of the statement "var options=baseStripeManager.options(purchaseContext`builder -> builder.setIdempotencyKey(reservation.getId())).orElseThrow();" is 127.,418
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManager,detectPaymentContext,Long Statement,The length of the statement "var reservationId=JsonParser.parseReader(stringReader).getAsJsonObject().getAsJsonObject("data").getAsJsonObject("object").getAsJsonObject("metadata").get("reservationId").getAsString();" is 186.,439
exteso_alf.io,alfio.manager.payment,BankTransferManager,accept,Long Statement,The length of the statement "return bankTransferEnabledForMethod(paymentMethod`paymentContext`options) && !options.get(REVOLUT_ENABLED).getValueAsBooleanOrDefault();" is 136.,76
exteso_alf.io,alfio.manager.payment,BankTransferManager,bankTransferActive,Long Statement,The length of the statement "return options.get(BANK_TRANSFER_ENABLED).getValueAsBooleanOrDefault() && (paymentContext.getPurchaseContext() == null || getOfflinePaymentWaitingPeriod(paymentContext.getPurchaseContext()`options.get(OFFLINE_PAYMENT_DAYS).getValueAsIntOrDefault(5)).orElse(0) > 0);" is 265.,90
exteso_alf.io,alfio.manager.payment,BankTransferManager,bankTransferActive,Magic Number,The method contains a magic number: 5,90
exteso_alf.io,alfio.manager.payment,BankTransferManager,overrideExistingTransactions,Long Statement,The length of the statement "transactionRepository.insert(UUID.randomUUID().toString()`null`spec.getReservationId()`ZonedDateTime.now(clockProvider.getClock())`spec.getPriceWithVAT()`spec.getCurrencyCode()`""`PaymentProxy.OFFLINE.name()`0L`0L`Transaction.Status.PENDING`Map.of());" is 251.,110
exteso_alf.io,alfio.manager.payment,BankTransferManager,getModelOptions,Long Statement,The length of the statement "boolean recaptchaEnabled=configurationManager.isRecaptchaForOfflinePaymentAndFreeEnabled(purchaseContext.getConfigurationLevel());" is 130.,117
exteso_alf.io,alfio.manager.payment,BankTransferManager,postponePayment,Long Statement,The length of the statement "int updatedReservation=ticketReservationRepository.postponePayment(spec.getReservationId()`status`Date.from(deadline.toInstant())`spec.getEmail()`spec.getCustomerName().getFullName()`spec.getCustomerName().getFirstName()`spec.getCustomerName().getLastName()`spec.getBillingAddress()`spec.getCustomerReference());" is 312.,139
exteso_alf.io,alfio.manager.payment,BankTransferManager,getOfflinePaymentDeadline,Long Statement,The length of the statement "log.warn("accepting offline payments the same day is a very bad practice and should be avoided. Please set cash payment as payment method next time");" is 150.,145
exteso_alf.io,alfio.manager.payment,BankTransferManager,getOfflinePaymentDeadline,Magic Number,The method contains a magic number: 2,145
exteso_alf.io,alfio.manager.payment,BankTransferManager,getOfflinePaymentWaitingPeriod,Long Statement,The length of the statement "return getOfflinePaymentWaitingPeriod(purchaseContext`configurationManager.getFor(OFFLINE_PAYMENT_DAYS`purchaseContext.getConfigurationLevel()).getValueAsIntOrDefault(5));" is 171.,158
exteso_alf.io,alfio.manager.payment,BankTransferManager,getOfflinePaymentWaitingPeriod,Magic Number,The method contains a magic number: 5,158
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManager,RevolutBankTransferManager,Long Parameter List,The method has 5 parameters. ,75
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManager,isActive,Long Statement,The length of the statement "return bankTransferManager.bankTransferActive(paymentContext`options) && options.get(REVOLUT_ENABLED).getValueAsBooleanOrDefault() && options.get(REVOLUT_API_KEY).isPresent();" is 175.,102
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManager,checkPendingReservations,Long Statement,The length of the statement "var host=options.get(REVOLUT_LIVE_MODE).getValueAsBooleanOrDefault() ? "https://b2b.revolut.com" : "https://sandbox-b2b.revolut.com";" is 133.,120
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManager,checkPendingReservations,Long Statement,The length of the statement "return loadAccounts(revolutKey`host).flatMap(accounts -> loadTransactions(lastCheck`revolutKey`host`accounts)).flatMap(revolutTransactions -> matchTransactions(reservations`revolutTransactions`context`options.get(REVOLUT_MANUAL_REVIEW).getValueAsBooleanOrDefault()));" is 267.,120
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManager,matchTransactions,Complex Conditional,The conditional expression latestTransaction.isEmpty() || latestTransaction.get().getId() != transaction.getId() || latestTransaction.get().getStatus() != transaction.getStatus() is complex.,140
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManager,matchTransactions,Long Statement,The length of the statement "List<Pair<TicketReservationWithTransaction`RevolutTransactionDescriptor>> matched=pendingReservations.stream().map(reservation -> Pair.of(reservation`transactions.stream().filter(transactionMatches(reservation`context)).findFirst())).filter(pair -> pair.getRight().isPresent()).map(pair -> Pair.of(pair.getLeft()`pair.getRight().orElseThrow())).toList();" is 354.,140
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManager,matchTransactions,Long Statement,The length of the statement "if (latestTransaction.isEmpty() || latestTransaction.get().getId() != transaction.getId() || latestTransaction.get().getStatus() != transaction.getStatus()) {" is 158.,140
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManager,matchTransactions,Long Statement,The length of the statement "log.trace("transaction {} has been modified while processing. Current status is: {}"`transaction.getId()`latestTransaction.map(t -> t.getStatus().name()).orElse("N/A"));" is 169.,140
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManager,matchTransactions,Long Statement,The length of the statement "transactionRepository.update(transaction.getId()`revolutTransaction.getId()`revolutTransaction.getRequestId()`revolutTransaction.getCompletedAt()`0L`0L`manualReviewRequired ? Transaction.Status.OFFLINE_PENDING_REVIEW : Transaction.Status.OFFLINE_MATCHING_PAYMENT_FOUND`revolutTransaction.getMetadata());" is 303.,140
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManager,transactionMatches,Long Statement,The length of the statement "var shortReservationId=configurationManager.getShortReservationID(context.getPurchaseContext()`reservation).toLowerCase();" is 122.,173
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManager,transactionMatches,Long Statement,The length of the statement "return revolutTransaction -> revolutTransaction.getTransactionBalance().compareTo(BigDecimal.ZERO) > 0 && Arrays.stream(terms).anyMatch(s -> revolutTransaction.getReference().toLowerCase().contains(s)) && transaction.getCurrency().equals(revolutTransaction.getLegs().get(0).getCurrency()) && transaction.getPriceInCents() == MonetaryUtil.unitToCents(revolutTransaction.getTransactionBalance()`transaction.getCurrency());" is 420.,173
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManager,loadTransactions,Long Statement,The length of the statement "var from=lastCheck != null ? lastCheck.withZoneSameInstant(clockProvider.getClock().getZone()) : ZonedDateTime.now(clockProvider.getClock()).minusDays(1);" is 154.,191
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManager,loadTransactions,Long Statement,The length of the statement "var request=HttpRequest.newBuilder(URI.create(revolutUrl + "/api/1.0/transactions?from=" + from.format(JSON_DATETIME_FORMATTER))).GET().header("Authorization"`"Bearer " + revolutKey).build();" is 191.,191
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManager,loadTransactions,Long Statement,The length of the statement "return Result.success(result.stream().filter(t -> "completed".equals(t.getState()) && t.getLegs().size() == 1 && accounts.contains(t.getLegs().get(0).getAccountId())).toList());" is 177.,191
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManager,loadTransactions,Long Statement,The length of the statement "return Result.error(ErrorCode.custom("no data received"`"No data received from Revolut. Status code is " + response.statusCode()));" is 131.,191
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManager,loadAccountsFromAPI,Long Statement,The length of the statement "var request=HttpRequest.newBuilder(URI.create(baseUrl + "/api/1.0/accounts")).GET().header("Authorization"`"Bearer " + revolutKey).build();" is 139.,229
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManager,getInfo,Long Statement,The length of the statement "return Optional.of(new PaymentInformation(MonetaryUtil.formatCents(transaction.getPriceInCents()`transaction.getCurrency())`null`String.valueOf(transaction.getGatewayFee())`String.valueOf(transaction.getPlatformFee())));" is 220.,255
exteso_alf.io,alfio.manager.payment,StripeCreditCardManager,StripeCreditCardManager,Long Parameter List,The method has 6 parameters. ,63
exteso_alf.io,alfio.manager.payment,StripeCreditCardManager,StripeCreditCardManager,Long Statement,The length of the statement "this(transactionRepository`new BaseStripeManager(configurationManager`configurationRepository`ticketRepository`environment)`clockProvider);" is 139.,63
exteso_alf.io,alfio.manager.payment,StripeCreditCardManager,checkConfiguration,Long Statement,The length of the statement "return !config.get(STRIPE_ENABLE_SCA).getValueAsBooleanOrDefault() && config.get(STRIPE_SECRET_KEY).isPresent() && config.get(STRIPE_PUBLIC_KEY).isPresent();" is 157.,126
exteso_alf.io,alfio.manager.payment,StripeCreditCardManager,accept,Long Statement,The length of the statement "var isCCManager=STRIPE_MANAGER.equals(transaction.getMetadata().get(STRIPE_MANAGER_TYPE_KEY)) || transaction.getMetadata().get("clientSecret") == null;" is 151.,131
exteso_alf.io,alfio.manager.payment,StripeCreditCardManager,doPayment,Long Statement,The length of the statement "return Pair.of(Optional.ofNullable(BaseStripeManager.getFeeAmount(feeDetails`"application_fee")).map(Long::parseLong).orElse(0L)`Optional.ofNullable(BaseStripeManager.getFeeAmount(feeDetails`"stripe_fee")).map(Long::parseLong).orElse(0L));" is 239.,149
exteso_alf.io,alfio.manager.payment,StripeCreditCardManager,doPayment,Long Statement,The length of the statement "transactionRepository.insert(charge.getId()`null`spec.getReservationId()`ZonedDateTime.now(clockProvider.withZone(spec.getPurchaseContext().getZoneId()))`spec.getPriceWithVAT()`spec.getPurchaseContext().getCurrency()`charge.getDescription()`PaymentProxy.STRIPE.name()`fees != null ? fees.getLeft() : 0L`fees != null ? fees.getRight() : 0L`Transaction.Status.COMPLETE`Map.of(STRIPE_MANAGER_TYPE_KEY`STRIPE_MANAGER));" is 415.,149
exteso_alf.io,alfio.manager.payment,StripeManagerTest,setUp,Long Statement,The length of the statement "when(configurationManager.getFor(eq(PLATFORM_MODE_ENABLED)`any())).thenReturn(new ConfigurationManager.MaybeConfiguration(PLATFORM_MODE_ENABLED));" is 146.,60
exteso_alf.io,alfio.manager.payment,StripeManagerTest,successFlow,Long Statement,The length of the statement "BaseStripeManager baseStripeManager=new BaseStripeManager(configurationManager`configurationRepository`ticketRepository`mock(Environment.class)){" is 145.,73
exteso_alf.io,alfio.manager.payment,StripeManagerTest,successFlow,Long Statement,The length of the statement "StripeCreditCardManager stripeCreditCardManager=new StripeCreditCardManager(transactionRepository`baseStripeManager`TestUtil.clockProvider());" is 142.,73
exteso_alf.io,alfio.manager.payment,StripeManagerTest,successFlow,Magic Number,The method contains a magic number: 100,73
exteso_alf.io,alfio.manager.payment,StripeManagerTest,stripeError,Long Statement,The length of the statement "BaseStripeManager baseStripeManager=new BaseStripeManager(configurationManager`configurationRepository`ticketRepository`mock(Environment.class)){" is 145.,90
exteso_alf.io,alfio.manager.payment,StripeManagerTest,stripeError,Long Statement,The length of the statement "@Override protected Optional<Charge> charge( PaymentSpecification spec` Map<String`Object> chargeParams) throws StripeException {" is 129.,90
exteso_alf.io,alfio.manager.payment,StripeManagerTest,stripeError,Long Statement,The length of the statement "StripeCreditCardManager stripeCreditCardManager=new StripeCreditCardManager(transactionRepository`baseStripeManager`TestUtil.clockProvider());" is 142.,90
exteso_alf.io,alfio.manager.payment,StripeManagerTest,stripeError,Magic Number,The method contains a magic number: 401,90
exteso_alf.io,alfio.manager.payment,StripeManagerTest,stripeError,Magic Number,The method contains a magic number: 100,90
exteso_alf.io,alfio.manager.payment,StripeManagerTest,charge,Magic Number,The method contains a magic number: 401,93
exteso_alf.io,alfio.manager.payment,StripeManagerTest,internalError,Long Statement,The length of the statement "BaseStripeManager baseStripeManager=new BaseStripeManager(configurationManager`configurationRepository`ticketRepository`mock(Environment.class)){" is 145.,104
exteso_alf.io,alfio.manager.payment,StripeManagerTest,internalError,Long Statement,The length of the statement "StripeCreditCardManager stripeCreditCardManager=new StripeCreditCardManager(transactionRepository`baseStripeManager`TestUtil.clockProvider());" is 142.,104
exteso_alf.io,alfio.manager.payment,StripeManagerTest,internalError,Long Statement,The length of the statement "when(transactionRepository.insert(anyString()`isNull()`anyString()`any(ZonedDateTime.class)`anyInt()`eq("CHF")`anyString()`anyString()`anyLong()`anyLong()`eq(Transaction.Status.COMPLETE)`anyMap())).thenThrow(new NullPointerException());" is 236.,104
exteso_alf.io,alfio.manager.payment,StripeManagerTest,internalError,Magic Number,The method contains a magic number: 100,104
exteso_alf.io,alfio.manager.payment,SaferpayManagerTest,init,Long Statement,The length of the statement "when(configurationManager.getFor(eq(EnumSet.of(SAFERPAY_ENABLED`SAFERPAY_API_USERNAME`SAFERPAY_API_PASSWORD`SAFERPAY_CUSTOMER_ID`SAFERPAY_TERMINAL_ID`SAFERPAY_LIVE_MODE`BASE_URL`RESERVATION_TIMEOUT))`any())).thenReturn(configuration);" is 234.,74
exteso_alf.io,alfio.manager.payment,SaferpayManagerTest,init,Long Statement,The length of the statement "manager=new SaferpayManager(configurationManager`httpClient`ticketReservationRepository`transactionRepository`ticketRepository`TestUtil.clockProvider());" is 153.,74
exteso_alf.io,alfio.manager.payment,SaferpayManagerTest,internalProcessCapturedWebhook,Long Statement,The length of the statement "verify(transactionRepository).update(eq(2)`eq("transactionId")`eq("captureId")`any()`eq(0L)`eq(0L)`eq(Transaction.Status.COMPLETE)`anyMap());" is 141.,86
exteso_alf.io,alfio.manager.payment,SaferpayManagerTest,internalProcessCapturedWebhook,Magic Number,The method contains a magic number: 2,86
exteso_alf.io,alfio.manager.payment,SaferpayManagerTest,internalProcessCapturedWebhook,Magic Number,The method contains a magic number: 200,86
exteso_alf.io,alfio.manager.payment,SaferpayManagerTest,internalProcessCapturedWebhook,Magic Number,The method contains a magic number: 2,86
exteso_alf.io,alfio.manager.payment,SaferpayManagerTest,internalProcessAuthorizedWebhook,Long Statement,The length of the statement "verify(transactionRepository).update(eq(2)`eq("transactionId")`eq("captureId")`any()`eq(0L)`eq(0L)`eq(Transaction.Status.COMPLETE)`anyMap());" is 141.,101
exteso_alf.io,alfio.manager.payment,SaferpayManagerTest,internalProcessAuthorizedWebhook,Magic Number,The method contains a magic number: 2,101
exteso_alf.io,alfio.manager.payment,SaferpayManagerTest,internalProcessAuthorizedWebhook,Magic Number,The method contains a magic number: 200,101
exteso_alf.io,alfio.manager.payment,SaferpayManagerTest,internalProcessAuthorizedWebhook,Magic Number,The method contains a magic number: 2,101
exteso_alf.io,alfio.manager.payment,SaferpayManagerTest,internalProcessAuthorizedWebhook,Magic Number,The method contains a magic number: 2,101
exteso_alf.io,alfio.manager.payment,SaferpayManagerTest,internalProcessCancelledWebhook,Magic Number,The method contains a magic number: 2,116
exteso_alf.io,alfio.manager.payment,SaferpayManagerTest,internalProcessCancelledWebhook,Magic Number,The method contains a magic number: 404,116
exteso_alf.io,alfio.manager.payment,SaferpayManagerTest,internalProcessCancelledWebhook,Magic Number,The method contains a magic number: 2,116
exteso_alf.io,alfio.manager.payment,SaferpayManagerTest,saferpayOffline,Magic Number,The method contains a magic number: 500,133
exteso_alf.io,alfio.manager.payment,SaferpayManagerTest,getJsonBody,Long Statement,The length of the statement "return "{" + "\"Transaction\": {" + "\"Status\": \"" + (captured ? "CAPTURED" : "AUTHORIZED") + "\"`"+ "\"Id\": \"transactionId\""+ (captured ? "`" : "")+ (captured ? "\"CaptureId\": \"captureId\"` \"Date\": \"2015-01-30T12:45:22.258+01:00\"" : "")+ "}"+ "}";" is 259.,144
exteso_alf.io,alfio.manager.payment,StripeConnectManagerTest,setUp,Long Statement,The length of the statement "stripeConnectManager=new StripeConnectManager(extensionManager`configurationManager`mock(ConfigurationRepository.class)`mock(TicketRepository.class)`mock(Environment.class));" is 174.,45
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManagerTest,setUp,Long Statement,The length of the statement "revolutBankTransferManager=new RevolutBankTransferManager(bankTransferManager`configurationManager`transactionRepository`HttpClient.newHttpClient()`clockProvider());" is 165.,61
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManagerTest,setUp,Long Statement,The length of the statement "when(configurationManager.getShortReservationID(eq(event)`eq(secondReservation))).thenReturn(SECOND_UUID.substring(0`8));" is 121.,61
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManagerTest,setUp,Long Statement,The length of the statement "when(configurationManager.getFor(any(ConfigurationKeys.class)`any(ConfigurationLevel.class))).thenReturn(maybeConfiguration);" is 125.,61
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManagerTest,setUp,Magic Number,The method contains a magic number: 100,61
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManagerTest,setUp,Magic Number,The method contains a magic number: 8,61
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManagerTest,setUp,Magic Number,The method contains a magic number: 8,61
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManagerTest,setUp,Magic Number,The method contains a magic number: 8,61
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManagerTest,setUp,Magic Number,The method contains a magic number: 8,61
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManagerTest,internalMatchSingleTransaction,Long Statement,The length of the statement "var result=revolutBankTransferManager.matchTransactions(pendingReservations`List.of(single)`paymentContext`!automaticConfirmation);" is 131.,108
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManagerTest,internalMatchSingleTransaction,Long Statement,The length of the statement "verify(transactionRepository).update(eq(TRANSACTION_ID)`eq(paymentId)`isNull()`any()`eq(0L)`eq(0L)`eq(automaticConfirmation ? Transaction.Status.OFFLINE_MATCHING_PAYMENT_FOUND : Transaction.Status.OFFLINE_PENDING_REVIEW)`any());" is 228.,108
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManagerTest,internalMatchSingleTransaction,Magic Number,The method contains a magic number: 8,108
exteso_alf.io,alfio.manager.payment,RevolutBankTransferManagerTest,noMatches,Long Statement,The length of the statement "var result=revolutBankTransferManager.matchTransactions(pendingReservations`List.of(single)`new PaymentContext(event)`true);" is 124.,141
exteso_alf.io,alfio.manager.payment,DeferredBankTransferManagerTest,acceptPaymentRequest,Long Statement,The length of the statement "when(bankTransferManager.options(paymentContext)).thenReturn(Map.of(DEFERRED_BANK_TRANSFER_ENABLED`new MaybeConfiguration(DEFERRED_BANK_TRANSFER_ENABLED`new ConfigurationKeyValuePathLevel(DEFERRED_BANK_TRANSFER_ENABLED.name()`"true"`null))));" is 242.,57
exteso_alf.io,alfio.manager.payment,DeferredBankTransferManagerTest,acceptPaymentRequest,Long Statement,The length of the statement "assertFalse(deferredBankTransferManager.accept(PaymentMethod.BANK_TRANSFER`new PaymentContext()`TransactionRequest.empty()));" is 125.,57
exteso_alf.io,alfio.manager.payment,DeferredBankTransferManagerTest,doNotAcceptPaymentRequestBecauseFlagIsNotActive,Long Statement,The length of the statement "when(bankTransferManager.options(paymentContext)).thenReturn(Map.of(DEFERRED_BANK_TRANSFER_ENABLED`new MaybeConfiguration(DEFERRED_BANK_TRANSFER_ENABLED)));" is 156.,68
exteso_alf.io,alfio.manager.payment,DeferredBankTransferManagerTest,doPayment,Long Statement,The length of the statement "assertEquals(PaymentResult.successful(NOT_YET_PAID_TRANSACTION_ID)`deferredBankTransferManager.doPayment(paymentSpecification));" is 128.,78
exteso_alf.io,alfio.manager.payment,DeferredBankTransferManagerTest,doPayment,Magic Number,The method contains a magic number: 7,78
exteso_alf.io,alfio.manager.payment,DeferredBankTransferManagerTest,acceptTransaction,Long Statement,The length of the statement "when(ticketReservationRepository.findOptionalStatusAndValidationById(eq(reservationId))).thenReturn(Optional.of(new TicketReservationStatusAndValidation(DEFERRED_OFFLINE_PAYMENT`true))`Optional.of(new TicketReservationStatusAndValidation(OFFLINE_PAYMENT`true))`Optional.empty());" is 279.,88
exteso_alf.io,alfio.manager.payment,StripeCreditCardManagerTest,testCardExceptionHandler,Long Statement,The length of the statement "assertEquals("error.STEP2_STRIPE_houston_we_ve_a_problem"`baseStripeManager.handleException(new CardException(""`"abcd"`"houston_we_ve_a_problem"`"param"`null`null`null`null)));" is 177.,63
exteso_alf.io,alfio.manager.payment,StripeCreditCardManagerTest,testInvalidRequestExceptionHandler,Long Statement,The length of the statement "assertEquals("error.STEP2_STRIPE_invalid_param"`baseStripeManager.handleException(new InvalidRequestException("abcd"`"param"`null`null`null`null)));" is 148.,68
exteso_alf.io,alfio.manager.payment,StripeCreditCardManagerTest,testAuthenticationExceptionHandler,Long Statement,The length of the statement "assertEquals("error.STEP2_STRIPE_abort"`baseStripeManager.handleException(new AuthenticationException("abcd"`null`"401"`401)));" is 127.,73
exteso_alf.io,alfio.manager.payment,StripeCreditCardManagerTest,testAuthenticationExceptionHandler,Magic Number,The method contains a magic number: 401,73
exteso_alf.io,alfio.manager.payment,StripeCreditCardManagerTest,testUnexpectedError,Magic Number,The method contains a magic number: 42,83
exteso_alf.io,alfio.manager.payment,StripeCreditCardManagerTest,testMissingStripeConnectedId,Long Statement,The length of the statement "when(configurationManager.getFor(eq(PLATFORM_MODE_ENABLED)`any())).thenReturn(new ConfigurationManager.MaybeConfiguration(PLATFORM_MODE_ENABLED`new ConfigurationKeyValuePathLevel(null`"true"`null)));" is 199.,88
exteso_alf.io,alfio.manager.payment,StripeCreditCardManagerTest,testMissingStripeConnectedId,Long Statement,The length of the statement "when(configurationManager.getFor(eq(STRIPE_CONNECTED_ID)`any())).thenReturn(new ConfigurationManager.MaybeConfiguration(STRIPE_CONNECTED_ID));" is 142.,88
exteso_alf.io,alfio.manager.payment,StripeCreditCardManagerTest,stripeConfigurationIncompletePlatformModeOff,Long Statement,The length of the statement "when(configurationManager.getFor(EnumSet.of(PLATFORM_MODE_ENABLED`STRIPE_CC_ENABLED`STRIPE_CONNECTED_ID`STRIPE_ENABLE_SCA`STRIPE_SECRET_KEY`STRIPE_PUBLIC_KEY)`configurationLevel)).thenReturn(configuration);" is 206.,98
exteso_alf.io,alfio.manager.payment,StripeCreditCardManagerTest,stripeConfigurationIncompletePlatformModeOff,Long Statement,The length of the statement "assertFalse(stripeCreditCardManager.accept(PaymentMethod.CREDIT_CARD`new PaymentContext(null`configurationLevel)`TransactionRequest.empty()));" is 142.,98
exteso_alf.io,alfio.manager.payment,StripeCreditCardManagerTest,stripeConfigurationCompletePlatformModeOff,Long Statement,The length of the statement "when(configurationManager.getFor(EnumSet.of(PLATFORM_MODE_ENABLED`STRIPE_CC_ENABLED`STRIPE_CONNECTED_ID`STRIPE_ENABLE_SCA`STRIPE_SECRET_KEY`STRIPE_PUBLIC_KEY)`configurationLevel)).thenReturn(configuration);" is 206.,111
exteso_alf.io,alfio.manager.payment,StripeCreditCardManagerTest,stripeConfigurationCompletePlatformModeOff,Long Statement,The length of the statement "assertTrue(stripeCreditCardManager.accept(PaymentMethod.CREDIT_CARD`new PaymentContext(null`configurationLevel)`TransactionRequest.empty()));" is 141.,111
exteso_alf.io,alfio.manager.payment,StripeCreditCardManagerTest,stripeConfigurationIncompletePlatformModeOn,Long Statement,The length of the statement "when(configurationManager.getFor(EnumSet.of(PLATFORM_MODE_ENABLED`STRIPE_CC_ENABLED`STRIPE_CONNECTED_ID`STRIPE_ENABLE_SCA`STRIPE_SECRET_KEY`STRIPE_PUBLIC_KEY)`configurationLevel)).thenReturn(configuration);" is 206.,123
exteso_alf.io,alfio.manager.payment,StripeCreditCardManagerTest,stripeConfigurationIncompletePlatformModeOn,Long Statement,The length of the statement "assertFalse(stripeCreditCardManager.accept(PaymentMethod.CREDIT_CARD`new PaymentContext(null`configurationLevel)`TransactionRequest.empty()));" is 142.,123
exteso_alf.io,alfio.manager.payment,StripeCreditCardManagerTest,stripeConfigurationCompletePlatformModeOn,Long Statement,The length of the statement "when(configurationManager.getFor(EnumSet.of(PLATFORM_MODE_ENABLED`STRIPE_CC_ENABLED`STRIPE_CONNECTED_ID`STRIPE_ENABLE_SCA`STRIPE_SECRET_KEY`STRIPE_PUBLIC_KEY)`configurationLevel)).thenReturn(completeStripeConfiguration(false));" is 227.,134
exteso_alf.io,alfio.manager.payment,StripeCreditCardManagerTest,stripeConfigurationCompletePlatformModeOn,Long Statement,The length of the statement "assertTrue(stripeCreditCardManager.accept(PaymentMethod.CREDIT_CARD`new PaymentContext(null`configurationLevel)`TransactionRequest.empty()));" is 141.,134
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,setup,Long Statement,The length of the statement "stripeWebhookPaymentManager=new StripeWebhookPaymentManager(configurationManager`ticketRepository`transactionRepository`configurationRepository`ticketReservationRepository`eventRepository`auditingRepository`environment`TestUtil.clockProvider());" is 245.,75
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,ignoreNotRelevantTypes,Long Statement,The length of the statement "when(transactionWebhookPayload.getType()).thenReturn("charge.captured"`"charge.expired"`"payment_intent.amount_capturable_updated");" is 132.,98
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,ignoreNotRelevantTypes,Long Statement,The length of the statement "assertEquals(PaymentWebhookResult.Type.NOT_RELEVANT`stripeWebhookPaymentManager.processWebhook(transactionWebhookPayload`transaction`null).getType());" is 150.,98
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,ignoreNotRelevantTypes,Magic Number,The method contains a magic number: 4,98
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,transactionSucceeded,Long Statement,The length of the statement "when(ticketReservationRepository.findOptionalReservationById(eq(RESERVATION_ID))).thenReturn(Optional.of(ticketReservation));" is 125.,107
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,transactionSucceeded,Long Statement,The length of the statement "when(transactionRepository.updateIfStatus(eq(TRANSACTION_ID)`eq(CHARGE_ID)`eq(PAYMENT_ID)`any()`eq(0L)`eq(0L)`eq(Transaction.Status.COMPLETE)`eq(Map.of())`eq(Transaction.Status.PENDING))).thenReturn(1);" is 202.,107
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,transactionSucceeded,Long Statement,The length of the statement "var paymentWebhookResult=stripeWebhookPaymentManager.processWebhook(transactionWebhookPayload`transaction`paymentContext);" is 122.,107
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,transactionSucceeded,Long Statement,The length of the statement "verify(transactionRepository).updateIfStatus(eq(TRANSACTION_ID)`eq(CHARGE_ID)`eq(PAYMENT_ID)`any()`eq(0L)`eq(0L)`eq(Transaction.Status.COMPLETE)`eq(Map.of())`eq(Transaction.Status.PENDING));" is 190.,107
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,transactionSucceeded,Long Statement,The length of the statement "verify(auditingRepository).insert(eq(RESERVATION_ID)`isNull()`eq(event)`eq(Audit.EventType.PAYMENT_CONFIRMED)`any()`eq(Audit.EntityType.RESERVATION)`eq(RESERVATION_ID)`eq(List.of(changes)));" is 190.,107
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,transactionAlreadyConfirmed,Long Statement,The length of the statement "when(ticketReservationRepository.findOptionalReservationById(eq(RESERVATION_ID))).thenReturn(Optional.of(ticketReservation));" is 125.,134
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,transactionAlreadyConfirmed,Long Statement,The length of the statement "when(transactionRepository.updateIfStatus(eq(TRANSACTION_ID)`eq(CHARGE_ID)`eq(PAYMENT_ID)`any()`eq(0L)`eq(0L)`eq(Transaction.Status.COMPLETE)`eq(Map.of())`eq(Transaction.Status.PENDING))).thenReturn(0);" is 202.,134
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,transactionAlreadyConfirmed,Long Statement,The length of the statement "var paymentWebhookResult=stripeWebhookPaymentManager.processWebhook(transactionWebhookPayload`transaction`paymentContext);" is 122.,134
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,transactionAlreadyConfirmed,Long Statement,The length of the statement "verify(transactionRepository).updateIfStatus(eq(TRANSACTION_ID)`eq(CHARGE_ID)`eq(PAYMENT_ID)`any()`eq(0L)`eq(0L)`eq(Transaction.Status.COMPLETE)`eq(Map.of())`eq(Transaction.Status.PENDING));" is 190.,134
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,transactionAlreadyConfirmed,Long Statement,The length of the statement "verify(auditingRepository).insert(eq(RESERVATION_ID)`isNull()`eq(event)`eq(Audit.EventType.PAYMENT_ALREADY_CONFIRMED)`any()`eq(Audit.EntityType.RESERVATION)`eq(RESERVATION_ID)`eq(List.of(changes)));" is 198.,134
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,transactionFailed,Long Statement,The length of the statement "when(ticketReservationRepository.findOptionalReservationById(eq(RESERVATION_ID))).thenReturn(Optional.of(ticketReservation));" is 125.,161
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,transactionFailed,Long Statement,The length of the statement "var paymentWebhookResult=stripeWebhookPaymentManager.processWebhook(transactionWebhookPayload`transaction`paymentContext);" is 122.,161
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,transactionFailed,Long Statement,The length of the statement "verify(auditingRepository).insert(eq(RESERVATION_ID)`isNull()`eq(event)`eq(Audit.EventType.PAYMENT_FAILED)`any()`eq(Audit.EntityType.RESERVATION)`eq(RESERVATION_ID)`eq(List.of(changes)));" is 187.,161
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,doNotAcceptTestEventsOnLiveEnv,Long Statement,The length of the statement "when(ticketReservationRepository.findOptionalReservationById(eq(RESERVATION_ID))).thenReturn(Optional.of(ticketReservation));" is 125.,186
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,doNotAcceptTestEventsOnLiveEnv,Long Statement,The length of the statement "var paymentWebhookResult=stripeWebhookPaymentManager.processWebhook(transactionWebhookPayload`transaction`paymentContext);" is 122.,186
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,doNotAcceptTestEventsOnLiveEnv,Long Statement,The length of the statement "verify(transactionRepository`never()).update(eq(TRANSACTION_ID)`eq(CHARGE_ID)`eq(PAYMENT_ID)`any()`eq(0L)`eq(0L)`eq(Transaction.Status.COMPLETE)`eq(Map.of()));" is 159.,186
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,doNotAcceptTestEventsOnLiveEnv,Long Statement,The length of the statement "verify(auditingRepository`never()).insert(eq(RESERVATION_ID)`isNull()`eq(EVENT_ID)`eq(Audit.EventType.PAYMENT_CONFIRMED)`any()`eq(Audit.EntityType.RESERVATION)`eq(RESERVATION_ID)`anyList());" is 190.,186
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,stripeConfigurationIncompletePlatformModeOff,Long Statement,The length of the statement "when(configurationManager.getFor(EnumSet.of(STRIPE_ENABLE_SCA`BASE_URL`STRIPE_WEBHOOK_PAYMENT_KEY`STRIPE_CC_ENABLED`PLATFORM_MODE_ENABLED`STRIPE_CONNECTED_ID)`configurationLevel)).thenReturn(configuration);" is 206.,211
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,stripeConfigurationIncompletePlatformModeOff,Long Statement,The length of the statement "assertFalse(stripeWebhookPaymentManager.accept(PaymentMethod.CREDIT_CARD`new PaymentContext(null`configurationLevel)`TransactionRequest.empty()));" is 146.,211
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,stripeConfigurationCompletePlatformModeOff,Long Statement,The length of the statement "when(configurationManager.getFor(EnumSet.of(STRIPE_ENABLE_SCA`BASE_URL`STRIPE_WEBHOOK_PAYMENT_KEY`STRIPE_CC_ENABLED`PLATFORM_MODE_ENABLED`STRIPE_CONNECTED_ID)`configurationLevel)).thenReturn(configuration);" is 206.,224
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,stripeConfigurationCompletePlatformModeOff,Long Statement,The length of the statement "assertTrue(stripeWebhookPaymentManager.accept(PaymentMethod.CREDIT_CARD`new PaymentContext(null`configurationLevel)`TransactionRequest.empty()));" is 145.,224
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,stripeConfigurationIncompletePlatformModeOn,Long Statement,The length of the statement "when(configurationManager.getFor(EnumSet.of(STRIPE_ENABLE_SCA`BASE_URL`STRIPE_WEBHOOK_PAYMENT_KEY`STRIPE_CC_ENABLED`PLATFORM_MODE_ENABLED`STRIPE_CONNECTED_ID)`configurationLevel)).thenReturn(configuration);" is 206.,236
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,stripeConfigurationIncompletePlatformModeOn,Long Statement,The length of the statement "assertFalse(stripeWebhookPaymentManager.accept(PaymentMethod.CREDIT_CARD`new PaymentContext(null`configurationLevel)`TransactionRequest.empty()));" is 146.,236
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,doNotConsiderConnectedIdIfConfigurationLevelIsSystem,Long Statement,The length of the statement "when(configurationManager.getFor(EnumSet.of(STRIPE_ENABLE_SCA`BASE_URL`STRIPE_WEBHOOK_PAYMENT_KEY`STRIPE_CC_ENABLED`PLATFORM_MODE_ENABLED`STRIPE_CONNECTED_ID)`configurationLevel)).thenReturn(configuration);" is 206.,247
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,doNotConsiderConnectedIdIfConfigurationLevelIsSystem,Long Statement,The length of the statement "assertTrue(stripeWebhookPaymentManager.accept(PaymentMethod.CREDIT_CARD`new PaymentContext(null`configurationLevel)`TransactionRequest.empty()));" is 145.,247
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,stripeConfigurationCompletePlatformModeOn,Long Statement,The length of the statement "when(configurationManager.getFor(EnumSet.of(STRIPE_ENABLE_SCA`BASE_URL`STRIPE_WEBHOOK_PAYMENT_KEY`STRIPE_CC_ENABLED`PLATFORM_MODE_ENABLED`STRIPE_CONNECTED_ID)`configurationLevel)).thenReturn(completeStripeConfiguration(true));" is 226.,258
exteso_alf.io,alfio.manager.payment,StripeWebhookPaymentManagerTest,stripeConfigurationCompletePlatformModeOn,Long Statement,The length of the statement "assertTrue(stripeWebhookPaymentManager.accept(PaymentMethod.CREDIT_CARD`new PaymentContext(null`configurationLevel)`TransactionRequest.empty()));" is 145.,258
exteso_alf.io,alfio.manager.i18n,MessageSourceManager,getMessageSourceForPurchaseContextAndOverride,Long Statement,The length of the statement "Map<String`Map<String`String>> override=purchaseContext.event().map(event -> configurationRepository.getEventOverrideMessages(event.getOrganizationId()`event.getId())).orElseGet(() -> configurationRepository.getOrganizationOverrideMessages(purchaseContext.getOrganizationId()));" is 278.,53
exteso_alf.io,alfio.manager.i18n,MessageSourceManager,getBundleAsMap,Long Statement,The length of the statement "return getKeys(baseName`locale).stream().collect(Collectors.toMap(Function.identity()`k -> convertPlaceholder(messageSource.getMessage(k`EMPTY_ARRAY`locale))));" is 160.,101
exteso_alf.io,alfio.manager.i18n,MessageSourceManager,cleanTranslationsForFrontend,Long Statement,The length of the statement "return translations.entrySet().stream().map(entry -> Pair.of(entry.getKey()`cleanArguments(entry.getValue()`"{{$1}}").replaceAll("''"`"'"))).collect(Collectors.toMap(Pair::getKey`Pair::getValue));" is 196.,134
exteso_alf.io,alfio.manager.i18n,MessageSourceManagerIntegrationTest,ensureConfiguration,Long Statement,The length of the statement "List<TicketCategoryModification> categories=List.of(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock()).minusDays(1)`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(1)`LocalTime.now(ClockProvider.clock()))`Map.of("en"`"desc")`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 490.,86
exteso_alf.io,alfio.manager.i18n,MessageSourceManagerIntegrationTest,testEventOverride,Long Statement,The length of the statement "configurationRepository.insert("TRANSLATION_OVERRIDE"`json.asJsonString(Map.of("en"`Map.of("common.vat"`"SYSTEM.vat")))`"");" is 124.,111
exteso_alf.io,alfio.manager.i18n,MessageSourceManagerIntegrationTest,testEventOverride,Long Statement,The length of the statement "configurationRepository.insertOrganizationLevel(event.getOrganizationId()`"TRANSLATION_OVERRIDE"`json.asJsonString(Map.of("en"`Map.of("common.vat"`"ORG.vat {0}")))`"");" is 168.,111
exteso_alf.io,alfio.manager.i18n,MessageSourceManagerIntegrationTest,testEventOverride,Long Statement,The length of the statement "assertEquals("ORG.vat 42"`messageSourceManager.getMessageSourceFor(event).getMessage("common.vat"`new String[]{"42"}`Locale.ENGLISH));" is 134.,111
exteso_alf.io,alfio.manager.i18n,MessageSourceManagerIntegrationTest,testEventOverride,Long Statement,The length of the statement "configurationRepository.insertEventLevel(event.getOrganizationId()`event.getId()`"TRANSLATION_OVERRIDE"`json.asJsonString(Map.of("en"`Map.of("common.vat"`"EVENT.vat")))`"");" is 173.,111
exteso_alf.io,alfio.manager.i18n,MessageSourceManagerTest,cleanTranslationsForFrontend,Long Statement,The length of the statement "assertEquals(Map.of("key1"`"blabla{{1}}"`"key2"`"blabla{{1}}"`"key3"`"don't stop me{{0}}"`"key4"`"don't stop me{{0}}")`MessageSourceManager.cleanTranslationsForFrontend(input));" is 177.,27
exteso_alf.io,alfio.manager.support,PaymentResult,toString,Long Statement,The length of the statement "return new ToStringBuilder(this).append("type"`type).append("gatewayId"`gatewayId).append("errorCode"`errorCode).append("redirectUrl"`redirectUrl).toString();" is 158.,105
exteso_alf.io,alfio.manager.support,PaymentResult,equals,Long Statement,The length of the statement "return type == that.type && Objects.equals(gatewayId`that.gatewayId) && Objects.equals(errorCode`that.errorCode) && Objects.equals(redirectUrl`that.redirectUrl);" is 161.,115
exteso_alf.io,alfio.manager.support,CategoryEvaluator,ticketCancellationAvailabilityChecker,Long Statement,The length of the statement "return ticket -> ticket.getStatus() == Ticket.TicketStatus.ACQUIRED && (!ticketCategoryRepository.getByIdAndActive(ticket.getCategoryId()`ticket.getEventId()).isAccessRestricted() || ticketCategoryRepository.countUnboundedCategoriesByEventId(ticket.getEventId()) > 0);" is 268.,28
exteso_alf.io,alfio.manager.support,CustomMessageManager,CustomMessageManager,Long Parameter List,The method has 10 parameters. ,66
exteso_alf.io,alfio.manager.support,CustomMessageManager,generatePreview,Long Statement,The length of the statement "result.put("affectedUsers"`categoryId.map(id -> ticketRepository.countAssignedTickets(event.getId()`id)).orElseGet(() -> ticketRepository.countAllAssigned(event.getId())));" is 172.,88
exteso_alf.io,alfio.manager.support,CustomMessageManager,sendMessages,Complex Conditional,The conditional expression optionalReservation.isPresent() && optionalTicketCategory.isPresent() && EventUtil.isAccessOnline(optionalTicketCategory.get()`event) is complex.,96
exteso_alf.io,alfio.manager.support,CustomMessageManager,sendMessages,Long Statement,The length of the statement "Map<String`List<MessageModification>> byLanguage=input.stream().collect(Collectors.groupingBy(m -> m.getLocale().getLanguage()));" is 129.,96
exteso_alf.io,alfio.manager.support,CustomMessageManager,sendMessages,Long Statement,The length of the statement "categoryId.map(id -> ticketRepository.findConfirmedByCategoryId(event.getId()`id)).orElseGet(() -> ticketRepository.findAllConfirmed(event.getId())).stream().filter(t -> isNotBlank(t.getFullName()) && isNotBlank(t.getEmail())).parallel().map(t -> {" is 248.,96
exteso_alf.io,alfio.manager.support,CustomMessageManager,sendMessages,Long Statement,The length of the statement "MessageModification m=Optional.ofNullable(byLanguage.get(ticket.getUserLanguage())).orElseGet(() -> byLanguage.get(byLanguage.keySet().stream().findFirst().orElseThrow(IllegalStateException::new))).get(0);" is 205.,96
exteso_alf.io,alfio.manager.support,CustomMessageManager,sendMessages,Long Statement,The length of the statement "if (optionalReservation.isPresent() && optionalTicketCategory.isPresent() && EventUtil.isAccessOnline(optionalTicketCategory.get()`event)) {" is 140.,96
exteso_alf.io,alfio.manager.support,CustomMessageManager,sendMessages,Long Statement,The length of the statement "var onlineCheckInModel=new HashMap<>(TicketCheckInUtil.getOnlineCheckInInfo(extensionManager`eventRepository`ticketCategoryRepository`configurationManager`event`Locale.forLanguageTag(ticket.getUserLanguage())`ticket`categoriesById.get(ticket.getCategoryId())`ticketReservationManager.retrieveAttendeeAdditionalInfoForTicket(ticket)));" is 334.,96
exteso_alf.io,alfio.manager.support,CustomMessageManager,sendMessages,Long Statement,The length of the statement "onlineCheckInModel.putAll(getModelForTicket(ticket`optionalReservation.get()`optionalTicketCategory.get()`organization));" is 121.,96
exteso_alf.io,alfio.manager.support,CustomMessageManager,sendMessages,Long Statement,The length of the statement "text.append(notificationManager.buildOnlineCheckInText(onlineCheckInModel`Locale.forLanguageTag(ticket.getUserLanguage())`messageSource));" is 138.,96
exteso_alf.io,alfio.manager.support,CustomMessageManager,sendMessages,Long Statement,The length of the statement "notificationManager.sendSimpleEmail(event`ticket.getTicketsReservationId()`triple.getMiddle()`subject`() -> RenderedTemplate.plaintext(text.toString()`templateModel)`attachments);" is 179.,96
exteso_alf.io,alfio.manager.support,CustomMessageManager,preview,Long Statement,The length of the statement "return input.stream().map(m -> MessageModification.preview(m`renderResource(m.getSubject()`event`model`m.getLocale()`templateManager)`renderResource(m.getText()`event`model`m.getLocale()`templateManager)`m.isAttachTicket())).collect(Collectors.toList());" is 254.,164
exteso_alf.io,alfio.manager.support,CustomMessageManager,generateTicketAttachment,Long Statement,The length of the statement "return new Mailer.Attachment("ticket-" + ticket.getUuid() + ".pdf"`null`MediaType.APPLICATION_PDF_VALUE`model`Mailer.AttachmentIdentifier.TICKET_PDF);" is 150.,181
exteso_alf.io,alfio.manager.support,CustomMessageManager,generateCalendarAttachmentForOnlineEvent,Long Parameter List,The method has 11 parameters. ,195
exteso_alf.io,alfio.manager.support,CustomMessageManager,generateCalendarAttachmentForOnlineEvent,Long Statement,The length of the statement "model.putAll(TicketCheckInUtil.getOnlineCheckInInfo(extensionManager`eventRepository`ticketCategoryRepository`configurationManager`event`attachmentLanguage`ticket`ticketCategory`ticketAdditionalInfo));" is 201.,195
exteso_alf.io,alfio.manager.support,CustomMessageManager,renderResource,Long Parameter List,The method has 5 parameters. ,225
exteso_alf.io,alfio.manager.support,FeeCalculator,FeeCalculator,Long Parameter List,The method has 6 parameters. ,42
exteso_alf.io,alfio.manager.support,FeeCalculator,calculate,Long Statement,The length of the statement "long maxFee=maxFeeDefined ? MonetaryUtil.unitToCents(maximumFee`currencyCode`BigDecimal::longValueExact) * numTickets : Long.MAX_VALUE;" is 135.,52
exteso_alf.io,alfio.manager.support,FeeCalculator,getCalculator,Long Statement,The length of the statement "var fees=configurationManager.getFor(Set.of(PLATFORM_FIXED_FEE`PLATFORM_PERCENTAGE_FEE`PLATFORM_MINIMUM_FEE`PLATFORM_MAXIMUM_FEE)`configurable.getConfigurationLevel());" is 168.,60
exteso_alf.io,alfio.manager.support,FeeCalculator,getCalculator,Long Statement,The length of the statement "return Optional.of(new FeeCalculator(fixedFee`percentageFee`minimumFee`maximumFee`currencyCode`numTickets).calculate(amountInCent));" is 132.,60
exteso_alf.io,alfio.manager.support,FeeCalculator,isPlatformModeEnabled,Long Statement,The length of the statement "return configurationManager.getFor(PLATFORM_MODE_ENABLED`configurable.getConfigurationLevel()).getValueAsBooleanOrDefault();" is 124.,74
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,setUp,Long Statement,The length of the statement "when(configurationManager.getFor(eq(PLATFORM_MODE_ENABLED)`any())).thenReturn(new MaybeConfiguration(PLATFORM_MODE_ENABLED`new ConfigurationKeyValuePathLevel(PLATFORM_MODE_ENABLED.name()`"true"`null)));" is 202.,42
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,calculatePercentageFee,Magic Number,The method contains a magic number: 100_00L,49
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,calculatePercentageFee,Magic Number,The method contains a magic number: 5_00L,49
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,calculatePercentageFee,Magic Number,The method contains a magic number: 5,49
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,calculatePercentageFee,Magic Number,The method contains a magic number: 500_00L,49
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,calculatePercentageFee,Magic Number,The method contains a magic number: 25_00L,49
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,calculatePercentageFeeWithPercentSign,Magic Number,The method contains a magic number: 100_00L,56
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,calculatePercentageFeeWithPercentSign,Magic Number,The method contains a magic number: 5_00L,56
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,calculatePercentageFeeWithPercentSign,Magic Number,The method contains a magic number: 5,56
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,calculatePercentageFeeWithPercentSign,Magic Number,The method contains a magic number: 500_00L,56
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,calculatePercentageFeeWithPercentSign,Magic Number,The method contains a magic number: 25_00L,56
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,calculateFixedFee,Magic Number,The method contains a magic number: 1_00L,63
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,calculateFixedFee,Magic Number,The method contains a magic number: 10_00L,63
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,calculateFixedFee,Magic Number,The method contains a magic number: 1_00L,63
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,calculateFixedFee,Magic Number,The method contains a magic number: 10_00L,63
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,calculateFixedFee,Magic Number,The method contains a magic number: 1_00L,63
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,calculateFixedFee,Magic Number,The method contains a magic number: 10_00L,63
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,calculateFixedFee,Magic Number,The method contains a magic number: 5,63
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,calculateFixedFee,Magic Number,The method contains a magic number: 5_00L,63
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,calculateFixedFee,Magic Number,The method contains a magic number: 50_00L,63
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,calculatePercentageAndFixedFee,Magic Number,The method contains a magic number: 100_00L,72
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,calculatePercentageAndFixedFee,Magic Number,The method contains a magic number: 15_00L,72
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,calculatePercentageAndFixedFee,Magic Number,The method contains a magic number: 5,72
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,calculatePercentageAndFixedFee,Magic Number,The method contains a magic number: 500_00L,72
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,calculatePercentageAndFixedFee,Magic Number,The method contains a magic number: 75_00L,72
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,applyMinimumFee,Magic Number,The method contains a magic number: 10_00L,79
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,applyMinimumFee,Magic Number,The method contains a magic number: 50L,79
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,applyMinimumFee,Magic Number,The method contains a magic number: 5,79
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,applyMinimumFee,Magic Number,The method contains a magic number: 500_00L,79
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,applyMinimumFee,Magic Number,The method contains a magic number: 5_00L,79
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,applyMaximumFee,Magic Number,The method contains a magic number: 10_00L,86
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,applyMaximumFee,Magic Number,The method contains a magic number: 10L,86
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,applyMaximumFee,Magic Number,The method contains a magic number: 5,86
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,applyMaximumFee,Magic Number,The method contains a magic number: 500_00L,86
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,applyMaximumFee,Magic Number,The method contains a magic number: 5_00L,86
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,applyMaximumFee,Magic Number,The method contains a magic number: 500_00L,86
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,applyMaximumFee,Magic Number,The method contains a magic number: 2_00L,86
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,testCombinations,Magic Number,The method contains a magic number: 100_00L,94
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,testCombinations,Magic Number,The method contains a magic number: 3_50L,94
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,testCombinations,Magic Number,The method contains a magic number: 1000_00L,94
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,testCombinations,Magic Number,The method contains a magic number: 20_00L,94
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,testCombinations,Magic Number,The method contains a magic number: 834_00L,94
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,testCombinations,Magic Number,The method contains a magic number: 20_00L,94
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,testCombinations,Magic Number,The method contains a magic number: 2,94
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,testCombinations,Magic Number,The method contains a magic number: 1680_00L,94
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,testCombinations,Magic Number,The method contains a magic number: 40_00L,94
exteso_alf.io,alfio.manager.support,FeeCalculatorTest,initFeesConfiguration,Long Statement,The length of the statement "when(configurationManager.getFor(eq(Set.of(PLATFORM_FIXED_FEE`PLATFORM_PERCENTAGE_FEE`PLATFORM_MINIMUM_FEE`PLATFORM_MAXIMUM_FEE))`any())).thenReturn(Map.of(PLATFORM_FIXED_FEE`new MaybeConfiguration(PLATFORM_FIXED_FEE`new ConfigurationKeyValuePathLevel(null`fixedFee`null))`PLATFORM_PERCENTAGE_FEE`new MaybeConfiguration(PLATFORM_PERCENTAGE_FEE`new ConfigurationKeyValuePathLevel(null`percentageFee`null))`PLATFORM_MINIMUM_FEE`new MaybeConfiguration(PLATFORM_MINIMUM_FEE`new ConfigurationKeyValuePathLevel(null`minimumFee`null))`PLATFORM_MAXIMUM_FEE`new MaybeConfiguration(PLATFORM_MAXIMUM_FEE`new ConfigurationKeyValuePathLevel(null`maximumFee`null))));" is 653.,103
exteso_alf.io,alfio.manager.support.response,ValidatedResponse,toResponse,Long Statement,The length of the statement "return new ValidationResult.ErrorDescriptor(objectError.getObjectName()`""`objectError.getCode()`objectError.getArguments());" is 125.,41
exteso_alf.io,alfio.manager.support.response,ValidatedResponse,fromResult,Long Statement,The length of the statement "var transformed=result.getErrors().stream().map(ec -> new ValidationResult.ErrorDescriptor(objectName`""`ec.getCode())).toList();" is 129.,55
exteso_alf.io,alfio.manager.support.response,ValidatedResponse,getValidationErrors,Long Statement,The length of the statement "return validationResult.getValidationErrors().stream().map(ed -> new ErrorDescriptor(ed.getFieldName()`ed.getCode()`fromArray(ed.getArguments()))).toList();" is 156.,74
exteso_alf.io,alfio.manager.openid,OpenIdConfiguration,OpenIdConfiguration,Long Parameter List,The method has 13 parameters. ,49
exteso_alf.io,alfio.manager.openid,OpenIdConfiguration,from,Long Statement,The length of the statement "var baseUrl=removeEnd(configurationManager.getFor(ConfigurationKeys.BASE_URL`ConfigurationLevel.system()).getRequiredValue()`"/");" is 130.,78
exteso_alf.io,alfio.manager.openid,OpenIdConfiguration,from,Long Statement,The length of the statement "return new OpenIdConfiguration(environment.getProperty("openid.domain")`environment.getProperty("openid.clientId")`environment.getProperty("openid.clientSecret")`environment.getProperty("openid.callbackURI"`baseUrl + "/callback")`environment.getProperty("openid.authenticationUrl")`environment.getProperty("openid.tokenEndpoint"`"/authorize")`environment.getProperty("openid.givenNameClaim")`environment.getProperty("openid.familyNameClaim")`environment.getProperty("openid.contentType"`"application/x-www-form-urlencoded")`environment.getProperty("openid.rolesParameter")`environment.getProperty("openid.alfioGroupsParameter")`environment.getProperty("openid.logoutUrl")`environment.getProperty("openid.logoutRedirectUrl"`baseUrl + "/admin"));" is 744.,78
exteso_alf.io,alfio.manager.openid,OpenIdConfiguration,toString,Long Statement,The length of the statement "return "OpenIdConfiguration(domain=" + this.getDomain() + "` clientId="+ (isNotBlank(this.getClientId()) ? "<redacted>" : "missing")+ "` clientSecret="+ (isNotBlank(this.getClientSecret()) ? "<redacted>" : "missing")+ "` callbackURI="+ this.getCallbackURI()+ "` authenticationUrl="+ this.getAuthenticationUrl()+ "` tokenEndpoint="+ this.getTokenEndpoint()+ "` contentType="+ this.getContentType()+ "` rolesParameter="+ this.getRolesParameter()+ "` alfioGroupsParameter="+ this.getAlfioGroupsParameter()+ "` logoutUrl="+ this.getLogoutUrl()+ "` logoutRedirectUrl="+ this.getLogoutRedirectUrl()+ ")";" is 598.,97
exteso_alf.io,alfio.manager.openid,PublicOpenIdAuthenticationManager,PublicOpenIdAuthenticationManager,Long Parameter List,The method has 11 parameters. ,45
exteso_alf.io,alfio.manager.openid,PublicOpenIdAuthenticationManager,PublicOpenIdAuthenticationManager,Long Statement,The length of the statement "super(httpClient`userManager`userRepository`authorityRepository`organizationRepository`userOrganizationRepository`jdbcTemplate`passwordEncoder`json);" is 149.,45
exteso_alf.io,alfio.manager.openid,PublicOpenIdAuthenticationManager,openIdConfiguration,Long Statement,The length of the statement "return Json.fromJson(configurationManager.getPublicOpenIdConfiguration().get(OPENID_CONFIGURATION_JSON).getValueOrNull()`OpenIdConfiguration.class);" is 148.,72
exteso_alf.io,alfio.manager.openid,AdminOpenIdAuthenticationManager,AdminOpenIdAuthenticationManager,Long Parameter List,The method has 11 parameters. ,50
exteso_alf.io,alfio.manager.openid,AdminOpenIdAuthenticationManager,AdminOpenIdAuthenticationManager,Long Statement,The length of the statement "super(httpClient`userManager`userRepository`authorityRepository`organizationRepository`userOrganizationRepository`jdbcTemplate`passwordEncoder`json);" is 149.,50
exteso_alf.io,alfio.manager.openid,AdminOpenIdAuthenticationManager,fromToken,Long Identifier,The length of the identifier alfioOrganizationAuthorizationsRaw is 34.,73
exteso_alf.io,alfio.manager.openid,AdminOpenIdAuthenticationManager,fromToken,Long Identifier,The length of the identifier alfioOrganizationAuthorizations is 31.,73
exteso_alf.io,alfio.manager.openid,AdminOpenIdAuthenticationManager,fromToken,Long Statement,The length of the statement "List<String> alfioOrganizationAuthorizationsRaw=idTokenClaims.get(openIdConfiguration().getAlfioGroupsParameter()).asList(String.class);" is 136.,73
exteso_alf.io,alfio.manager.openid,AdminOpenIdAuthenticationManager,extractAlfioRoles,Long Identifier,The length of the parameter alfioOrganizationAuthorizations is 31.,110
exteso_alf.io,alfio.manager.openid,AdminOpenIdAuthenticationManager,extractAlfioRoles,Long Statement,The length of the statement "alfioOrganizationAuthorizations.keySet().stream().map(alfioOrganizationAuthorizations::get).forEach(authorizations -> authorizations.stream().map(auth -> Role.fromRoleName("ROLE_" + auth)).forEach(alfioRoles::add));" is 215.,110
exteso_alf.io,alfio.manager.openid,AdminOpenIdAuthenticationManager,getScopes,Long Statement,The length of the statement "return List.of("openid"`"email"`"profile"`openIdConfiguration.getRolesParameter()`openIdConfiguration.getAlfioGroupsParameter()`openIdConfiguration.getGivenNameClaim()`openIdConfiguration.getFamilyNameClaim());" is 210.,121
exteso_alf.io,alfio.manager.openid,AdminOpenIdAuthenticationManager,extractOrganizationRoles,Long Identifier,The length of the parameter alfioOrganizationAuthorizationsRaw is 34.,144
exteso_alf.io,alfio.manager.openid,AdminOpenIdAuthenticationManager,extractOrganizationRoles,Long Identifier,The length of the identifier alfioOrganizationAuthorizations is 31.,144
exteso_alf.io,alfio.manager.openid,AdminOpenIdAuthenticationManager,extractOrganizationRoles,Magic Number,The method contains a magic number: 2,144
exteso_alf.io,alfio.manager.openid,BaseOpenIdAuthenticationManager,BaseOpenIdAuthenticationManager,Long Parameter List,The method has 9 parameters. ,78
exteso_alf.io,alfio.manager.openid,BaseOpenIdAuthenticationManager,createOrRetrieveUser,Long Statement,The length of the statement "var result=userRepository.create(user.getEmail()`passwordEncoder.encode(PasswordGenerator.generateRandomPassword())`retrieveClaimOrBlank(idTokenClaims`configuration.getGivenNameClaim())`retrieveClaimOrBlank(idTokenClaims`configuration.getFamilyNameClaim())`user.getEmail()`true`getUserType()`null`null);" is 303.,125
exteso_alf.io,alfio.manager.openid,BaseOpenIdAuthenticationManager,createOrRetrieveUser,Long Statement,The length of the statement "List<GrantedAuthority> authorities=user.getAlfioRoles().stream().map(Role::getRoleName).map(SimpleGrantedAuthority::new).collect(Collectors.toList());" is 150.,125
exteso_alf.io,alfio.manager.openid,BaseOpenIdAuthenticationManager,createOrRetrieveUser,Long Statement,The length of the statement "return new OpenIdAlfioAuthentication(authorities`user.getIdToken()`user.getSubject()`user.getEmail()`buildLogoutUrl()`user.isPublicUser());" is 139.,125
exteso_alf.io,alfio.manager.openid,BaseOpenIdAuthenticationManager,updateOrganizations,Long Statement,The length of the statement "var databaseOrganizationIds=organizationRepository.findAllForUser(alfioUser.getEmail()).stream().map(Organization::getId).collect(Collectors.toSet());" is 150.,169
exteso_alf.io,alfio.manager.openid,BaseOpenIdAuthenticationManager,updateOrganizations,Long Statement,The length of the statement "var organizationsToUnlink=databaseOrganizationIds.stream().filter(orgId -> !organizationIds.contains(orgId)).collect(Collectors.toSet());" is 137.,169
exteso_alf.io,alfio.manager.openid,BaseOpenIdAuthenticationManager,updateOrganizations,Long Statement,The length of the statement "var params=organizationIds.stream().filter(orgId -> !databaseOrganizationIds.contains(orgId)).map(id -> new MapSqlParameterSource("userId"`userId).addValue("organizationId"`id)).toArray(MapSqlParameterSource[]::new);" is 216.,169
exteso_alf.io,alfio.manager.openid,BaseOpenIdAuthenticationManager,updateRoles,Long Statement,The length of the statement "var rolesToAdd=roles.stream().map(r -> new MapSqlParameterSource("username"`username).addValue("role"`r.getRoleName())).toArray(MapSqlParameterSource[]::new);" is 158.,207
exteso_alf.io,alfio.manager.openid,BaseOpenIdAuthenticationManager,buildAuthorizeUrl,Long Statement,The length of the statement "UriComponents uri=UriComponentsBuilder.newInstance().scheme(HTTPS).host(openIdConfiguration().getDomain()).path(openIdConfiguration().getAuthenticationUrl()).queryParam(REDIRECT_URI`openIdConfiguration().getCallbackURI()).queryParam("client_id"`openIdConfiguration().getClientId()).queryParam("state"`state).queryParam("scope"`scopeParameter).queryParam("response_type"`"code").build();" is 386.,221
exteso_alf.io,alfio.manager.openid,BaseOpenIdAuthenticationManager,buildClaimsRetrieverUrl,Long Statement,The length of the statement "UriComponents uri=UriComponentsBuilder.newInstance().scheme(HTTPS).host(openIdConfiguration().getDomain()).path(openIdConfiguration().getTokenEndpoint()).build();" is 162.,239
exteso_alf.io,alfio.manager.openid,BaseOpenIdAuthenticationManager,buildLogoutUrl,Long Statement,The length of the statement "UriComponents uri=UriComponentsBuilder.newInstance().scheme(HTTPS).host(openIdConfiguration().getDomain()).path(openIdConfiguration().getLogoutUrl()).queryParam(REDIRECT_URI`openIdConfiguration().getLogoutRedirectUrl()).build();" is 228.,249
exteso_alf.io,alfio.manager.openid,BaseOpenIdAuthenticationManager,buildAccessTokenUrlJson,Long Statement,The length of the statement "Map<String`String> body=Map.of("grant_type"`"authorization_code"`"code"`code`"client_id"`openIdConfiguration().getClientId()`"client_secret"`openIdConfiguration().getClientSecret()`REDIRECT_URI`openIdConfiguration().getCallbackURI());" is 234.,272
exteso_alf.io,alfio.manager.openid,BaseOpenIdAuthenticationManager,buildAccessTokenUrlForm,Long Statement,The length of the statement "return "grant_type=authorization_code" + "&code=" + code + "&client_id="+ openIdConfiguration().getClientId()+ "&client_secret="+ openIdConfiguration().getClientSecret()+ "&redirect_uri="+ openIdConfiguration().getCallbackURI();" is 228.,283
exteso_alf.io,alfio.manager.openid,BaseOpenIdAuthenticationManager,retrieveAccessToken,Long Statement,The length of the statement "HttpRequest request=HttpRequest.newBuilder().uri(URI.create(buildClaimsRetrieverUrl())).header("Content-Type"`openIdConfiguration().getContentType()).POST(HttpRequest.BodyPublishers.ofString(buildRetrieveClaimsUrlBody(code))).build();" is 234.,291
exteso_alf.io,alfio.job.executor,BillingDocumentJobExecutor,BillingDocumentJobExecutor,Long Parameter List,The method has 5 parameters. ,45
exteso_alf.io,alfio.job.executor,BillingDocumentJobExecutor,process,Long Statement,The length of the statement "Pattern.compile("`").splitAsStream(Objects.requireNonNull((String)metadata.get("ids"))).map(String::trim).map(Long::valueOf).forEach(id -> {" is 140.,62
exteso_alf.io,alfio.job.executor,BillingDocumentJobExecutor,process,Long Statement,The length of the statement "billingDocumentManager.createBillingDocument(event`reservation`username`ticketReservationManager.orderSummaryForReservation(reservation`event));" is 144.,62
exteso_alf.io,alfio.job.executor,BillingDocumentJobExecutor,process,Long Statement,The length of the statement "notificationManager.sendSimpleEmail(event`null`organization.getEmail()`"Invoice Regeneration complete"`() -> RenderedTemplate.plaintext("Invoice regeneration for event " + event.getDisplayName() + " is now complete. "+ counter.get()+ " invoices generated."`Map.of()));" is 268.,62
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutor,AssignTicketToSubscriberJobExecutor,Long Parameter List,The method has 6 parameters. ,64
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutor,process,Long Statement,The length of the statement "var subscriptionsByEvent=subscriptionRepository.loadAvailableSubscriptionsByEvent((Integer)metadata.get(EVENT_ID)`(Integer)metadata.get(ORGANIZATION_ID));" is 154.,83
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutor,process,Long Statement,The length of the statement "boolean generationEnabled=configurationManager.getFor(GENERATE_TICKETS_FOR_SUBSCRIPTIONS`event.getConfigurationLevel()).getValueAsBooleanOrDefault();" is 149.,83
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutor,process,Long Statement,The length of the statement "var requestId=String.format("AUTO_%s_%s"`event.getShortName()`LocalDateTime.now(clockProvider.getClock()).format(DateTimeFormatter.ISO_DATE_TIME));" is 147.,83
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutor,buildBody,Long Statement,The length of the statement "return new AdminReservationModification(new DateTimeModification(LocalDate.now(clock)`LocalTime.now(clock).plus(5L`ChronoUnit.MINUTES))`new CustomerData(""`""`""`null`""`null`null`null`null)`List.of(new TicketsInfo(new Category(category.getId()`category.getName()`category.getPrice()`category.getTicketAccessType())`toAttendees(subscriptions)`false`false))`event.getContentLanguages().get(0).getLanguage()`false`false`null`new Notification(false`true)`null`null);" is 463.,123
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutor,buildBody,Magic Number,The method contains a magic number: 5L,123
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutor,toAttendees,Long Statement,The length of the statement "return subscriptions.stream().map(s -> new Attendee(null`s.getFirstName()`s.getLastName()`s.getEmailAddress()`s.getUserLanguage()`false`s.getSubscriptionId() + "_auto"`s.getSubscriptionId()`Map.of())).collect(Collectors.toList());" is 230.,146
exteso_alf.io,alfio.job.executor,ReservationJobExecutor,getJobNames,Long Statement,The length of the statement "return EnumSet.of(CHECK_OFFLINE_PAYMENTS`SEND_TICKET_ASSIGNMENT_REMINDER`SEND_OFFLINE_PAYMENT_REMINDER`SEND_OFFLINE_PAYMENT_TO_ORGANIZER);" is 138.,38
exteso_alf.io,alfio.job.executor,ReservationJobExecutor,process,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@5f4ca3ab,48
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutorIntegrationTest,AssignTicketToSubscriberJobExecutorIntegrationTest,Long Identifier,The length of the parameter adminReservationRequestRepository is 33.,96
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutorIntegrationTest,AssignTicketToSubscriberJobExecutorIntegrationTest,Long Identifier,The length of the parameter adminReservationRequestManager is 30.,96
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutorIntegrationTest,AssignTicketToSubscriberJobExecutorIntegrationTest,Long Identifier,The length of the field adminReservationRequestRepository is 33.,96
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutorIntegrationTest,AssignTicketToSubscriberJobExecutorIntegrationTest,Long Identifier,The length of the field adminReservationRequestManager is 30.,96
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutorIntegrationTest,AssignTicketToSubscriberJobExecutorIntegrationTest,Long Parameter List,The method has 18 parameters. ,96
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutorIntegrationTest,setUp,Long Statement,The length of the statement "List<TicketCategoryModification> categories=List.of(new TicketCategoryModification(null`"hidden"`TicketCategory.TicketAccessType.INHERIT`2`new DateTimeModification(LocalDate.now(ClockProvider.clock()).minusDays(1)`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(1)`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.ONE`true`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`FIRST_CATEGORY_NAME`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock()).minusDays(1)`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(1)`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 904.,135
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutorIntegrationTest,setUp,Long Statement,The length of the statement "userRepository.create(UserManager.ADMIN_USERNAME`""`"The"`"Administrator"`"admin@localhost"`true`User.Type.INTERNAL`null`null);" is 127.,135
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutorIntegrationTest,setUp,Magic Number,The method contains a magic number: 2,135
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutorIntegrationTest,tearDown,Empty catch clause,The method has an empty catch block.,162
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutorIntegrationTest,processEventLevel,Long Statement,The length of the statement "performTest(Map.of(AssignTicketToSubscriberJobExecutor.ORGANIZATION_ID`event.getOrganizationId()`AssignTicketToSubscriberJobExecutor.EVENT_ID`event.getId()));" is 158.,181
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutorIntegrationTest,performTest,Long Identifier,The length of the field adminReservationRequestRepository is 33.,189
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutorIntegrationTest,performTest,Long Identifier,The length of the field adminReservationRequestManager is 30.,189
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutorIntegrationTest,performTest,Long Statement,The length of the statement "var adminRequest=new AdminJobSchedule(1L`""`ZonedDateTime.now(ClockProvider.clock())`AdminJobSchedule.Status.SCHEDULED`null`metadata`1);" is 136.,189
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutorIntegrationTest,performTest,Long Statement,The length of the statement "var descriptorId=createSubscriptionDescriptor(event.getOrganizationId()`fileUploadManager`subscriptionManager`maxEntries);" is 122.,189
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutorIntegrationTest,performTest,Long Statement,The length of the statement "var subscriptionIdAndPin=confirmAndLinkSubscription(descriptor`event.getOrganizationId()`subscriptionRepository`ticketReservationRepository`maxEntries);" is 152.,189
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutorIntegrationTest,performTest,Long Statement,The length of the statement "assertEquals(1`jdbcTemplate.update("update subscription_descriptor set supports_tickets_generation = true where id = :id"`Map.of("id"`descriptorId)));" is 150.,189
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutorIntegrationTest,performTest,Long Statement,The length of the statement "assertEquals(1`subscriptionRepository.loadAvailableSubscriptionsByEvent(event.getId()`event.getOrganizationId()).size());" is 121.,189
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutorIntegrationTest,performTest,Long Statement,The length of the statement "var ticketUuid=jdbcTemplate.queryForObject("select uuid from ticket where event_id = :eventId and ext_reference = :ref"`Map.of("eventId"`event.getId()`"ref"`subscriptionIdAndPin.getLeft() + "_auto")`String.class);" is 213.,189
exteso_alf.io,alfio.job.executor,AssignTicketToSubscriberJobExecutorIntegrationTest,performTest,Magic Number,The method contains a magic number: 2,189
exteso_alf.io,alfio.job.executor,RetryFailedExtensionJobExecutorTest,RetryFailedExtensionJobExecutorTest,Long Parameter List,The method has 8 parameters. ,84
exteso_alf.io,alfio.job.executor,RetryFailedExtensionJobExecutorTest,recoverFromFailedExecution,Magic Number,The method contains a magic number: 4,109
exteso_alf.io,alfio.job.executor,RetryFailedExtensionJobExecutorTest,recoverFromFailedExecution,Magic Number,The method contains a magic number: 100,109
exteso_alf.io,alfio.job.executor,RetryFailedExtensionJobExecutorTest,recoverFromFailedExecution,Magic Number,The method contains a magic number: 2001L,109
exteso_alf.io,alfio.job.executor,RetryFailedExtensionJobExecutorTest,recoverFromFailedExecution,Magic Number,The method contains a magic number: 2,109
exteso_alf.io,alfio.job.executor,RetryFailedExtensionJobExecutorTest,recoverFromFailedExecution,Magic Number,The method contains a magic number: 3,109
exteso_alf.io,alfio.job.executor,RetryFailedExtensionJobExecutorTest,buildEvent,Long Statement,The length of the statement "List<TicketCategoryModification> categories=List.of(new TicketCategoryModification(null`"hidden"`TicketCategory.TicketAccessType.INHERIT`2`new DateTimeModification(LocalDate.now(ClockProvider.clock()).minusDays(1)`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(1)`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.ONE`true`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`FIRST_CATEGORY_NAME`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock()).minusDays(1)`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(1)`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 904.,152
exteso_alf.io,alfio.job.executor,RetryFailedExtensionJobExecutorTest,buildEvent,Magic Number,The method contains a magic number: 2,152
exteso_alf.io,alfio.job.executor,RetryFailedExtensionJobExecutorTest,registerExtension,Long Statement,The length of the statement "var extensionStream=String.join("\n"`IOUtils.readLines(new InputStreamReader(extensionInputStream`StandardCharsets.UTF_8)));" is 124.,167
exteso_alf.io,alfio.job.executor,RetryFailedExtensionJobExecutorTest,registerExtension,Long Statement,The length of the statement "extensionService.createOrUpdate(override ? "-" : null`override ? extensionName : null`new Extension("-"`extensionName`extensionStream`true));" is 141.,167
exteso_alf.io,alfio.job,Jobs,Jobs,Long Identifier,The length of the parameter adminReservationRequestManager is 30.,63
exteso_alf.io,alfio.job,Jobs,Jobs,Long Identifier,The length of the parameter waitingQueueSubscriptionProcessor is 33.,63
exteso_alf.io,alfio.job,Jobs,Jobs,Long Identifier,The length of the field adminReservationRequestManager is 30.,63
exteso_alf.io,alfio.job,Jobs,Jobs,Long Identifier,The length of the field waitingQueueSubscriptionProcessor is 33.,63
exteso_alf.io,alfio.job,Jobs,Jobs,Long Parameter List,The method has 7 parameters. ,63
exteso_alf.io,alfio.job,Jobs,cleanupUnreferencedBlobFiles,Magic Number,The method contains a magic number: 60,82
exteso_alf.io,alfio.job,Jobs,processReservationRequests,Long Identifier,The length of the field adminReservationRequestManager is 30.,136
exteso_alf.io,alfio.job,Jobs,processReservationRequests,Long Statement,The length of the statement "log.info("ProcessReservationRequests: got {} success and {} failures. Elapsed {} ms"`result.getLeft()`result.getRight()`System.currentTimeMillis() - start);" is 156.,136
exteso_alf.io,alfio.job,Jobs,cleanupExpiredPendingReservation,Magic Number,The method contains a magic number: 10,172
exteso_alf.io,alfio.job,Jobs,processReleasedTickets,Long Identifier,The length of the field waitingQueueSubscriptionProcessor is 33.,187
exteso_alf.io,alfio.config,RoleAndOrganizationsTransactionPreparer,isCurrentlyInAPublicUrlRequest,Long Statement,The length of the statement "HttpServletRequest request=Objects.requireNonNull((ServletRequestAttributes)RequestContextHolder.getRequestAttributes()).getRequest();" is 134.,57
exteso_alf.io,alfio.config,RoleAndOrganizationsTransactionPreparer,isAdmin,Long Statement,The length of the statement "return SecurityContextHolder.getContext().getAuthentication().getAuthorities().stream().map(GrantedAuthority::getAuthority).anyMatch("ROLE_ADMIN"::equals);" is 155.,82
exteso_alf.io,alfio.config,RoleAndOrganizationsTransactionPreparer,prepareTransactionalConnection,Magic Number,The method contains a magic number: 2,96
exteso_alf.io,alfio.config,BaseConfiguration,configurationManager,Long Parameter List,The method has 5 parameters. ,42
exteso_alf.io,alfio.config,BaseConfiguration,configurationManager,Long Statement,The length of the statement "Cache<Set<ConfigurationKeys>`Map<ConfigurationKeys`ConfigurationManager.MaybeConfiguration>> cache=Caffeine.newBuilder().expireAfterWrite(Duration.ofMinutes(1)).build();" is 169.,42
exteso_alf.io,alfio.config,BaseConfiguration,configurationManager,Long Statement,The length of the statement "return new ConfigurationManager(configurationRepository`userManager`eventRepository`externalConfiguration`environment`cache);" is 125.,42
exteso_alf.io,alfio.config,DataSourceConfiguration,getDataSource,Long Statement,The length of the statement "log.debug("Connection pool properties: max active {}` initial size {}"`dataSource.getMaximumPoolSize()`dataSource.getMinimumIdle());" is 132.,101
exteso_alf.io,alfio.config,DataSourceConfiguration,getDataSource,Long Statement,The length of the statement "boolean isSuperAdmin=Boolean.TRUE.equals(new NamedParameterJdbcTemplate(dataSource).queryForObject("select usesuper from pg_user where usename = CURRENT_USER"`EmptySqlParameterSource.INSTANCE`Boolean.class));" is 208.,101
exteso_alf.io,alfio.config,DataSourceConfiguration,getDataSource,Long Statement,The length of the statement "log.warn("You're accessing the database using a superuser. This is highly discouraged since it will disable the row security policy checks.");" is 142.,101
exteso_alf.io,alfio.config,DataSourceConfiguration,getDataSource,Magic Number,The method contains a magic number: 1000L,101
exteso_alf.io,alfio.config,DataSourceConfiguration,getAdditionalParameterConverters,Long Statement,The length of the statement "return Arrays.asList(new JSONColumnMapper.Converter()`new ArrayColumnMapper.Converter()`new EnumTypeColumnMapper.Converter());" is 126.,160
exteso_alf.io,alfio.config,DataSourceConfiguration,migrator,Long Statement,The length of the statement "var matches=jdbcTemplate.queryForObject("select count(*) from information_schema.tables where table_name = 'schema_version'"`Integer.class);" is 140.,171
exteso_alf.io,alfio.config,DataSourceConfiguration,migrator,Long Statement,The length of the statement "configuration.table(tableName).dataSource(dataSource).validateOnMigrate(false).target(MigrationVersion.LATEST).outOfOrder(true).locations("alfio/db/PGSQL/");" is 157.,171
exteso_alf.io,alfio.config,DataSourceConfiguration,getHttpClient,Long Statement,The length of the statement "return HttpClient.newBuilder().version(HttpClient.Version.HTTP_1_1).executor(Executors.newCachedThreadPool(new BasicThreadFactory.Builder().namingPattern("httpClient-thread-%d").build())).build();" is 196.,217
exteso_alf.io,alfio.config,DataSourceConfiguration,jobs,Long Identifier,The length of the parameter adminReservationRequestManager is 30.,233
exteso_alf.io,alfio.config,DataSourceConfiguration,jobs,Long Identifier,The length of the parameter waitingQueueSubscriptionProcessor is 33.,233
exteso_alf.io,alfio.config,DataSourceConfiguration,jobs,Long Parameter List,The method has 7 parameters. ,233
exteso_alf.io,alfio.config,DataSourceConfiguration,jobs,Long Statement,The length of the statement "return new Jobs(adminReservationRequestManager`fileUploadManager`notificationManager`specialPriceTokenGenerator`ticketReservationManager`waitingQueueSubscriptionProcessor`adminJobManager);" is 188.,233
exteso_alf.io,alfio.config,DataSourceConfiguration,adminJobManager,Long Identifier,The length of the parameter assignTicketToSubscriberJobExecutor is 35.,250
exteso_alf.io,alfio.config,DataSourceConfiguration,adminJobManager,Long Identifier,The length of the parameter retryFailedExtensionJobExecutor is 31.,250
exteso_alf.io,alfio.config,DataSourceConfiguration,adminJobManager,Long Parameter List,The method has 7 parameters. ,250
exteso_alf.io,alfio.config,DataSourceConfiguration,adminJobManager,Long Statement,The length of the statement "return new AdminJobManager(List.of(reservationJobExecutor`billingDocumentJobExecutor`assignTicketToSubscriberJobExecutor`retryFailedExtensionJobExecutor)`adminJobQueueRepository`transactionManager`clockProvider);" is 212.,250
exteso_alf.io,alfio.config,DataSourceConfiguration,billingDocumentJobExecutor,Long Parameter List,The method has 5 parameters. ,270
exteso_alf.io,alfio.config,DataSourceConfiguration,billingDocumentJobExecutor,Long Statement,The length of the statement "return new BillingDocumentJobExecutor(billingDocumentManager`ticketReservationManager`eventRepository`notificationManager`organizationRepository);" is 146.,270
exteso_alf.io,alfio.config,DataSourceConfiguration,assignTicketToSubscriberJobExecutor,Long Parameter List,The method has 6 parameters. ,279
exteso_alf.io,alfio.config,DataSourceConfiguration,assignTicketToSubscriberJobExecutor,Long Statement,The length of the statement "return new AssignTicketToSubscriberJobExecutor(requestManager`configurationManager`subscriptionRepository`eventRepository`clockProvider`ticketCategoryRepository);" is 162.,279
exteso_alf.io,alfio.config,DataSourceConfiguration,demoModeDataManager,Long Parameter List,The method has 6 parameters. ,299
exteso_alf.io,alfio.config,DataSourceConfiguration,demoModeDataManager,Long Statement,The length of the statement "return new DemoModeDataManager(userRepository`userOrganizationRepository`eventDeleterRepository`eventRepository`configurationManager`organizationDeleterRepository);" is 164.,299
exteso_alf.io,alfio.config,ConfigurationStatusChecker,ConfigurationStatusChecker,Long Parameter List,The method has 6 parameters. ,52
exteso_alf.io,alfio.config,ConfigurationStatusChecker,onApplicationEvent,Long Statement,The length of the statement "userRepository.create(UserManager.ADMIN_USERNAME`passwordEncoder.encode(adminPassword)`"The"`"Administrator"`"admin@localhost"`true`User.Type.INTERNAL`null`null);" is 162.,67
exteso_alf.io,alfio.config,ConfigurationStatusChecker,onApplicationEvent,Long Statement,The length of the statement "ofNullable(System.getProperty("maps.clientApiKey")).ifPresent(clientApiKey -> configurationManager.saveSystemConfiguration(MAPS_CLIENT_API_KEY`clientApiKey));" is 158.,67
exteso_alf.io,alfio.config,ConfigurationStatusChecker,onApplicationEvent,Long Statement,The length of the statement "ofNullable(System.getProperty("recaptcha.apiKey")).ifPresent(clientApiKey -> configurationManager.saveSystemConfiguration(RECAPTCHA_API_KEY`clientApiKey));" is 155.,67
exteso_alf.io,alfio.config,ConfigurationStatusChecker,onApplicationEvent,Long Statement,The length of the statement "ofNullable(System.getProperty("recaptcha.secret")).ifPresent(clientApiKey -> configurationManager.saveSystemConfiguration(RECAPTCHA_SECRET`clientApiKey));" is 154.,67
exteso_alf.io,alfio.config,SpringBootLauncher,main,Long Statement,The length of the statement "SpringApplication application=new SpringApplication(SpringBootInitializer.class`BaseConfiguration.class`DataSourceConfiguration.class`WebSecurityConfig.class`MvcConfiguration.class);" is 182.,33
exteso_alf.io,alfio.config,MvcConfiguration,addResourceHandlers,Long Statement,The length of the statement "registry.addResourceHandler(alfioVersion + "/resources/**").addResourceLocations("/resources/").setCachePeriod(cacheMinutes * 60).setCacheControl(defaultCacheControl);" is 167.,73
exteso_alf.io,alfio.config,MvcConfiguration,addResourceHandlers,Long Statement,The length of the statement "registry.addResourceHandler("/resources/font/*").addResourceLocations("/resources/font/").setCachePeriod(cacheMinutes * 60).setCacheControl(defaultCacheControl);" is 161.,73
exteso_alf.io,alfio.config,MvcConfiguration,addResourceHandlers,Long Statement,The length of the statement "registry.addResourceHandler("/resources/images/**").addResourceLocations("/resources/images/").setCachePeriod(cacheMinutes * 60).setCacheControl(defaultCacheControl);" is 166.,73
exteso_alf.io,alfio.config,MvcConfiguration,addResourceHandlers,Long Statement,The length of the statement "registry.addResourceHandler("/assets/**").addResourceLocations("/webjars/alfio-public-frontend/" + frontendVersion + "/alfio-public-frontend/assets/").setCachePeriod(cacheMinutes * 60).setCacheControl(defaultCacheControl);" is 222.,73
exteso_alf.io,alfio.config,MvcConfiguration,addResourceHandlers,Long Statement,The length of the statement "registry.addResourceHandler("/*.js").addResourceLocations("/webjars/alfio-public-frontend/" + frontendVersion + "/alfio-public-frontend/").setCachePeriod(cacheMinutes * 60).setCacheControl(defaultCacheControl);" is 210.,73
exteso_alf.io,alfio.config,MvcConfiguration,addResourceHandlers,Magic Number,The method contains a magic number: 15,73
exteso_alf.io,alfio.config,MvcConfiguration,addResourceHandlers,Magic Number,The method contains a magic number: 10,73
exteso_alf.io,alfio.config,MvcConfiguration,addResourceHandlers,Magic Number,The method contains a magic number: 60,73
exteso_alf.io,alfio.config,MvcConfiguration,addResourceHandlers,Magic Number,The method contains a magic number: 60,73
exteso_alf.io,alfio.config,MvcConfiguration,addResourceHandlers,Magic Number,The method contains a magic number: 60,73
exteso_alf.io,alfio.config,MvcConfiguration,addResourceHandlers,Magic Number,The method contains a magic number: 60,73
exteso_alf.io,alfio.config,MvcConfiguration,addResourceHandlers,Magic Number,The method contains a magic number: 60,73
exteso_alf.io,alfio.config,MvcConfiguration,multipartResolver,Magic Number,The method contains a magic number: 500_000,126
exteso_alf.io,alfio.config,MvcConfiguration,httpSessionIdResolver,Long Statement,The length of the statement "return isPublic(request) ? publicSessionIdResolver.resolveSessionIds(request) : adminSessionIdResolver.resolveSessionIds(request);" is 130.,140
exteso_alf.io,alfio.config,MvcConfiguration,resolveSessionIds,Long Statement,The length of the statement "return isPublic(request) ? publicSessionIdResolver.resolveSessionIds(request) : adminSessionIdResolver.resolveSessionIds(request);" is 130.,145
exteso_alf.io,alfio.config,WebSecurityConfig,adminOpenIdAuthenticationManager,Long Parameter List,The method has 11 parameters. ,58
exteso_alf.io,alfio.config,WebSecurityConfig,adminOpenIdAuthenticationManager,Long Statement,The length of the statement "return new AdminOpenIdAuthenticationManager(environment`httpClient`configurationManager`userManager`userRepository`authorityRepository`organizationRepository`userOrganizationRepository`jdbcTemplate`passwordEncoder`json);" is 220.,58
exteso_alf.io,alfio.config,WebSecurityConfig,publicOpenIdAuthenticationManager,Long Parameter List,The method has 11 parameters. ,84
exteso_alf.io,alfio.config,WebSecurityConfig,publicOpenIdAuthenticationManager,Long Statement,The length of the statement "return new PublicOpenIdAuthenticationManager(httpClient`configurationManager`userManager`userRepository`authorityRepository`organizationRepository`userOrganizationRepository`jdbcTemplate`passwordEncoder`json`extensionManager);" is 226.,84
exteso_alf.io,alfio.config.authentication,AbstractFormBasedWebSecurity,AbstractFormBasedWebSecurity,Long Identifier,The length of the parameter publicOpenIdAuthenticationManager is 33.,68
exteso_alf.io,alfio.config.authentication,AbstractFormBasedWebSecurity,AbstractFormBasedWebSecurity,Long Identifier,The length of the field publicOpenIdAuthenticationManager is 33.,68
exteso_alf.io,alfio.config.authentication,AbstractFormBasedWebSecurity,AbstractFormBasedWebSecurity,Long Parameter List,The method has 8 parameters. ,68
exteso_alf.io,alfio.config.authentication,AbstractFormBasedWebSecurity,configure,Long Statement,The length of the statement "auth.jdbcAuthentication().dataSource(dataSource).usersByUsernameQuery("select username` password` enabled from ba_user where username = ?").authoritiesByUsernameQuery("select username` role from authority where username = ?").passwordEncoder(passwordEncoder).and().authenticationProvider(new OpenIdAuthenticationProvider());" is 324.,86
exteso_alf.io,alfio.config.authentication,AbstractFormBasedWebSecurity,configure,Complex Conditional,The conditional expression (reqUri.startsWith(API_V2_PUBLIC_PATH) || reqUri.startsWith(ADMIN_API) || reqUri.startsWith("/api/v2/admin/")) && "GET".equalsIgnoreCase(req.getMethod()) is complex.,96
exteso_alf.io,alfio.config.authentication,AbstractFormBasedWebSecurity,configure,Complex Method,Cyclomatic complexity of the method is 9,96
exteso_alf.io,alfio.config.authentication,AbstractFormBasedWebSecurity,configure,Long Identifier,The length of the field publicOpenIdAuthenticationManager is 33.,96
exteso_alf.io,alfio.config.authentication,AbstractFormBasedWebSecurity,configure,Long Statement,The length of the statement "http.requiresChannel().antMatchers("/healthz").requiresInsecure().and().requiresChannel().mvcMatchers("/**").requiresSecure();" is 126.,96
exteso_alf.io,alfio.config.authentication,AbstractFormBasedWebSecurity,configure,Long Statement,The length of the statement "CsrfConfigurer<HttpSecurity> configurer=http.exceptionHandling().accessDeniedHandler((request`response`accessDeniedException) -> {" is 130.,96
exteso_alf.io,alfio.config.authentication,AbstractFormBasedWebSecurity,configure,Long Statement,The length of the statement ").defaultAuthenticationEntryPointFor((request`response`ex) -> response.sendError(HttpServletResponse.SC_UNAUTHORIZED)`new RequestHeaderRequestMatcher(AuthenticationConstants.X_REQUESTED_WITH`"XMLHttpRequest")).and().headers().cacheControl().disable().and().csrf();" is 264.,96
exteso_alf.io,alfio.config.authentication,AbstractFormBasedWebSecurity,configure,Long Statement,The length of the statement "Predicate<HttpServletRequest> csrfWhitelistPredicate=r -> r.getRequestURI().startsWith("/api/webhook/") || r.getRequestURI().startsWith("/api/payment/webhook/") || pattern.matcher(r.getMethod()).matches();" is 205.,96
exteso_alf.io,alfio.config.authentication,AbstractFormBasedWebSecurity,configure,Long Statement,The length of the statement "String[] ownershipRequired=new String[]{ADMIN_API + "/overridable-template"`ADMIN_API + "/additional-services"`ADMIN_API + "/events/*/additional-field"`ADMIN_API + "/event/*/additional-services/"`ADMIN_API + "/overridable-template/"`ADMIN_API + "/events/*/promo-code"`ADMIN_API + "/reservation/event/*/reservations/list"`ADMIN_API + "/event/*/email/"`ADMIN_API + "/event/*/waiting-queue/load"`ADMIN_API + "/events/*/pending-payments"`ADMIN_API + "/events/*/export"`ADMIN_API + "/events/*/sponsor-scan/export"`ADMIN_API + "/events/*/invoices/**"`ADMIN_API + "/reservation/*/*/*/audit"`ADMIN_API + "/subscription/*/email/"`ADMIN_API + "/organization/*/subscription/**"`ADMIN_API + "/reservation/subscription/**"};" is 711.,96
exteso_alf.io,alfio.config.authentication,AbstractFormBasedWebSecurity,configure,Long Statement,The length of the statement "configurer.csrfTokenRepository(csrfTokenRepository).and().headers().frameOptions().disable().and().authorizeRequests().antMatchers(ADMIN_PUBLIC_API + "/**").denyAll().antMatchers(HttpMethod.GET`ADMIN_API + "/users/current").hasAnyRole(ADMIN`OWNER`SUPERVISOR).antMatchers(HttpMethod.POST`ADMIN_API + "/users/check"`ADMIN_API + "/users/current/edit"`ADMIN_API + "/users/current/update-password").hasAnyRole(ADMIN`OWNER`SUPERVISOR).antMatchers(ADMIN_API + "/configuration/**"`ADMIN_API + "/users/**").hasAnyRole(ADMIN`OWNER).antMatchers(ADMIN_API + "/organizations/new"`ADMIN_API + "/system/**").hasRole(ADMIN).antMatchers(ADMIN_API + "/check-in/**").hasAnyRole(ADMIN`OWNER`SUPERVISOR).antMatchers(HttpMethod.GET`ownershipRequired).hasAnyRole(ADMIN`OWNER).antMatchers(HttpMethod.GET`ADMIN_API + "/**").hasAnyRole(ADMIN`OWNER`SUPERVISOR).antMatchers(HttpMethod.POST`ADMIN_API + "/reservation/event/*/new"`ADMIN_API + "/reservation/event/*/*").hasAnyRole(ADMIN`OWNER`SUPERVISOR).antMatchers(HttpMethod.PUT`ADMIN_API + "/reservation/event/*/*/notify"`ADMIN_API + "/reservation/event/*/*/confirm").hasAnyRole(ADMIN`OWNER`SUPERVISOR).antMatchers(ADMIN_API + "/**").hasAnyRole(ADMIN`OWNER).antMatchers("/admin/**/export/**").hasAnyRole(ADMIN`OWNER).antMatchers("/admin/**").hasAnyRole(ADMIN`OWNER`SUPERVISOR).antMatchers("/api/attendees/**").denyAll().antMatchers("/callback").permitAll().antMatchers("/**").permitAll().and().formLogin().loginPage("/authentication").loginProcessingUrl(AUTHENTICATE).failureUrl("/authentication?failed").and().logout().permitAll();" is 1555.,96
exteso_alf.io,alfio.config.authentication,AbstractFormBasedWebSecurity,configure,Long Statement,The length of the statement "http.addFilterBefore(openIdPublicCallbackLoginFilter(publicOpenIdAuthenticationManager)`UsernamePasswordAuthenticationFilter.class).addFilterBefore(openIdPublicAuthenticationFilter(publicOpenIdAuthenticationManager)`AnonymousAuthenticationFilter.class);" is 253.,96
exteso_alf.io,alfio.config.authentication,AbstractFormBasedWebSecurity,configure,Long Statement,The length of the statement "http.addFilterBefore(new RecaptchaLoginFilter(recaptchaService`AUTHENTICATE`"/authentication?recaptchaFailed"`configurationManager)`UsernamePasswordAuthenticationFilter.class);" is 176.,96
exteso_alf.io,alfio.config.authentication,AbstractFormBasedWebSecurity,configure,Long Statement,The length of the statement "if ((reqUri.startsWith(API_V2_PUBLIC_PATH) || reqUri.startsWith(ADMIN_API) || reqUri.startsWith("/api/v2/admin/")) && "GET".equalsIgnoreCase(req.getMethod())) {" is 160.,96
exteso_alf.io,alfio.config.authentication,AbstractFormBasedWebSecurity,openIdPublicCallbackLoginFilter,Long Statement,The length of the statement "var filter=new OpenIdCallbackLoginFilter(openIdAuthenticationManager`new AntPathRequestMatcher("/openid/callback"`"GET")`authenticationManager());" is 146.,238
exteso_alf.io,alfio.config.authentication,APITokenAuthWebSecurity,configure,Long Statement,The length of the statement "return new APITokenAuthentication(authentication.getPrincipal()`authentication.getCredentials()`List.of(new SimpleGrantedAuthority("ROLE_" + SYSTEM_API_CLIENT)));" is 162.,62
exteso_alf.io,alfio.config.authentication,APITokenAuthWebSecurity,configure,Long Statement,The length of the statement "User user=userRepository.findByUsername(apiKey).orElseThrow(() -> new BadCredentialsException(API_KEY + apiKey + " don't exists"));" is 131.,62
exteso_alf.io,alfio.config.authentication,APITokenAuthWebSecurity,configure,Long Statement,The length of the statement "return new APITokenAuthentication(authentication.getPrincipal()`authentication.getCredentials()`authorityRepository.findRoles(apiKey).stream().map(SimpleGrantedAuthority::new).collect(Collectors.toList()));" is 206.,62
exteso_alf.io,alfio.config.authentication,APITokenAuthWebSecurity,configure,Long Statement,The length of the statement "http.requestMatcher(RequestTypeMatchers::isTokenAuthentication).sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and().csrf().disable().authorizeRequests().antMatchers(ADMIN_PUBLIC_API + "/system/**").hasRole(SYSTEM_API_CLIENT).antMatchers(ADMIN_PUBLIC_API + "/**").hasRole(API_CLIENT).antMatchers(ADMIN_API + "/check-in/**").hasAnyRole(OPERATOR`SUPERVISOR).antMatchers(HttpMethod.GET`ADMIN_API + "/events").hasAnyRole(OPERATOR`SUPERVISOR`AuthenticationConstants.SPONSOR).antMatchers(HttpMethod.GET`ADMIN_API + "/user-type"`ADMIN_API + "/user/details").hasAnyRole(OPERATOR`SUPERVISOR`AuthenticationConstants.SPONSOR).antMatchers(ADMIN_API + "/**").denyAll().antMatchers(HttpMethod.POST`"/api/attendees/sponsor-scan").hasRole(AuthenticationConstants.SPONSOR).antMatchers(HttpMethod.GET`"/api/attendees/*/ticket/*").hasAnyRole(OPERATOR`SUPERVISOR`API_CLIENT).antMatchers("/**").authenticated().and().addFilter(filter);" is 942.,62
exteso_alf.io,alfio.config.authentication,APITokenAuthWebSecurity,apiKeyMatches,Long Statement,The length of the statement "return MessageDigest.isEqual(input.getBytes(StandardCharsets.UTF_8)`systemApiKeyConfiguration.getValue().getBytes(StandardCharsets.UTF_8));" is 139.,115
exteso_alf.io,alfio.config.authentication,FormBasedWebSecurity,FormBasedWebSecurity,Long Identifier,The length of the parameter publicOpenIdAuthenticationManager is 33.,39
exteso_alf.io,alfio.config.authentication,FormBasedWebSecurity,FormBasedWebSecurity,Long Parameter List,The method has 8 parameters. ,39
exteso_alf.io,alfio.config.authentication,FormBasedWebSecurity,FormBasedWebSecurity,Long Statement,The length of the statement "super(environment`userManager`recaptchaService`configurationManager`csrfTokenRepository`dataSource`passwordEncoder`publicOpenIdAuthenticationManager);" is 150.,39
exteso_alf.io,alfio.config.authentication,OpenIdAdminWebSecurity,OpenIdAdminWebSecurity,Long Identifier,The length of the parameter adminOpenIdAuthenticationManager is 32.,49
exteso_alf.io,alfio.config.authentication,OpenIdAdminWebSecurity,OpenIdAdminWebSecurity,Long Identifier,The length of the field adminOpenIdAuthenticationManager is 32.,49
exteso_alf.io,alfio.config.authentication,OpenIdAdminWebSecurity,OpenIdAdminWebSecurity,Long Parameter List,The method has 9 parameters. ,49
exteso_alf.io,alfio.config.authentication,OpenIdAdminWebSecurity,OpenIdAdminWebSecurity,Long Statement,The length of the statement "super(environment`userManager`recaptchaService`configurationManager`csrfTokenRepository`dataSource`passwordEncoder`openIdAuthenticationManager);" is 144.,49
exteso_alf.io,alfio.config.authentication,OpenIdAdminWebSecurity,addAdditionalFilters,Long Identifier,The length of the field adminOpenIdAuthenticationManager is 32.,69
exteso_alf.io,alfio.config.authentication,OpenIdAdminWebSecurity,addAdditionalFilters,Long Statement,The length of the statement "var callbackLoginFilter=new OpenIdCallbackLoginFilter(adminOpenIdAuthenticationManager`new AntPathRequestMatcher("/callback"`"GET")`authenticationManager());" is 157.,69
exteso_alf.io,alfio.config.authentication,OpenIdAdminWebSecurity,addAdditionalFilters,Long Statement,The length of the statement "http.addFilterAfter(new OpenIdAuthenticationFilter("/authentication"`adminOpenIdAuthenticationManager`"/"`false)`OpenIdCallbackLoginFilter.class);" is 146.,69
exteso_alf.io,alfio.config.authentication.support,OpenIdAuthenticationFilter,doFilter,Complex Conditional,The conditional expression publicAuthentication && parameterMap.containsKey("reservation") && parameterMap.containsKey("contextType")&& parameterMap.containsKey("id") is complex.,58
exteso_alf.io,alfio.config.authentication.support,OpenIdAuthenticationFilter,doFilter,Long Statement,The length of the statement "if (publicAuthentication && parameterMap.containsKey("reservation") && parameterMap.containsKey("contextType")&& parameterMap.containsKey("id")) {" is 146.,58
exteso_alf.io,alfio.config.authentication.support,UserCreatorBeforeLoginFilter,doFilter,Complex Conditional,The conditional expression requestMatcher.matches(req) && req.getParameter("username") != null && req.getParameter("password") != null is complex.,47
exteso_alf.io,alfio.config.authentication.support,UserCreatorBeforeLoginFilter,doFilter,Long Statement,The length of the statement "var organizationModification=new OrganizationModification(null`UUID.randomUUID().toString()`username`username`null`null);" is 121.,47
exteso_alf.io,alfio.config.authentication.support,RequestTypeMatchers,isTokenAuthentication,Long Statement,The length of the statement "return (authorization != null && authorization.toLowerCase(Locale.ENGLISH).startsWith("apikey ")) || request.getRequestURI().startsWith(AuthenticationConstants.ADMIN_PUBLIC_API);" is 178.,27
exteso_alf.io,alfio.config.authentication.support,RecaptchaLoginFilter,doFilter,Complex Conditional,The conditional expression requestMatcher.matches(req) && configurationManager.getForSystem(ENABLE_CAPTCHA_FOR_LOGIN).getValueAsBooleanOrDefault() && !recaptchaService.checkRecaptcha(null`req) is complex.,53
exteso_alf.io,alfio.config.authentication.support,RecaptchaLoginFilter,doFilter,Long Statement,The length of the statement "if (requestMatcher.matches(req) && configurationManager.getForSystem(ENABLE_CAPTCHA_FOR_LOGIN).getValueAsBooleanOrDefault() && !recaptchaService.checkRecaptcha(null`req)) {" is 172.,53
exteso_alf.io,alfio.config.authentication.support,OpenIdAlfioAuthentication,OpenIdAlfioAuthentication,Long Parameter List,The method has 6 parameters. ,32
exteso_alf.io,alfio.config.authentication.support,OpenIdAlfioUser,OpenIdAlfioUser,Long Identifier,The length of the parameter alfioOrganizationAuthorizations is 31.,35
exteso_alf.io,alfio.config.authentication.support,OpenIdAlfioUser,OpenIdAlfioUser,Long Identifier,The length of the field alfioOrganizationAuthorizations is 31.,35
exteso_alf.io,alfio.config.authentication.support,OpenIdAlfioUser,OpenIdAlfioUser,Long Parameter List,The method has 6 parameters. ,35
exteso_alf.io,alfio.config.support,JSONColumnMapper,hasAnnotation,Long Statement,The length of the statement "return annotations != null && Arrays.stream(annotations).anyMatch(annotation -> annotation.annotationType() == JSONData.class);" is 127.,49
exteso_alf.io,alfio.config.support,EnumTypeColumnMapper,isSupported,Long Statement,The length of the statement "return annotations != null && Arrays.stream(annotations).anyMatch(annotation -> annotation.annotationType() == EnumTypeAsString.class) && Enum.class.isAssignableFrom(paramType);" is 177.,50
exteso_alf.io,alfio.util,FileUtil,sendPdf,Long Parameter List,The method has 5 parameters. ,30
exteso_alf.io,alfio.util,FileUtil,sendHeaders,Long Statement,The length of the statement "response.setHeader("Content-Disposition"`"attachment; filename=\"" + getBillingDocumentFileName(eventName`reservationId`billingDocument) + "\"");" is 145.,43
exteso_alf.io,alfio.util,ExportUtils,exportExcel,Long Parameter List,The method has 5 parameters. ,37
exteso_alf.io,alfio.util,ExportUtils,exportExcel,Long Statement,The length of the statement "var headerRow=StreamingWorkbook.row(Arrays.stream(header).map(v -> Cell.cell(v).withStyle(boldFont)).collect(Collectors.toList()));" is 131.,37
exteso_alf.io,alfio.util,ExportUtils,exportExcel,Long Statement,The length of the statement "var dataStream=data.map(rowData -> Arrays.stream(rowData).map(Cell::cell).collect(Collectors.toList())).map(StreamingWorkbook::row);" is 132.,37
exteso_alf.io,alfio.util,ExportUtils,exportCsv,Long Statement,The length of the statement "try (ServletOutputStream out=response.getOutputStream();CSVWriter writer=new CSVWriter(new OutputStreamWriter(out`UTF_8))){" is 123.,57
exteso_alf.io,alfio.util,HoursRange,getDistanceInHours,Magic Number,The method contains a magic number: 24,35
exteso_alf.io,alfio.util,MonetaryUtil,centsToUnit,Complex Conditional,The conditional expression (cents == 0 && !formatZero) || StringUtils.isEmpty(currencyCode) is complex.,67
exteso_alf.io,alfio.util,MonetaryUtil,unitToCents,Long Statement,The length of the statement "int scale=StringUtils.isEmpty(currencyCode) ? 2 : CurrencyUnit.of(currencyCode.toUpperCase(Locale.ENGLISH)).getDecimalPlaces();" is 127.,88
exteso_alf.io,alfio.util,MonetaryUtil,unitToCents,Magic Number,The method contains a magic number: 2,88
exteso_alf.io,alfio.util,MustacheCustomTag,translateCountryCode,Long Statement,The length of the statement "return Stream.concat(TicketHelper.getLocalizedCountries(lang).stream()`TicketHelper.getLocalizedCountriesForVat(lang).stream()).filter(p -> p.getKey().equalsIgnoreCase(code)).map(Pair::getValue).findFirst().orElse(code);" is 220.,107
exteso_alf.io,alfio.util,MustacheCustomTag,parseParams,Long Statement,The length of the statement "Optional<Locale> locale=Arrays.stream(res).filter(s -> s.startsWith(LOCALE_LABEL)).findFirst().map(l -> LocaleUtil.forLanguageTag(substring(l`LOCALE_LABEL.length())));" is 167.,143
exteso_alf.io,alfio.util,Validator,validateEventHeader,Complex Conditional,The conditional expression descriptions == null || descriptions.values().stream().anyMatch(v -> v == null || v.isBlank() || v.length() > descriptionMaxLength) is complex.,62
exteso_alf.io,alfio.util,Validator,validateEventHeader,Long Statement,The length of the statement "if (descriptions == null || descriptions.values().stream().anyMatch(v -> v == null || v.isBlank() || v.length() > descriptionMaxLength)) {" is 138.,62
exteso_alf.io,alfio.util,Validator,validateTicketCategories,Long Statement,The length of the statement "if (ev.getTicketCategories().stream().anyMatch(tc -> tc.getTicketAccessType() == TicketCategory.TicketAccessType.INHERIT && ev.getFormat() == Event.EventFormat.HYBRID)) {" is 170.,106
exteso_alf.io,alfio.util,Validator,validateEventDates,Complex Conditional,The conditional expression ev.getBegin() == null || ev.getBegin().getDate() == null || ev.getBegin().getTime() == null is complex.,117
exteso_alf.io,alfio.util,Validator,validateEventDates,Complex Conditional,The conditional expression ev.getEnd() == null || ev.getEnd().getDate() == null || ev.getEnd().getTime() == null is complex.,117
exteso_alf.io,alfio.util,Validator,validateCategory,Long Parameter List,The method has 5 parameters. ,150
exteso_alf.io,alfio.util,Validator,isCategoryDescriptionTooLong,Long Statement,The length of the statement "return category.getDescription() != null && !category.getDescription().isEmpty() && category.getDescription().values().stream().filter(Objects::nonNull).anyMatch(v -> v.length() > descriptionMaxLength);" is 202.,173
exteso_alf.io,alfio.util,Validator,isCategoryExpirationAfterEventEnd,Long Statement,The length of the statement "return eventModification.getEnd() == null || eventModification.getEnd().getDate() == null || category.getExpiration().isAfter(eventModification.getEnd());" is 154.,181
exteso_alf.io,alfio.util,Validator,evaluateValidationResult,Long Statement,The length of the statement "return ValidationResult.failed(errors.getFieldErrors().stream().map(ValidationResult.ErrorDescriptor::fromFieldError).toList());" is 128.,195
exteso_alf.io,alfio.util,Validator,validateTicketAssignment,Long Parameter List,The method has 6 parameters. ,252
exteso_alf.io,alfio.util,Validator,validateTicketAssignment,Magic Number,The method contains a magic number: 255,252
exteso_alf.io,alfio.util,Validator,validateTicketAssignment,Magic Number,The method contains a magic number: 255,252
exteso_alf.io,alfio.util,Validator,validateTicketAssignment,Magic Number,The method contains a magic number: 255,252
exteso_alf.io,alfio.util,Validator,validateFieldConfiguration,Complex Conditional,The conditional expression fieldConf.isRequired() && fieldConf.getCount() > 1 && values.stream().allMatch(StringUtils::isBlank) is complex.,296
exteso_alf.io,alfio.util,Validator,validateFieldConfiguration,Long Parameter List,The method has 5 parameters. ,296
exteso_alf.io,alfio.util,Validator,validateFieldValue,Complex Conditional,The conditional expression StringUtils.isNotBlank(formValue) && fieldConf.isMinLengthDefined() && StringUtils.length(formValue) < fieldConf.getMinLength() is complex.,322
exteso_alf.io,alfio.util,Validator,validateFieldValue,Complex Conditional,The conditional expression fieldConf.isRequired() && fieldConf.getCount() == 1 && StringUtils.isBlank(formValue) is complex.,322
exteso_alf.io,alfio.util,Validator,validateFieldValue,Long Parameter List,The method has 6 parameters. ,322
exteso_alf.io,alfio.util,Validator,validateFieldValue,Long Statement,The length of the statement "validateMaxLength(formValue`prefixForLambda + ADDITIONAL_PREFIX + fieldConf.getName()+ "]["+ i+ "]"`"error.tooLong"`fieldConf.getMaxLength()`errors);" is 149.,322
exteso_alf.io,alfio.util,Validator,validateFieldValue,Long Statement,The length of the statement "if (StringUtils.isNotBlank(formValue) && fieldConf.isMinLengthDefined() && StringUtils.length(formValue) < fieldConf.getMinLength()) {" is 134.,322
exteso_alf.io,alfio.util,Validator,validateFieldValue,Long Statement,The length of the statement "errors.rejectValue(prefixForLambda + ADDITIONAL_PREFIX + fieldConf.getName()+ "]["+ i+ "]"`"error.tooShort"`new Object[]{fieldConf.getMinLength()}`null);" is 153.,322
exteso_alf.io,alfio.util,Validator,validateFieldValue,Long Statement,The length of the statement "validateRestrictedValue(formValue`prefixForLambda + ADDITIONAL_PREFIX + fieldConf.getName()+ "]["+ i+ "]"`"error.restrictedValue"`fieldConf.getRestrictedValues()`errors);" is 170.,322
exteso_alf.io,alfio.util,Validator,validateFieldValue,Long Statement,The length of the statement "errors.rejectValue(prefixForLambda + ADDITIONAL_PREFIX + fieldConf.getName()+ "]["+ i+ "]"`"error.disabledValue"`null`null);" is 124.,322
exteso_alf.io,alfio.util,Validator,validateFieldValue,Long Statement,The length of the statement "errors.rejectValue(prefixForLambda + ADDITIONAL_PREFIX + fieldConf.getName()+ "]["+ i+ "]"`ErrorsCode.STEP_2_INVALID_VAT);" is 122.,322
exteso_alf.io,alfio.util,Validator,validateRestrictedValue,Long Parameter List,The method has 5 parameters. ,355
exteso_alf.io,alfio.util,Validator,validateMaxLength,Long Parameter List,The method has 5 parameters. ,373
exteso_alf.io,alfio.util,Validator,validateWaitingQueueSubscription,Magic Number,The method contains a magic number: 255,379
exteso_alf.io,alfio.util,Validator,validateWaitingQueueSubscription,Magic Number,The method contains a magic number: 255,379
exteso_alf.io,alfio.util,Validator,validateWaitingQueueSubscription,Magic Number,The method contains a magic number: 255,379
exteso_alf.io,alfio.util,Validator,validateAdditionalService,Complex Conditional,The conditional expression descriptions == null || titles == null || titles.size() != descriptions.size() is complex.,412
exteso_alf.io,alfio.util,Validator,validateAdditionalService,Complex Conditional,The conditional expression inception == null || expiration == null || expiration.isBefore(inception) is complex.,412
exteso_alf.io,alfio.util,Validator,validateAdditionalService,Long Statement,The length of the statement "if (additionalService.isFixPrice() && Optional.ofNullable(additionalService.getPrice()).filter(p -> p.compareTo(BigDecimal.ZERO) >= 0).isEmpty()) {" is 147.,412
exteso_alf.io,alfio.util,Validator,containsAllRequiredTranslations,Long Statement,The length of the statement "return optional.isEmpty() || optional.map(e -> ContentLanguage.findAllFor(e.getLocales())).filter(l -> l.stream().allMatch(l1 -> descriptions.stream().anyMatch(d -> d.getLocale().equals(l1.getLanguage())))).isPresent();" is 219.,444
exteso_alf.io,alfio.util,Validator,validateAdditionalFields,Long Statement,The length of the statement "String duplicateName=fieldConf.stream().map(TicketFieldConfiguration::getName).filter(name -> name.equalsIgnoreCase(field.getName())).findAny().orElse("");" is 155.,456
exteso_alf.io,alfio.util,ItalianTaxIdValidator,validateFiscalCode,Magic Number,The method contains a magic number: 16,72
exteso_alf.io,alfio.util,ItalianTaxIdValidator,validateFiscalCode,Magic Number,The method contains a magic number: 15,72
exteso_alf.io,alfio.util,ItalianTaxIdValidator,validateFiscalCode,Magic Number,The method contains a magic number: 26,72
exteso_alf.io,alfio.util,ItalianTaxIdValidator,fiscalCodeMatchesWithName,Magic Number,The method contains a magic number: 4,90
exteso_alf.io,alfio.util,ItalianTaxIdValidator,fiscalCodeMatchesWithName,Magic Number,The method contains a magic number: 2,90
exteso_alf.io,alfio.util,ItalianTaxIdValidator,appendLastNameCode,Magic Number,The method contains a magic number: 3,117
exteso_alf.io,alfio.util,ItalianTaxIdValidator,appendLastNameCode,Magic Number,The method contains a magic number: 3,117
exteso_alf.io,alfio.util,ItalianTaxIdValidator,appendLastNameCode,Magic Number,The method contains a magic number: 3L,117
exteso_alf.io,alfio.util,ItalianTaxIdValidator,appendLastNameCode,Magic Number,The method contains a magic number: 3,117
exteso_alf.io,alfio.util,ItalianTaxIdValidator,validateVatId,Magic Number,The method contains a magic number: 10,144
exteso_alf.io,alfio.util,ItalianTaxIdValidator,validateVatId,Magic Number,The method contains a magic number: 2,144
exteso_alf.io,alfio.util,ItalianTaxIdValidator,validateVatId,Magic Number,The method contains a magic number: 2,144
exteso_alf.io,alfio.util,ItalianTaxIdValidator,validateVatId,Magic Number,The method contains a magic number: 9,144
exteso_alf.io,alfio.util,ItalianTaxIdValidator,validateVatId,Magic Number,The method contains a magic number: 9,144
exteso_alf.io,alfio.util,ItalianTaxIdValidator,validateVatId,Magic Number,The method contains a magic number: 10,144
exteso_alf.io,alfio.util,ItalianTaxIdValidator,validateVatId,Magic Number,The method contains a magic number: 10,144
exteso_alf.io,alfio.util,ItalianTaxIdValidator,validateVatId,Magic Number,The method contains a magic number: 10,144
exteso_alf.io,alfio.util,ItalianTaxIdValidator,EvenOddValueContainer,Magic Number,The method contains a magic number: 2,169
exteso_alf.io,alfio.util,RequestUtils,getMatchingLocale,Long Statement,The length of the statement "var selectedLocale=locales.stream().map(Locale::getLanguage).filter(allowedLanguages::contains).findFirst().orElseGet(() -> event.getContentLanguages().stream().findFirst().orElseThrow().getLanguage());" is 202.,64
exteso_alf.io,alfio.util,HttpUtils,statusCodeIsSuccessful,Magic Number,The method contains a magic number: 200,46
exteso_alf.io,alfio.util,HttpUtils,statusCodeIsSuccessful,Magic Number,The method contains a magic number: 300,46
exteso_alf.io,alfio.util,HttpUtils,postForm,Long Statement,The length of the statement "HttpRequest request=HttpRequest.newBuilder().uri(URI.create(url)).header("Content-Type"`"application/x-www-form-urlencoded").POST(HttpUtils.ofFormUrlEncodedBody(params)).build();" is 178.,50
exteso_alf.io,alfio.util,HttpUtils,ofFormUrlEncodedBody,Long Statement,The length of the statement "sb.append(URLEncoder.encode(k.toString()`StandardCharsets.UTF_8)).append("=").append(URLEncoder.encode(v.toString()`StandardCharsets.UTF_8));" is 141.,63
exteso_alf.io,alfio.util,ImageUtil,loadDejaVuFont,Long Statement,The length of the statement "try (InputStream is=new ClassPathResource(DEJA_VU_SANS).getInputStream();OutputStream tmpOs=new FileOutputStream(cachedFile)){" is 126.,59
exteso_alf.io,alfio.util,ImageUtil,drawQRCode,Magic Number,The method contains a magic number: 200,97
exteso_alf.io,alfio.util,ImageUtil,drawQRCode,Magic Number,The method contains a magic number: 200,97
exteso_alf.io,alfio.util,ImageUtil,createQRCodeWithDescription,Magic Number,The method contains a magic number: 200,103
exteso_alf.io,alfio.util,ImageUtil,createQRCodeWithDescription,Magic Number,The method contains a magic number: 230,103
exteso_alf.io,alfio.util,ImageUtil,createQRCodeWithDescription,Magic Number,The method contains a magic number: 200,103
exteso_alf.io,alfio.util,ImageUtil,createQRCodeWithDescription,Magic Number,The method contains a magic number: 200,103
exteso_alf.io,alfio.util,ImageUtil,createQRCodeWithDescription,Magic Number,The method contains a magic number: 30,103
exteso_alf.io,alfio.util,ImageUtil,createQRCodeWithDescription,Magic Number,The method contains a magic number: 14f,103
exteso_alf.io,alfio.util,ImageUtil,createQRCodeWithDescription,Magic Number,The method contains a magic number: 23,103
exteso_alf.io,alfio.util,ImageUtil,createQRCodeWithDescription,Magic Number,The method contains a magic number: 25,103
exteso_alf.io,alfio.util,ImageUtil,createQRCodeWithDescription,Magic Number,The method contains a magic number: 215,103
exteso_alf.io,alfio.util,PinGenerator,uuidToPin,Magic Number,The method contains a magic number: 16,35
exteso_alf.io,alfio.util,PinGenerator,pinToPartialUuid,Magic Number,The method contains a magic number: 16,52
exteso_alf.io,alfio.util,PinGenerator,isPinValid,Long Statement,The length of the statement "return pin != null && (pin.strip().length() == pinLength || pin.strip().length() == pinLength + 1) && VALIDATION_PATTERN.matcher(pin.toUpperCase()).matches();" is 158.,65
exteso_alf.io,alfio.util,ObjectDiffUtil,diffUntyped,Long Statement,The length of the statement "removed.stream().map(k -> new Change(formatPropertyName(k`propertyNameBefore`propertyNameAfter)`State.REMOVED`before.get(k)`null)).forEach(changes::add);" is 153.,41
exteso_alf.io,alfio.util,ObjectDiffUtil,diffUntyped,Long Statement,The length of the statement "added.stream().map(k -> new Change(formatPropertyName(k`propertyNameBefore`propertyNameAfter)`State.ADDED`null`after.get(k))).forEach(changes::add);" is 148.,41
exteso_alf.io,alfio.util,ObjectDiffUtil,diffUntyped,Long Statement,The length of the statement "changes.add(new Change(formatPropertyName(k`propertyNameBefore`propertyNameAfter)`State.CHANGED`beforeValue`afterValue));" is 121.,41
exteso_alf.io,alfio.util,TemplateManager,TemplateManager,Long Statement,The length of the statement "this.compilers.put(TemplateOutput.TEXT`Mustache.compiler().escapeHTML(false).standardsMode(false).defaultValue("").nullValue("").withFormatter(TemplateManager::dateFormatter));" is 176.,76
exteso_alf.io,alfio.util,TemplateManager,TemplateManager,Long Statement,The length of the statement "this.compilers.put(TemplateOutput.HTML`Mustache.compiler().escapeHTML(true).standardsMode(false).defaultValue("").nullValue("").withFormatter(TemplateManager::dateFormatter));" is 175.,76
exteso_alf.io,alfio.util,TemplateManager,renderMultipartTemplate,Long Statement,The length of the statement "var options=configurationManager.getFor(EnumSet.of(ConfigurationKeys.MAIL_FOOTER`ConfigurationKeys.ENABLE_HTML_EMAILS)`purchaseContext.getConfigurationLevel());" is 160.,106
exteso_alf.io,alfio.util,TemplateManager,renderMultipartTemplate,Long Statement,The length of the statement "var textRender=render(new ClassPathResource(templateResource.classPath())`enrichedModel`locale`purchaseContext`isMultipart ? TemplateOutput.TEXT : templateResource.getTemplateOutput());" is 185.,106
exteso_alf.io,alfio.util,TemplateManager,renderMultipartTemplate,Long Statement,The length of the statement "htmlRender=render(new ClassPathResource(templateResource.htmlClassPath())`enrichedModel`locale`purchaseContext`TemplateOutput.HTML);" is 132.,106
exteso_alf.io,alfio.util,TemplateManager,renderTemplate,Long Statement,The length of the statement "return uploadedResourceManager.findCascading(purchaseContext.getOrganizationId()`purchaseContext.event().map(Event::getId).orElse(null)`templateResource.getSavedName(locale)).map(resource -> RenderedTemplate.plaintext(render(new ByteArrayResource(resource)`updatedModel`locale`purchaseContext`templateResource.getTemplateOutput())`model)).orElseGet(() -> renderMultipartTemplate(purchaseContext`templateResource`updatedModel`locale));" is 434.,127
exteso_alf.io,alfio.util,TemplateManager,renderString,Long Parameter List,The method has 5 parameters. ,134
exteso_alf.io,alfio.util,TemplateManager,renderString,Long Statement,The length of the statement "return render(new ByteArrayResource(template.getBytes(StandardCharsets.UTF_8))`modelEnricher(model`purchaseContext`locale)`locale`purchaseContext`templateOutput);" is 162.,134
exteso_alf.io,alfio.util,TemplateManager,modelEnricher,Long Statement,The length of the statement "toEnrich.put(VAT_TRANSLATION_TEMPLATE_KEY`messageSourceManager.getMessageSourceFor(purchaseContext).getMessage("common.vat"`null`locale));" is 138.,146
exteso_alf.io,alfio.util,TemplateManager,render,Long Parameter List,The method has 5 parameters. ,156
exteso_alf.io,alfio.util,TemplateManager,render,Long Statement,The length of the statement "mv.addObject("i18n"`new CustomLocalizationMessageInterceptor(locale`messageSourceManager.getMessageSourceFor(purchaseContext)).createTranslator());" is 147.,156
exteso_alf.io,alfio.util,TemplateManager,next,Complex Conditional,The conditional expression endTagIdx != -1 && startTagIdx != -1 && startTagIdx < endTagIdx is complex.,259
exteso_alf.io,alfio.util,ReservationUtil,validateCreateRequest,Long Identifier,The length of the identifier validAdditionalServiceSelected is 30.,69
exteso_alf.io,alfio.util,ReservationUtil,validateCreateRequest,Long Parameter List,The method has 6 parameters. ,69
exteso_alf.io,alfio.util,ReservationUtil,validateCreateRequest,Long Statement,The length of the statement "List<Pair<TicketReservationModification`Integer>> maxTicketsByTicketReservation=selected(request.getTickets()).stream().map(r -> Pair.of(r`tickReservationManager.maxAmountOfTicketsForCategory(event`r.getTicketCategoryId()`validatedPromoCodeDiscount))).toList();" is 261.,69
exteso_alf.io,alfio.util,ReservationUtil,validateCreateRequest,Long Statement,The length of the statement "Optional<Pair<TicketReservationModification`Integer>> error=maxTicketsByTicketReservation.stream().filter(p -> p.getKey().getQuantity() > p.getValue()).findAny();" is 162.,69
exteso_alf.io,alfio.util,ReservationUtil,validateCreateRequest,Long Statement,The length of the statement "final List<AdditionalServiceReservationModification> additionalServices=selectedAdditionalServices(request.getAdditionalServices());" is 132.,69
exteso_alf.io,alfio.util,ReservationUtil,validateCreateRequest,Long Statement,The length of the statement "return as.getInception(event.getZoneId()).isBefore(now) && as.getExpiration(event.getZoneId()).isAfter(now) && asm.getQuantity() >= 0 && ((as.isFixPrice() && asm.isQuantityValid(as`selectionCount)) || (!as.isFixPrice() && asm.getAmount() != null && asm.getAmount().compareTo(BigDecimal.ZERO) >= 0)) && eventManager.eventExistsById(as.getEventId());" is 348.,69
exteso_alf.io,alfio.util,ReservationUtil,validateCreateRequest,Long Statement,The length of the statement "Optional<SpecialPrice> specialCode=Optional.ofNullable(StringUtils.trimToNull(request.getPromoCode())).flatMap(tickReservationManager::getSpecialPriceByCode);" is 158.,69
exteso_alf.io,alfio.util,ReservationUtil,validateCreateRequest,Long Statement,The length of the statement "maxTicketsByTicketReservation.forEach(pair -> validateCategory(bindingResult`tickReservationManager`eventManager`event`pair.getRight()`res`specialCode`now`pair.getLeft()));" is 172.,69
exteso_alf.io,alfio.util,ReservationUtil,validateCreateRequest,Long Statement,The length of the statement "return bindingResult.hasErrors() ? Optional.empty() : Optional.of(Pair.of(res`additionalServices.stream().map(as -> new ASReservationWithOptionalCodeModification(as`specialCode)).toList()));" is 190.,69
exteso_alf.io,alfio.util,ReservationUtil,validateCategory,Long Parameter List,The method has 9 parameters. ,134
exteso_alf.io,alfio.util,ReservationUtil,validateCategory,Long Statement,The length of the statement "SaleableTicketCategory ticketCategory=new SaleableTicketCategory(tc`now`event`tickReservationManager.countAvailableTickets(event`tc)`maxAmountOfTicket`null);" is 157.,134
exteso_alf.io,alfio.util,ReservationUtil,validateCategory,Long Statement,The length of the statement "res.add(new TicketReservationWithOptionalCodeModification(r`ticketCategory.isAccessRestricted() ? specialCode : Optional.empty()));" is 131.,134
exteso_alf.io,alfio.util,ReservationUtil,selected,Long Statement,The length of the statement "return ofNullable(reservation).orElse(emptyList()).stream().filter(e -> e != null && e.getQuantity() != null && e.getTicketCategoryId() != null && e.getQuantity() > 0).toList();" is 177.,148
exteso_alf.io,alfio.util,ReservationUtil,selectedAdditionalServices,Long Statement,The length of the statement "return ofNullable(additionalServices).orElse(emptyList()).stream().filter(e -> e != null && e.getQuantity() != null && e.getAdditionalServiceId() != null && e.getQuantity() > 0).toList();" is 187.,156
exteso_alf.io,alfio.util,LocaleUtil,getTicketLanguage,Long Statement,The length of the statement "return Optional.ofNullable(t.getUserLanguage()).filter(StringUtils::isNotBlank).map(Locale::forLanguageTag).orElse(fallbackLocale);" is 131.,35
exteso_alf.io,alfio.util,LocaleUtil,forLanguageTag,Long Statement,The length of the statement "var filteredLang=localizedContent.getContentLanguages().stream().filter(l -> cleanedUpLang.equalsIgnoreCase(l.getLanguage())).findFirst().map(ContentLanguage::getLanguage).orElseGet(() -> localizedContent.getContentLanguages().stream().findFirst().map(ContentLanguage::getLanguage).orElse("en"));" is 296.,50
exteso_alf.io,alfio.util,LocaleUtil,formatDate,Long Statement,The length of the statement "return datePatterns.entrySet().stream().map(dp -> Map.entry(dp.getKey().getLanguage()`DateTimeFormatter.ofPattern(dp.getValue()).format(date))).collect(Collectors.toMap(Map.Entry::getKey`Map.Entry::getValue));" is 209.,69
exteso_alf.io,alfio.util,EventUtil,displayWaitingQueueForm,Long Statement,The length of the statement "var confVal=configurationManager.getFor(List.of(STOP_WAITING_QUEUE_SUBSCRIPTIONS`ENABLE_PRE_REGISTRATION`ENABLE_WAITING_QUEUE)`event.getConfigurationLevel());" is 158.,84
exteso_alf.io,alfio.util,EventUtil,displayWaitingQueueForm,Long Statement,The length of the statement "return !confVal.get(STOP_WAITING_QUEUE_SUBSCRIPTIONS).getValueAsBooleanOrDefault() && checkWaitingQueuePreconditions(event`categories`noTicketsAvailable`confVal);" is 162.,84
exteso_alf.io,alfio.util,EventUtil,checkWaitingQueuePreconditions,Long Statement,The length of the statement "var confVal=configurationManager.getFor(List.of(ENABLE_PRE_REGISTRATION`ENABLE_WAITING_QUEUE)`event.getConfigurationLevel());" is 125.,102
exteso_alf.io,alfio.util,EventUtil,generateEmptyTickets,Long Statement,The length of the statement "return generateStreamForTicketCreation(limit).map(ps -> buildTicketParams(event.getId()`creationDate`Optional.empty()`0`ps`ticketStatus));" is 138.,124
exteso_alf.io,alfio.util,EventUtil,buildTicketParams,Long Parameter List,The method has 5 parameters. ,134
exteso_alf.io,alfio.util,EventUtil,buildTicketParams,Long Parameter List,The method has 6 parameters. ,142
exteso_alf.io,alfio.util,EventUtil,buildTicketParams,Long Statement,The length of the statement "return ps.addValue("uuid"`UUID.randomUUID().toString()).addValue("creation"`creation).addValue("categoryId"`tc.map(TicketCategory::getId).orElse(null)).addValue("eventId"`eventId).addValue("status"`ticketStatus.name()).addValue("srcPriceCts"`srcPriceCts);" is 255.,142
exteso_alf.io,alfio.util,EventUtil,getIcalForEvent,Long Statement,The length of the statement "ZonedDateTime begin=Optional.ofNullable(ticketCategory).map(tc -> tc.getTicketValidityStart(event.getZoneId())).orElse(event.getBegin());" is 137.,164
exteso_alf.io,alfio.util,EventUtil,getIcalForEvent,Long Statement,The length of the statement "ZonedDateTime end=Optional.ofNullable(ticketCategory).map(tc -> tc.getTicketValidityEnd(event.getZoneId())).orElse(event.getEnd());" is 131.,164
exteso_alf.io,alfio.util,EventUtil,getGoogleCalendarURL,Long Statement,The length of the statement "ZonedDateTime validityStart=Optional.ofNullable(category).map(TicketCategory::getTicketValidityStart).map(d -> d.withZoneSameInstant(event.getZoneId())).orElse(event.getBegin());" is 178.,202
exteso_alf.io,alfio.util,EventUtil,getGoogleCalendarURL,Long Statement,The length of the statement "ZonedDateTime validityEnd=Optional.ofNullable(category).map(TicketCategory::getTicketValidityEnd).map(d -> d.withZoneSameInstant(event.getZoneId())).orElse(event.getEnd());" is 172.,202
exteso_alf.io,alfio.util,EventUtil,getGoogleCalendarURL,Long Statement,The length of the statement "return UriComponentsBuilder.fromUriString("https://www.google.com/calendar/event").queryParam("action"`"TEMPLATE").queryParam("dates"`validityStart.format(formatter) + "/" + validityEnd.format(formatter)).queryParam("ctz"`event.getTimeZone()).queryParam("text"`event.getDisplayName()).queryParam("location"`event.getLocation()).queryParam("details"`description).toUriString();" is 376.,202
exteso_alf.io,alfio.util,EventUtil,retrieveFieldValues,Long Identifier,The length of the parameter additionalServiceItemRepository is 31.,216
exteso_alf.io,alfio.util,EventUtil,retrieveFieldValues,Long Statement,The length of the statement "Map<Integer`TicketFieldDescription> descriptions=ticketFieldRepository.findTranslationsFor(LocaleUtil.forLanguageTag(ticket.getUserLanguage())`ticket.getEventId());" is 164.,216
exteso_alf.io,alfio.util,EventUtil,retrieveFieldValues,Long Statement,The length of the statement "Function<TicketFieldConfiguration`String> extractor=f -> Optional.ofNullable(values.get(f.getName())).map(TicketFieldValue::getValue).orElse("");" is 145.,216
exteso_alf.io,alfio.util,EventUtil,retrieveFieldValues,Long Statement,The length of the statement "List<AdditionalServiceItem> additionalServiceItems=isFirstTicket ? additionalServiceItemRepository.findByReservationUuid(ticket.getTicketsReservationId()) : Collections.emptyList();" is 181.,216
exteso_alf.io,alfio.util,EventUtil,retrieveFieldValues,Long Statement,The length of the statement "Set<Integer> additionalServiceIds=additionalServiceItems.stream().map(AdditionalServiceItem::getAdditionalServiceId).collect(Collectors.toSet());" is 145.,216
exteso_alf.io,alfio.util,EventUtil,retrieveFieldValues,Long Statement,The length of the statement "return ticketFieldRepository.findAdditionalFieldsForEvent(ticket.getEventId()).stream().filter(f -> f.getContext() == ATTENDEE || Optional.ofNullable(f.getAdditionalServiceId()).filter(additionalServiceIds::contains).isPresent()).filter(f -> CollectionUtils.isEmpty(f.getCategoryIds()) || f.getCategoryIds().contains(ticket.getCategoryId())).map(f -> {" is 352.,216
exteso_alf.io,alfio.util,EventUtil,retrieveFieldValues,Long Statement,The length of the statement "int count=Math.max(1`Optional.ofNullable(f.getAdditionalServiceId()).map(id -> (int)additionalServiceItems.stream().filter(i -> i.getAdditionalServiceId() == id).count()).orElse(f.getCount()));" is 193.,216
exteso_alf.io,alfio.util,EventUtil,retrieveFieldValues,Long Statement,The length of the statement "return new TicketFieldConfigurationDescriptionAndValue(f`descriptions.getOrDefault(f.getId()`TicketFieldDescription.MISSING_FIELD)`count`extractor.apply(f));" is 157.,216
exteso_alf.io,alfio.util,EventUtil,firstMatchingCallLink,Long Statement,The length of the statement "return firstMatchingCallLink(categoryConfiguration`eventZoneId`now).or(() -> firstMatchingCallLink(eventConfiguration`eventZoneId`now));" is 136.,246
exteso_alf.io,alfio.util,EventUtil,firstMatchingCallLink,Long Statement,The length of the statement "return Optional.ofNullable(onlineConfiguration).stream().flatMap(configuration -> configuration.getCallLinks().stream()).sorted(Comparator.comparing(JoinLink::getValidFrom).reversed()).filter(joinLink -> now.isBefore(joinLink.getValidTo().atZone(zoneId)) && now.plusSeconds(1).isAfter(joinLink.getValidFrom().atZone(zoneId))).findFirst();" is 338.,252
exteso_alf.io,alfio.util,EventUtil,isAccessOnline,Long Statement,The length of the statement "return event.getFormat() == Event.EventFormat.ONLINE || event.getFormat() == Event.EventFormat.HYBRID && category != null && category.getTicketAccessType() == TicketCategory.TicketAccessType.ONLINE;" is 198.,260
exteso_alf.io,alfio.util,PreReservedTicketDistributorTest,setUp,Magic Number,The method contains a magic number: 2,42
exteso_alf.io,alfio.util,PreReservedTicketDistributorTest,setUp,Magic Number,The method contains a magic number: 3,42
exteso_alf.io,alfio.util,PreReservedTicketDistributorTest,includeAllCategories42,Magic Number,The method contains a magic number: 42,53
exteso_alf.io,alfio.util,PreReservedTicketDistributorTest,includeAllCategories42,Magic Number,The method contains a magic number: 3,53
exteso_alf.io,alfio.util,PreReservedTicketDistributorTest,includeAllCategories42,Magic Number,The method contains a magic number: 2,53
exteso_alf.io,alfio.util,PreReservedTicketDistributorTest,includeAllCategories43,Magic Number,The method contains a magic number: 43,63
exteso_alf.io,alfio.util,PreReservedTicketDistributorTest,includeAllCategories43,Magic Number,The method contains a magic number: 3,63
exteso_alf.io,alfio.util,PreReservedTicketDistributorTest,includeAllCategories43,Magic Number,The method contains a magic number: 2,63
exteso_alf.io,alfio.util,PreReservedTicketDistributorTest,includeFirstTwoCategories,Magic Number,The method contains a magic number: 20,81
exteso_alf.io,alfio.util,PreReservedTicketDistributorTest,includeFirstTwoCategories,Magic Number,The method contains a magic number: 2,81
exteso_alf.io,alfio.util,PreReservedTicketDistributorTest,includeFirstTwoCategories,Magic Number,The method contains a magic number: 10,81
exteso_alf.io,alfio.util,PreReservedTicketDistributorTest,includeAllCategories,Magic Number,The method contains a magic number: 23,90
exteso_alf.io,alfio.util,PreReservedTicketDistributorTest,includeAllCategories,Magic Number,The method contains a magic number: 3,90
exteso_alf.io,alfio.util,PreReservedTicketDistributorTest,includeAllCategories,Magic Number,The method contains a magic number: 2,90
exteso_alf.io,alfio.util,MustacheCustomTagTest,testHtmlMarkDown,Long Statement,The length of the statement "assertEquals("<p>escape &lt;a href=&quot;http://test&quot;&gt;bla&lt;/a&gt; escape</p>\n"`MustacheCustomTag.renderToHtmlCommonmarkEscaped("escape <a href=\"http://test\">bla</a> escape"));" is 188.,79
exteso_alf.io,alfio.util,MustacheCustomTagTest,testHtmlMarkDown,Long Statement,The length of the statement "assertEquals("<p>link <a href=\"/test\">bla</a> link</p>\n"`MustacheCustomTag.renderToHtmlCommonmarkEscaped("link [bla](/test) link"));" is 135.,79
exteso_alf.io,alfio.util,MustacheCustomTagTest,testHtmlMarkDown,Long Statement,The length of the statement "assertEquals("<p>link <a href=\"http://test\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">bla</a> link</p>\n"`MustacheCustomTag.renderToHtmlCommonmarkEscaped("link [bla](http://test) link"));" is 202.,79
exteso_alf.io,alfio.util,PinGeneratorTest2,uuidToPinAndBack,Magic Number,The method contains a magic number: 32,26
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,adjustToNextMondaySameHour,Magic Number,The method contains a magic number: 2015,32
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,adjustToNextMondaySameHour,Magic Number,The method contains a magic number: 20,32
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,adjustToNextMondaySameHour,Magic Number,The method contains a magic number: 10,32
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,adjustToNextMondaySameHour,Magic Number,The method contains a magic number: 22,32
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,adjustToNextMondaySameHour,Magic Number,The method contains a magic number: 10,32
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,adjustToNextMondayNextHour,Magic Number,The method contains a magic number: 2015,44
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,adjustToNextMondayNextHour,Magic Number,The method contains a magic number: 20,44
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,adjustToNextMondayNextHour,Magic Number,The method contains a magic number: 7,44
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,adjustToNextMondayNextHour,Magic Number,The method contains a magic number: 22,44
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,adjustToNextMondayNextHour,Magic Number,The method contains a magic number: 8,44
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,adjustToNextHour,Magic Number,The method contains a magic number: 2015,56
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,adjustToNextHour,Magic Number,The method contains a magic number: 17,56
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,adjustToNextHour,Magic Number,The method contains a magic number: 7,56
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,adjustToNextHour,Magic Number,The method contains a magic number: 17,56
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,adjustToNextHour,Magic Number,The method contains a magic number: 8,56
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,doNothingIfDateWithinRange,Magic Number,The method contains a magic number: 2015,68
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,doNothingIfDateWithinRange,Magic Number,The method contains a magic number: 17,68
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,doNothingIfDateWithinRange,Magic Number,The method contains a magic number: 8,68
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,doNothingIfDateWithinRange,Magic Number,The method contains a magic number: 17,68
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,doNothingIfDateWithinRange,Magic Number,The method contains a magic number: 8,68
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,doNothingIfDateWithinRangeMiddle,Magic Number,The method contains a magic number: 2015,80
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,doNothingIfDateWithinRangeMiddle,Magic Number,The method contains a magic number: 17,80
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,doNothingIfDateWithinRangeMiddle,Magic Number,The method contains a magic number: 13,80
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,doNothingIfDateWithinRangeMiddle,Magic Number,The method contains a magic number: 17,80
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,doNothingIfDateWithinRangeMiddle,Magic Number,The method contains a magic number: 13,80
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,doNothingIfDateWithinRangeEnd,Magic Number,The method contains a magic number: 2015,92
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,doNothingIfDateWithinRangeEnd,Magic Number,The method contains a magic number: 17,92
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,doNothingIfDateWithinRangeEnd,Magic Number,The method contains a magic number: 19,92
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,doNothingIfDateWithinRangeEnd,Magic Number,The method contains a magic number: 59,92
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,doNothingIfDateWithinRangeEnd,Magic Number,The method contains a magic number: 17,92
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,doNothingIfDateWithinRangeEnd,Magic Number,The method contains a magic number: 19,92
exteso_alf.io,alfio.util,WorkingDaysAdjustersTest,doNothingIfDateWithinRangeEnd,Magic Number,The method contains a magic number: 59,92
exteso_alf.io,alfio.util,BaseIntegrationTest,testTransferEventToAnotherOrg,Long Statement,The length of the statement "assertEquals(1`jdbcTemplate.update("update event set org_id = :orgId where id = :id"`Map.of("orgId"`newOrgId`"id"`eventId)));" is 125.,34
exteso_alf.io,alfio.util,BaseIntegrationTest,testTransferEventToAnotherOrg,Long Statement,The length of the statement "var errors=jdbcTemplate.queryForList("select entity || ' (' || cnt || ')' from count_resources_assigned_to_event_org where ev = :eventId and org = :orgId and cnt > 0"`params`String.class);" is 188.,34
exteso_alf.io,alfio.util,BaseIntegrationTest,testTransferSubscriptionDescriptorToAnotherOrg,Long Statement,The length of the statement "assertEquals(1`jdbcTemplate.update("update subscription_descriptor set organization_id_fk = :orgId where id = :id::uuid"`Map.of("orgId"`newOrgId`"id"`subscriptionDescriptorId)));" is 178.,52
exteso_alf.io,alfio.util,BaseIntegrationTest,testTransferSubscriptionDescriptorToAnotherOrg,Long Statement,The length of the statement "var errors=jdbcTemplate.queryForList("select entity || ' (' || cnt || ')' from count_resources_assigned_to_subscription_org where sid = :descriptorId::uuid and org = :orgId and cnt > 0"`params`String.class);" is 207.,52
exteso_alf.io,alfio.util,BaseIntegrationTest,createNewOrg,Long Statement,The length of the statement "jdbcTemplate.update("INSERT INTO organization(name` description` email` name_openid` slug) VALUES (:name` ''` ''` null` null)"`parameterSource`keyHolder);" is 154.,70
exteso_alf.io,alfio.util,BaseIntegrationTest,createNewOrg,Long Statement,The length of the statement "Integer userId=jdbcTemplate.queryForObject("select id from ba_user where username = :username and enabled = true"`Map.of("username"`username)`Integer.class);" is 157.,70
exteso_alf.io,alfio.util,BaseIntegrationTest,createNewOrg,Long Statement,The length of the statement "assertEquals(1`jdbcTemplate.update("insert into j_user_organization (user_id` org_id) values(:userId` :organizationId)"`Map.of("userId"`userId`"organizationId"`newOrgId)));" is 172.,70
exteso_alf.io,alfio.util,EventUtilTest,setUp,Magic Number,The method contains a magic number: 2,63
exteso_alf.io,alfio.util,EventUtilTest,setUp,Magic Number,The method contains a magic number: 2,63
exteso_alf.io,alfio.util,EventUtilTest,setUp,Magic Number,The method contains a magic number: 2,63
exteso_alf.io,alfio.util,EventUtilTest,buildConf,Long Statement,The length of the statement "return new ConfigurationManager.MaybeConfiguration(k`new ConfigurationKeyValuePathLevel(k.getValue()`Boolean.toString(value)`null));" is 132.,84
exteso_alf.io,alfio.util,EventUtilTest,displayWaitingQueueFormIfSoldOut,Long Statement,The length of the statement "when(configurationManager.getFor(anyList()`any())).thenReturn(Map.of(STOP_WAITING_QUEUE_SUBSCRIPTIONS`buildConf(STOP_WAITING_QUEUE_SUBSCRIPTIONS)`ENABLE_WAITING_QUEUE`buildConf(ENABLE_WAITING_QUEUE`true)));" is 206.,92
exteso_alf.io,alfio.util,EventUtilTest,displayWaitingQueueFormIfSoldOutReversed,Long Statement,The length of the statement "when(configurationManager.getFor(anyList()`any())).thenReturn(Map.of(STOP_WAITING_QUEUE_SUBSCRIPTIONS`buildConf(STOP_WAITING_QUEUE_SUBSCRIPTIONS)`ENABLE_WAITING_QUEUE`buildConf(ENABLE_WAITING_QUEUE`true)));" is 206.,100
exteso_alf.io,alfio.util,EventUtilTest,displayWaitingQueueFormIfSingleCategorySoldOut,Long Statement,The length of the statement "when(configurationManager.getFor(anyList()`any())).thenReturn(Map.of(STOP_WAITING_QUEUE_SUBSCRIPTIONS`buildConf(STOP_WAITING_QUEUE_SUBSCRIPTIONS)`ENABLE_WAITING_QUEUE`buildConf(ENABLE_WAITING_QUEUE`true)));" is 206.,108
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormIfAvailableSeats,Long Statement,The length of the statement "when(configurationManager.getFor(anyList()`any())).thenReturn(Map.of(STOP_WAITING_QUEUE_SUBSCRIPTIONS`buildConf(STOP_WAITING_QUEUE_SUBSCRIPTIONS)`ENABLE_WAITING_QUEUE`buildConf(ENABLE_WAITING_QUEUE`true)));" is 206.,116
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormIfCategoryExpired,Long Statement,The length of the statement "when(configurationManager.getFor(anyList()`any())).thenReturn(Map.of(STOP_WAITING_QUEUE_SUBSCRIPTIONS`buildConf(STOP_WAITING_QUEUE_SUBSCRIPTIONS)`ENABLE_WAITING_QUEUE`buildConf(ENABLE_WAITING_QUEUE`true)));" is 206.,125
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormIfCategoryExpired,Long Statement,The length of the statement "assertFalse(EventUtil.displayWaitingQueueForm(event`categories`configurationManager`EventUtilTest::ticketsNotAvailable));" is 121.,125
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormIfCategoryExpired,Magic Number,The method contains a magic number: 2,125
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormIfCategoryExpired,Magic Number,The method contains a magic number: 2,125
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormIfCategoryExpired,Magic Number,The method contains a magic number: 2,125
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormIfCategoryExpired,Magic Number,The method contains a magic number: 2,125
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormIfCategoryNotExpired,Long Statement,The length of the statement "when(configurationManager.getFor(anyList()`any())).thenReturn(Map.of(STOP_WAITING_QUEUE_SUBSCRIPTIONS`buildConf(STOP_WAITING_QUEUE_SUBSCRIPTIONS)`ENABLE_WAITING_QUEUE`buildConf(ENABLE_WAITING_QUEUE`true)));" is 206.,141
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormIfCategoryNotExpired,Long Statement,The length of the statement "assertFalse(EventUtil.displayWaitingQueueForm(event`categories`configurationManager`EventUtilTest::ticketsNotAvailable));" is 121.,141
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormIfCategoryNotExpired,Magic Number,The method contains a magic number: 2,141
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormIfCategoryNotExpired,Magic Number,The method contains a magic number: 2,141
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormIfNoCategories,Long Statement,The length of the statement "when(configurationManager.getFor(anyList()`any())).thenReturn(Map.of(STOP_WAITING_QUEUE_SUBSCRIPTIONS`buildConf(STOP_WAITING_QUEUE_SUBSCRIPTIONS)`ENABLE_WAITING_QUEUE`buildConf(ENABLE_WAITING_QUEUE`true)));" is 206.,154
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormIfNoCategories,Long Statement,The length of the statement "assertFalse(EventUtil.displayWaitingQueueForm(event`categories`configurationManager`EventUtilTest::ticketsNotAvailable));" is 121.,154
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormIfDisabled,Long Statement,The length of the statement "when(configurationManager.getFor(anyList()`any())).thenReturn(Map.of(STOP_WAITING_QUEUE_SUBSCRIPTIONS`buildConf(STOP_WAITING_QUEUE_SUBSCRIPTIONS)`ENABLE_WAITING_QUEUE`buildConf(ENABLE_WAITING_QUEUE`false)));" is 207.,162
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormIfDisabled,Long Statement,The length of the statement "assertFalse(EventUtil.displayWaitingQueueForm(event`categories`configurationManager`EventUtilTest::ticketsNotAvailable));" is 121.,162
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormIfDisabled,Magic Number,The method contains a magic number: 2,162
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormIfDisabled,Magic Number,The method contains a magic number: 2,162
exteso_alf.io,alfio.util,EventUtilTest,displayWaitingQueueFormBeforeSalesStart,Long Statement,The length of the statement "when(configurationManager.getFor(anyList()`any())).thenReturn(Map.of(STOP_WAITING_QUEUE_SUBSCRIPTIONS`buildConf(STOP_WAITING_QUEUE_SUBSCRIPTIONS)`ENABLE_PRE_REGISTRATION`buildConf(ENABLE_PRE_REGISTRATION`true)));" is 212.,174
exteso_alf.io,alfio.util,EventUtilTest,displayWaitingQueueFormBeforeSalesStart,Magic Number,The method contains a magic number: 2,174
exteso_alf.io,alfio.util,EventUtilTest,displayWaitingQueueFormBeforeSalesStart,Magic Number,The method contains a magic number: 2,174
exteso_alf.io,alfio.util,EventUtilTest,displayWaitingQueueFormBeforeSalesStart2,Long Statement,The length of the statement "when(configurationManager.getFor(anyList()`any())).thenReturn(Map.of(STOP_WAITING_QUEUE_SUBSCRIPTIONS`buildConf(STOP_WAITING_QUEUE_SUBSCRIPTIONS)`ENABLE_PRE_REGISTRATION`buildConf(ENABLE_PRE_REGISTRATION`true)));" is 212.,187
exteso_alf.io,alfio.util,EventUtilTest,displayWaitingQueueFormBeforeSalesStart2,Magic Number,The method contains a magic number: 2,187
exteso_alf.io,alfio.util,EventUtilTest,displayWaitingQueueFormBeforeSalesStart2,Magic Number,The method contains a magic number: 2,187
exteso_alf.io,alfio.util,EventUtilTest,displayWaitingQueueFormBeforeSalesStart2,Magic Number,The method contains a magic number: 3,187
exteso_alf.io,alfio.util,EventUtilTest,displayWaitingQueueFormBeforeSalesStart2,Magic Number,The method contains a magic number: 3,187
exteso_alf.io,alfio.util,EventUtilTest,displayWaitingQueueFormBeforeSalesStart2,Magic Number,The method contains a magic number: 2,187
exteso_alf.io,alfio.util,EventUtilTest,displayWaitingQueueFormBeforeSalesStart2,Magic Number,The method contains a magic number: 2,187
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayFormBeforeStartIfPreRegistrationDisabled,Long Statement,The length of the statement "when(configurationManager.getFor(anyList()`any())).thenReturn(Map.of(STOP_WAITING_QUEUE_SUBSCRIPTIONS`buildConf(STOP_WAITING_QUEUE_SUBSCRIPTIONS)`ENABLE_PRE_REGISTRATION`buildConf(ENABLE_PRE_REGISTRATION`false)));" is 213.,205
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayFormBeforeStartIfPreRegistrationDisabled,Magic Number,The method contains a magic number: 2,205
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayFormBeforeStartIfPreRegistrationDisabled,Magic Number,The method contains a magic number: 2,205
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormAfterSalesStart,Long Statement,The length of the statement "when(configurationManager.getFor(anyList()`any())).thenReturn(Map.of(STOP_WAITING_QUEUE_SUBSCRIPTIONS`buildConf(STOP_WAITING_QUEUE_SUBSCRIPTIONS)`ENABLE_PRE_REGISTRATION`buildConf(ENABLE_PRE_REGISTRATION`true)`ENABLE_WAITING_QUEUE`buildConf(ENABLE_WAITING_QUEUE)));" is 265.,218
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormAfterSalesStart,Magic Number,The method contains a magic number: 2,218
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormAfterSalesStart,Magic Number,The method contains a magic number: 2,218
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormAfterSalesStart2,Long Statement,The length of the statement "when(configurationManager.getFor(anyList()`any())).thenReturn(Map.of(STOP_WAITING_QUEUE_SUBSCRIPTIONS`buildConf(STOP_WAITING_QUEUE_SUBSCRIPTIONS)`ENABLE_PRE_REGISTRATION`buildConf(ENABLE_PRE_REGISTRATION`true)`ENABLE_WAITING_QUEUE`buildConf(ENABLE_WAITING_QUEUE`true)));" is 270.,234
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormAfterSalesStart2,Magic Number,The method contains a magic number: 2,234
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormAfterSalesStart2,Magic Number,The method contains a magic number: 2,234
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormAfterSalesStart2,Magic Number,The method contains a magic number: 3,234
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormAfterSalesStart2,Magic Number,The method contains a magic number: 3,234
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormAfterSalesStart2,Magic Number,The method contains a magic number: 2,234
exteso_alf.io,alfio.util,EventUtilTest,doNotDisplayWaitingQueueFormAfterSalesStart2,Magic Number,The method contains a magic number: 2,234
exteso_alf.io,alfio.util,EventUtilTest,recognizePreSalesFromFirstCategory,Magic Number,The method contains a magic number: 2,265
exteso_alf.io,alfio.util,EventUtilTest,recognizePreSalesFromFirstCategory,Magic Number,The method contains a magic number: 2,265
exteso_alf.io,alfio.util,EventUtilTest,recognizePreSalesFromFirstCategory,Magic Number,The method contains a magic number: 2,265
exteso_alf.io,alfio.util,EventUtilTest,recognizePreSalesFromFirstCategory,Magic Number,The method contains a magic number: 5,265
exteso_alf.io,alfio.util,EventUtilTest,recognizePreSalesFromFirstCategory,Magic Number,The method contains a magic number: 5,265
exteso_alf.io,alfio.util,EventUtilTest,recognizePostSalesPeriod,Magic Number,The method contains a magic number: 5,280
exteso_alf.io,alfio.util,EventUtilTest,recognizePostSalesFromFirstCategory,Magic Number,The method contains a magic number: 2,290
exteso_alf.io,alfio.util,EventUtilTest,recognizePostSalesFromFirstCategory,Magic Number,The method contains a magic number: 2,290
exteso_alf.io,alfio.util,EventUtilTest,recognizePostSalesFromFirstCategory,Magic Number,The method contains a magic number: 3,290
exteso_alf.io,alfio.util,EventUtilTest,recognizePostSalesFromFirstCategory,Magic Number,The method contains a magic number: 5,290
exteso_alf.io,alfio.util,EventUtilTest,recognizePostSalesFromFirstCategory,Magic Number,The method contains a magic number: 5,290
exteso_alf.io,alfio.util,TemplateManagerTest,parseMixedI18N,Long Statement,The length of the statement "assertEquals("before middle-en after"`TemplateManager.translate("before {{#i18n}}middle{{/i18n}} after"`Locale.ENGLISH`messageSource));" is 135.,63
exteso_alf.io,alfio.util,TemplateManagerTest,parseMultipleMixedI18N,Long Statement,The length of the statement "assertEquals("before1middle-1-resolvedafter1before2middle-2-resolvedafter2"`TemplateManager.translate("before1{{#i18n}}middle1{{/i18n}}after1before2{{#i18n}}middle2{{/i18n}}after2"`Locale.ENGLISH`messageSource));" is 212.,68
exteso_alf.io,alfio.util,TemplateManagerTest,parseNestedI18N,Long Statement,The length of the statement "assertEquals("nested-resolved"`TemplateManager.translate("{{#i18n}}{{#i18n}}nested{{/i18n}}{{/i18n}}"`Locale.ENGLISH`messageSource));" is 133.,73
exteso_alf.io,alfio.util,TemplateManagerTest,parseNested2I18N,Long Statement,The length of the statement "assertEquals("0complete-resolved3"`TemplateManager.translate("0{{#i18n}}1{{#i18n}}a{{/i18n}}-middle-{{#i18n}}b{{/i18n}}2{{/i18n}}3"`Locale.ENGLISH`messageSource));" is 163.,78
exteso_alf.io,alfio.util,MonetaryUtilTest,addVAT,Magic Number,The method contains a magic number: 10750,29
exteso_alf.io,alfio.util,MonetaryUtilTest,addVAT,Magic Number,The method contains a magic number: 10800,29
exteso_alf.io,alfio.util,MonetaryUtilTest,addVAT,Magic Number,The method contains a magic number: 8000,29
exteso_alf.io,alfio.util,MonetaryUtilTest,addVAT,Magic Number,The method contains a magic number: 7407,29
exteso_alf.io,alfio.util,MonetaryUtilTest,addVAT,Magic Number,The method contains a magic number: 400,29
exteso_alf.io,alfio.util,MonetaryUtilTest,addVAT,Magic Number,The method contains a magic number: 370,29
exteso_alf.io,alfio.util,MonetaryUtilTest,addVAT,Magic Number,The method contains a magic number: 700,29
exteso_alf.io,alfio.util,MonetaryUtilTest,addVAT,Magic Number,The method contains a magic number: 648,29
exteso_alf.io,alfio.util,MonetaryUtilTest,addVAT,Magic Number,The method contains a magic number: 10799,29
exteso_alf.io,alfio.util,MonetaryUtilTest,addVAT,Magic Number,The method contains a magic number: 10800,29
exteso_alf.io,alfio.util,MonetaryUtilTest,addVAT,Magic Number,The method contains a magic number: 12100,29
exteso_alf.io,alfio.util,MonetaryUtilTest,centsToUnit,Magic Number,The method contains a magic number: 10000,41
exteso_alf.io,alfio.util,MonetaryUtilTest,centsToUnit,Magic Number,The method contains a magic number: 10001,41
exteso_alf.io,alfio.util,MonetaryUtilTest,centsToUnit,Magic Number,The method contains a magic number: 10099,41
exteso_alf.io,alfio.util,MonetaryUtilTest,centsToUnit,Magic Number,The method contains a magic number: 9750,41
exteso_alf.io,alfio.util,MonetaryUtilTest,centsToUnit,Magic Number,The method contains a magic number: 101,41
exteso_alf.io,alfio.util,MonetaryUtilTest,centsToUnit,Magic Number,The method contains a magic number: 101000,41
exteso_alf.io,alfio.util,MonetaryUtilTest,unitToCents,Magic Number,The method contains a magic number: 10000,52
exteso_alf.io,alfio.util,MonetaryUtilTest,unitToCents,Magic Number,The method contains a magic number: 10001,52
exteso_alf.io,alfio.util,MonetaryUtilTest,unitToCents,Magic Number,The method contains a magic number: 10001,52
exteso_alf.io,alfio.util,MonetaryUtilTest,unitToCents,Magic Number,The method contains a magic number: 10099,52
exteso_alf.io,alfio.util,MonetaryUtilTest,unitToCents,Magic Number,The method contains a magic number: 10099,52
exteso_alf.io,alfio.util,MonetaryUtilTest,unitToCents,Magic Number,The method contains a magic number: 10100,52
exteso_alf.io,alfio.util,MonetaryUtilTest,unitToCents,Magic Number,The method contains a magic number: 10100,52
exteso_alf.io,alfio.util,MonetaryUtilTest,unitToCents,Magic Number,The method contains a magic number: 101,52
exteso_alf.io,alfio.util,MonetaryUtilTest,unitToCents,Magic Number,The method contains a magic number: 101,52
exteso_alf.io,alfio.util,MonetaryUtilTest,unitToCents,Magic Number,The method contains a magic number: 101000,52
exteso_alf.io,alfio.util,MonetaryUtilTest,unitToCents,Magic Number,The method contains a magic number: 101000,52
exteso_alf.io,alfio.util,MonetaryUtilTest,formatCents,Magic Number,The method contains a magic number: 1000,68
exteso_alf.io,alfio.util,MonetaryUtilTest,formatCents,Magic Number,The method contains a magic number: 1000,68
exteso_alf.io,alfio.util,MonetaryUtilTest,formatCents,Magic Number,The method contains a magic number: 1000,68
exteso_alf.io,alfio.util,MonetaryUtilTest,formatCents,Magic Number,The method contains a magic number: 1000,68
exteso_alf.io,alfio.util,MonetaryUtilTest,formatCents,Magic Number,The method contains a magic number: 1000,68
exteso_alf.io,alfio.util,TemplateResourceTest,buildModelForTicketEmail,Long Statement,The length of the statement "Map<String`Object> model=TemplateResource.buildModelForTicketEmail(organization`event`ticketReservation`"Https://test"`"Https://test"`"Https://test"`ticket`ticketCategory`Map.of());" is 181.,57
exteso_alf.io,alfio.util,TemplateResourceTest,buildModelForTicketPDF,Long Statement,The length of the statement "Map<String`Object> model=TemplateResource.buildModelForTicketPDF(organization`event`ticketReservation`ticketCategory`ticketWithMetadata`Optional.empty()`"abcd"`Collections.emptyMap());" is 184.,65
exteso_alf.io,alfio.util,TemplateResourceTest,getDates,Magic Number,The method contains a magic number: 3,75
exteso_alf.io,alfio.util,TemplateResourceTest,getDates,Magic Number,The method contains a magic number: 2,75
exteso_alf.io,alfio.util,ValidatorTest,successfulDescriptionValidation,Magic Number,The method contains a magic number: 5,73
exteso_alf.io,alfio.util,ValidatorTest,failedDescriptionValidation,Magic Number,The method contains a magic number: 4,80
exteso_alf.io,alfio.util,ValidatorTest,successfulCategoryDescriptionValidation,Magic Number,The method contains a magic number: 5,87
exteso_alf.io,alfio.util,ValidatorTest,successfulCategoryDescriptionValidationWhenEmpty,Magic Number,The method contains a magic number: 5,94
exteso_alf.io,alfio.util,ValidatorTest,failedCategoryDescriptionValidation,Magic Number,The method contains a magic number: 4,101
exteso_alf.io,alfio.util,ValidatorTest,testValidationSuccess,Long Statement,The length of the statement "EventModification.AdditionalService valid1=new EventModification.AdditionalService(0`BigDecimal.ZERO`false`0`-1`1`VALID_INCEPTION`VALID_EXPIRATION`null`AdditionalService.VatType.NONE`Collections.emptyList()`singletonList(title)`singletonList(description)`AdditionalService.AdditionalServiceType.DONATION`null);" is 310.,108
exteso_alf.io,alfio.util,ValidatorTest,testValidationSuccess,Long Statement,The length of the statement "EventModification.AdditionalService valid2=new EventModification.AdditionalService(0`BigDecimal.ONE`true`1`100`1`VALID_INCEPTION`VALID_EXPIRATION`BigDecimal.TEN`AdditionalService.VatType.INHERITED`Collections.emptyList()`singletonList(title)`singletonList(description)`AdditionalService.AdditionalServiceType.DONATION`null);" is 324.,108
exteso_alf.io,alfio.util,ValidatorTest,testValidationSuccess,Long Statement,The length of the statement "assertTrue(Stream.of(valid1`valid2).map(as -> Validator.validateAdditionalService(as`errors)).allMatch(ValidationResult::isSuccess));" is 133.,108
exteso_alf.io,alfio.util,ValidatorTest,testValidationSuccess,Magic Number,The method contains a magic number: 100,108
exteso_alf.io,alfio.util,ValidatorTest,testValidationErrorExpirationBeforeInception,Long Statement,The length of the statement "EventModification.AdditionalService invalid=new EventModification.AdditionalService(0`BigDecimal.ZERO`false`0`-1`1`VALID_EXPIRATION`VALID_INCEPTION`null`AdditionalService.VatType.NONE`Collections.emptyList()`singletonList(title)`singletonList(description)`AdditionalService.AdditionalServiceType.DONATION`null);" is 311.,116
exteso_alf.io,alfio.util,ValidatorTest,testValidationErrorInceptionNull,Long Statement,The length of the statement "EventModification.AdditionalService invalid=new EventModification.AdditionalService(0`BigDecimal.ONE`true`1`100`1`null`VALID_EXPIRATION`BigDecimal.TEN`AdditionalService.VatType.INHERITED`Collections.emptyList()`singletonList(title)`singletonList(description)`AdditionalService.AdditionalServiceType.DONATION`null);" is 314.,124
exteso_alf.io,alfio.util,ValidatorTest,testValidationErrorInceptionNull,Magic Number,The method contains a magic number: 100,124
exteso_alf.io,alfio.util,ValidatorTest,testValidationExpirationNull,Long Statement,The length of the statement "EventModification.AdditionalService invalid=new EventModification.AdditionalService(0`BigDecimal.ONE`true`1`100`1`VALID_INCEPTION`null`BigDecimal.TEN`AdditionalService.VatType.INHERITED`Collections.emptyList()`singletonList(title)`singletonList(description)`AdditionalService.AdditionalServiceType.DONATION`null);" is 313.,132
exteso_alf.io,alfio.util,ValidatorTest,testValidationExpirationNull,Magic Number,The method contains a magic number: 100,132
exteso_alf.io,alfio.util,ValidatorTest,testValidationInceptionExpirationNull,Long Statement,The length of the statement "EventModification.AdditionalService invalid=new EventModification.AdditionalService(0`BigDecimal.ONE`true`1`100`1`null`null`BigDecimal.TEN`AdditionalService.VatType.INHERITED`Collections.emptyList()`singletonList(title)`singletonList(description)`AdditionalService.AdditionalServiceType.DONATION`null);" is 302.,140
exteso_alf.io,alfio.util,ValidatorTest,testValidationInceptionExpirationNull,Magic Number,The method contains a magic number: 100,140
exteso_alf.io,alfio.util,ValidatorTest,testValidationFailedDescriptionsDontMatchTitles,Long Statement,The length of the statement "EventModification.AdditionalService invalid=new EventModification.AdditionalService(0`BigDecimal.ZERO`false`0`-1`1`VALID_INCEPTION`VALID_EXPIRATION`null`AdditionalService.VatType.NONE`Collections.emptyList()`emptyList()`singletonList(description)`AdditionalService.AdditionalServiceType.DONATION`null);" is 302.,148
exteso_alf.io,alfio.util,ValidatorTest,testValidationFailedDescriptionsDontMatchTitles,Long Statement,The length of the statement "EventModification.AdditionalService valid=new EventModification.AdditionalService(0`BigDecimal.ONE`true`1`100`1`VALID_INCEPTION`VALID_EXPIRATION`BigDecimal.TEN`AdditionalService.VatType.INHERITED`Collections.emptyList()`singletonList(title)`singletonList(description)`AdditionalService.AdditionalServiceType.DONATION`null);" is 323.,148
exteso_alf.io,alfio.util,ValidatorTest,testValidationFailedDescriptionsDontMatchTitles,Magic Number,The method contains a magic number: 100,148
exteso_alf.io,alfio.util,ValidatorTest,testValidationFailedDescription,Long Statement,The length of the statement "EventModification.AdditionalService invalid1=new EventModification.AdditionalService(0`BigDecimal.ZERO`false`0`-1`1`VALID_INCEPTION`VALID_EXPIRATION`null`AdditionalService.VatType.NONE`Collections.emptyList()`emptyList()`singletonList(description)`AdditionalService.AdditionalServiceType.DONATION`null);" is 303.,158
exteso_alf.io,alfio.util,ValidatorTest,testValidationFailedDescription,Long Statement,The length of the statement "EventModification.AdditionalService invalid2=new EventModification.AdditionalService(0`BigDecimal.ONE`true`1`100`1`VALID_INCEPTION`VALID_EXPIRATION`BigDecimal.TEN`AdditionalService.VatType.INHERITED`Collections.emptyList()`singletonList(title)`singletonList(new EventModification.AdditionalServiceText(0`"en"`""`AdditionalServiceText.TextType.DESCRIPTION))`AdditionalService.AdditionalServiceType.DONATION`null);" is 412.,158
exteso_alf.io,alfio.util,ValidatorTest,testValidationFailedDescription,Magic Number,The method contains a magic number: 100,158
exteso_alf.io,alfio.util,RequestUtilsTest,testUA,Long Statement,The length of the statement "Assertions.assertTrue(RequestUtils.isSocialMediaShareUA("facebookexternalhit/1.1 (+http://www.facebook.com/externalhit_uatext.php)"));" is 134.,24
exteso_alf.io,alfio.util,RequestUtilsTest,testUA,Long Statement,The length of the statement "Assertions.assertTrue(RequestUtils.isSocialMediaShareUA("LinkedInBot/1.0 (compatible; Mozilla/5.0; Jakarta Commons-HttpClient/3.1 +http://www.linkedin.com)"));" is 159.,24
exteso_alf.io,alfio.util,RequestUtilsTest,testUA,Long Statement,The length of the statement "Assertions.assertFalse(RequestUtils.isSocialMediaShareUA("Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML` like Gecko) Chrome/74.0.3729.169 Safari/537.36"));" is 177.,24
exteso_alf.io,alfio.util.checkin,TicketCheckInUtil,ticketOnlineCheckInUrl,Long Statement,The length of the statement "return StringUtils.removeEnd(baseUrl`"/") + "/event/" + event.getShortName()+ "/ticket/"+ ticket.getUuid()+ "/check-in/"+ ticketCode;" is 133.,42
exteso_alf.io,alfio.util.checkin,TicketCheckInUtil,getOnlineCheckInInfo,Long Identifier,The length of the field CUSTOM_CHECK_IN_URL_DESCRIPTION is 31.,48
exteso_alf.io,alfio.util.checkin,TicketCheckInUtil,getOnlineCheckInInfo,Long Parameter List,The method has 9 parameters. ,48
exteso_alf.io,alfio.util.checkin,TicketCheckInUtil,getOnlineCheckInInfo,Long Statement,The length of the statement "Supplier<Optional<String>> eventMetadata=() -> Optional.ofNullable(eventRepository.getMetadataForEvent(event.getId()).getRequirementsDescriptions()).flatMap(m -> Optional.ofNullable(m.get(ticketLanguage.getLanguage())));" is 220.,48
exteso_alf.io,alfio.util.checkin,TicketCheckInUtil,getOnlineCheckInInfo,Long Statement,The length of the statement "var categoryMetadata=Optional.ofNullable(ticketCategoryRepository.getMetadata(event.getId()`ticketCategory.getId()).getRequirementsDescriptions()).flatMap(m -> Optional.ofNullable(m.get(ticketLanguage.getLanguage())));" is 218.,48
exteso_alf.io,alfio.model,UploadedResource,UploadedResource,Long Parameter List,The method has 7 parameters. ,40
exteso_alf.io,alfio.model,TicketFieldConfiguration,TicketFieldConfiguration,Long Parameter List,The method has 14 parameters. ,54
exteso_alf.io,alfio.model,TicketFieldConfiguration,TicketFieldConfiguration,Long Statement,The length of the statement "this.restrictedValues=restrictedValues == null ? Collections.emptyList() : Json.GSON.fromJson(restrictedValues`new TypeToken<List<String>>(){" is 141.,54
exteso_alf.io,alfio.model,TicketFieldConfiguration,TicketFieldConfiguration,Long Statement,The length of the statement "this.disabledValues=disabledValues == null ? Collections.emptyList() : Json.GSON.fromJson(disabledValues`new TypeToken<List<String>>(){" is 135.,54
exteso_alf.io,alfio.model,TicketFieldConfiguration,TicketFieldConfiguration,Long Statement,The length of the statement "this.categoryIds=ticketCategoryIds == null ? Collections.emptyList() : Json.GSON.fromJson(ticketCategoryIds`new TypeToken<List<Integer>>(){" is 139.,54
exteso_alf.io,alfio.model,TicketFieldConfiguration,getInputType,Magic Number,The method contains a magic number: 2,116
exteso_alf.io,alfio.model,AdditionalService,AdditionalService,Long Parameter List,The method has 14 parameters. ,85
exteso_alf.io,alfio.model,AdditionalService,getInception,Long Statement,The length of the statement "return Optional.ofNullable(utcInception).map(i -> i.withZoneSameInstant(zoneId)).orElseGet(() -> ZonedDateTime.now(ClockProvider.clock().withZone(zoneId)).minus(1L`ChronoUnit.HOURS));" is 183.,115
exteso_alf.io,alfio.model,AdditionalService,getExpiration,Long Statement,The length of the statement "return Optional.ofNullable(utcExpiration).map(i -> i.withZoneSameInstant(zoneId)).orElseGet(() -> ZonedDateTime.now(ClockProvider.clock().withZone(zoneId)).plus(1L`ChronoUnit.HOURS));" is 183.,119
exteso_alf.io,alfio.model,AdditionalServiceText,AdditionalServiceText,Long Parameter List,The method has 5 parameters. ,35
exteso_alf.io,alfio.model,TotalPrice,TotalPrice,Long Parameter List,The method has 5 parameters. ,31
exteso_alf.io,alfio.model,BillingDocument,BillingDocument,Long Parameter List,The method has 9 parameters. ,48
exteso_alf.io,alfio.model,TicketCategoryWithAdditionalInfo,TicketCategoryWithAdditionalInfo,Long Parameter List,The method has 6 parameters. ,58
exteso_alf.io,alfio.model,TicketCategoryWithAdditionalInfo,getFormattedValidCheckInFrom,Long Statement,The length of the statement "return getValidCheckInFrom() != null ? getValidCheckInFrom(event.getZoneId()).format(EventStatistic.JSON_DATE_FORMATTER) : null;" is 128.,96
exteso_alf.io,alfio.model,TicketCategoryWithAdditionalInfo,getFormattedValidCheckInTo,Long Statement,The length of the statement "return getValidCheckInTo() != null ? getValidCheckInTo(event.getZoneId()).format(EventStatistic.JSON_DATE_FORMATTER) : null;" is 124.,100
exteso_alf.io,alfio.model,TicketCategoryWithAdditionalInfo,getFormattedTicketValidityStart,Long Statement,The length of the statement "return getTicketValidityStart() != null ? getTicketValidityStart(event.getZoneId()).format(EventStatistic.JSON_DATE_FORMATTER) : null;" is 134.,104
exteso_alf.io,alfio.model,TicketCategoryWithAdditionalInfo,getFormattedTicketValidityEnd,Long Statement,The length of the statement "return getTicketValidityEnd() != null ? getTicketValidityEnd(event.getZoneId()).format(EventStatistic.JSON_DATE_FORMATTER) : null;" is 130.,108
exteso_alf.io,alfio.model,TicketCategoryWithAdditionalInfo,calcSoldTicketsPercent,Long Statement,The length of the statement "return BigDecimal.valueOf(soldTickets).divide(BigDecimal.valueOf(maxTickets)`2`RoundingMode.HALF_UP).multiply(MonetaryUtil.HUNDRED);" is 132.,112
exteso_alf.io,alfio.model,TicketCategoryWithAdditionalInfo,calcSoldTicketsPercent,Magic Number,The method contains a magic number: 2,112
exteso_alf.io,alfio.model,AdminReservationRequestStats,AdminReservationRequestStats,Long Parameter List,The method has 6 parameters. ,33
exteso_alf.io,alfio.model,AdditionalServiceItem,AdditionalServiceItem,Long Parameter List,The method has 13 parameters. ,46
exteso_alf.io,alfio.model,EventWithAdditionalInfo,EventWithAdditionalInfo,Long Parameter List,The method has 8 parameters. ,49
exteso_alf.io,alfio.model,WaitingQueueSubscription,WaitingQueueSubscription,Long Parameter List,The method has 12 parameters. ,52
exteso_alf.io,alfio.model,WaitingQueueSubscription,toString,Long Statement,The length of the statement "return new ToStringBuilder(this).append("id"`id).append("creation"`creation).append("eventId"`eventId).append("status"`status).append("fullName"`fullName).append("firstName"`firstName).append("lastName"`lastName).append("emailAddress"`emailAddress).append("reservationId"`reservationId).append("userLanguage"`userLanguage).append("selectedCategoryId"`selectedCategoryId).append("subscriptionType"`subscriptionType).toString();" is 426.,86
exteso_alf.io,alfio.model,ExtensionLog,ExtensionLog,Long Parameter List,The method has 7 parameters. ,42
exteso_alf.io,alfio.model,DetailedScanData,DetailedScanData,Long Parameter List,The method has 28 parameters. ,33
exteso_alf.io,alfio.model,DetailedScanData,DetailedScanData,Long Statement,The length of the statement "this.ticket=new Ticket(ticketId`ticketUuid`ticketCreation`ticketCategoryId`ticketStatus`ticketEventId`ticketsReservationId`ticketFullName`ticketFirstName`ticketLastName`ticketEmail`ticketLockedAssignment`ticketUserLanguage`ticketSrcPriceCts`ticketFinalPriceCts`ticketVatCts`ticketDiscountCts`extReference`currencyCode`ticketTags`ticketSubscriptionId`ticketVatStatus);" is 367.,33
exteso_alf.io,alfio.model,TicketWithMetadataAttributes,TicketWithMetadataAttributes,Long Parameter List,The method has 23 parameters. ,33
exteso_alf.io,alfio.model,TicketWithMetadataAttributes,TicketWithMetadataAttributes,Long Statement,The length of the statement "this(new Ticket(id`uuid`creation`categoryId`status`eventId`ticketsReservationId`fullName`firstName`lastName`email`lockedAssignment`userLanguage`srcPriceCts`finalPriceCts`vatCts`discountCts`extReference`currencyCode`tags`subscriptionId`vatStatus)`ticketMetadataContainer);" is 271.,33
exteso_alf.io,alfio.model,TicketWithMetadataAttributes,getAttributes,Long Statement,The length of the statement "return ticketMetadataContainer.getMetadataForKey(TicketMetadataContainer.GENERAL).flatMap(tm -> Optional.ofNullable(tm.getAttributes())).orElse(Map.of());" is 154.,65
exteso_alf.io,alfio.model,EventStatistic,isWarningNeeded,Long Statement,The length of the statement "return !isExpired() && (eventStatisticView.isContainsOrphanTickets() || eventStatisticView.isContainsStuckReservations());" is 122.,52
exteso_alf.io,alfio.model,EventStatistic,compareTo,Long Statement,The length of the statement "return builder.append(isExpired()`o.isExpired()).append(event.getBegin().withZoneSameInstant(ZoneId.systemDefault())`o.event.getBegin().withZoneSameInstant(ZoneId.systemDefault())).build();" is 189.,137
exteso_alf.io,alfio.model,EmailMessage,EmailMessage,Long Parameter List,The method has 15 parameters. ,57
exteso_alf.io,alfio.model,EmailMessage,compareTo,Long Statement,The length of the statement "return new CompareToBuilder().append(eventId`o.eventId).append(subscriptionDescriptorId`o.subscriptionDescriptorId).append(checksum`o.checksum).build();" is 152.,98
exteso_alf.io,alfio.model,EmailMessage,equals,Long Statement,The length of the statement "return new EqualsBuilder().append(eventId`other.eventId).append(subscriptionDescriptorId`other.subscriptionDescriptorId).append(checksum`other.checksum).isEquals();" is 164.,107
exteso_alf.io,alfio.model,Ticket,Ticket,Long Parameter List,The method has 22 parameters. ,65
exteso_alf.io,alfio.model,Ticket,getAssigned,Long Statement,The length of the statement "return (StringUtils.isNotBlank(fullName) || (StringUtils.isNotBlank(firstName) && StringUtils.isNotBlank(lastName))) && StringUtils.isNotBlank(email);" is 150.,112
exteso_alf.io,alfio.model,TicketCategoryStatisticView,TicketCategoryStatisticView,Long Parameter List,The method has 13 parameters. ,40
exteso_alf.io,alfio.model,TicketCategory,TicketCategory,Long Parameter List,The method has 19 parameters. ,99
exteso_alf.io,alfio.model,TicketCategory,hasValidCheckIn,Long Statement,The length of the statement "return (validCheckInFrom == null || !getValidCheckInFrom(eventZoneId).isAfter(now)) && (validCheckInTo == null || !getValidCheckInTo(eventZoneId).isBefore(now));" is 161.,171
exteso_alf.io,alfio.model,CustomerName,CustomerName,Long Parameter List,The method has 5 parameters. ,35
exteso_alf.io,alfio.model,ExtensionSupport,ExtensionSupport,Long Parameter List,The method has 8 parameters. ,39
exteso_alf.io,alfio.model,PromoCodeDiscount,PromoCodeDiscount,Long Parameter List,The method has 15 parameters. ,67
exteso_alf.io,alfio.model,PromoCodeDiscount,hasCurrencyCode,Magic Number,The method contains a magic number: 3,132
exteso_alf.io,alfio.model,Event,Event,Long Parameter List,The method has 26 parameters. ,82
exteso_alf.io,alfio.model,Event,Event,Long Statement,The length of the statement "this.allowedPaymentProxies=Arrays.stream(Optional.ofNullable(allowedPaymentProxies).orElse("").split("`")).filter(StringUtils::isNotBlank).map(PaymentProxy::valueOf).collect(Collectors.toList());" is 195.,82
exteso_alf.io,alfio.model,Event,buildTitle,Long Statement,The length of the statement "return ContentLanguage.findAllFor(locales).stream().collect(Collectors.toMap(cl -> cl.getLocale().getLanguage()`cl -> displayName));" is 132.,149
exteso_alf.io,alfio.model,Event,mustUseFirstAndLastName,Long Identifier,The length of the field VERSION_FOR_FIRST_AND_LAST_NAME is 31.,256
exteso_alf.io,alfio.model,Event,mustUseFirstAndLastName,Long Statement,The length of the statement "return event.getVersion() != null && MigrationVersion.fromVersion(event.getVersion()).compareTo(MigrationVersion.fromVersion(VERSION_FOR_FIRST_AND_LAST_NAME)) >= 0;" is 164.,256
exteso_alf.io,alfio.model,Event,expiredSince,Long Statement,The length of the statement "return ZonedDateTime.now(ClockProvider.clock().withZone(getZoneId())).truncatedTo(ChronoUnit.DAYS).minusDays(days).isAfter(getEnd().truncatedTo(ChronoUnit.DAYS));" is 162.,265
exteso_alf.io,alfio.model,TicketReservationWithEventIdentifier,TicketReservationWithEventIdentifier,Long Parameter List,The method has 33 parameters. ,32
exteso_alf.io,alfio.model,TicketReservationWithEventIdentifier,TicketReservationWithEventIdentifier,Long Statement,The length of the statement "this.reservation=new TicketReservation(id`validity`status`fullName`firstName`lastName`email`billingAddress`confirmationTimestamp`latestReminder`paymentMethod`reminderSent`promoCodeDiscountId`automatic`userLanguage`directAssignmentRequested`invoiceNumber`invoiceModel`vatStatus`vatNr`vatCountryCode`invoiceRequested`usedVatPercent`vatIncluded`creationTimestamp`customerReference`registrationTimestamp`srcPriceCts`finalPriceCts`vatCts`discountCts`currencyCode);" is 459.,32
exteso_alf.io,alfio.model,TicketReservationInfo,TicketReservationInfo,Long Parameter List,The method has 9 parameters. ,38
exteso_alf.io,alfio.model,TicketReservation,TicketReservation,Long Parameter List,The method has 32 parameters. ,86
exteso_alf.io,alfio.model,TicketReservation,getHasBeenPaid,Long Statement,The length of the statement "return status == TicketReservationStatus.COMPLETE && !EnumSet.of(PaymentProxy.NONE`PaymentProxy.ADMIN).contains(paymentMethod);" is 127.,181
exteso_alf.io,alfio.model,FullTicketInfo,FullTicketInfo,Long Identifier,The length of the parameter reservationRegistrationTimestamp is 32.,45
exteso_alf.io,alfio.model,FullTicketInfo,FullTicketInfo,Long Parameter List,The method has 79 parameters. ,45
exteso_alf.io,alfio.model,FullTicketInfo,FullTicketInfo,Long Statement,The length of the statement "this.ticket=new Ticket(id`uuid`creation`categoryId`status`eventId`ticketsReservationId`fullName`firstName`lastName`email`lockedAssignment`userLanguage`ticketSrcPriceCts`ticketFinalPriceCts`ticketVatCts`ticketDiscountCts`extReference`currencyCode`ticketTags`ticketSubscriptionId`ticketVatStatus);" is 295.,45
exteso_alf.io,alfio.model,FullTicketInfo,FullTicketInfo,Long Statement,The length of the statement "this.ticketReservation=new TicketReservation(trId`trValidity`trStatus`trFullName`trFirstName`trLastName`trEmail`trBillingAddress`trConfirmationTimestamp`trLatestReminder`trPaymentMethod`trReminderSent`trPromoCodeDiscountId`trAutomatic`resUserLanguage`directAssignment`invoiceNumber`invoiceModel`reservationVatStatus`vatNr`vatCountry`invoiceRequested`usedVatPercent`vatIncluded`reservationCreationTimestamp`customerReference`reservationRegistrationTimestamp`reservationSrcPriceCts`reservationFinalPriceCts`reservationVatCts`reservationDiscountCts`reservationCurrencyCode);" is 571.,45
exteso_alf.io,alfio.model,FullTicketInfo,FullTicketInfo,Long Statement,The length of the statement "this.ticketCategory=new TicketCategory(tcId`tcUtcInception`tcUtcExpiration`tcMaxTickets`tcName`tcAccessRestricted`tcStatus`tcEventId`bounded`tcSrcPriceCts`code`validCheckInFrom`validCheckInTo`ticketValidityStart`ticketValidityEnd`currencyCode`ordinal`ticketCheckInStrategy`ticketAccessType);" is 291.,45
exteso_alf.io,alfio.model,FullTicketInfo,FullTicketInfo,Long Statement,The length of the statement "this.billingDetails=new BillingDetails(billingAddressCompany`billingAddressLine1`billingAddressLine2`billingAddressZip`billingAddressCity`billingAddressState`vatCountry`vatNr`invoicingAdditionalInfo);" is 200.,45
exteso_alf.io,alfio.model,OrderSummary,getTotalNetPrice,Long Statement,The length of the statement "return MonetaryUtil.formatCents(originalTotalPrice.getPriceWithVAT() - originalTotalPrice.getVAT()`originalTotalPrice.getCurrencyCode());" is 137.,86
exteso_alf.io,alfio.model,OrderSummary,getDescriptionForPayment,Long Statement,The length of the statement "return summary.stream().filter(r -> !r.isDiscount()).map(SummaryRow::getDescriptionForPayment).collect(Collectors.joining("` "));" is 129.,97
exteso_alf.io,alfio.model,OrderSummary,getDisplaySplitPaymentNote,Long Statement,The length of the statement "return !free && (vatStatus == PriceContainer.VatStatus.INCLUDED_NOT_CHARGED || vatStatus == PriceContainer.VatStatus.NOT_INCLUDED_NOT_CHARGED);" is 143.,101
exteso_alf.io,alfio.model,PriceContainer,extractVat,Magic Number,The method contains a magic number: 2,56
exteso_alf.io,alfio.model,PriceContainer,getAppliedDiscount,Long Statement,The length of the statement "return getDiscount().filter(discount -> discount.getDiscountType() != PromoCodeDiscount.DiscountType.FIXED_AMOUNT_RESERVATION).map(discount -> {" is 144.,150
exteso_alf.io,alfio.model,PriceContainer,getAppliedDiscount,Long Statement,The length of the statement "return fixScale(price.multiply(new BigDecimal(discount.getDiscountAmount()).divide(HUNDRED`2`UNNECESSARY))`currencyCode);" is 121.,150
exteso_alf.io,alfio.model,PriceContainer,getAppliedDiscount,Magic Number,The method contains a magic number: 2,150
exteso_alf.io,alfio.model,EventStatisticView,EventStatisticView,Long Parameter List,The method has 11 parameters. ,25
exteso_alf.io,alfio.model,Audit,Audit,Long Parameter List,The method has 10 parameters. ,95
exteso_alf.io,alfio.model,ReservationWithPurchaseContext,ReservationWithPurchaseContext,Long Identifier,The length of the parameter purchaseContextPublicIdentifier is 31.,63
exteso_alf.io,alfio.model,ReservationWithPurchaseContext,ReservationWithPurchaseContext,Long Identifier,The length of the field purchaseContextPublicIdentifier is 31.,63
exteso_alf.io,alfio.model,ReservationWithPurchaseContext,ReservationWithPurchaseContext,Long Parameter List,The method has 21 parameters. ,63
exteso_alf.io,alfio.model,SummaryPriceContainer,getSummaryPriceBeforeVatCts,Long Statement,The length of the statement "return elements.stream().map(PriceContainer::getNetPrice).reduce(BigDecimal::add).map(p -> MonetaryUtil.unitToCents(p`currencyCode)).orElse(0);" is 143.,28
exteso_alf.io,alfio.model,BillingDetails,BillingDetails,Long Parameter List,The method has 9 parameters. ,35
exteso_alf.io,alfio.model,TicketFieldValueAndDescription,TicketFieldValueAndDescription,Long Parameter List,The method has 5 parameters. ,28
exteso_alf.io,alfio.model,DynamicFieldTemplate,DynamicFieldTemplate,Long Parameter List,The method has 7 parameters. ,40
exteso_alf.io,alfio.model,DynamicFieldTemplate,DynamicFieldTemplate,Long Statement,The length of the statement "this.restrictedValues=Optional.ofNullable(restrictedValuesJson).map(DynamicFieldTemplate::parseRestrictedValues).orElse(Collections.emptyList());" is 145.,40
exteso_alf.io,alfio.model,TicketWithReservationAndTransaction,TicketWithReservationAndTransaction,Long Identifier,The length of the parameter reservationRegistrationTimestamp is 32.,43
exteso_alf.io,alfio.model,TicketWithReservationAndTransaction,TicketWithReservationAndTransaction,Long Parameter List,The method has 77 parameters. ,43
exteso_alf.io,alfio.model,TicketWithReservationAndTransaction,TicketWithReservationAndTransaction,Long Statement,The length of the statement "this.ticket=id != null ? new Ticket(id`uuid`creation`categoryId`status`eventId`ticketsReservationId`fullName`firstName`lastName`email`lockedAssignment`userLanguage`srcPriceCts`finalPriceCts`vatCts`discountCts`extReference`currencyCode`ticketTags`ticketSubscriptionId`vatStatus) : null;" is 285.,43
exteso_alf.io,alfio.model,TicketWithReservationAndTransaction,TicketWithReservationAndTransaction,Long Statement,The length of the statement "this.ticketReservation=new TicketReservation(trId`validity`trStatus`trFullName`trFirstName`trLastName`trEmail`billingAddress`confirmationTimestamp`latestReminder`paymentMethod`reminderSent`promoCodeDiscountId`automatic`trUserLanguage`directAssignmentRequested`invoiceNumber`invoiceModel`vatStatus`vatNr`vatCountryCode`invoiceRequested`usedVadPercent`vatIncluded`reservationCreationTimestamp`customerReference`reservationRegistrationTimestamp`reservationSrcPriceCts`reservationFinalPriceCts`reservationVatCts`reservationDiscountCts`reservationCurrencyCode);" is 556.,43
exteso_alf.io,alfio.model,TicketWithReservationAndTransaction,TicketWithReservationAndTransaction,Long Statement,The length of the statement "this.billingDetails=new BillingDetails(billingAddressCompany`billingAddressLine1`billingAddressLine2`billingAddressZip`billingAddressCity`billingAddressState`vatCountryCode`vatNr`invoicingAdditionalInfo);" is 204.,43
exteso_alf.io,alfio.model,TicketWithReservationAndTransaction,TicketWithReservationAndTransaction,Long Statement,The length of the statement "this.transaction=Optional.of(new Transaction(btId`transactionId`paymentId`reservationId`timestamp`priceInCents`currency`description`paymentProxy`Optional.ofNullable(platformFee).orElse(0L)`Optional.ofNullable(gatewayFee).orElse(0L)`transactionStatus`metadata));" is 261.,43
exteso_alf.io,alfio.model,AdminReservationRequest,AdminReservationRequest,Long Parameter List,The method has 9 parameters. ,45
exteso_alf.io,alfio.model,TicketReservationWithTransaction,TicketReservationWithTransaction,Long Identifier,The length of the parameter reservationRegistrationTimestamp is 32.,41
exteso_alf.io,alfio.model,TicketReservationWithTransaction,TicketReservationWithTransaction,Long Parameter List,The method has 55 parameters. ,41
exteso_alf.io,alfio.model,TicketReservationWithTransaction,TicketReservationWithTransaction,Long Statement,The length of the statement "this.ticketReservation=new TicketReservation(trId`validity`trStatus`trFullName`trFirstName`trLastName`trEmail`billingAddress`confirmationTimestamp`latestReminder`paymentMethod`reminderSent`promoCodeDiscountId`automatic`trUserLanguage`directAssignmentRequested`invoiceNumber`invoiceModel`vatStatus`vatNr`vatCountryCode`invoiceRequested`usedVadPercent`vatIncluded`reservationCreationTimestamp`customerReference`reservationRegistrationTimestamp`reservationSrcPriceCts`reservationFinalPriceCts`reservationVatCts`reservationDiscountCts`reservationCurrencyCode);" is 556.,41
exteso_alf.io,alfio.model,TicketReservationWithTransaction,TicketReservationWithTransaction,Long Statement,The length of the statement "this.billingDetails=new BillingDetails(billingAddressCompany`billingAddressLine1`billingAddressLine2`billingAddressZip`billingAddressCity`billingAddressState`vatCountryCode`vatNr`invoicingAdditionalInfo);" is 204.,41
exteso_alf.io,alfio.model,TicketReservationWithTransaction,TicketReservationWithTransaction,Long Statement,The length of the statement "this.transaction=new Transaction(btId`transactionId`paymentId`reservationId`timestamp`priceInCents`currency`description`paymentProxy`Optional.ofNullable(platformFee).orElse(0L)`Optional.ofNullable(gatewayFee).orElse(0L)`transactionStatus`transactionMetadata);" is 259.,41
exteso_alf.io,alfio.model,TicketFieldConfigurationDescriptionAndValue,getTranslatedRestrictedValue,Long Statement,The length of the statement "return ticketFieldConfiguration.getRestrictedValues().stream().map(val -> Triple.of(val`description.getOrDefault(val`"MISSING_DESCRIPTION")`isFieldValueEnabled(ticketFieldConfiguration`val))).collect(Collectors.toList());" is 221.,72
exteso_alf.io,alfio.model,TicketFieldConfigurationDescriptionAndValue,getFields,Long Statement,The length of the statement "return IntStream.range(0`count).mapToObj(i -> new TicketFieldValue(i`i + 1`i < values.size() ? values.get(i) : ""`isAcceptingValues())).collect(Collectors.toList());" is 165.,80
exteso_alf.io,alfio.model,TicketFieldConfigurationDescriptionAndValue,getValueDescription,Long Statement,The length of the statement "return matches.stream().map(v -> findValueDescription(restrictedValues`v)).filter(StringUtils::isNotBlank).collect(Collectors.joining("` "));" is 141.,95
exteso_alf.io,alfio.model,TicketFieldConfigurationDescriptionAndValue,findValueDescription,Long Statement,The length of the statement "return translateRestrictedValues.stream().filter(t -> StringUtils.equals(t.getLeft()`value)).map(Triple::getMiddle).findFirst().orElse("");" is 139.,114
exteso_alf.io,alfio.model,TicketFieldConfigurationDescriptionAndValue,isFieldValueEnabled,Long Statement,The length of the statement "return !ticketFieldConfiguration.isSelectField() || CollectionUtils.isEmpty(ticketFieldConfiguration.getDisabledValues()) || !ticketFieldConfiguration.getDisabledValues().contains(value);" is 187.,135
exteso_alf.io,alfio.model,FileBlobMetadata,FileBlobMetadata,Long Parameter List,The method has 5 parameters. ,40
exteso_alf.io,alfio.model,TicketReservationAdditionalInfo,TicketReservationAdditionalInfo,Long Identifier,The length of the parameter invoicingAdditionalInformation is 30.,42
exteso_alf.io,alfio.model,TicketReservationAdditionalInfo,TicketReservationAdditionalInfo,Long Parameter List,The method has 12 parameters. ,42
exteso_alf.io,alfio.model,TicketReservationAdditionalInfo,TicketReservationAdditionalInfo,Long Statement,The length of the statement "this.invoicingAdditionalInfo=Objects.requireNonNullElseGet(invoicingAdditionalInformation`() -> new TicketReservationInvoicingAdditionalInfo(null));" is 148.,42
exteso_alf.io,alfio.model,TicketReservationAdditionalInfo,getBillingDetails,Long Statement,The length of the statement "return new BillingDetails(billingAddressCompany`billingAddressLine1`billingAddressLine2`billingAddressZip`billingAddressCity`billingAddressState`billingAddressCountry`vatNr`invoicingAdditionalInfo);" is 198.,77
exteso_alf.io,alfio.model,LightweightMailMessage,LightweightMailMessage,Long Parameter List,The method has 13 parameters. ,25
exteso_alf.io,alfio.model,LightweightMailMessage,LightweightMailMessage,Long Statement,The length of the statement "super(id`eventId`subscriptionDescriptorId`status`recipient`subject`message`null`null`checksum`requestTimestamp`sentTimestamp`attempts`cc`organizationId);" is 153.,25
exteso_alf.io,alfio.model,AdditionalServiceItemExport,AdditionalServiceItemExport,Long Parameter List,The method has 13 parameters. ,40
exteso_alf.io,alfio.model,SponsorScan,SponsorScan,Long Parameter List,The method has 6 parameters. ,39
exteso_alf.io,alfio.model,SpecialPrice,SpecialPrice,Long Parameter List,The method has 9 parameters. ,41
exteso_alf.io,alfio.model,SummaryPriceContainerTest,testSummaryPriceBeforeVatIncluded,Long Statement,The length of the statement "List<TicketPriceContainer> items=IntStream.range(0`10).mapToObj(i -> vatIncludedPriceContainer()).collect(Collectors.toList());" is 127.,35
exteso_alf.io,alfio.model,SummaryPriceContainerTest,testSummaryPriceBeforeVatIncluded,Magic Number,The method contains a magic number: 10,35
exteso_alf.io,alfio.model,SummaryPriceContainerTest,testSummaryPriceBeforeVatIncluded,Magic Number,The method contains a magic number: 8264,35
exteso_alf.io,alfio.model,SummaryPriceContainerTest,testSummaryPriceBeforeVatExcluded,Long Statement,The length of the statement "List<TicketPriceContainer> items=IntStream.range(0`10).mapToObj(i -> vatExcludedPriceContainer()).collect(Collectors.toList());" is 127.,45
exteso_alf.io,alfio.model,SummaryPriceContainerTest,testSummaryPriceBeforeVatExcluded,Magic Number,The method contains a magic number: 10,45
exteso_alf.io,alfio.model,SummaryPriceContainerTest,testSummaryPriceBeforeVatExcluded,Magic Number,The method contains a magic number: 10000,45
exteso_alf.io,alfio.model,SummaryPriceContainerTest,createPriceContainer,Magic Number,The method contains a magic number: 1000,71
exteso_alf.io,alfio.model,ContentLanguageTest,validateContentLanguages,Long Statement,The length of the statement "var sortedContentLanguages=ContentLanguage.ALL_LANGUAGES.stream().sorted(Comparator.comparing(ContentLanguage::getValue)).toList();" is 131.,27
exteso_alf.io,alfio.model,ContentLanguageTest,validateContentLanguages,Long Statement,The length of the statement "assertNotEquals(current.getValue()`previous.getValue()`"error: " + previous.getDisplayLanguage() + " ("+ previous.getLanguage()+ ")"+ " and "+ current.getDisplayLanguage()+ " ("+ current.getLanguage()+ ") have the same value");" is 227.,27
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputDoNotApplyVat,Long Statement,The length of the statement "when(promoCodeDiscount.getDiscountType()).thenReturn(PromoCodeDiscount.DiscountType.FIXED_AMOUNT`PromoCodeDiscount.DiscountType.PERCENTAGE);" is 140.,37
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputDoNotApplyVat,Magic Number,The method contains a magic number: 1000,37
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputDoNotApplyVat,Magic Number,The method contains a magic number: 100,37
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputDoNotApplyVat,Magic Number,The method contains a magic number: 10,37
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputDoNotApplyVat,Magic Number,The method contains a magic number: 1100,37
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputDoNotApplyVat,Magic Number,The method contains a magic number: 1000,37
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatNotIncludedSingle,Magic Number,The method contains a magic number: 1000,56
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatNotIncludedSingle,Magic Number,The method contains a magic number: 100,56
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatNotIncludedSingle,Magic Number,The method contains a magic number: 1100,56
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatNotIncludedSingle,Magic Number,The method contains a magic number: 10,56
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatNotIncludedSingle,Magic Number,The method contains a magic number: 1000,56
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatNotIncludedExemptSingle,Long Statement,The length of the statement "PriceContainerImpl vs=new PriceContainerImpl(1000`"CHF"`new BigDecimal("30.00")`PriceContainer.VatStatus.NOT_INCLUDED_EXEMPT);" is 126.,76
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatNotIncludedExemptSingle,Long Statement,The length of the statement "vs=new PriceContainerImpl(1100`"CHF"`new BigDecimal("8.00")`PriceContainer.VatStatus.NOT_INCLUDED_EXEMPT`promoCodeDiscount);" is 124.,76
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatNotIncludedExemptSingle,Long Statement,The length of the statement "vs=new PriceContainerImpl(1000`"CHF"`new BigDecimal("10.00")`PriceContainer.VatStatus.NOT_INCLUDED_EXEMPT`promoCodeDiscount);" is 125.,76
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatNotIncludedExemptSingle,Magic Number,The method contains a magic number: 1000,76
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatNotIncludedExemptSingle,Magic Number,The method contains a magic number: 100,76
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatNotIncludedExemptSingle,Magic Number,The method contains a magic number: 1100,76
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatNotIncludedExemptSingle,Magic Number,The method contains a magic number: 10,76
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatNotIncludedExemptSingle,Magic Number,The method contains a magic number: 1000,76
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatIncludedExemptSingle,Long Statement,The length of the statement "PriceContainerImpl vs=new PriceContainerImpl(1000`"CHF"`new BigDecimal("30.00")`PriceContainer.VatStatus.INCLUDED_EXEMPT);" is 122.,96
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatIncludedExemptSingle,Long Statement,The length of the statement "vs=new PriceContainerImpl(1000`"CHF"`new BigDecimal("10.00")`PriceContainer.VatStatus.INCLUDED_EXEMPT`promoCodeDiscount);" is 121.,96
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatIncludedExemptSingle,Magic Number,The method contains a magic number: 1000,96
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatIncludedExemptSingle,Magic Number,The method contains a magic number: 100,96
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatIncludedExemptSingle,Magic Number,The method contains a magic number: 1100,96
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatIncludedExemptSingle,Magic Number,The method contains a magic number: 10,96
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatIncludedExemptSingle,Magic Number,The method contains a magic number: 1000,96
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatNotIncluded,Long Statement,The length of the statement "int result=MonetaryUtil.unitToCents(vatAmount.subtract(MonetaryUtil.calcVat(netPrice`priceContainer.getVatPercentageOrZero())).abs()`"CHF");" is 140.,116
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatNotIncluded,Long Statement,The length of the statement "BigDecimal calcVatPerc=vatAmount.divide(finalPrice`5`RoundingMode.HALF_UP).multiply(new BigDecimal("100.00")).setScale(2`RoundingMode.HALF_UP);" is 143.,116
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatNotIncluded,Long Statement,The length of the statement "fail(String.format("Expected percentage: %s` got %s` vat %s v. %s"`calcVatPerc`priceContainer.getOptionalVatPercentage()`vatAmount`MonetaryUtil.calcVat(netPrice`priceContainer.getVatPercentageOrZero())));" is 204.,116
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatNotIncluded,Magic Number,The method contains a magic number: 2,116
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatNotIncluded,Magic Number,The method contains a magic number: 5,116
exteso_alf.io,alfio.model,PriceContainerTest,getFinalPriceInputVatNotIncluded,Magic Number,The method contains a magic number: 2,116
exteso_alf.io,alfio.model,PriceContainerTest,testDoNotProduceNegativePrices,Long Statement,The length of the statement "PriceContainerImpl vs=new PriceContainerImpl(1000`"CHF"`new BigDecimal("30.00")`PriceContainer.VatStatus.INCLUDED_EXEMPT`discount);" is 131.,133
exteso_alf.io,alfio.model,PriceContainerTest,testDoNotProduceNegativePrices,Magic Number,The method contains a magic number: 3100,133
exteso_alf.io,alfio.model,PriceContainerTest,testDoNotProduceNegativePrices,Magic Number,The method contains a magic number: 1000,133
exteso_alf.io,alfio.model,PriceContainerTest,totalPriceZeroIfVatStatusIsNull,Magic Number,The method contains a magic number: 1000,145
exteso_alf.io,alfio.model,PriceContainerTest,totalPriceDoesNotIncludeVatIfSplitPayment,Long Statement,The length of the statement "PriceContainerImpl vs=new PriceContainerImpl(1100`"CHF"`new BigDecimal("10.00")`PriceContainer.VatStatus.INCLUDED_NOT_CHARGED);" is 127.,151
exteso_alf.io,alfio.model,PriceContainerTest,totalPriceDoesNotIncludeVatIfSplitPayment,Magic Number,The method contains a magic number: 1100,151
exteso_alf.io,alfio.model,PriceContainerTest,totalPriceDoesNotIncludeVatIfSplitPayment,Magic Number,The method contains a magic number: 1000,151
exteso_alf.io,alfio.model,PriceContainerTest,generateTestStream,Long Statement,The length of the statement "List<BigDecimal> vatPercentages=IntStream.range(100`3000).mapToObj(vatCts -> new BigDecimal(vatCts).divide(new BigDecimal("100.00")`2`RoundingMode.UNNECESSARY)).toList();" is 170.,162
exteso_alf.io,alfio.model,PriceContainerTest,generateTestStream,Long Statement,The length of the statement "return IntStream.range(1`5_000).parallel().boxed().flatMap(i -> vatPercentages.stream().map(vat -> Pair.of(i`new PriceContainerImpl(i`"CHF"`vat`vatStatus))));" is 158.,162
exteso_alf.io,alfio.model,PriceContainerTest,generateTestStream,Magic Number,The method contains a magic number: 100,162
exteso_alf.io,alfio.model,PriceContainerTest,generateTestStream,Magic Number,The method contains a magic number: 3000,162
exteso_alf.io,alfio.model,PriceContainerTest,generateTestStream,Magic Number,The method contains a magic number: 2,162
exteso_alf.io,alfio.model,PriceContainerTest,generateTestStream,Magic Number,The method contains a magic number: 5_000,162
exteso_alf.io,alfio.model.checkin,EventWithCheckInInfo,EventWithCheckInInfo,Long Parameter List,The method has 11 parameters. ,46
exteso_alf.io,alfio.model.checkin,OnlineCheckInFullInfo,OnlineCheckInFullInfo,Long Identifier,The length of the parameter reservationRegistrationTimestamp is 32.,46
exteso_alf.io,alfio.model.checkin,OnlineCheckInFullInfo,OnlineCheckInFullInfo,Long Parameter List,The method has 91 parameters. ,46
exteso_alf.io,alfio.model.checkin,OnlineCheckInFullInfo,OnlineCheckInFullInfo,Long Statement,The length of the statement "this.ticket=new Ticket(id`uuid`creation`categoryId`status`eventId`ticketsReservationId`fullName`firstName`lastName`email`lockedAssignment`userLanguage`ticketSrcPriceCts`ticketFinalPriceCts`ticketVatCts`ticketDiscountCts`extReference`currencyCode`ticketTags`ticketSubscriptionId`ticketVatStatus);" is 295.,46
exteso_alf.io,alfio.model.checkin,OnlineCheckInFullInfo,OnlineCheckInFullInfo,Long Statement,The length of the statement "this.ticketReservation=new TicketReservation(trId`trValidity`trStatus`trFullName`trFirstName`trLastName`trEmail`trBillingAddress`trConfirmationTimestamp`trLatestReminder`trPaymentMethod`trReminderSent`trPromoCodeDiscountId`trAutomatic`resUserLanguage`directAssignment`invoiceNumber`invoiceModel`reservationVatStatus`vatNr`vatCountry`invoiceRequested`usedVatPercent`vatIncluded`reservationCreationTimestamp`customerReference`reservationRegistrationTimestamp`reservationSrcPriceCts`reservationFinalPriceCts`reservationVatCts`reservationDiscountCts`reservationCurrencyCode);" is 571.,46
exteso_alf.io,alfio.model.checkin,OnlineCheckInFullInfo,OnlineCheckInFullInfo,Long Statement,The length of the statement "this.ticketCategory=new TicketCategory(tcId`tcUtcInception`tcUtcExpiration`tcMaxTickets`tcName`tcAccessRestricted`tcStatus`tcEventId`bounded`tcSrcPriceCts`code`validCheckInFrom`validCheckInTo`ticketValidityStart`ticketValidityEnd`currencyCode`ordinal`ticketCheckInStrategy`ticketAccessType);" is 291.,46
exteso_alf.io,alfio.model.checkin,OnlineCheckInFullInfo,OnlineCheckInFullInfo,Long Statement,The length of the statement "this.billingDetails=new BillingDetails(billingAddressCompany`billingAddressLine1`billingAddressLine2`billingAddressZip`billingAddressCity`billingAddressState`vatCountry`vatNr`invoicingAdditionalInfo);" is 200.,46
exteso_alf.io,alfio.model.checkin,OnlineCheckInFullInfo,OnlineCheckInFullInfo,Long Statement,The length of the statement "this.eventWithCheckInInfo=new EventWithCheckInInfo(eventId`eventFormat`eventShortName`eventDisplayName`eventStartTs`eventEndTs`timezone`eventPrivateKey`eventOrgId`eventMetadata`locales);" is 186.,46
exteso_alf.io,alfio.model.modification,AdminReservationModification,AdminReservationModification,Long Parameter List,The method has 10 parameters. ,50
exteso_alf.io,alfio.model.modification,AdminReservationModification,summary,Long Statement,The length of the statement "List<Attendee> attendees=ti.getAttendees().stream().map(a -> new Attendee(a.ticketId`placeholderIfNotEmpty(a.firstName)`placeholderIfNotEmpty(a.lastName)`placeholderIfNotEmpty(a.emailAddress)`a.language`a.reassignmentForbidden`a.reference`a.subscriptionId`singletonMap("hasAdditionalInfo"`singletonList(String.valueOf(a.additionalInfo.isEmpty()))))).collect(toList());" is 368.,261
exteso_alf.io,alfio.model.modification,AdminReservationModification,summary,Long Statement,The length of the statement "return Json.toJson(new AdminReservationModification(src.expiration`summaryForCustomerData(src.customerData)`ticketsInfo`src.getLanguage()`src.updateContactData`src.updateAdvancedBillingOptions`src.advancedBillingOptions`src.notification`src.subscriptionDetails`src.linkedSubscriptionId));" is 288.,261
exteso_alf.io,alfio.model.modification,AdminReservationModification,summaryForCustomerData,Long Statement,The length of the statement "return new CustomerData(placeholderIfNotEmpty(in.firstName)`placeholderIfNotEmpty(in.lastName)`placeholderIfNotEmpty(in.emailAddress)`placeholderIfNotEmpty(in.billingAddress)`placeholderIfNotEmpty(in.userLanguage)`placeholderIfNotEmpty(in.customerReference)`placeholderIfNotEmpty(in.vatNr)`placeholderIfNotEmpty(in.vatCountryCode)`in.invoicingAdditionalInfo);" is 359.,292
exteso_alf.io,alfio.model.modification,GroupModification,GroupModification,Long Parameter List,The method has 5 parameters. ,34
exteso_alf.io,alfio.model.modification,PromoCodeDiscountModification,PromoCodeDiscountModification,Long Parameter List,The method has 15 parameters. ,53
exteso_alf.io,alfio.model.modification,PromoCodeDiscountModification,PromoCodeDiscountModification,Long Statement,The length of the statement "this.categories=Optional.ofNullable(categories).map(l -> l.stream().filter(Objects::nonNull).collect(Collectors.toList())).orElse(Collections.emptyList());" is 155.,53
exteso_alf.io,alfio.model.modification,TicketCategoryModification,TicketCategoryModification,Long Parameter List,The method has 20 parameters. ,55
exteso_alf.io,alfio.model.modification,OrganizationModification,OrganizationModification,Long Parameter List,The method has 6 parameters. ,35
exteso_alf.io,alfio.model.modification,OrganizationModification,isValid,Long Statement,The length of the statement "return (create || (id != null && id > 0)) && StringUtils.isNotEmpty(name) && StringUtils.isNotEmpty(email)&& StringUtils.isNotEmpty(description);" is 145.,50
exteso_alf.io,alfio.model.modification,LinkedGroupModification,LinkedGroupModification,Long Parameter List,The method has 7 parameters. ,34
exteso_alf.io,alfio.model.modification,TicketWithStatistic,TicketWithStatistic,Long Parameter List,The method has 5 parameters. ,50
exteso_alf.io,alfio.model.modification,MessageModification,MessageModification,Long Parameter List,The method has 6 parameters. ,36
exteso_alf.io,alfio.model.modification,EventModification,EventModification,Long Parameter List,The method has 32 parameters. ,75
exteso_alf.io,alfio.model.modification,UserModification,UserModification,Long Parameter List,The method has 10 parameters. ,42
exteso_alf.io,alfio.model.modification,MetadataModification,toMetadataObj,Long Statement,The length of the statement "return new AlfioMetadata(new OnlineConfiguration(callLinks.stream().map(CallLinkModification::toCallLink).collect(Collectors.toList()))`requirementsDescriptions`List.of());" is 172.,47
exteso_alf.io,alfio.model.modification,PollModification,PollModification,Long Parameter List,The method has 7 parameters. ,44
exteso_alf.io,alfio.model.modification,PollModification,isValid,Long Statement,The length of the statement "return (!update || id != null) && MapUtils.isNotEmpty(title) && CollectionUtils.isNotEmpty(options)&& options.stream().allMatch(p -> p.isValid(update && p.getId() != null));" is 173.,61
exteso_alf.io,alfio.model.modification,PollModification,from,Long Statement,The length of the statement "return new PollModification(poll.getId()`poll.getTitle()`poll.getDescription()`poll.getOrder()`List.of()`!poll.getAllowedTags().isEmpty()`poll.getStatus());" is 156.,68
exteso_alf.io,alfio.model.modification,PollModification,from,Long Statement,The length of the statement "return new PollModification(poll.getId()`poll.getTitle()`poll.getDescription()`poll.getOrder()`pollWithOptions.getOptions().stream().map(PollOptionModification::from).collect(Collectors.toList())`!poll.getAllowedTags().isEmpty()`poll.getStatus());" is 247.,78
exteso_alf.io,alfio.model.modification,SubscriptionDescriptorModification,SubscriptionDescriptorModification,Long Parameter List,The method has 25 parameters. ,66
exteso_alf.io,alfio.model.modification,SubscriptionDescriptorModification,fromModel,Long Statement,The length of the statement "return new SubscriptionDescriptorModification(subscriptionDescriptor.getId()`subscriptionDescriptor.getTitle()`subscriptionDescriptor.getDescription()`subscriptionDescriptor.getMaxAvailable()`subscriptionDescriptor.getOnSaleFrom()`subscriptionDescriptor.getOnSaleTo()`MonetaryUtil.centsToUnit(subscriptionDescriptor.getPrice()`subscriptionDescriptor.getCurrency())`subscriptionDescriptor.getVat()`subscriptionDescriptor.getVatStatus()`subscriptionDescriptor.getCurrency()`subscriptionDescriptor.isPublic()`subscriptionDescriptor.getOrganizationId()`subscriptionDescriptor.getMaxEntries()`subscriptionDescriptor.getValidityType()`subscriptionDescriptor.getValidityTimeUnit()`subscriptionDescriptor.getValidityUnits()`subscriptionDescriptor.getValidityFrom()`subscriptionDescriptor.getValidityTo()`subscriptionDescriptor.getUsageType()`subscriptionDescriptor.getTermsAndConditionsUrl()`subscriptionDescriptor.getPrivacyPolicyUrl()`subscriptionDescriptor.getFileBlobId()`subscriptionDescriptor.getPaymentProxies()`subscriptionDescriptor.getZoneId()`subscriptionDescriptor.isSupportsTicketsGeneration());" is 1100.,142
exteso_alf.io,alfio.model.modification,SendCodeModification,equals,Long Statement,The length of the statement "return Objects.equals(code`that.code) && Objects.equals(assignee`that.assignee) && Objects.equals(email`that.email)&& Objects.equals(language`that.language);" is 157.,44
exteso_alf.io,alfio.model.modification,PromoCodeDiscountWithFormattedTimeAndAmountTest,getFormattedDiscountAmountUseEventCurrencyCode,Magic Number,The method contains a magic number: 10000,37
exteso_alf.io,alfio.model.modification,PromoCodeDiscountWithFormattedTimeAndAmountTest,getFormattedDiscountAmountUseEmbeddedCurrencyCode,Magic Number,The method contains a magic number: 10000,48
exteso_alf.io,alfio.model.modification.support,LocationDescriptor,getProvider,Complex Conditional,The conditional expression (!geoConf.containsKey(ConfigurationKeys.MAPS_PROVIDER) || geoConf.get(ConfigurationKeys.MAPS_PROVIDER).isEmpty()) && (geoConf.containsKey(ConfigurationKeys.MAPS_CLIENT_API_KEY) && geoConf.get(ConfigurationKeys.MAPS_CLIENT_API_KEY).isPresent()) is complex.,81
exteso_alf.io,alfio.model.modification.support,LocationDescriptor,getProvider,Long Statement,The length of the statement "if ((!geoConf.containsKey(ConfigurationKeys.MAPS_PROVIDER) || geoConf.get(ConfigurationKeys.MAPS_PROVIDER).isEmpty()) && (geoConf.containsKey(ConfigurationKeys.MAPS_CLIENT_API_KEY) && geoConf.get(ConfigurationKeys.MAPS_CLIENT_API_KEY).isPresent())) {" is 250.,81
exteso_alf.io,alfio.model.modification.support,LocationDescriptor,getProvider,Long Statement,The length of the statement "else if (geoConf.containsKey(ConfigurationKeys.MAPS_PROVIDER) && geoConf.get(ConfigurationKeys.MAPS_PROVIDER).isPresent()) {" is 124.,81
exteso_alf.io,alfio.model.modification.support,LocationDescriptor,getProvider,Long Statement,The length of the statement "return geoConf.get(ConfigurationKeys.MAPS_PROVIDER).getValue().map(ConfigurationKeys.GeoInfoProvider::valueOf).orElseThrow(IllegalStateException::new);" is 151.,81
exteso_alf.io,alfio.model.modification.support,LocationDescriptor,equals,Long Statement,The length of the statement "return Objects.equals(timeZone`that.timeZone) && Objects.equals(latitude`that.latitude) && Objects.equals(longitude`that.longitude)&& Objects.equals(mapUrl`that.mapUrl);" is 169.,110
exteso_alf.io,alfio.model.modification.support,LocationDescriptorTest,testLocationDescriptorGoogle,Long Statement,The length of the statement "var geoInfo=Map.of(ConfigurationKeys.MAPS_CLIENT_API_KEY`buildMaybeConf(ConfigurationKeys.MAPS_CLIENT_API_KEY`"mapKey"));" is 121.,45
exteso_alf.io,alfio.model.modification.support,LocationDescriptorTest,testLocationDescriptorGoogle,Long Statement,The length of the statement "final LocationDescriptor expected=locationDescriptorBuilder.apply("https://maps.googleapis.com/maps/api/staticmap?center=latitude`longitude&key=mapKey&zoom=16&size=400x400&markers=color:blue%7Clabel:E%7Clatitude`longitude");" is 224.,45
exteso_alf.io,alfio.model.modification.support,LocationDescriptorTest,testLocationDescriptorGoogle,Long Statement,The length of the statement "assertEquals(expected`LocationDescriptor.fromGeoData(EventFormat.IN_PERSON`Pair.of(latitude`longitude)`timeZone`geoInfo));" is 122.,45
exteso_alf.io,alfio.model.modification.support,LocationDescriptorTest,testLocationDescriptorNone,Long Statement,The length of the statement "assertEquals(expected`LocationDescriptor.fromGeoData(EventFormat.IN_PERSON`Pair.of(latitude`longitude)`timeZone`geoInfo));" is 122.,52
exteso_alf.io,alfio.model.modification.support,LocationDescriptorTest,testLocationDescriptorGoogleWithTypeSet,Long Statement,The length of the statement "var geoInfo=Map.of(ConfigurationKeys.MAPS_PROVIDER`buildMaybeConf(ConfigurationKeys.MAPS_PROVIDER`ConfigurationKeys.GeoInfoProvider.GOOGLE.name())`ConfigurationKeys.MAPS_CLIENT_API_KEY`buildMaybeConf(ConfigurationKeys.MAPS_CLIENT_API_KEY`"mapKey"));" is 249.,59
exteso_alf.io,alfio.model.modification.support,LocationDescriptorTest,testLocationDescriptorGoogleWithTypeSet,Long Statement,The length of the statement "final LocationDescriptor expected=locationDescriptorBuilder.apply("https://maps.googleapis.com/maps/api/staticmap?center=latitude`longitude&key=mapKey&zoom=16&size=400x400&markers=color:blue%7Clabel:E%7Clatitude`longitude");" is 224.,59
exteso_alf.io,alfio.model.modification.support,LocationDescriptorTest,testLocationDescriptorGoogleWithTypeSet,Long Statement,The length of the statement "assertEquals(expected`LocationDescriptor.fromGeoData(EventFormat.IN_PERSON`Pair.of(latitude`longitude)`timeZone`geoInfo));" is 122.,59
exteso_alf.io,alfio.model.modification.support,LocationDescriptorTest,testLocationDescriptorHEREWithTypeSet,Long Statement,The length of the statement "var geoInfo=Map.of(ConfigurationKeys.MAPS_PROVIDER`buildMaybeConf(ConfigurationKeys.MAPS_PROVIDER`ConfigurationKeys.GeoInfoProvider.HERE.name())`ConfigurationKeys.MAPS_HERE_API_KEY`buildMaybeConf(ConfigurationKeys.MAPS_HERE_API_KEY`"apiKey"));" is 243.,69
exteso_alf.io,alfio.model.modification.support,LocationDescriptorTest,testLocationDescriptorHEREWithTypeSet,Long Statement,The length of the statement "final LocationDescriptor expected=locationDescriptorBuilder.apply("https://image.maps.ls.hereapi.com/mia/1.6/mapview?c=latitude`longitude&z=16&w=400&h=400&poi=latitude`longitude&apikey=apiKey");" is 194.,69
exteso_alf.io,alfio.model.modification.support,LocationDescriptorTest,testLocationDescriptorHEREWithTypeSet,Long Statement,The length of the statement "assertEquals(expected`LocationDescriptor.fromGeoData(EventFormat.IN_PERSON`Pair.of(latitude`longitude)`timeZone`geoInfo));" is 122.,69
exteso_alf.io,alfio.model.modification.support,LocationDescriptorTest,testLocationDescriptorNONEWithTypeSet,Long Statement,The length of the statement "var geoInfo=Map.of(ConfigurationKeys.MAPS_PROVIDER`buildMaybeConf(ConfigurationKeys.MAPS_PROVIDER`ConfigurationKeys.GeoInfoProvider.NONE.name()));" is 146.,80
exteso_alf.io,alfio.model.modification.support,LocationDescriptorTest,testLocationDescriptorNONEWithTypeSet,Long Statement,The length of the statement "assertEquals(expected`LocationDescriptor.fromGeoData(EventFormat.IN_PERSON`Pair.of(latitude`longitude)`timeZone`geoInfo));" is 122.,80
exteso_alf.io,alfio.model.subscription,Subscription,Subscription,Long Parameter List,The method has 18 parameters. ,62
exteso_alf.io,alfio.model.subscription,SubscriptionDescriptor,SubscriptionDescriptor,Long Parameter List,The method has 27 parameters. ,101
exteso_alf.io,alfio.model.subscription,SubscriptionDescriptor,getContentLanguages,Long Statement,The length of the statement "return ContentLanguage.ALL_LANGUAGES.stream().filter(l -> languages.contains(l.getLanguage())).collect(Collectors.toList());" is 124.,163
exteso_alf.io,alfio.model.subscription,SubscriptionDescriptor,getBegin,Magic Number,The method contains a magic number: 2,221
exteso_alf.io,alfio.model.subscription,SubscriptionDescriptor,withinSalePeriod,Long Statement,The length of the statement "return requireNonNullElseGet(onSaleFrom`() -> now.minusHours(1)).isBefore(now) && requireNonNullElseGet(onSaleTo`() -> now.plusHours(1)).isAfter(now);" is 150.,249
exteso_alf.io,alfio.model.subscription,SubscriptionDescriptor,renderTextCommonMark,Long Statement,The length of the statement "return original.entrySet().stream().map(entry -> Map.entry(entry.getKey()`MustacheCustomTag.renderToTextCommonmark(entry.getValue()))).collect(Collectors.toMap(Map.Entry::getKey`Map.Entry::getValue));" is 200.,255
exteso_alf.io,alfio.model.subscription,AvailableSubscriptionsByEvent,AvailableSubscriptionsByEvent,Long Parameter List,The method has 7 parameters. ,32
exteso_alf.io,alfio.model.subscription,SubscriptionDescriptorWithStatistics,SubscriptionDescriptorWithStatistics,Long Parameter List,The method has 31 parameters. ,41
exteso_alf.io,alfio.model.subscription,SubscriptionDescriptorWithStatistics,SubscriptionDescriptorWithStatistics,Long Statement,The length of the statement "this.descriptor=new SubscriptionDescriptor(id`title`description`maxAvailable`creation`onSaleFrom`onSaleTo`price`vat`vatStatus`currency`isPublic`organizationId`maxEntries`validityType`validityTimeUnit`validityUnits`validityFrom`validityTo`usageType`termsAndConditionsUrl`privacyPolicyUrl`fileBlobId`paymentProxies`privateKey`timeZone`supportsTicketsGeneration);" is 360.,41
exteso_alf.io,alfio.model.subscription,UsageDetails,fromSubscription,Long Statement,The length of the statement "return new UsageDetails(maxEntries == 0 ? null : maxEntries`usageCount`maxEntries == 0 ? null : maxEntries - usageCount);" is 121.,33
exteso_alf.io,alfio.model.subscription,EventSubscriptionLink,EventSubscriptionLink,Long Parameter List,The method has 7 parameters. ,39
exteso_alf.io,alfio.model.poll,PollParticipant,PollParticipant,Long Parameter List,The method has 5 parameters. ,32
exteso_alf.io,alfio.model.poll,Poll,Poll,Long Parameter List,The method has 8 parameters. ,47
exteso_alf.io,alfio.model.poll,Poll,toString,Long Statement,The length of the statement "return new ToStringBuilder(this).append("id"`id).append("status"`status).append("title"`title).append("description"`description).append("allowedTags"`allowedTags).append("order"`order).append("eventId"`eventId).append("organizationId"`organizationId).toString();" is 262.,66
exteso_alf.io,alfio.model.poll,PollStatistics,getVotesPercentage,Long Statement,The length of the statement "return new BigDecimal(votes).setScale(3`RoundingMode.HALF_UP).divide(totalVotes`RoundingMode.HALF_UP).multiply(MonetaryUtil.HUNDRED).setScale(2`RoundingMode.HALF_UP).toPlainString();" is 182.,59
exteso_alf.io,alfio.model.poll,PollStatistics,getVotesPercentage,Magic Number,The method contains a magic number: 3,59
exteso_alf.io,alfio.model.poll,PollStatistics,getVotesPercentage,Magic Number,The method contains a magic number: 2,59
exteso_alf.io,alfio.model.decorator,AdditionalServiceItemPriceContainer,AdditionalServiceItemPriceContainer,Long Parameter List,The method has 6 parameters. ,36
exteso_alf.io,alfio.model.decorator,AdditionalServiceItemPriceContainer,getDiscount,Long Statement,The length of the statement "return Optional.ofNullable(discount).filter(d -> d.getDiscountType() != PromoCodeDiscount.DiscountType.FIXED_AMOUNT_RESERVATION);" is 129.,55
exteso_alf.io,alfio.model.decorator,AdditionalServiceItemPriceContainer,from,Long Statement,The length of the statement "var discountToApply=isDiscountCompatible(discount) && additionalService.getType() != AdditionalService.AdditionalServiceType.DONATION ? discount : null;" is 152.,91
exteso_alf.io,alfio.model.decorator,AdditionalServiceItemPriceContainer,from,Long Statement,The length of the statement "return new AdditionalServiceItemPriceContainer(item`additionalService`purchaseContext.getCurrency()`discountToApply`purchaseContext.getVatStatus()`purchaseContext.getVat());" is 173.,91
exteso_alf.io,alfio.model.decorator,AdditionalServiceItemPriceContainer,isDiscountCompatible,Long Statement,The length of the statement "return discount != null && discount.getCodeType() == PromoCodeDiscount.CodeType.DISCOUNT && discount.getDiscountType() == PromoCodeDiscount.DiscountType.PERCENTAGE;" is 164.,96
exteso_alf.io,alfio.model.decorator,TicketPriceContainer,getDiscount,Long Statement,The length of the statement "return Optional.ofNullable(promoCodeDiscount).filter(discount -> discount.getDiscountType() != PromoCodeDiscount.DiscountType.FIXED_AMOUNT_RESERVATION && (discount.getCategories().isEmpty() || discount.getCategories().contains(getCategoryId())));" is 246.,46
exteso_alf.io,alfio.model.decorator,TicketPriceContainer,from,Long Parameter List,The method has 5 parameters. ,69
exteso_alf.io,alfio.model.decorator,AdditionalServicePriceContainer,AdditionalServicePriceContainer,Long Parameter List,The method has 6 parameters. ,37
exteso_alf.io,alfio.model.decorator,AdditionalServicePriceContainer,getDiscount,Long Statement,The length of the statement "return Optional.ofNullable(promoCodeDiscount).filter(d -> additionalService.getType() != AdditionalService.AdditionalServiceType.DONATION);" is 139.,59
exteso_alf.io,alfio.model.decorator,AdditionalServicePriceContainer,from,Long Statement,The length of the statement "return new AdditionalServicePriceContainer(customAmount`as`discount`event.getCurrency()`event.getVat()`event.getVatStatus());" is 125.,87
exteso_alf.io,alfio.model.result,Result,validationError,Long Statement,The length of the statement "return new Result<>(ResultStatus.VALIDATION_ERROR`null`errors.stream().map(ErrorDescriptor::fromObjectError).collect(Collectors.toList()));" is 139.,49
exteso_alf.io,alfio.model.system,AdminJobSchedule,AdminJobSchedule,Long Parameter List,The method has 7 parameters. ,42
exteso_alf.io,alfio.model.system,EventMigration,EventMigration,Long Parameter List,The method has 5 parameters. ,37
exteso_alf.io,alfio.model.system,Configuration,equals,Long Statement,The length of the statement "return new EqualsBuilder().append(configurationKey`o.configurationKey).append(configurationPathLevel`configurationPathLevel).isEquals();" is 136.,65
exteso_alf.io,alfio.model.system,ConfigurationKeysTest,validateAllBooleansHaveDefaultValue,Long Statement,The length of the statement "assertTrue(confKey.getDefaultValue().equals("true") || confKey.getDefaultValue().equals("false")`confKey.name() + " default value must be either 'true' or 'false'");" is 165.,28
exteso_alf.io,alfio.model.system,ConfigurationKeysTest,validateAllBooleansHaveDefaultValue,Long Statement,The length of the statement "assertEquals(matcher.group(1)`confKey.getDefaultValue()`confKey.name() + ": description says \"default " + matcher.group(1)+ "\"` but default value is "+ confKey.getDefaultValue());" is 181.,28
exteso_alf.io,alfio.model.user,User,User,Long Parameter List,The method has 9 parameters. ,43
exteso_alf.io,alfio.model.user,PublicUserProfile,PublicUserProfile,Long Parameter List,The method has 10 parameters. ,34
exteso_alf.io,alfio.model.user,PublicUserProfile,PublicUserProfile,Long Statement,The length of the statement "this.billingDetails=new BillingDetails(companyName`addressLine1`addressLine2`zip`city`state`country`taxId`invoicingAdditionalInfo);" is 131.,34
exteso_alf.io,alfio.model.user,Organization,Organization,Long Parameter List,The method has 6 parameters. ,42
exteso_alf.io,alfio.model.group,Group,Group,Long Parameter List,The method has 5 parameters. ,31
exteso_alf.io,alfio.model.group,LinkedGroup,LinkedGroup,Long Parameter List,The method has 7 parameters. ,63
exteso_alf.io,alfio.model.audit,ScanAudit,ScanAudit,Long Parameter List,The method has 6 parameters. ,40
exteso_alf.io,alfio.model.transaction,Transaction,Transaction,Long Parameter List,The method has 13 parameters. ,57
exteso_alf.io,alfio.model.transaction.provider,RevolutTransactionDescriptor,RevolutTransactionDescriptor,Long Parameter List,The method has 9 parameters. ,42
exteso_alf.io,alfio.model.transaction.provider,RevolutTransactionDescriptor,getMetadata,Long Statement,The length of the statement "return Map.of("counterpartyAccountId"`Optional.ofNullable(legs.get(0).counterpartyAccountId).orElse("N/A")`"counterpartyType"`Optional.ofNullable(legs.get(0).counterpartyType).orElse("N/A"));" is 191.,94
exteso_alf.io,alfio.model.api.v1.admin,EventCreationRequest,EventCreationRequest,Long Parameter List,The method has 15 parameters. ,63
exteso_alf.io,alfio.model.api.v1.admin,EventCreationRequest,toEventModification,Long Statement,The length of the statement "int locales=description.stream().map(x -> ContentLanguage.ALL_LANGUAGES.stream().filter(l -> l.getLanguage().equals(x.lang)).findFirst()).filter(Optional::isPresent).map(Optional::get).mapToInt(ContentLanguage::getValue).reduce(0`(x`y) -> x | y);" is 246.,96
exteso_alf.io,alfio.model.api.v1.admin,EventCreationRequest,toEventModification,Long Statement,The length of the statement "return new EventModification(null`Objects.requireNonNullElse(format`Event.EventFormat.IN_PERSON)`websiteUrl`null`termsAndConditionsUrl`StringUtils.trimToNull(privacyPolicyUrl)`null`imageRef`slug`title`organization.getId()`location.getFullAddress()`location.getCoordinate().getLatitude()`location.getCoordinate().getLongitude()`timezone`description.stream().collect(Collectors.toMap(DescriptionRequest::getLang`DescriptionRequest::getBody))`new DateTimeModification(startDate.toLocalDate()`startDate.toLocalTime())`new DateTimeModification(endDate.toLocalDate()`endDate.toLocalTime())`tickets.freeOfCharge ? BigDecimal.ZERO : tickets.categories.stream().map(x -> x.price).max(BigDecimal::compareTo).orElse(BigDecimal.ONE).max(BigDecimal.ONE)`tickets.currency`tickets.max`tickets.taxPercentage`tickets.taxIncludedInPrice`tickets.paymentMethods`tickets.categories.stream().map(CategoryRequest::toTicketCategoryModification).collect(Collectors.toList())`tickets.freeOfCharge`new LocationDescriptor(timezone`location.getCoordinate().getLatitude()`location.getCoordinate().getLongitude()`null)`locales`toAdditionalFields(orEmpty(additionalInfo))`emptyList()`AlfioMetadata.empty()`List.of());" is 1185.,96
exteso_alf.io,alfio.model.api.v1.admin,EventCreationRequest,toEventModificationUpdate,Long Statement,The length of the statement "locales=description.stream().map(x -> ContentLanguage.ALL_LANGUAGES.stream().filter(l -> l.getLanguage().equals(x.lang)).findFirst()).filter(Optional::isPresent).map(Optional::get).mapToInt(ContentLanguage::getValue).reduce(0`(x`y) -> x | y);" is 242.,149
exteso_alf.io,alfio.model.api.v1.admin,EventCreationRequest,toEventModificationUpdate,Long Statement,The length of the statement "return new EventModification(original.getId()`original.getFormat()`first(websiteUrl`original.getWebsiteUrl())`null`first(termsAndConditionsUrl`original.getWebsiteUrl())`null`null`first(imageRef`original.getFileBlobId())`original.getShortName()`first(title`original.getDisplayName())`organization.getId()`location != null ? first(location.getFullAddress()`original.getLocation()) : original.getLocation()`location != null && location.getCoordinate() != null ? location.getCoordinate().getLatitude() : original.getLatitude()`location != null && location.getCoordinate() != null ? location.getCoordinate().getLongitude() : original.getLongitude()`first(timezone`original.getTimeZone())`description != null ? description.stream().collect(Collectors.toMap(DescriptionRequest::getLang`DescriptionRequest::getBody)) : null`startDate != null ? new DateTimeModification(startDate.toLocalDate()`startDate.toLocalTime()) : new DateTimeModification(original.getBegin().toLocalDate()`original.getEnd().toLocalTime())`endDate != null ? new DateTimeModification(endDate.toLocalDate()`endDate.toLocalTime()) : new DateTimeModification(original.getEnd().toLocalDate()`original.getEnd().toLocalTime())`tickets != null && tickets.categories != null ? tickets.categories.stream().map(x -> x.price).max(BigDecimal::compareTo).orElse(BigDecimal.ZERO).max(original.getRegularPrice()) : original.getRegularPrice()`tickets != null ? first(tickets.currency`original.getCurrency()) : original.getCurrency()`tickets != null ? tickets.max : original.getAvailableSeats()`tickets != null ? first(tickets.taxPercentage`original.getVat()) : original.getVat()`tickets != null ? first(tickets.taxIncludedInPrice`original.isVatIncluded()) : original.isVatIncluded()`tickets != null ? first(tickets.paymentMethods`original.getAllowedPaymentProxies()) : original.getAllowedPaymentProxies()`tickets != null && tickets.categories != null ? tickets.categories.stream().map(tc -> tc.toTicketCategoryModification(findCategoryId(original`tc))).collect(Collectors.toList()) : null`tickets != null ? first(tickets.freeOfCharge`original.isFreeOfCharge()) : original.isFreeOfCharge()`null`locales`toAdditionalFields(orEmpty(additionalInfo))`emptyList()`AlfioMetadata.empty()`List.of());" is 2238.,149
exteso_alf.io,alfio.model.api.v1.admin,EventCreationRequest,findCategoryId,Long Statement,The length of the statement "return event.getTicketCategories().stream().filter(tc -> tc.getName().equals(categoryRequest.getName())).map(TicketCategoryWithAdditionalInfo::getId).findFirst().orElse(null);" is 175.,197
exteso_alf.io,alfio.model.api.v1.admin,EventCreationRequest,toDescriptionMap,Long Statement,The length of the statement "Map<String`String> labelsByLang=label.stream().collect(Collectors.toMap(DescriptionRequest::getLang`DescriptionRequest::getBody));" is 130.,483
exteso_alf.io,alfio.model.api.v1.admin,EventCreationRequest,toDescriptionMap,Long Statement,The length of the statement "Map<String`String> placeholdersByLang=placeholder.stream().collect(Collectors.toMap(DescriptionRequest::getLang`DescriptionRequest::getBody));" is 142.,483
exteso_alf.io,alfio.model.api.v1.admin,EventCreationRequest,toDescriptionMap,Long Statement,The length of the statement "Map<String`List<Triple<String`String`String>>> valuesByLang=restrictedValues.stream().flatMap(rv -> rv.descriptions.stream().map(rvd -> Triple.of(rvd.lang`rv.value`rvd.body))).collect(Collectors.groupingBy(Triple::getLeft));" is 224.,483
exteso_alf.io,alfio.model.api.v1.admin,EventCreationRequest,toDescriptionMap,Long Statement,The length of the statement "Map<String`String> rvsMap=valuesByLang.getOrDefault(lang`emptyList()).stream().collect(Collectors.toMap(Triple::getMiddle`Triple::getRight));" is 141.,483
exteso_alf.io,alfio.model.api.v1.admin,EventCreationRequest,toAdditionalFields,Long Statement,The length of the statement "return additionalInfoRequests.stream().map(air -> air.toAdditionalField(counter.getAndIncrement())).collect(Collectors.toList());" is 129.,505
exteso_alf.io,alfio.model.api.v1.admin,ReservationUser,ReservationUser,Long Parameter List,The method has 5 parameters. ,29
exteso_alf.io,alfio.model.api.v1.admin,ReservationCreationRequest,ReservationCreationRequest,Long Parameter List,The method has 5 parameters. ,35
exteso_alf.io,alfio.model.support,TicketWithAdditionalFields,TicketWithAdditionalFields,Long Identifier,The length of the parameter additionalFieldsDescriptionsAndValues is 37.,37
exteso_alf.io,alfio.model.support,TicketWithAdditionalFields,TicketWithAdditionalFields,Long Identifier,The length of the field additionalFieldsDescriptionsAndValues is 37.,37
exteso_alf.io,alfio.model.support,TicketWithAdditionalFields,getAdditionalFields,Long Identifier,The length of the field additionalFieldsDescriptionsAndValues is 37.,43
exteso_alf.io,alfio.model.support,TicketWithAdditionalFields,getAdditionalFields,Long Statement,The length of the statement "return additionalFieldsDescriptionsAndValues.stream().map(af -> Pair.of(af.getLabelDescription()`af.getValueDescription())).collect(Collectors.toMap(Pair::getKey`Pair::getValue));" is 179.,43
exteso_alf.io,alfio.model.metadata,JoinLink,equals,Long Statement,The length of the statement "return Objects.equals(link`joinLink.link) && Objects.equals(validFrom`joinLink.validFrom) && Objects.equals(validTo`joinLink.validTo)&& linkText.equals(joinLink.linkText);" is 171.,55
exteso_alf.io,alfio.model.metadata,TicketMetadata,equals,Long Statement,The length of the statement "return Objects.equals(joinLink`that.joinLink) && linkDescription.equals(that.linkDescription) && attributes.equals(that.attributes);" is 132.,63
exteso_alf.io,alfio.model.extension,DynamicDiscount,getDiscountType,Long Statement,The length of the statement "return Arrays.stream(PromoCodeDiscount.DiscountType.values()).filter(v -> v.name().equalsIgnoreCase(type)).findFirst().orElse(PromoCodeDiscount.DiscountType.NONE);" is 163.,32
exteso_alf.io,alfio.controller.decorator,SaleableTicketCategory,SaleableTicketCategory,Long Parameter List,The method has 6 parameters. ,44
exteso_alf.io,alfio.controller.decorator,SaleableTicketCategory,getFormattedFinalPrice,Long Statement,The length of the statement "return MonetaryUtil.formatUnit(getFinalPriceToDisplay(getFinalPrice().add(getAppliedDiscount())`getVAT()`getVatStatus())`getCurrencyCode());" is 140.,113
exteso_alf.io,alfio.controller.decorator,SaleableTicketCategory,getPromoCodeDiscount,Long Statement,The length of the statement "return (promoCodeDiscount == null || promoCodeDiscount.getCodeType() == PromoCodeDiscount.CodeType.DISCOUNT) ? promoCodeDiscount : null;" is 136.,133
exteso_alf.io,alfio.controller.decorator,SaleableAdditionalService,getDiscount,Long Statement,The length of the statement "return Optional.ofNullable(promoCodeDiscount).filter(x -> x.getCodeType() == PromoCodeDiscount.CodeType.DISCOUNT && getType() != AdditionalService.AdditionalServiceType.DONATION);" is 179.,80
exteso_alf.io,alfio.controller.decorator,SaleableAdditionalService,getFormattedFinalPrice,Long Statement,The length of the statement "return SaleableTicketCategory.getFinalPriceToDisplay(getFinalPrice().add(getAppliedDiscount())`getVAT()`getVatStatus()).toPlainString();" is 136.,104
exteso_alf.io,alfio.controller.decorator,SaleableAdditionalService,getSupportsDiscount,Long Statement,The length of the statement "return getType() != AdditionalService.AdditionalServiceType.DONATION && isFixPrice() && promoCodeDiscount != null && promoCodeDiscount.getCodeType() == PromoCodeDiscount.CodeType.DISCOUNT;" is 188.,108
exteso_alf.io,alfio.controller,OnlineCheckInController,performCheckIn,Complex Conditional,The conditional expression checkInStatus == SUCCESS || (checkInStatus == ALREADY_CHECK_IN && ticket.isCheckedIn()) is complex.,52
exteso_alf.io,alfio.controller,OnlineCheckInController,performCheckIn,Long Statement,The length of the statement "if (MessageDigest.isEqual(DigestUtils.sha256Hex(ticketCode).getBytes(StandardCharsets.UTF_8)`ticketCodeHash.getBytes(StandardCharsets.UTF_8))) {" is 144.,52
exteso_alf.io,alfio.controller,OnlineCheckInController,performCheckIn,Long Statement,The length of the statement "return Optional.of("/event/" + event.getShortName() + "/ticket/"+ ticketUUID+ "/check-in/"+ ticketCodeHash+ "/waiting-room");" is 125.,52
exteso_alf.io,alfio.controller,AdminConfigurationController,oAuthRedirectToAuthorizationURL,Long Statement,The length of the statement "if (CONNECT_PROVIDERS.contains(provider) && userManager.isOwnerOfOrganization(userManager.findUserByUsername(principal.getName())`orgId)) {" is 139.,65
exteso_alf.io,alfio.controller,AdminConfigurationController,authorize,Long Parameter List,The method has 8 parameters. ,80
exteso_alf.io,alfio.controller,AdminConfigurationController,authorize,Long Statement,The length of the statement "return Optional.ofNullable(session.getAttribute(provider + CONNECT_ORG)).map(Integer.class::cast).filter(orgId -> userManager.isOwnerOfOrganization(userManager.findUserByUsername(principal.getName())`orgId)).map(orgId -> {" is 222.,80
exteso_alf.io,alfio.controller,IndexController,IndexController,Long Parameter List,The method has 13 parameters. ,116
exteso_alf.io,alfio.controller,IndexController,replyToIndex,Complex Conditional,The conditional expression eventShortName != null && RequestUtils.isSocialMediaShareUA(userAgent) && eventRepository.existsByShortName(eventShortName) is complex.,157
exteso_alf.io,alfio.controller,IndexController,replyToIndex,Long Parameter List,The method has 7 parameters. ,157
exteso_alf.io,alfio.controller,IndexController,replyToIndex,Long Statement,The length of the statement "if (eventShortName != null && RequestUtils.isSocialMediaShareUA(userAgent) && eventRepository.existsByShortName(eventShortName)) {" is 130.,157
exteso_alf.io,alfio.controller,IndexController,replyToIndex,Long Statement,The length of the statement "Optional.ofNullable(IterableUtils.get(idx.getElementsByTagName("html")`0)).ifPresent(html -> html.setAttribute("data-signed-up"`"true"));" is 137.,157
exteso_alf.io,alfio.controller,IndexController,replyToIndex,Long Statement,The length of the statement "head.appendChild(buildScripTag(Json.toJson(configurationManager.getInfo(session))`MediaType.APPLICATION_JSON.toString()`"preload-info"`null));" is 142.,157
exteso_alf.io,alfio.controller,IndexController,replyToIndex,Long Statement,The length of the statement "head.appendChild(buildScripTag(Json.toJson(messageSourceManager.getBundleAsMap("alfio.i18n.public"`true`"en"))`MediaType.APPLICATION_JSON.toString()`"preload-bundle"`"en"));" is 173.,157
exteso_alf.io,alfio.controller,IndexController,redirectEventToReservation,Long Statement,The length of the statement "var reservationStatusUrlSegment=ticketReservationRepository.findOptionalStatusAndValidationById(reservationId).map(IndexController::reservationStatusToUrlMapping).orElse(NOT_FOUND);" is 181.,281
exteso_alf.io,alfio.controller,IndexController,redirectEventToReservation,Long Statement,The length of the statement "return REDIRECT + UriComponentsBuilder.fromPath("/event/{eventShortName}/reservation/{reservationId}/{status}").buildAndExpand(Map.of(EVENT_SHORT_NAME`eventShortName`"reservationId"`reservationId`"status"`reservationStatusUrlSegment)).toUriString();" is 249.,281
exteso_alf.io,alfio.controller,IndexController,redirectSubscriptionToReservation,Long Statement,The length of the statement "var reservationStatusUrlSegment=ticketReservationRepository.findOptionalStatusAndValidationById(reservationId).map(IndexController::reservationStatusToUrlMapping).orElse(NOT_FOUND);" is 181.,295
exteso_alf.io,alfio.controller,IndexController,redirectSubscriptionToReservation,Long Statement,The length of the statement "return REDIRECT + UriComponentsBuilder.fromPath("/subscription/{subscriptionId}/reservation/{reservationId}/{status}").buildAndExpand(Map.of("subscriptionId"`subscriptionId`"reservationId"`reservationId`"status"`reservationStatusUrlSegment)).toUriString();" is 256.,295
exteso_alf.io,alfio.controller,IndexController,getOpenGraphPage,Long Statement,The length of the statement "if (lang != null && event.getContentLanguages().stream().map(ContentLanguage::getLanguage).anyMatch(lang::equalsIgnoreCase)) {" is 126.,334
exteso_alf.io,alfio.controller,IndexController,getOpenGraphPage,Long Statement,The length of the statement "var title=messageSourceManager.getMessageSourceFor(event).getMessage("event.get-your-ticket-for"`new String[]{event.getDisplayName()}`locale);" is 142.,334
exteso_alf.io,alfio.controller,IndexController,getOpenGraphPage,Long Statement,The length of the statement "getMetaElement(eventOpenGraph`"name"`"twitter:image").setAttribute("content"`baseUrl + "/file/" + event.getFileBlobId());" is 121.,334
exteso_alf.io,alfio.controller,IndexController,getOpenGraphPage,Long Statement,The length of the statement "var eventDesc=eventDescriptionRepository.findDescriptionByEventIdTypeAndLocale(event.getId()`EventDescription.EventDescriptionType.DESCRIPTION`locale.toLanguageTag()).orElse("").trim();" is 185.,334
exteso_alf.io,alfio.controller,IndexController,getOpenGraphPage,Long Statement,The length of the statement "var firstLine=Pattern.compile("\n").splitAsStream(MustacheCustomTag.renderToTextCommonmark(eventDesc)).findFirst().orElse("");" is 126.,334
exteso_alf.io,alfio.controller,IndexController,getOpenGraphPage,Long Statement,The length of the statement "if (attributes.containsKey(FileBlobMetadata.ATTR_IMG_HEIGHT) && attributes.containsKey(FileBlobMetadata.ATTR_IMG_WIDTH)) {" is 122.,334
exteso_alf.io,alfio.controller,IndexController,getMetaElement,Long Statement,The length of the statement "return (Element)document.getAllNodesMatching(Selector.select().element("meta").attrValEq(attrName`propertyValue).toMatcher()`true).get(0);" is 138.,393
exteso_alf.io,alfio.controller,IndexController,redirectCode,Long Statement,The length of the statement "return REDIRECT + UriComponentsBuilder.fromPath("/api/v2/public/event/{eventShortName}/code/{code}").build(Map.of(EVENT_SHORT_NAME`eventName`"code"`code));" is 155.,397
exteso_alf.io,alfio.controller,IndexController,getLoginPage,Long Parameter List,The method has 7 parameters. ,412
exteso_alf.io,alfio.controller,IndexController,getLoginPage,Long Statement,The length of the statement "var configuration=configurationManager.getFor(EnumSet.of(RECAPTCHA_API_KEY`ENABLE_CAPTCHA_FOR_LOGIN)`ConfigurationLevel.system());" is 130.,412
exteso_alf.io,alfio.controller,IndexController,getLoginPage,Long Statement,The length of the statement "configuration.get(RECAPTCHA_API_KEY).getValue().filter(key -> configuration.get(ENABLE_CAPTCHA_FOR_LOGIN).getValueAsBooleanOrDefault()).ifPresent(key -> {" is 154.,412
exteso_alf.io,alfio.controller,IndexController,adminHome,Long Parameter List,The method has 5 parameters. ,460
exteso_alf.io,alfio.controller,IndexController,adminHome,Long Statement,The length of the statement "String idpLogoutRedirectionUrl=((OpenIdAlfioAuthentication)SecurityContextHolder.getContext().getAuthentication()).getIdpLogoutRedirectionUrl();" is 144.,460
exteso_alf.io,alfio.controller,IndexController,adminHome,Long Statement,The length of the statement "Collection<String> authorities=SecurityContextHolder.getContext().getAuthentication().getAuthorities().stream().map(GrantedAuthority::getAuthority).toList();" is 157.,460
exteso_alf.io,alfio.controller,IndexController,adminHome,Long Statement,The length of the statement "model.addAttribute("displayProjectBanner"`isAdmin && configurationManager.getForSystem(SHOW_PROJECT_BANNER).getValueAsBooleanOrDefault());" is 138.,460
exteso_alf.io,alfio.controller,IndexController,getNonce,Magic Number,The method contains a magic number: 16,505
exteso_alf.io,alfio.controller,IndexController,addCspHeader,Long Statement,The length of the statement "var conf=configurationManager.getFor(List.of(SECURITY_CSP_REPORT_ENABLED`SECURITY_CSP_REPORT_URI`EMBED_ALLOWED_ORIGINS)`configurationLevel);" is 140.,515
exteso_alf.io,alfio.controller,IndexController,addCspHeader,Long Statement,The length of the statement "response.addHeader("Content-Security-Policy"`"object-src 'none'; " + "script-src 'strict-dynamic' 'nonce-" + nonce + "' 'unsafe-inline' http: https: "+ "'unsafe-hashes' 'sha256-MhtPZXr7+LpJUY5qtMutB+qWfQtMaPccfe7QXtCcEYc='"+ "; "+ "base-uri 'self'; "+ "frame-ancestors "+ frameAncestors+ "; "+ reportUri);" is 305.,515
exteso_alf.io,alfio.controller,IndexController,detectConfigurationLevel,Long Statement,The length of the statement "return purchaseContextManager.detectConfigurationLevel(eventShortName`subscriptionId).orElseGet(ConfigurationLevel::system);" is 124.,553
exteso_alf.io,alfio.controller.api.v1,AttendeeApiController,scanBadge,Long Statement,The length of the statement "return ResponseEntity.ok(attendeeManager.registerSponsorScan(request.eventName`request.ticketIdentifier`request.notes`request.leadStatus`principal.getName()));" is 159.,76
exteso_alf.io,alfio.controller.api.v1,AttendeeApiController,scanBadges,Long Statement,The length of the statement "return ResponseEntity.ok(requests.stream().map(request -> attendeeManager.registerSponsorScan(request.eventName`request.ticketIdentifier`request.notes`request.leadStatus`username)).collect(Collectors.toList()));" is 211.,81
exteso_alf.io,alfio.controller.api.v1,AttendeeApiController,getScannedBadges,Long Statement,The length of the statement "ZonedDateTime start=Optional.ofNullable(StringUtils.trimToNull(from)).map(EventUtil.JSON_DATETIME_FORMATTER::parse).flatMap(d -> Wrappers.safeSupplier(() -> ZonedDateTime.of(LocalDateTime.from(d)`ZoneOffset.UTC))).orElse(SponsorScanRepository.DEFAULT_TIMESTAMP);" is 262.,89
exteso_alf.io,alfio.controller.api.v1,AttendeeApiController,getScannedBadges,Long Statement,The length of the statement "return attendeeManager.retrieveScannedAttendees(eventShortName`principal.getName()`start).map(ResponseEntity::ok).orElse(notFound());" is 133.,89
exteso_alf.io,alfio.controller.api.v1,ReservationApiV1ControllerTest,setUp,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Arrays.asList(new TicketCategoryModification(null`DEFAULT_CATEGORY_NAME`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(clockProvider.getClock()).minusDays(1)`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock()).plusDays(1)`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"hidden"`TicketCategory.TicketAccessType.INHERIT`2`new DateTimeModification(LocalDate.now(clockProvider.getClock()).minusDays(1)`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock()).plusDays(1)`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.ONE`true`""`true`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 936.,101
exteso_alf.io,alfio.controller.api.v1,ReservationApiV1ControllerTest,setUp,Long Statement,The length of the statement "userManager.insertUser(event.getOrganizationId()`username`"test"`"test"`"test@example.com"`Role.API_CONSUMER`User.Type.INTERNAL);" is 129.,101
exteso_alf.io,alfio.controller.api.v1,ReservationApiV1ControllerTest,setUp,Magic Number,The method contains a magic number: 2,101
exteso_alf.io,alfio.controller.api.v1,ReservationApiV1ControllerTest,createSingleTicketWithMetadata,Long Identifier,The length of the field ANONYMOUS_RESERVATION_URL_PREFIX is 32.,120
exteso_alf.io,alfio.controller.api.v1,ReservationApiV1ControllerTest,createTwoTicketsWithMetadata,Long Identifier,The length of the field ANONYMOUS_RESERVATION_URL_PREFIX is 32.,157
exteso_alf.io,alfio.controller.api.v1,ReservationApiV1ControllerTest,createTwoTicketsWithMetadata,Magic Number,The method contains a magic number: 2,157
exteso_alf.io,alfio.controller.api.v1,ReservationApiV1ControllerTest,createTwoTicketsWithMetadata,Magic Number,The method contains a magic number: 2,157
exteso_alf.io,alfio.controller.api.v1,ReservationApiV1ControllerTest,createSingleTicketWithAuthenticatedUser,Long Identifier,The length of the field LOGGED_IN_RESERVATION_URL_PREFIX is 32.,198
exteso_alf.io,alfio.controller.api.v1,EventApiV1IntegrationTest,ensureConfiguration,Long Statement,The length of the statement "userManager.insertUser(organization.getId()`username`"test"`"test"`"test@example.com"`Role.API_CONSUMER`User.Type.INTERNAL);" is 124.,97
exteso_alf.io,alfio.controller.api.v1,EventApiV1IntegrationTest,creationRequest,Long Statement,The length of the statement "return new EventCreationRequest("Title"`this.shortName`Collections.singletonList(new EventCreationRequest.DescriptionRequest("en"`"desc"))`null`new EventCreationRequest.LocationRequest("Pollegio 6742 Switzerland"`new EventCreationRequest.CoordinateRequest("45.5"`"9.00"))`"Europe/Zurich"`LocalDateTime.of(2020`1`10`12`00)`LocalDateTime.of(2020`1`10`18`00)`"https://alf.io"`"https://alf.io"`"https://alf.io"`"https://avatars3.githubusercontent.com/u/34451076"`new EventCreationRequest.TicketRequest(false`10`"CHF"`new BigDecimal("7.7")`true`Arrays.asList(PaymentProxy.OFFLINE`PaymentProxy.STRIPE)`Collections.singletonList(new EventCreationRequest.CategoryRequest("standard"`Collections.singletonList(new EventCreationRequest.DescriptionRequest("en"`"desc"))`10`false`BigDecimal.TEN`LocalDateTime.of(2019`1`10`12`0)`LocalDateTime.of(2019`1`30`18`0)`null`null`null`null))`null)`null`null);" is 887.,115
exteso_alf.io,alfio.controller.api.v1,EventApiV1IntegrationTest,creationRequest,Magic Number,The method contains a magic number: 2020,115
exteso_alf.io,alfio.controller.api.v1,EventApiV1IntegrationTest,creationRequest,Magic Number,The method contains a magic number: 10,115
exteso_alf.io,alfio.controller.api.v1,EventApiV1IntegrationTest,creationRequest,Magic Number,The method contains a magic number: 12,115
exteso_alf.io,alfio.controller.api.v1,EventApiV1IntegrationTest,creationRequest,Magic Number,The method contains a magic number: 2020,115
exteso_alf.io,alfio.controller.api.v1,EventApiV1IntegrationTest,creationRequest,Magic Number,The method contains a magic number: 10,115
exteso_alf.io,alfio.controller.api.v1,EventApiV1IntegrationTest,creationRequest,Magic Number,The method contains a magic number: 18,115
exteso_alf.io,alfio.controller.api.v1,EventApiV1IntegrationTest,creationRequest,Magic Number,The method contains a magic number: 10,115
exteso_alf.io,alfio.controller.api.v1,EventApiV1IntegrationTest,creationRequest,Magic Number,The method contains a magic number: 10,115
exteso_alf.io,alfio.controller.api.v1,EventApiV1IntegrationTest,creationRequest,Magic Number,The method contains a magic number: 2019,115
exteso_alf.io,alfio.controller.api.v1,EventApiV1IntegrationTest,creationRequest,Magic Number,The method contains a magic number: 10,115
exteso_alf.io,alfio.controller.api.v1,EventApiV1IntegrationTest,creationRequest,Magic Number,The method contains a magic number: 12,115
exteso_alf.io,alfio.controller.api.v1,EventApiV1IntegrationTest,creationRequest,Magic Number,The method contains a magic number: 2019,115
exteso_alf.io,alfio.controller.api.v1,EventApiV1IntegrationTest,creationRequest,Magic Number,The method contains a magic number: 30,115
exteso_alf.io,alfio.controller.api.v1,EventApiV1IntegrationTest,creationRequest,Magic Number,The method contains a magic number: 18,115
exteso_alf.io,alfio.controller.api.v1,EventApiV1IntegrationTest,createTest,Long Statement,The length of the statement "List<EventCreationRequest.CategoryRequest> requestCategories=eventCreationRequest.getTickets().getCategories().stream().filter((rt) -> rt.getName().equals(t.getName())).toList();" is 178.,164
exteso_alf.io,alfio.controller.api.v1,EventApiV1IntegrationTest,updateTest,Long Statement,The length of the statement "EventCreationRequest updateRequest=new EventCreationRequest(newTitle`null`null`null`null`null`null`null`null`null`null`null`new EventCreationRequest.TicketRequest(null`10`null`null`null`null`null`null)`null`null);" is 213.,195
exteso_alf.io,alfio.controller.api.v1,EventApiV1IntegrationTest,updateTest,Magic Number,The method contains a magic number: 10,195
exteso_alf.io,alfio.controller.api.v1.admin,EventApiV1Controller,EventApiV1Controller,Long Parameter List,The method has 10 parameters. ,79
exteso_alf.io,alfio.controller.api.v1.admin,EventApiV1Controller,create,Long Statement,The length of the statement "Result<String> result=new Result.Builder<String>().checkPrecondition(() -> isNotBlank(request.getTitle())`ErrorCode.custom("invalid.title"`"Invalid title")).checkPrecondition(() -> isBlank(request.getSlug()) || eventNameManager.isUnique(request.getSlug())`ErrorCode.custom("invalid.slug"`"Invalid slug")).checkPrecondition(() -> isNotBlank(request.getWebsiteUrl())`ErrorCode.custom("invalid.websiteUrl"`"Invalid Website URL")).checkPrecondition(() -> isNotBlank(request.getTermsAndConditionsUrl())`ErrorCode.custom("invalid.tc"`"Invalid Terms and Conditions")).checkPrecondition(() -> isNotBlank(request.getImageUrl())`ErrorCode.custom("invalid.imageUrl"`"Invalid Image URL")).checkPrecondition(() -> isNotBlank(request.getTimezone())`ErrorCode.custom("invalid.timezone"`"Invalid Timezone")).checkPrecondition(() -> isNotBlank(imageRef)`ErrorCode.custom("invalid.image"`"Image is either missing or too big (max 200kb)")).checkPrecondition(() -> {" is 946.,101
exteso_alf.io,alfio.controller.api.v1.admin,EventApiV1Controller,create,Long Statement,The length of the statement "EventModification eventModification=request.toEventModification(organization`eventNameManager::generateShortName`imageRef);" is 123.,101
exteso_alf.io,alfio.controller.api.v1.admin,EventApiV1Controller,create,Long Statement,The length of the statement "int descriptionMaxLength=configurationManager.getFor(ConfigurationKeys.DESCRIPTION_MAXLENGTH`ConfigurationLevel.system()).getValueAsIntOrDefault(4096);" is 151.,101
exteso_alf.io,alfio.controller.api.v1.admin,EventApiV1Controller,create,Long Statement,The length of the statement "`ErrorCode.lazy(() -> toErrorCode(errorsContainer.get()))).build(() -> insertEvent(request`user`imageRef).map(Event::getShortName).orElseThrow(IllegalStateException::new));" is 172.,101
exteso_alf.io,alfio.controller.api.v1.admin,EventApiV1Controller,create,Magic Number,The method contains a magic number: 4096,101
exteso_alf.io,alfio.controller.api.v1.admin,EventApiV1Controller,toErrorCode,Long Statement,The length of the statement "return errors.getFieldErrors().stream().map(e -> ErrorCode.custom(e.getField()`e.getCode())).findFirst().orElse(ErrorCode.EventError.NOT_FOUND);" is 144.,139
exteso_alf.io,alfio.controller.api.v1.admin,EventApiV1Controller,stats,Long Statement,The length of the statement "Result<EventWithAdditionalInfo> result=new Result.Builder<EventWithAdditionalInfo>().build(() -> eventStatisticsManager.getEventWithAdditionalInfo(slug`user.getName()));" is 169.,146
exteso_alf.io,alfio.controller.api.v1.admin,EventApiV1Controller,delete,Long Statement,The length of the statement "eventManager.getOptionalEventAndOrganizationIdByName(slug`user.getName()).ifPresent(e -> eventManager.deleteEvent(e.getId()`user.getName()));" is 141.,158
exteso_alf.io,alfio.controller.api.v1.admin,EventApiV1Controller,update,Long Statement,The length of the statement "Result<String> result=new Result.Builder<String>().build(() -> updateEvent(slug`request`user`imageRef).map(Event::getShortName).get());" is 135.,173
exteso_alf.io,alfio.controller.api.v1.admin,EventApiV1Controller,getLinkedSubscriptions,Long Statement,The length of the statement "var subscriptionIdsOptional=eventManager.getOptionalEventAndOrganizationIdByName(slug`user.getName()).map(event -> retrieveLinkedSubscriptionsForEvent(slug`event.getId()`event.getOrganizationId()));" is 198.,188
exteso_alf.io,alfio.controller.api.v1.admin,EventApiV1Controller,updateLinkedSubscriptions,Long Statement,The length of the statement "return ResponseEntity.ok(retrieveLinkedSubscriptionsForEvent(slug`eventAndOrgId.getId()`eventAndOrgId.getOrganizationId()));" is 124.,197
exteso_alf.io,alfio.controller.api.v1.admin,EventApiV1Controller,updateEvent,Long Statement,The length of the statement "em.getTicketCategories().forEach(c -> findCategoryByName(event`c.getName()).ifPresent(originalCategory -> eventManager.updateCategory(originalCategory.getId()`event.getId()`c`user.getName())));" is 193.,215
exteso_alf.io,alfio.controller.api.v1.admin,EventApiV1Controller,insertEvent,Long Statement,The length of the statement "Optional.ofNullable(request.getTickets().getPromoCodes()).ifPresent(promoCodes -> promoCodes.forEach(pc -> eventManager.addPromoCode(pc.getName()`e.getId()`organization.getId()`ZonedDateTime.of(pc.getValidFrom()`e.getZoneId())`ZonedDateTime.of(pc.getValidTo()`e.getZoneId())`pc.getDiscount()`pc.getDiscountType()`Collections.emptyList()`null`null`null`PromoCodeDiscount.CodeType.DISCOUNT`null`pc.getDiscountType() != PromoCodeDiscount.DiscountType.PERCENTAGE ? e.getCurrency() : null)));" is 487.,247
exteso_alf.io,alfio.controller.api.v1.admin,EventApiV1Controller,insertEvent,Long Statement,The length of the statement "request.getTickets().getCategories().stream().filter(cr -> cr.getGroupLink() != null && cr.getGroupLink().getGroupId() != null).map(cr -> Pair.of(cr`groupManager.findById(cr.getGroupLink().getGroupId()`organization.getId()))).forEach(link -> {" is 243.,247
exteso_alf.io,alfio.controller.api.v1.admin,EventApiV1Controller,insertEvent,Long Statement,The length of the statement "LinkedGroupModification modification=new LinkedGroupModification(null`group.getId()`e.getId()`category.getId()`groupLinkRequest.getType()`groupLinkRequest.getMatchType()`groupLinkRequest.getMaxAllocation());" is 207.,247
exteso_alf.io,alfio.controller.api.v1.admin,EventApiV1Controller,insertEvent,Long Statement,The length of the statement "request.getExtensionSettings().stream().collect(Collectors.groupingBy(EventCreationRequest.ExtensionSetting::getExtensionId)).forEach((id`settings) -> {" is 152.,247
exteso_alf.io,alfio.controller.api.v1.admin,EventApiV1Controller,insertEvent,Long Statement,The length of the statement "List<ExtensionSupport.ExtensionMetadataIdAndName> metadata=extensionService.getSingle(organization`e`id).map(es -> extensionRepository.findAllParametersForExtension(es.getId())).orElseGet(Collections::emptyList);" is 212.,247
exteso_alf.io,alfio.controller.api.v1.admin,EventApiV1Controller,insertEvent,Long Statement,The length of the statement "List<ExtensionMetadataValue> values=settings.stream().map(es -> Pair.of(es`metadata.stream().filter(mm -> mm.getName().equals(es.getKey())).findFirst())).filter(pair -> {" is 170.,247
exteso_alf.io,alfio.controller.api.v1.admin,EventApiV1Controller,insertEvent,Long Statement,The length of the statement ").map(pair -> new ExtensionMetadataValue(pair.getRight().get().getId()`pair.getLeft().getValue())).collect(Collectors.toList());" is 128.,247
exteso_alf.io,alfio.controller.api.v1.admin,ReservationApiV1Controller,createReservation,Long Statement,The length of the statement "Optional<String> promoCodeDiscount=ReservationUtil.checkPromoCode(reservationCreationRequest`event`promoCodeRequestManager`bindingResult);" is 138.,57
exteso_alf.io,alfio.controller.api.v1.admin,ReservationApiV1Controller,createReservation,Long Statement,The length of the statement "var locale=Locale.forLanguageTag(requireNonNullElseGet(reservationCreationRequest.getLanguage()`() -> event.getContentLanguages().get(0).getLanguage()));" is 153.,57
exteso_alf.io,alfio.controller.api.v1.admin,ReservationApiV1Controller,createReservation,Long Statement,The length of the statement "var selected=ReservationUtil.validateCreateRequest(reservationCreationRequest`bindingResult`ticketReservationManager`eventManager`""`event);" is 140.,57
exteso_alf.io,alfio.controller.api.v1.admin,ReservationApiV1Controller,createReservation,Long Statement,The length of the statement "return ticketReservationManager.createTicketReservation(event`pair.getLeft()`pair.getRight()`promoCodeDiscount`locale`bindingResult`principal).map(id -> {" is 154.,57
exteso_alf.io,alfio.controller.api.v1.admin,ReservationApiV1Controller,createReservation,Long Statement,The length of the statement "ticketReservationManager.setReservationOwner(id`user.getUsername()`user.getEmail()`user.getFirstName()`user.getLastName()`locale.getLanguage());" is 144.,57
exteso_alf.io,alfio.controller.api.v1.admin,ReservationApiV1Controller,createReservation,Long Statement,The length of the statement "return ResponseEntity.ok(CreationResponse.success(id`ticketReservationManager.reservationUrlForExternalClients(id`event`locale.getLanguage()`user != null)));" is 157.,57
exteso_alf.io,alfio.controller.api.v1.admin,ReservationApiV1Controller,createReservation,Long Statement,The length of the statement "return ResponseEntity.badRequest().body(CreationResponse.error(bindingResult.getAllErrors().stream().map(err -> ErrorCode.custom("invalid." + err.getObjectName()`err.getCode())).collect(Collectors.toList())));" is 209.,57
exteso_alf.io,alfio.controller.api.v1.admin,OrganizationsApiV1Controller,createApiKeyForOrganization,Long Statement,The length of the statement "var user=userManager.insertUser(organizationId`null`null`null`null`Role.fromRoleName("ROLE_API_CLIENT")`User.Type.API_KEY`null`"Auto-generated API Key");" is 153.,64
exteso_alf.io,alfio.controller.api.v1.admin,OrganizationsApiV1Controller,update,Complex Conditional,The conditional expression om == null || !om.isValid(false) || organizationId != om.getId() is complex.,70
exteso_alf.io,alfio.controller.api,CheckJsonBodyRequest,checkSerialization,Long Statement,The length of the statement "Arrays.stream(pt.getActualTypeArguments()).filter(g -> g.getTypeName().startsWith("alfio.")).filter(g -> !((Class)g).isEnum()).forEach(genericParamType -> classesToCheck.add((Class)genericParamType));" is 200.,46
exteso_alf.io,alfio.controller.api.admin,PromoCodeDiscountApiController,addPromoCode,Long Statement,The length of the statement "eventManager.addPromoCode(promoCode.getPromoCode()`eventId`organizationId`promoCode.getStart().toZonedDateTime(zoneId)`promoCode.getEnd().toZonedDateTime(zoneId)`discount`promoCode.getDiscountType()`promoCode.getCategories()`promoCode.getMaxUsage()`promoCode.getDescription()`promoCode.getEmailReference()`promoCode.getCodeType()`promoCode.getHiddenCategoryId()`promoCode.getCurrencyCode());" is 391.,56
exteso_alf.io,alfio.controller.api.admin,PromoCodeDiscountApiController,updatePromoCode,Long Statement,The length of the statement "eventManager.updatePromoCode(promoCodeId`promoCode.getStart().toZonedDateTime(zoneId)`promoCode.getEnd().toZonedDateTime(zoneId)`promoCode.getMaxUsage()`promoCode.getCategories()`promoCode.getDescription()`promoCode.getEmailReference()`promoCode.getHiddenCategoryId());" is 269.,74
exteso_alf.io,alfio.controller.api.admin,PromoCodeDiscountApiController,countPromoCodeUse,Long Statement,The length of the statement "return promoCodeRepository.countConfirmedPromoCode(promoCodeId`categoriesOrNull(code.get())`null`categoriesOrNull(code.get()) != null ? "X" : null);" is 148.,111
exteso_alf.io,alfio.controller.api.admin,ConfigurationApiController,ConfigurationApiController,Long Parameter List,The method has 6 parameters. ,63
exteso_alf.io,alfio.controller.api.admin,ConfigurationApiController,updateConfiguration,Long Statement,The length of the statement "configurationManager.saveSystemConfiguration(ConfigurationKeys.fromString(configuration.getKey())`configuration.getValue());" is 124.,87
exteso_alf.io,alfio.controller.api.admin,ConfigurationApiController,updateConfiguration,Long Statement,The length of the statement "List<ConfigurationModification> list=Objects.requireNonNull(input).values().stream().flatMap(Collection::stream).collect(Collectors.toList());" is 142.,93
exteso_alf.io,alfio.controller.api.admin,ConfigurationApiController,updateOrganizationConfiguration,Long Statement,The length of the statement "configurationManager.saveAllOrganizationConfiguration(organizationId`input.values().stream().flatMap(Collection::stream).collect(Collectors.toList())`principal.getName());" is 171.,105
exteso_alf.io,alfio.controller.api.admin,ConfigurationApiController,updateEventConfiguration,Long Statement,The length of the statement "configurationManager.saveAllEventConfiguration(eventId`organizationId`input.values().stream().flatMap(Collection::stream).collect(Collectors.toList())`principal.getName());" is 172.,149
exteso_alf.io,alfio.controller.api.admin,ConfigurationApiController,updateCategoryConfiguration,Long Statement,The length of the statement "configurationManager.saveCategoryConfiguration(categoryId`eventId`input.values().stream().flatMap(Collection::stream).collect(Collectors.toList())`principal.getName());" is 168.,156
exteso_alf.io,alfio.controller.api.admin,ConfigurationApiController,loadEUCountries,Long Statement,The length of the statement "return TicketHelper.getLocalizedEUCountriesForVat(Locale.ENGLISH`configurationManager.getForSystem(ConfigurationKeys.EU_COUNTRIES_LIST).getRequiredValue());" is 156.,192
exteso_alf.io,alfio.controller.api.admin,ConfigurationApiController,loadInstanceSettings,Long Statement,The length of the statement "return new InstanceSettings(settings.get(DESCRIPTION_MAXLENGTH).getValueAsIntOrDefault(4096)`settings.get(BASE_URL).getRequiredValue());" is 136.,197
exteso_alf.io,alfio.controller.api.admin,ConfigurationApiController,loadInstanceSettings,Magic Number,The method contains a magic number: 4096,197
exteso_alf.io,alfio.controller.api.admin,ConfigurationApiController,loadPlatformModeStatus,Long Statement,The length of the statement "var options=configurationManager.getFor(List.of(STRIPE_CONNECTED_ID`MOLLIE_CONNECT_REFRESH_TOKEN)`ConfigurationLevel.organization(organizationId));" is 147.,203
exteso_alf.io,alfio.controller.api.admin,ConfigurationApiController,getFirstInvoiceDate,Long Statement,The length of the statement "return ResponseEntity.of(optionally(() -> eventManager.getSingleEventById(eventId`principal.getName())).map(event -> billingDocumentManager.findFirstInvoiceDate(event.getId()).orElseGet(() -> ZonedDateTime.now(clockProvider.getClock().withZone(event.getZoneId())))));" is 267.,221
exteso_alf.io,alfio.controller.api.admin,ConfigurationApiController,regenerateInvoices,Long Statement,The length of the statement "return ResponseEntity.ok(adminJobManager.scheduleExecution(AdminJobExecutor.JobName.REGENERATE_INVOICES`Map.of("username"`principal.getName()`"eventId"`eventId`"ids"`documentIds.stream().map(String::valueOf).collect(Collectors.joining("`")))));" is 244.,245
exteso_alf.io,alfio.controller.api.admin,ConfigurationApiController,generateTicketsForSubscriptions,Complex Conditional,The conditional expression !admin && (organizationId == null || !userManager.isOwnerOfOrganization(principal.getName()`organizationId)) is complex.,260
exteso_alf.io,alfio.controller.api.admin,ConfigurationApiController,generateTicketsForSubscriptions,Long Statement,The length of the statement "jobMetadata=Map.of(AssignTicketToSubscriberJobExecutor.EVENT_ID`eventId`AssignTicketToSubscriberJobExecutor.ORGANIZATION_ID`organizationId);" is 140.,260
exteso_alf.io,alfio.controller.api.admin,ConfigurationApiController,generateTicketsForSubscriptions,Long Statement,The length of the statement "return ResponseEntity.ok(adminJobManager.scheduleExecution(ASSIGN_TICKETS_TO_SUBSCRIBERS`requireNonNullElse(jobMetadata`Map.of())));" is 132.,260
exteso_alf.io,alfio.controller.api.admin,SpecialPriceApiController,linkAssigneeToCodes,Magic Number,The method contains a magic number: 4,67
exteso_alf.io,alfio.controller.api.admin,SpecialPriceApiController,linkAssigneeToCodes,Magic Number,The method contains a magic number: 2,67
exteso_alf.io,alfio.controller.api.admin,SpecialPriceApiController,linkAssigneeToCodes,Magic Number,The method contains a magic number: 3,67
exteso_alf.io,alfio.controller.api.admin,PollAdminApiController,getAllForEvent,Long Statement,The length of the statement "return ResponseEntity.ok(pollManager.getAllForEvent(eventName).stream().map(PollModification::from).collect(Collectors.toList()));" is 130.,44
exteso_alf.io,alfio.controller.api.admin,PollAdminApiController,updatePoll,Complex Conditional,The conditional expression form == null || !form.isValid(true) || !pollId.equals(form.getId()) is complex.,70
exteso_alf.io,alfio.controller.api.admin,GroupApiController,updateGroup,Long Statement,The length of the statement "return groupManager.update(listId`modification).map(ResponseEntity::ok).orElseGet(() -> ResponseEntity.notFound().build());" is 123.,81
exteso_alf.io,alfio.controller.api.admin,GroupApiController,findLinked,Long Statement,The length of the statement "return eventManager.getOptionalEventAndOrganizationIdByName(eventName`principal.getName()).map(event -> ResponseEntity.ok(groupManager.getLinksForEvent(event.getId()))).orElseGet(() -> ResponseEntity.notFound().build());" is 220.,112
exteso_alf.io,alfio.controller.api.admin,GroupApiController,findActiveGroup,Long Statement,The length of the statement "Optional<LinkedGroup> configuration=groupManager.getLinksForEvent(event.getId()).stream().filter(c -> c.getTicketCategoryId() == null).findFirst();" is 147.,120
exteso_alf.io,alfio.controller.api.admin,GroupApiController,findActiveGroup,Long Statement,The length of the statement "Optional<LinkedGroup> configuration=groupManager.findLinks(event.getId()`categoryId).stream().filter(c -> c.getTicketCategoryId() != null && c.getTicketCategoryId() == categoryId).findFirst();" is 192.,133
exteso_alf.io,alfio.controller.api.admin,GroupApiController,linkGroup,Long Statement,The length of the statement "Optional<LinkedGroup> existing=groupManager.getLinksForEvent(event.getId()).stream().filter(c -> Objects.equals(body.getTicketCategoryId()`c.getTicketCategoryId())).findFirst();" is 177.,148
exteso_alf.io,alfio.controller.api.admin,GroupApiController,unlinkGroup,Long Statement,The length of the statement "if (userManager.findOptionalEnabledUserByUsername(principal.getName()).filter(u -> userManager.isOwnerOfOrganization(u`organizationId)).isPresent()) {" is 150.,171
exteso_alf.io,alfio.controller.api.admin,GroupApiController,notOwner,Long Statement,The length of the statement "return userManager.findOptionalEnabledUserByUsername(username).filter(user -> userManager.isOwnerOfOrganization(user`organizationId)).isEmpty();" is 144.,204
exteso_alf.io,alfio.controller.api.admin,EmailMessageApiController,loadEmailMessages,Long Parameter List,The method has 5 parameters. ,50
exteso_alf.io,alfio.controller.api.admin,EmailMessageApiController,loadEmailMessages,Long Statement,The length of the statement "Pair<Integer`List<LightweightMailMessage>> found=notificationManager.loadAllMessagesForPurchaseContext(purchaseContext`page`search);" is 132.,50
exteso_alf.io,alfio.controller.api.admin,EmailMessageApiController,loadEmailMessages,Long Statement,The length of the statement "return new PageAndContent<>(found.getRight().stream().map(m -> new LightweightEmailMessage(m`zoneId`true)).collect(Collectors.toList())`found.getLeft());" is 153.,50
exteso_alf.io,alfio.controller.api.admin,EmailMessageApiController,loadEmailMessage,Long Statement,The length of the statement "return notificationManager.loadSingleMessageForPurchaseContext(purchaseContext`messageId).map(m -> new LightweightEmailMessage(m`purchaseContext.getZoneId()`false)).orElseThrow(IllegalArgumentException::new);" is 208.,64
exteso_alf.io,alfio.controller.api.admin,SubscriptionApiController,getSingle,Long Statement,The length of the statement "return ResponseEntity.of(subscriptionManager.findOne(subscriptionId`organizationId).map(SubscriptionDescriptorModification::fromModel));" is 136.,64
exteso_alf.io,alfio.controller.api.admin,SubscriptionApiController,create,Long Statement,The length of the statement "if (organizationId == subscriptionDescriptor.getOrganizationId() && userManager.isOwnerOfOrganization(principal.getName()`subscriptionDescriptor.getOrganizationId())) {" is 168.,74
exteso_alf.io,alfio.controller.api.admin,SubscriptionApiController,update,Complex Conditional,The conditional expression organizationId == subscriptionDescriptor.getOrganizationId() && userManager.isOwnerOfOrganization(principal.getName()`subscriptionDescriptor.getOrganizationId()) && subscriptionId.equals(subscriptionDescriptor.getId()) is complex.,85
exteso_alf.io,alfio.controller.api.admin,SubscriptionApiController,update,Long Statement,The length of the statement "if (organizationId == subscriptionDescriptor.getOrganizationId() && userManager.isOwnerOfOrganization(principal.getName()`subscriptionDescriptor.getOrganizationId()) && subscriptionId.equals(subscriptionDescriptor.getId())) {" is 225.,85
exteso_alf.io,alfio.controller.api.admin,AdditionalServiceApiController,loadAll,Long Statement,The length of the statement "return eventRepository.findOptionalById(eventId).map(event -> additionalServiceManager.loadAllForEvent(eventId).stream().map(as -> EventModification.AdditionalService.from(as).withText(additionalServiceManager.findAllTextByAdditionalServiceId(as.getId())).withZoneId(event.getZoneId()).withPriceContainer(buildPriceContainer(event`as)).build()).collect(Collectors.toList())).orElse(Collections.emptyList());" is 407.,84
exteso_alf.io,alfio.controller.api.admin,AdditionalServiceApiController,update,Long Statement,The length of the statement "int result=additionalServiceManager.update(additionalServiceId`additionalService.isFixPrice()`additionalService.getOrdinal()`additionalService.getAvailableQuantity()`additionalService.getMaxQtyPerOrder()`additionalService.getInception().toZonedDateTime(event.getZoneId())`additionalService.getExpiration().toZonedDateTime(event.getZoneId())`additionalService.getVat()`additionalService.getVatType()`Optional.ofNullable(additionalService.getPrice()).map(p -> MonetaryUtil.unitToCents(p`event.getCurrency())).orElse(0));" is 518.,102
exteso_alf.io,alfio.controller.api.admin,AdditionalServiceApiController,insert,Long Statement,The length of the statement "return eventRepository.findOptionalById(eventId).map(event -> ResponseEntity.ok(eventManager.insertAdditionalService(event`additionalService))).orElseThrow(IllegalArgumentException::new);" is 187.,126
exteso_alf.io,alfio.controller.api.admin,AdditionalServiceApiController,remove,Long Statement,The length of the statement "return eventRepository.findOptionalById(eventId).map(event -> additionalServiceManager.getOptionalById(additionalServiceId`eventId).map(as -> {" is 143.,136
exteso_alf.io,alfio.controller.api.admin,AdditionalServiceApiController,remove,Long Statement,The length of the statement ").orElseGet(() -> new ResponseEntity<>("additional service not found"`HttpStatus.NOT_FOUND))).orElseGet(() -> new ResponseEntity<>("event not found"`HttpStatus.NOT_FOUND));" is 172.,136
exteso_alf.io,alfio.controller.api.admin,AdditionalServiceApiController,exportAdditionalServices,Long Statement,The length of the statement "var header=List.of("ID"`"Name"`"Creation"`"Last Update"`"Reservation ID"`"Reservation First name"`"Reservation Last name"`"Reservation Email address"`"Paid Amount"`"Currency"`"VAT"`"Discount");" is 193.,154
exteso_alf.io,alfio.controller.api.admin,AdditionalServiceApiController,exportAdditionalServices,Long Statement,The length of the statement "var rows=additionalServiceManager.exportItemsForEvent(additionalServiceType`event.getId()`locale).stream().map(item -> new String[]{item.getUuid()`item.getAdditionalServiceTitle()`item.getUtcCreation().withZoneSameInstant(event.getZoneId()).format(formatter)`requireNonNullElse(item.getUtcLastModified()`item.getUtcCreation()).withZoneSameInstant(event.getZoneId()).format(formatter)`item.getTicketsReservationUuid()`item.getFirstName()`item.getLastName()`item.getEmailAddress()`MonetaryUtil.formatCents(item.getFinalPriceCts()`item.getCurrencyCode())`item.getCurrencyCode()`MonetaryUtil.formatCents(item.getVatCts()`item.getCurrencyCode())`MonetaryUtil.formatCents(item.getDiscountCts()`item.getCurrencyCode())});" is 714.,154
exteso_alf.io,alfio.controller.api.admin,AdditionalServiceApiController,exportAdditionalServices,Long Statement,The length of the statement "ExportUtils.exportExcel(event.getShortName() + "-" + additionalServiceType.name()+ ".xlsx"`additionalServiceType.name()`header.toArray(String[]::new)`rows`response);" is 165.,154
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,AdminReservationApiController,Long Parameter List,The method has 6 parameters. ,58
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,createNew,Long Statement,The length of the statement "return adminReservationManager.createReservation(reservation`publicIdentifier`principal.getName()).map(r -> r.getLeft().getId());" is 129.,72
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,findAll,Long Parameter List,The method has 5 parameters. ,86
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,findAll,Long Statement,The length of the statement "Pair<List<TicketReservation>`Integer> res=purchaseContextSearchManager.findAllReservationsFor(purchaseContext`page`search`status);" is 130.,86
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,confirmReservation,Long Statement,The length of the statement "return adminReservationManager.confirmReservation(purchaseContextType`publicIdentifier`reservationId`principal.getName()`AdminReservationModification.Notification.EMPTY).map(triple -> toReservationDescriptor(reservationId`triple));" is 231.,100
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,updateReservation,Long Parameter List,The method has 5 parameters. ,109
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,updateReservation,Long Statement,The length of the statement "return adminReservationManager.updateReservation(purchaseContextType`publicIdentifier`reservationId`arm`principal.getName());" is 125.,109
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,notifyReservation,Long Parameter List,The method has 5 parameters. ,118
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,invalidateBillingDocument,Long Parameter List,The method has 5 parameters. ,147
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,invalidateBillingDocument,Long Statement,The length of the statement "Result<Boolean> invalidateResult=adminReservationManager.invalidateBillingDocument(reservationId`documentId`principal.getName());" is 129.,147
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,restoreBillingDocument,Long Parameter List,The method has 5 parameters. ,161
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,restoreBillingDocument,Long Statement,The length of the statement "Result<Boolean> restoreResult=adminReservationManager.restoreBillingDocument(reservationId`documentId`principal.getName());" is 123.,161
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,getBillingDocument,Long Parameter List,The method has 6 parameters. ,175
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,getBillingDocument,Long Statement,The length of the statement "Result<Boolean> result=adminReservationManager.getSingleBillingDocumentAsPdf(purchaseContextType`publicIdentifier`reservationId`documentId`principal.getName()).map(res -> sendPdf(res.getRight()`response`publicIdentifier`reservationId`res.getLeft()));" is 250.,175
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,loadReservation,Long Statement,The length of the statement "return adminReservationManager.loadReservation(purchaseContextType`publicIdentifier`reservationId`principal.getName()).map(triple -> toReservationDescriptor(reservationId`triple));" is 180.,191
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,loadTicket,Long Parameter List,The method has 5 parameters. ,197
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,loadTicket,Long Statement,The length of the statement "return adminReservationManager.loadReservation(purchaseContextType`publicIdentifier`reservationId`principal.getName()).flatMap(triple -> triple.getMiddle().stream().filter(t -> t.getId() == ticketId).findFirst().map(Result::success).orElse(Result.error(ErrorCode.custom("not_found"`"not found"))));" is 298.,197
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,removeTickets,Long Statement,The length of the statement "List<Integer> toRefund=toRemove.getRefundTo().entrySet().stream().filter(Map.Entry::getValue).map(Map.Entry::getKey).collect(Collectors.toList());" is 146.,222
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,removeTickets,Long Statement,The length of the statement "adminReservationManager.removeTickets(publicIdentifier`reservationId`toRemove.getTicketIds()`toRefund`toRemove.getNotify()`toRemove.getIssueCreditNote()`principal.getName());" is 174.,222
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,removeReservation,Long Parameter List,The method has 7 parameters. ,242
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,removeReservation,Long Statement,The length of the statement "return adminReservationManager.removeReservation(purchaseContextType`publicIdentifier`reservationId`refund`notify`issueCreditNote`principal.getName());" is 151.,242
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,creditReservation,Long Parameter List,The method has 6 parameters. ,252
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,creditReservation,Long Statement,The length of the statement "adminReservationManager.creditReservation(purchaseContextType`publicIdentifier`reservationId`refund`notify`principal.getName());" is 128.,252
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,regenerateBillingDocument,Long Statement,The length of the statement "return adminReservationManager.regenerateBillingDocument(purchaseContextType`publicIdentifier`reservationId`principal.getName());" is 129.,260
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,refund,Long Parameter List,The method has 5 parameters. ,265
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,refund,Long Statement,The length of the statement "return adminReservationManager.refund(purchaseContextType`publicIdentifier`reservationId`new BigDecimal(amount.amount)`principal.getName());" is 140.,265
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,getEmailList,Long Statement,The length of the statement "return adminReservationManager.getEmailsForReservation(purchaseContextType`publicIdentifier`reservationId`principal.getName());" is 127.,270
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,loadFullTicketData,Long Statement,The length of the statement "return ResponseEntity.of(adminReservationManager.loadFullTicketInfo(reservationId`publicIdentifier`ticketUUID).map(eventAndTicket -> bookingInfoTicketLoader.toBookingInfoTicket(eventAndTicket.getRight()`eventAndTicket.getLeft())));" is 231.,275
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,toReservationDescriptor,Long Statement,The length of the statement "List<SerializablePair<TicketCategory`List<Ticket>>> tickets=triple.getMiddle().stream().collect(Collectors.groupingBy(Ticket::getCategoryId)).entrySet().stream().map(entry -> SerializablePair.of(eventManager.getTicketCategoryById(entry.getKey()`triple.getRight().event().orElseThrow().getId())`entry.getValue())).collect(Collectors.toList());" is 342.,290
exteso_alf.io,alfio.controller.api.admin,AdminReservationApiController,toReservationDescriptor,Long Statement,The length of the statement "return new TicketReservationDescriptor(reservation`ticketReservationManager.loadAdditionalInfo(reservationId)`ticketReservationManager.orderSummaryForReservationId(reservationId`triple.getRight())`tickets`buildSubscriptionDetails(triple.getRight()`reservation));" is 262.,290
exteso_alf.io,alfio.controller.api.admin,ExtensionApiController,loadSingle,Long Statement,The length of the statement "return extensionService.getSingle(URLDecoder.decode(path`StandardCharsets.UTF_8)`name).map(ResponseEntity::ok).orElseGet(() -> ResponseEntity.notFound().build());" is 162.,118
exteso_alf.io,alfio.controller.api.admin,ExtensionApiController,getParametersFor,Long Statement,The length of the statement "return extensionService.getConfigurationParametersFor("-"`"-%"`"SYSTEM").stream().collect(Collectors.groupingBy(ExtensionParameterMetadataAndValue::getExtensionId));" is 165.,139
exteso_alf.io,alfio.controller.api.admin,ExtensionApiController,getParametersFor,Long Statement,The length of the statement "return extensionService.getConfigurationParametersFor("-" + org.getId()`"-" + org.getId() + "-%"`"ORGANIZATION").stream().collect(Collectors.groupingBy(ExtensionParameterMetadataAndValue::getExtensionId));" is 205.,161
exteso_alf.io,alfio.controller.api.admin,ExtensionApiController,bulkUpdateOrganization,Long Statement,The length of the statement "ensureIdsArePresent(toUpdate`extensionService.getConfigurationParametersFor("-" + org.getId()`"-" + org.getId() + "-%"`"ORGANIZATION"));" is 136.,169
exteso_alf.io,alfio.controller.api.admin,ExtensionApiController,getParametersFor,Long Statement,The length of the statement "var event=eventRepository.findOptionalEventAndOrganizationIdByShortName(eventShortName).orElseThrow(IllegalStateException::new);" is 128.,184
exteso_alf.io,alfio.controller.api.admin,ExtensionApiController,getParametersFor,Long Statement,The length of the statement "return extensionService.getConfigurationParametersFor(pattern`pattern`"EVENT").stream().collect(Collectors.groupingBy(ExtensionParameterMetadataAndValue::getExtensionId));" is 171.,184
exteso_alf.io,alfio.controller.api.admin,ExtensionApiController,bulkUpdateEvent,Long Statement,The length of the statement "var event=eventRepository.findOptionalEventAndOrganizationIdByShortName(eventShortName).orElseThrow(IllegalStateException::new);" is 128.,198
exteso_alf.io,alfio.controller.api.admin,ExtensionApiController,deleteEventSettingValue,Long Statement,The length of the statement "var event=eventRepository.findOptionalEventAndOrganizationIdByShortName(eventShortName).orElseThrow(IllegalStateException::new);" is 128.,210
exteso_alf.io,alfio.controller.api.admin,ExtensionApiController,getLog,Long Parameter List,The method has 5 parameters. ,234
exteso_alf.io,alfio.controller.api.admin,ExtensionApiController,getLog,Long Statement,The length of the statement "Pair<List<ExtensionLog>`Integer> res=extensionService.getLog(StringUtils.trimToNull(path)`StringUtils.trimToNull(name)`type`pageSize`(page == null ? 0 : page) * pageSize);" is 171.,234
exteso_alf.io,alfio.controller.api.admin,ExtensionApiController,getLog,Magic Number,The method contains a magic number: 50,234
exteso_alf.io,alfio.controller.api.admin,CheckInApiController,checkIn,Long Statement,The length of the statement "return checkInManager.checkIn(eventId`ticketIdentifier`Optional.ofNullable(ticketCode).map(TicketCode::getCode)`principal.getName());" is 133.,89
exteso_alf.io,alfio.controller.api.admin,CheckInApiController,checkIn,Long Parameter List,The method has 5 parameters. ,97
exteso_alf.io,alfio.controller.api.admin,CheckInApiController,checkIn,Long Statement,The length of the statement "return checkInManager.checkIn(eventName`ticketIdentifier`Optional.ofNullable(ticketCode).map(TicketCode::getCode)`username`auditUser);" is 134.,97
exteso_alf.io,alfio.controller.api.admin,CheckInApiController,bulkCheckIn,Long Parameter List,The method has 5 parameters. ,108
exteso_alf.io,alfio.controller.api.admin,CheckInApiController,bulkCheckIn,Long Statement,The length of the statement "TicketAndCheckInResult res=checkInManager.checkIn(eventName`t.getIdentifier()`Optional.ofNullable(t.getCode())`username`auditUser`forceCheckInPaymentOnSite);" is 157.,108
exteso_alf.io,alfio.controller.api.admin,CheckInApiController,confirmOnSitePayment,Long Parameter List,The method has 5 parameters. ,143
exteso_alf.io,alfio.controller.api.admin,CheckInApiController,confirmOnSitePayment,Long Statement,The length of the statement "return checkInManager.confirmOnSitePayment(eventName`ticketIdentifier`Optional.ofNullable(ticketCode).map(TicketCode::getCode)`username`auditUser);" is 147.,143
exteso_alf.io,alfio.controller.api.admin,CheckInApiController,confirmOnSitePayment,Long Statement,The length of the statement "return checkInManager.confirmOnSitePayment(ticketIdentifier).map(s -> new OnSitePaymentConfirmation(true`"ok")).orElseGet(() -> new OnSitePaymentConfirmation(false`"Ticket with uuid " + ticketIdentifier + " not found"));" is 220.,159
exteso_alf.io,alfio.controller.api.admin,CheckInApiController,findAllIdentifiersForAdminCheckIn,Long Statement,The length of the statement "return checkInManager.getAttendeesIdentifiers(eventId`changedSince == null ? new Date(0) : new Date(changedSince)`principal.getName());" is 135.,166
exteso_alf.io,alfio.controller.api.admin,CheckInApiController,getLabelLayoutForEvent,Long Statement,The length of the statement "return eventManager.getOptionalEventAndOrganizationIdByName(eventName`principal.getName()).filter(checkInManager.isOfflineCheckInAndLabelPrintingEnabled()).map(this::parseLabelLayout).orElseGet(() -> new ResponseEntity<>(HttpStatus.PRECONDITION_FAILED));" is 254.,183
exteso_alf.io,alfio.controller.api.admin,CheckInApiController,getOfflineIdentifiers,Long Statement,The length of the statement "Optional<List<Integer>> ids=eventManager.getOptionalEventAndOrganizationIdByName(eventName`principal.getName()).filter(checkInManager.isOfflineCheckInEnabled()).map(event -> checkInManager.getAttendeesIdentifiers(event`since`principal.getName()));" is 247.,191
exteso_alf.io,alfio.controller.api.admin,CheckInApiController,validateIdList,Magic Number,The method contains a magic number: 200,234
exteso_alf.io,alfio.controller.api.admin,CheckInApiController,loadLabelLayout,Long Statement,The length of the statement "return configurationManager.getFor(ConfigurationKeys.LABEL_LAYOUT`event.getConfigurationLevel()).getValue().flatMap(str -> optionally(() -> Json.fromJson(str`LabelLayout.class)));" is 179.,245
exteso_alf.io,alfio.controller.api.admin,EventApiController,EventApiController,Long Identifier,The length of the parameter dynamicFieldTemplateRepository is 30.,116
exteso_alf.io,alfio.controller.api.admin,EventApiController,EventApiController,Long Identifier,The length of the field dynamicFieldTemplateRepository is 30.,116
exteso_alf.io,alfio.controller.api.admin,EventApiController,EventApiController,Long Parameter List,The method has 16 parameters. ,116
exteso_alf.io,alfio.controller.api.admin,EventApiController,getPaymentProxies,Long Statement,The length of the statement "return userManager.findUserOrganizations(principal.getName()).stream().filter(o -> o.getId() == organizationId).findFirst().map(o -> paymentManager.getPaymentMethods(o.getId())).orElse(Collections.emptyList());" is 210.,165
exteso_alf.io,alfio.controller.api.admin,EventApiController,getAllEventsForExternal,Long Statement,The length of the statement "List<Integer> userOrganizations=userManager.findUserOrganizations(principal.getName()).stream().map(Organization::getId).toList();" is 130.,176
exteso_alf.io,alfio.controller.api.admin,EventApiController,getAllEventsForExternal,Long Statement,The length of the statement "return eventManager.getActiveEvents().stream().filter(e -> userOrganizations.contains(e.getOrganizationId())).sorted(Comparator.comparing(e -> e.getBegin().withZoneSameInstant(ZoneId.systemDefault()))).map(s -> new EventListItem(s`request.getContextPath()`eventDescriptionRepository.findByEventId(s.getId()))).toList();" is 319.,176
exteso_alf.io,alfio.controller.api.admin,EventApiController,getAllActiveEvents,Long Statement,The length of the statement "return eventStatisticsManager.getAllEventsWithStatisticsFilteredBy(principal.getName()`event -> !event.expiredSince(14));" is 121.,191
exteso_alf.io,alfio.controller.api.admin,EventApiController,getAllActiveEvents,Magic Number,The method contains a magic number: 14,191
exteso_alf.io,alfio.controller.api.admin,EventApiController,getAllExpiredEvents,Long Statement,The length of the statement "var results=new ArrayList<>(eventStatisticsManager.getAllEventsWithStatisticsFilteredBy(principal.getName()`event -> event.expiredSince(14)));" is 142.,196
exteso_alf.io,alfio.controller.api.admin,EventApiController,getAllExpiredEvents,Magic Number,The method contains a magic number: 14,196
exteso_alf.io,alfio.controller.api.admin,EventApiController,getDescriptionLength,Long Statement,The length of the statement "return configurationManager.getFor(ConfigurationKeys.DESCRIPTION_MAXLENGTH`ConfigurationLevel.system()).getValueAsIntOrDefault(4096);" is 133.,244
exteso_alf.io,alfio.controller.api.admin,EventApiController,getDescriptionLength,Magic Number,The method contains a magic number: 4096,244
exteso_alf.io,alfio.controller.api.admin,EventApiController,validateEvent,Long Statement,The length of the statement "ValidationResult base=validateEventHeader(Optional.empty()`eventModification`descriptionMaxLength`errors).or(validateEventDates(eventModification`errors)).or(validateTicketCategories(eventModification`errors)).or(validateEventPrices(eventModification`errors)).or(eventModification.getAdditionalServices().stream().map(as -> validateAdditionalService(as`eventModification`errors)).reduce(ValidationResult::or).orElse(ValidationResult.success()));" is 445.,248
exteso_alf.io,alfio.controller.api.admin,EventApiController,validateEvent,Long Statement,The length of the statement "return base.or(eventModification.getTicketCategories().stream().map(c -> validateCategory(c`errors`"ticketCategories[" + counter.getAndIncrement() + "]."`eventModification`descriptionMaxLength)).reduce(ValidationResult::or).orElse(ValidationResult.success())).or(validateAdditionalTicketFields(eventModification.getTicketFields()`errors));" is 339.,248
exteso_alf.io,alfio.controller.api.admin,EventApiController,updateHeader,Long Statement,The length of the statement "return validateEventHeader(Optional.of(event)`eventModification`getDescriptionLength()`errors).ifSuccess(() -> eventManager.updateEventHeader(event`eventModification`principal.getName()));" is 188.,300
exteso_alf.io,alfio.controller.api.admin,EventApiController,updatePrices,Long Statement,The length of the statement "return validateEventPrices(eventModification`errors).ifSuccess(() -> eventManager.updateEventPrices(event`eventModification`principal.getName()));" is 146.,306
exteso_alf.io,alfio.controller.api.admin,EventApiController,updateExistingCategory,Long Parameter List,The method has 5 parameters. ,312
exteso_alf.io,alfio.controller.api.admin,EventApiController,updateExistingCategory,Long Statement,The length of the statement "return validateCategory(category`errors`getDescriptionLength()).ifSuccess(() -> eventManager.updateCategory(categoryId`eventId`category`principal.getName()));" is 158.,312
exteso_alf.io,alfio.controller.api.admin,EventApiController,createCategory,Long Statement,The length of the statement "return validateCategory(category`errors`getDescriptionLength()).ifSuccess(() -> eventManager.insertCategory(eventId`category`principal.getName()));" is 147.,317
exteso_alf.io,alfio.controller.api.admin,EventApiController,downloadAllTicketsCSV,Long Parameter List,The method has 5 parameters. ,356
exteso_alf.io,alfio.controller.api.admin,EventApiController,downloadAllTicketsCSV,Long Statement,The length of the statement "Map<Integer`TicketCategory> categoriesMap=eventManager.loadTicketCategories(event).stream().collect(Collectors.toMap(TicketCategory::getId`Function.identity()));" is 161.,356
exteso_alf.io,alfio.controller.api.admin,EventApiController,exportTicketExcel,Long Parameter List,The method has 6 parameters. ,370
exteso_alf.io,alfio.controller.api.admin,EventApiController,exportTicketExcel,Long Statement,The length of the statement "ExportUtils.exportExcel(eventName + "-export.xlsx"`eventName + " export"`exportHeader(fields)`exportLines(eventName`principal`fields`categoriesMap`eventZoneId)`response);" is 170.,370
exteso_alf.io,alfio.controller.api.admin,EventApiController,exportTicketCSV,Long Parameter List,The method has 6 parameters. ,378
exteso_alf.io,alfio.controller.api.admin,EventApiController,exportTicketCSV,Long Statement,The length of the statement "ExportUtils.exportCsv(eventName + "-export.csv"`exportHeader(fields)`exportLines(eventName`principal`fields`categoriesMap`eventZoneId)`response);" is 145.,378
exteso_alf.io,alfio.controller.api.admin,EventApiController,exportLines,Complex Method,Cyclomatic complexity of the method is 27,394
exteso_alf.io,alfio.controller.api.admin,EventApiController,exportLines,Long Method,The method has 100 lines of code.,394
exteso_alf.io,alfio.controller.api.admin,EventApiController,exportLines,Long Parameter List,The method has 5 parameters. ,394
exteso_alf.io,alfio.controller.api.admin,EventApiController,exportLines,Long Statement,The length of the statement "var eInvoicingEnabled=configurationManager.isItalianEInvoicingEnabled(eventManager.getEventAndOrganizationId(eventName`username));" is 130.,394
exteso_alf.io,alfio.controller.api.admin,EventApiController,exportLines,Long Statement,The length of the statement "line.add(defaultString(transaction.map(Transaction::getPaymentId).orElse(null)`transaction.map(Transaction::getTransactionId).orElse("")));" is 139.,394
exteso_alf.io,alfio.controller.api.admin,EventApiController,exportLines,Long Statement,The length of the statement "var optionalInvoicingData=Optional.ofNullable(billingDetails.getInvoicingAdditionalInfo()).map(TicketReservationInvoicingAdditionalInfo::getItalianEInvoicing);" is 159.,394
exteso_alf.io,alfio.controller.api.admin,EventApiController,downloadSponsorScanExport,Long Statement,The length of the statement "Stream<String[]> sponsorScans=userManager.findAllEnabledUsers(principal.getName()).stream().map(u -> Pair.of(u`userManager.getUserRole(u))).filter(p -> p.getRight() == Role.SPONSOR).flatMap(p -> sponsorScanRepository.loadSponsorData(event.getId()`p.getKey().getId()`SponsorScanRepository.DEFAULT_TIMESTAMP).stream().map(v -> Pair.of(v`ticketFieldRepository.findAllValuesForTicketId(v.getTicket().getId())))).map(p -> {" is 418.,452
exteso_alf.io,alfio.controller.api.admin,EventApiController,exportSponsorScanExcel,Long Statement,The length of the statement "ExportUtils.exportExcel(eventName + "-sponsor-scan.xlsx"`eventName + " sponsor scan"`header.toArray(new String[0])`sponsorScans`response);" is 138.,502
exteso_alf.io,alfio.controller.api.admin,EventApiController,getAllFields,Long Statement,The length of the statement "fields.addAll(ticketFieldRepository.findFieldsForEvent(eventName).stream().map(f -> SerializablePair.of(CUSTOM_FIELDS_PREFIX + f`f)).toList());" is 143.,515
exteso_alf.io,alfio.controller.api.admin,EventApiController,getAllAdditionalField,Long Statement,The length of the statement "final Map<Integer`List<TicketFieldDescription>> descById=ticketFieldRepository.findDescriptions(eventName).stream().collect(Collectors.groupingBy(TicketFieldDescription::getTicketFieldConfigurationId));" is 202.,526
exteso_alf.io,alfio.controller.api.admin,EventApiController,getAllAdditionalField,Long Statement,The length of the statement "return ticketFieldRepository.findAdditionalFieldsForEvent(eventName).stream().map(field -> new TicketFieldConfigurationAndAllDescriptions(field`descById.getOrDefault(field.getId()`Collections.emptyList()))).toList();" is 216.,526
exteso_alf.io,alfio.controller.api.admin,EventApiController,getStats,Long Statement,The length of the statement "if (eventManager.getOptionalEventAndOrganizationIdByName(eventName`principal.getName()).filter(event -> ticketFieldRepository.findById(id).getEventId() == event.getId()).isEmpty()) {" is 182.,534
exteso_alf.io,alfio.controller.api.admin,EventApiController,loadTemplates,Long Identifier,The length of the field dynamicFieldTemplateRepository is 30.,542
exteso_alf.io,alfio.controller.api.admin,EventApiController,getPendingPaymentsCount,Long Statement,The length of the statement "return eventManager.getOptionalEventAndOrganizationIdByName(eventName`principal.getName()).map(e -> ticketReservationManager.getPendingPaymentsCount(e.getId())).orElse(0);" is 171.,593
exteso_alf.io,alfio.controller.api.admin,EventApiController,confirmPayment,Long Statement,The length of the statement "ticketReservationManager.findById(reservationId).filter(TicketReservation::isDirectAssignmentRequested).ifPresent(reservation -> {" is 130.,600
exteso_alf.io,alfio.controller.api.admin,EventApiController,confirmPayment,Long Statement,The length of the statement "ticketHelper.directTicketAssignment(eventName`reservationId`reservation.getEmail()`reservation.getFullName()`reservation.getFirstName()`reservation.getLastName()`reservation.getUserLanguage()`Optional.empty()`locale);" is 217.,600
exteso_alf.io,alfio.controller.api.admin,EventApiController,deletePendingPayment,Long Statement,The length of the statement "ticketReservationManager.deleteOfflinePayment(loadEvent(eventName`principal)`reservationId`false`Boolean.TRUE.equals(creditReservation)`principal.getName());" is 157.,613
exteso_alf.io,alfio.controller.api.admin,EventApiController,bulkConfirmation,Long Statement,The length of the statement "ticketReservationManager.validateAndConfirmOfflinePayment(reservationID`event`new BigDecimal(line[1])`principal.getName());" is 123.,622
exteso_alf.io,alfio.controller.api.admin,EventApiController,bulkConfirmation,Magic Number,The method contains a magic number: 2,622
exteso_alf.io,alfio.controller.api.admin,EventApiController,countInvoicesForEvent,Long Statement,The length of the statement "return eventManager.getOptionalEventAndOrganizationIdByName(eventName`principal.getName()).map(e -> ticketReservationManager.countInvoices(e.getId())).orElse(0);" is 161.,658
exteso_alf.io,alfio.controller.api.admin,EventApiController,getAllDocumentsXls,Long Statement,The length of the statement "ExportUtils.exportExcel(event.getShortName() + "-billing-documents.xlsx"`"Documents"`header.toArray(String[]::new)`ticketReservationManager.streamAllDocumentsFor(event.getId()).flatMap(entry -> {" is 195.,710
exteso_alf.io,alfio.controller.api.admin,EventApiController,getTicketsInCategory,Long Parameter List,The method has 5 parameters. ,781
exteso_alf.io,alfio.controller.api.admin,EventApiController,getTicketsInCategory,Long Statement,The length of the statement "return new PageAndContent<>(eventStatisticsManager.loadModifiedTickets(event.getId()`categoryId`page == null ? 0 : page`search)`eventStatisticsManager.countModifiedTicket(event.getId()`categoryId`search));" is 205.,781
exteso_alf.io,alfio.controller.api.admin,EventApiController,getTicketsStatistics,Long Statement,The length of the statement "var from=parseDate(f`zoneId`() -> eventStatisticsManager.getFirstReservationConfirmedTimestamp(event.getId())`() -> ZonedDateTime.now(clockProvider.getClock().withZone(zoneId)).minusDays(1));" is 191.,790
exteso_alf.io,alfio.controller.api.admin,EventApiController,getTicketsStatistics,Long Statement,The length of the statement "var reservedFrom=parseDate(f`zoneId`() -> eventStatisticsManager.getFirstReservationCreatedTimestamp(event.getId())`() -> ZonedDateTime.now(clockProvider.getClock().withZone(zoneId)).minusDays(1));" is 197.,790
exteso_alf.io,alfio.controller.api.admin,EventApiController,getTicketsStatistics,Long Statement,The length of the statement "var to=parseDate(t`zoneId`Optional::empty`() -> ZonedDateTime.now(clockProvider.getClock().withZone(zoneId))).plusDays(1L);" is 123.,790
exteso_alf.io,alfio.controller.api.admin,EventApiController,getGranularity,Magic Number,The method contains a magic number: 12,810
exteso_alf.io,alfio.controller.api.admin,EventApiController,getGranularity,Magic Number,The method contains a magic number: 3,810
exteso_alf.io,alfio.controller.api.admin,EventApiController,parseDate,Long Statement,The length of the statement "return Optional.ofNullable(dateToParse).map(p -> LocalDate.parse(p`dateFormatter).atTime(23`59`59).atZone(zoneId)).or(dateLoader).map(z -> z.withZoneSameInstant(zoneId)).orElseGet(orElseGet).truncatedTo(ChronoUnit.DAYS);" is 220.,819
exteso_alf.io,alfio.controller.api.admin,EventApiController,parseDate,Magic Number,The method contains a magic number: 23,819
exteso_alf.io,alfio.controller.api.admin,EventApiController,parseDate,Magic Number,The method contains a magic number: 59,819
exteso_alf.io,alfio.controller.api.admin,EventApiController,parseDate,Magic Number,The method contains a magic number: 59,819
exteso_alf.io,alfio.controller.api.admin,EventApiController,updateMetadata,Long Statement,The length of the statement "return ResponseEntity.of(eventManager.getOptionalByName(eventName`principal.getName()).map(event -> eventManager.updateMetadata(event`metadataModification.toMetadataObj())));" is 174.,843
exteso_alf.io,alfio.controller.api.admin,EventApiController,loadMetadata,Long Statement,The length of the statement "return ResponseEntity.of(eventManager.getOptionalEventAndOrganizationIdByName(eventName`principal.getName()).map(eventManager::getMetadataForEvent));" is 149.,854
exteso_alf.io,alfio.controller.api.admin,EventApiController,updateCategoryMetadata,Long Statement,The length of the statement "return ResponseEntity.of(eventManager.getOptionalEventAndOrganizationIdByName(eventName`principal.getName()).map(event -> eventManager.updateCategoryMetadata(event`categoryId`metadataModification.toMetadataObj())));" is 215.,861
exteso_alf.io,alfio.controller.api.admin,EventApiController,loadCategoryMetadata,Long Statement,The length of the statement "return ResponseEntity.of(eventManager.getOptionalEventAndOrganizationIdByName(eventName`principal.getName()).map(event -> eventManager.getMetadataForCategory(event`categoryId)));" is 178.,874
exteso_alf.io,alfio.controller.api.admin,EventApiController,generateUrlForOnlineEvent,Long Statement,The length of the statement "return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).header("Alfio-Extension-Error-Class"`ex.getClass().getSimpleName()).body(ex.getMessage());" is 153.,882
exteso_alf.io,alfio.controller.api.admin,UsersApiController,getAllRoles,Long Statement,The length of the statement "return userManager.getAvailableRoles(principal.getName()).stream().map(RoleDescriptor::new).collect(Collectors.toList());" is 121.,79
exteso_alf.io,alfio.controller.api.admin,UsersApiController,getLoggedUserType,Long Statement,The length of the statement "return SecurityContextHolder.getContext().getAuthentication().getAuthorities().stream().map(GrantedAuthority::getAuthority).map(s -> StringUtils.substringAfter(s`"ROLE_")).filter(AuthenticationConstants.SPONSOR::equals).findFirst().orElse(AuthenticationConstants.OPERATOR);" is 273.,84
exteso_alf.io,alfio.controller.api.admin,UsersApiController,bulkCreate,Long Statement,The length of the statement "Optional<User> userOptional=userManager.findOptionalEnabledUserByUsername(principal.getName()).filter(u -> userManager.isOwnerOfOrganization(u`request.organizationId));" is 168.,132
exteso_alf.io,alfio.controller.api.admin,UsersApiController,validateUser,Long Statement,The length of the statement "return userManager.validateUser(userModification.getId()`userModification.getUsername()`userModification.getFirstName()`userModification.getLastName()`userModification.getEmailAddress());" is 187.,165
exteso_alf.io,alfio.controller.api.admin,UsersApiController,editUser,Long Statement,The length of the statement "userManager.editUser(userModification.getId()`userModification.getOrganizationId()`userModification.getUsername()`userModification.getFirstName()`userModification.getLastName()`userModification.getEmailAddress()`userModification.getDescription()`Role.valueOf(userModification.getRole())`principal.getName());" is 308.,175
exteso_alf.io,alfio.controller.api.admin,UsersApiController,insertUser,Long Statement,The length of the statement "Validate.isTrue(userManager.getAvailableRoles(principal.getName()).stream().anyMatch(requested::equals)`String.format("Requested role %s is not available for current user"`userModification.getRole()));" is 201.,184
exteso_alf.io,alfio.controller.api.admin,UsersApiController,insertUser,Long Statement,The length of the statement "UserWithPassword userWithPassword=userManager.insertUser(userModification.getOrganizationId()`userModification.getUsername()`userModification.getFirstName()`userModification.getLastName()`userModification.getEmailAddress()`requested`type == null ? User.Type.INTERNAL : type`userModification.getValidToAsDateTime()`userModification.getDescription());" is 349.,184
exteso_alf.io,alfio.controller.api.admin,UsersApiController,insertUser,Long Statement,The length of the statement "String qrCode=type != User.Type.API_KEY ? Base64.getEncoder().encodeToString(generateQRCode(userWithPassword`baseUrl)) : null;" is 126.,184
exteso_alf.io,alfio.controller.api.admin,UsersApiController,loadUser,Long Statement,The length of the statement "return new UserModification(user.getId()`userOrganizations.get(0).getId()`userManager.getUserRole(user).name()`user.getUsername()`user.getFirstName()`user.getLastName()`user.getEmailAddress()`user.getType()`user.getValidToEpochSecond()`user.getDescription());" is 259.,246
exteso_alf.io,alfio.controller.api.admin,UsersApiController,loadCurrentUser,Long Statement,The length of the statement "return new UserModification(user.getId()`userOrganization.map(Organization::getId).orElse(-1)`userManager.getUserRole(user).name()`user.getUsername()`user.getFirstName()`user.getLastName()`user.getEmailAddress()`user.getType()`user.getValidToEpochSecond()`user.getDescription());" is 279.,255
exteso_alf.io,alfio.controller.api.admin,UsersApiController,updateCurrentUserPassword,Long Statement,The length of the statement "return userManager.validateNewPassword(principal.getName()`passwordModification.oldPassword`passwordModification.newPassword`passwordModification.newPasswordConfirm).ifSuccess(() -> userManager.updatePassword(principal.getName()`passwordModification.newPassword));" is 264.,264
exteso_alf.io,alfio.controller.api.admin,UsersApiController,updateCurrentUser,Long Statement,The length of the statement "userManager.updateUserContactInfo(user.getId()`userModification.getFirstName()`userModification.getLastName()`userModification.getEmailAddress());" is 146.,270
exteso_alf.io,alfio.controller.api.admin,UsersApiController,resetPassword,Long Statement,The length of the statement "return new UserWithPasswordAndQRCode(userWithPassword`Base64.getEncoder().encodeToString(generateQRCode(userWithPassword`baseUrl)));" is 132.,277
exteso_alf.io,alfio.controller.api.admin,FileUploadApiController,resize,Long Statement,The length of the statement "BufferedImage thumbImg=Scalr.resize(image`Scalr.Method.QUALITY`Scalr.Mode.AUTOMATIC`IMAGE_THUMB_MAX_WIDTH_PX`IMAGE_THUMB_MAX_HEIGHT_PX`Scalr.OP_ANTIALIAS);" is 155.,70
exteso_alf.io,alfio.controller.api.admin,CustomMessagesApiController,preview,Long Statement,The length of the statement "return customMessageManager.generatePreview(eventName`Optional.ofNullable(categoryId)`messageModifications`principal.getName());" is 128.,53
exteso_alf.io,alfio.controller.api.admin,UtilsApiController,getCurrencies,Long Statement,The length of the statement "return CurrencyUnit.registeredCurrencies().stream().filter(c -> !c.isPseudoCurrency() && !CURRENCIES_BLOCKLIST.contains(c.getCode()) && Wrappers.optionally(() -> Currency.getInstance(c.getCode())).isPresent()).map(c -> new CurrencyDescriptor(c.getCode()`c.toCurrency().getDisplayName(Locale.ENGLISH)`c.getSymbol(Locale.ENGLISH)`c.getDecimalPlaces())).collect(Collectors.toList());" is 380.,95
exteso_alf.io,alfio.controller.api.admin,UtilsApiController,getCountriesForVat,Long Statement,The length of the statement "return TicketHelper.getLocalizedCountriesForVat(Locale.ENGLISH).stream().collect(Collectors.toMap(Pair::getKey`Pair::getValue));" is 128.,104
exteso_alf.io,alfio.controller.api.admin,ResourceController,ResourceController,Long Parameter List,The method has 9 parameters. ,81
exteso_alf.io,alfio.controller.api.admin,ResourceController,handleSyntaxError,Long Statement,The length of the statement "Optional<String> cause=Optional.ofNullable(ex.getCause()).filter(e -> e instanceof MustacheException || e instanceof TemplateProcessor.TemplateAccessException).map(Throwable::getMessage);" is 187.,102
exteso_alf.io,alfio.controller.api.admin,ResourceController,previewTemplate,Long Parameter List,The method has 7 parameters. ,130
exteso_alf.io,alfio.controller.api.admin,ResourceController,previewTemplate,Long Statement,The length of the statement "event=new Event(-1`Event.EventFormat.IN_PERSON`"TEST"`"TEST"`"TEST"`"0"`"0"`ZonedDateTime.now(clockProvider.withZone(zoneId))`ZonedDateTime.now(clockProvider.withZone(zoneId))`"Europe/Zurich"`"http://localhost"`"http://localhost"`null`"http://localhost"`null`null`"CHF"`BigDecimal.TEN`null`"42"`organizationId`ContentLanguage.ALL_LANGUAGES_IDENTIFIER`0`PriceContainer.VatStatus.NONE`"1"`Event.Status.PUBLIC);" is 408.,130
exteso_alf.io,alfio.controller.api.admin,ResourceController,previewTemplate,Long Statement,The length of the statement "String renderedTemplate=templateManager.renderString(event`template.getFileAsString()`model`loc`name.getTemplateOutput());" is 122.,130
exteso_alf.io,alfio.controller.api.admin,ResourceController,previewTemplate,Long Statement,The length of the statement "if (MediaType.TEXT_PLAIN_VALUE.equals(name.getRenderedContentType()) || TemplateResource.MULTIPART_ALTERNATIVE_MIMETYPE.equals(name.getRenderedContentType())) {" is 160.,130
exteso_alf.io,alfio.controller.api.admin,ResourceController,outputContent,Long Parameter List,The method has 5 parameters. ,283
exteso_alf.io,alfio.controller.api.admin,ResourceController,checkAccess,Long Statement,The length of the statement "Validate.isTrue(eventRepository.findEventAndOrganizationIdById(eventId).getOrganizationId() == organizationId && userManager.isOwnerOfOrganization(userManager.findUserByUsername(principal.getName())`organizationId));" is 216.,328
exteso_alf.io,alfio.controller.api.admin,AdminWaitingQueueApiController,AdminWaitingQueueApiController,Long Parameter List,The method has 6 parameters. ,60
exteso_alf.io,alfio.controller.api.admin,AdminWaitingQueueApiController,getStatusForEvent,Long Statement,The length of the statement "return eventManager.getOptionalByName(eventName`principal.getName()).map(this::loadStatus).orElse(Collections.emptyMap());" is 122.,74
exteso_alf.io,alfio.controller.api.admin,AdminWaitingQueueApiController,loadStatus,Long Statement,The length of the statement "List<SaleableTicketCategory> stcList=eventManager.loadTicketCategories(event).stream().filter(tc -> !tc.isAccessRestricted()).map(tc -> new SaleableTicketCategory(tc`now`event`ticketReservationManager.countAvailableTickets(event`tc)`tc.getMaxTickets()`null)).collect(Collectors.toList());" is 288.,81
exteso_alf.io,alfio.controller.api.admin,AdminWaitingQueueApiController,loadStatus,Long Statement,The length of the statement "boolean active=EventUtil.checkWaitingQueuePreconditions(event`stcList`configurationManager`eventStatisticsManager.noSeatsAvailable());" is 134.,81
exteso_alf.io,alfio.controller.api.admin,AdminWaitingQueueApiController,loadStatus,Long Statement,The length of the statement "boolean paused=active && configurationManager.getFor(STOP_WAITING_QUEUE_SUBSCRIPTIONS`event.getConfigurationLevel()).getValueAsBooleanOrDefault();" is 146.,81
exteso_alf.io,alfio.controller.api.admin,AdminWaitingQueueApiController,setStatusForEvent,Long Statement,The length of the statement "configurationManager.saveAllEventConfiguration(event.getId()`event.getOrganizationId()`singletonList(new ConfigurationModification(null`ConfigurationKeys.STOP_WAITING_QUEUE_SUBSCRIPTIONS.name()`String.valueOf(form.status)))`principal.getName());" is 245.,96
exteso_alf.io,alfio.controller.api.admin,AdminWaitingQueueApiController,countWaitingPeople,Long Statement,The length of the statement "Optional<Integer> count=eventManager.getOptionalEventAndOrganizationIdByName(eventName`principal.getName()).map(e -> waitingQueueManager.countSubscribers(e.getId()));" is 166.,107
exteso_alf.io,alfio.controller.api.admin,AdminWaitingQueueApiController,loadAllSubscriptions,Long Statement,The length of the statement "Optional<List<WaitingQueueSubscription>> count=eventManager.getOptionalEventAndOrganizationIdByName(eventName`principal.getName()).map(e -> waitingQueueManager.loadAllSubscriptionsForEvent(e.getId()));" is 201.,118
exteso_alf.io,alfio.controller.api.admin,AdminWaitingQueueApiController,convertSubscriptions,Long Statement,The length of the statement "return l.stream().map(s -> new String[]{s.getSubscriptionType().toString()`s.getFirstName()`s.getLastName()`s.getEmailAddress()`s.getLocale().toLanguageTag()`s.getStatus().name()`s.getCreation().withZoneSameInstant(event.getZoneId()).toString()});" is 247.,147
exteso_alf.io,alfio.controller.api.admin,AdminWaitingQueueApiController,removeSubscriber,Long Statement,The length of the statement "return performStatusModification(eventName`subscriberId`principal`WaitingQueueSubscription.Status.CANCELLED`WaitingQueueSubscription.Status.WAITING);" is 149.,154
exteso_alf.io,alfio.controller.api.admin,AdminWaitingQueueApiController,restoreSubscriber,Long Statement,The length of the statement "return performStatusModification(eventName`subscriberId`principal`WaitingQueueSubscription.Status.WAITING`WaitingQueueSubscription.Status.CANCELLED);" is 149.,161
exteso_alf.io,alfio.controller.api.admin,AdminWaitingQueueApiController,performStatusModification,Long Parameter List,The method has 5 parameters. ,168
exteso_alf.io,alfio.controller.api.admin,AdminWaitingQueueApiController,performStatusModification,Long Statement,The length of the statement "return eventManager.getOptionalEventAndOrganizationIdByName(eventName`principal.getName()).flatMap(e -> waitingQueueManager.updateSubscriptionStatus(subscriberId`newStatus`currentStatus).map(s -> Pair.of(s`e))).map(pair -> {" is 224.,168
exteso_alf.io,alfio.controller.api.admin,PollAdminApiControllerTest,init,Long Statement,The length of the statement "List<TicketCategoryModification> categories=List.of(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(clockProvider().getClock()).minusDays(1)`LocalTime.now(clockProvider().getClock()))`new DateTimeModification(LocalDate.now(clockProvider().getClock()).plusDays(1)`LocalTime.now(clockProvider().getClock()))`DESCRIPTION`BigDecimal.ZERO`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 503.,91
exteso_alf.io,alfio.controller.api.admin,PollAdminApiControllerTest,createAndUpdatePoll,Long Statement,The length of the statement "var options=List.of(new PollOptionModification(null`Map.of("en"`"Homer J. Simpson")`null)`new PollOptionModification(null`Map.of("en"`"Bender B. Rodriguez")`Map.of()));" is 168.,105
exteso_alf.io,alfio.controller.api.admin,PollAdminApiControllerTest,createAndUpdatePoll,Long Statement,The length of the statement "var form=new PollModification(null`Map.of("en"`"Best Employee of the Year")`null`null`options`false`Poll.PollStatus.OPEN);" is 122.,105
exteso_alf.io,alfio.controller.api.admin,PollAdminApiControllerTest,createAndUpdatePoll,Long Statement,The length of the statement "var updateStatusResponse=controller.updateStatus(eventName`pollId`new PollAdminApiController.UpdatePollStatusForm(Poll.PollStatus.OPEN));" is 137.,105
exteso_alf.io,alfio.controller.api.admin,PollAdminApiControllerTest,createAndUpdatePoll,Long Statement,The length of the statement "newOptionsList.addAll(List.of(new PollOptionModification(null`Map.of("en"`"Lisa M. Simpson")`null)`new PollOptionModification(null`Map.of("en"`"Turanga Leela")`Map.of())));" is 172.,105
exteso_alf.io,alfio.controller.api.admin,PollAdminApiControllerTest,createAndUpdatePoll,Long Statement,The length of the statement "var updateForm=new PollModification(poll.getId()`poll.getTitle()`poll.getDescription()`poll.getOrder()`newOptionsList`false`Poll.PollStatus.DRAFT);" is 147.,105
exteso_alf.io,alfio.controller.api.admin,PollAdminApiControllerTest,createAndUpdatePoll,Magic Number,The method contains a magic number: 2,105
exteso_alf.io,alfio.controller.api.admin,PollAdminApiControllerTest,createAndUpdatePoll,Magic Number,The method contains a magic number: 4,105
exteso_alf.io,alfio.controller.api.admin,PollAdminApiControllerTest,allowPeopleToVote,Long Statement,The length of the statement "var options=List.of(new PollOptionModification(null`Map.of("en"`"Homer J. Simpson")`null)`new PollOptionModification(null`Map.of("en"`"Bender B. Rodriguez")`Map.of()));" is 168.,144
exteso_alf.io,alfio.controller.api.admin,PollAdminApiControllerTest,allowPeopleToVote,Long Statement,The length of the statement "var form=new PollModification(null`Map.of("en"`"Best Employee of the Year")`null`null`options`true`Poll.PollStatus.OPEN);" is 121.,144
exteso_alf.io,alfio.controller.api.admin,PollAdminApiControllerTest,allowPeopleToVote,Long Statement,The length of the statement "ticketReservationRepository.createNewReservation(reservationId`ZonedDateTime.now(event.getZoneId())`DateUtils.addMinutes(new Date()`1)`null`"en"`event.getId()`null`null`null`event.getOrganizationId()`null);" is 206.,144
exteso_alf.io,alfio.controller.api.admin,PollAdminApiControllerTest,allowPeopleToVote,Long Statement,The length of the statement "ticketRepository.reserveTickets(reservationId`List.of(ticketId)`firstCategory.getValue()`"en"`event.getVatStatus()`i -> null);" is 126.,144
exteso_alf.io,alfio.controller.api.admin,PollAdminApiControllerTest,allowPeopleToVote,Long Statement,The length of the statement "ticketReservationRepository.updateReservationStatus(reservationId`TicketReservation.TicketReservationStatus.COMPLETE.name());" is 125.,144
exteso_alf.io,alfio.controller.api.admin,PollAdminApiControllerTest,allowPeopleToVote,Long Statement,The length of the statement "assertTrue(Objects.requireNonNull(removeOptionResponse.getBody()).getOptions().stream().noneMatch(po -> firstOptionId.equals(po.getId())));" is 139.,144
exteso_alf.io,alfio.controller.api.admin,UtilsApiControllerTest,getCurrencies,Long Statement,The length of the statement "assertEquals(MonetaryUtil.unitToCents(BigDecimal.TEN`currency.getCode())`10 * Math.pow(10`currency.getFractionDigits()));" is 121.,29
exteso_alf.io,alfio.controller.api.admin,UtilsApiControllerTest,getCurrencies,Magic Number,The method contains a magic number: 10,29
exteso_alf.io,alfio.controller.api.admin,UtilsApiControllerTest,getCurrencies,Magic Number,The method contains a magic number: 10,29
exteso_alf.io,alfio.controller.api.pass,PassKitApiController,getLatestVersion,Long Parameter List,The method has 5 parameters. ,48
exteso_alf.io,alfio.controller.api.pass,PassKitApiController,getLatestVersion,Long Statement,The length of the statement "Optional<Pair<EventAndOrganizationId`Ticket>> validationResult=passKitManager.validateToken(eventName`passTypeIdentifier`serialNumber`authorization);" is 149.,48
exteso_alf.io,alfio.controller.api.v2.model,AdditionalService,AdditionalService,Long Parameter List,The method has 19 parameters. ,54
exteso_alf.io,alfio.controller.api.v2.model,ReservationInfo,ReservationInfo,Long Identifier,The length of the parameter invoiceOrReceiptDocumentPresent is 31.,79
exteso_alf.io,alfio.controller.api.v2.model,ReservationInfo,ReservationInfo,Long Identifier,The length of the parameter containsCategoriesLinkedToGroups is 32.,79
exteso_alf.io,alfio.controller.api.v2.model,ReservationInfo,ReservationInfo,Long Identifier,The length of the field invoiceOrReceiptDocumentPresent is 31.,79
exteso_alf.io,alfio.controller.api.v2.model,ReservationInfo,ReservationInfo,Long Identifier,The length of the field containsCategoriesLinkedToGroups is 32.,79
exteso_alf.io,alfio.controller.api.v2.model,ReservationInfo,ReservationInfo,Long Parameter List,The method has 25 parameters. ,79
exteso_alf.io,alfio.controller.api.v2.model,SubscriptionDescriptorWithAdditionalInfo,SubscriptionDescriptorWithAdditionalInfo,Long Parameter List,The method has 15 parameters. ,51
exteso_alf.io,alfio.controller.api.v2.model,ReservationHeader,ReservationHeader,Long Parameter List,The method has 11 parameters. ,45
exteso_alf.io,alfio.controller.api.v2.model,ReservationHeader,from,Long Statement,The length of the statement "return new ReservationHeader(r.getId()`r.getStatus()`formatDate(r.getValidity()`datePatternsMap)`formatDate(r.getConfirmationTs()`datePatternsMap)`formatDate(r.getRegistrationTs()`datePatternsMap)`r.getInvoiceNumber()`r.getFinalPrice()`r.getCurrencyCode()`r.getVatPercentage()`r.getVatStatus()`r.getItems());" is 308.,70
exteso_alf.io,alfio.controller.api.v2.model,EventWithAdditionalInfo,EventWithAdditionalInfo,Long Parameter List,The method has 20 parameters. ,75
exteso_alf.io,alfio.controller.api.v2.model,BasicEventInfo,BasicEventInfo,Long Parameter List,The method has 13 parameters. ,43
exteso_alf.io,alfio.controller.api.v2.model,ItemsByCategory,ItemsByCategory,Long Identifier,The length of the parameter ticketCategoriesForWaitingList is 30.,34
exteso_alf.io,alfio.controller.api.v2.model,ItemsByCategory,ItemsByCategory,Long Identifier,The length of the field ticketCategoriesForWaitingList is 30.,34
exteso_alf.io,alfio.controller.api.v2.model,ItemsByCategory,ItemsByCategory,Long Parameter List,The method has 6 parameters. ,34
exteso_alf.io,alfio.controller.api.v2.model,TicketCategory,TicketCategory,Long Parameter List,The method has 5 parameters. ,54
exteso_alf.io,alfio.controller.api.v2.model,TicketCategory,TicketCategory,Long Statement,The length of the statement "this.maximumSaleableTickets=max(0`min(saleableTicketCategory.getMaxTicketsAfterConfiguration()`saleableTicketCategory.getAvailableTickets()));" is 142.,54
exteso_alf.io,alfio.controller.api.v2.model,TicketCategory,TicketCategory,Long Statement,The length of the statement "this.availableTickets=displayTicketsLeft && saleableTicketCategory.isBounded() ? saleableTicketCategory.getAvailableTickets() : null;" is 133.,54
exteso_alf.io,alfio.controller.api.v2.model,ReservationPaymentResult,ReservationPaymentResult,Long Parameter List,The method has 5 parameters. ,29
exteso_alf.io,alfio.controller.api.v2.model,User,User,Long Parameter List,The method has 5 parameters. ,29
exteso_alf.io,alfio.controller.api.v2.model,OnlineCheckInInfo,OnlineCheckInInfo,Long Parameter List,The method has 6 parameters. ,41
exteso_alf.io,alfio.controller.api.v2.model,OnlineCheckInInfo,fromDates,Long Parameter List,The method has 5 parameters. ,81
exteso_alf.io,alfio.controller.api.v2.model,OnlineCheckInInfo,fromDates,Long Statement,The length of the statement "return new OnlineCheckInInfo(getFormattedDate(event`start.withZoneSameInstant(targetTz)`"date.extended.pattern"`messageSource)`getFormattedDate(event`start.withZoneSameInstant(targetTz)`"time.extended.pattern"`messageSource)`getFormattedDate(event`end.withZoneSameInstant(targetTz)`"date.extended.pattern"`messageSource)`getFormattedDate(event`end.withZoneSameInstant(targetTz)`"time.extended.pattern"`messageSource)`event.getZoneId().toString()`DatesWithTimeZoneOffset.fromDates(start`end));" is 492.,81
exteso_alf.io,alfio.controller.api.v2.model,PurchaseContextWithReservations,PurchaseContextWithReservations,Long Parameter List,The method has 7 parameters. ,42
exteso_alf.io,alfio.controller.api.v2.model,PurchaseContextWithReservations,from,Long Statement,The length of the statement "return new PurchaseContextWithReservations(first.getPurchaseContextTitle()`first.getPurchaseContextPublicIdentifier()`first.getPurchaseContextType()`LocaleUtil.formatDate(first.getPurchaseContextStartDate()`datePatternsMap)`LocaleUtil.formatDate(first.getPurchaseContextEndDate()`datePatternsMap)`isSameDay(first.getPurchaseContextStartDate()`first.getPurchaseContextEndDate())`reservations.stream().map(r -> ReservationHeader.from(r`datePatternsMap)).collect(Collectors.toList()));" is 482.,58
exteso_alf.io,alfio.controller.api.v2.model,PurchaseContextWithReservations,isSameDay,Long Statement,The length of the statement "return startDate != null && endDate != null && startDate.truncatedTo(ChronoUnit.DAYS).equals(endDate.truncatedTo(ChronoUnit.DAYS));" is 131.,72
exteso_alf.io,alfio.controller.api.v2.model,TicketInfo,TicketInfo,Long Parameter List,The method has 14 parameters. ,45
exteso_alf.io,alfio.controller.api.v2.model,InvoicingConfiguration,InvoicingConfiguration,Long Identifier,The length of the parameter userCanDownloadReceiptOrInvoice is 31.,31
exteso_alf.io,alfio.controller.api.v2.model,InvoicingConfiguration,InvoicingConfiguration,Long Identifier,The length of the field userCanDownloadReceiptOrInvoice is 31.,31
exteso_alf.io,alfio.controller.api.v2.model,InvoicingConfiguration,InvoicingConfiguration,Long Parameter List,The method has 7 parameters. ,31
exteso_alf.io,alfio.controller.api.v2.model,ApiPurchaseContext,getContentLanguages,Long Statement,The length of the statement "return purchaseContext().getContentLanguages().stream().map(cl -> new Language(cl.getLocale().getLanguage()`cl.getDisplayLanguage())).collect(Collectors.toList());" is 163.,41
exteso_alf.io,alfio.controller.api.v2.model,ApiPurchaseContext,getCurrencyDescriptor,Long Statement,The length of the statement "return new CurrencyDescriptor(currencyUnit.getCode()`currencyUnit.toCurrency().getDisplayName()`currencyUnit.getSymbol()`currencyUnit.getDecimalPlaces());" is 154.,48
exteso_alf.io,alfio.controller.api.v2.model,BasicSubscriptionDescriptorInfo,BasicSubscriptionDescriptorInfo,Long Parameter List,The method has 23 parameters. ,64
exteso_alf.io,alfio.controller.api.v2.model,DatesWithTimeZoneOffset,fromEvent,Long Statement,The length of the statement "return new DatesWithTimeZoneOffset(toEpochMilli(event.getBegin())`event.getBeginTimeZoneOffset()`toEpochMilli(event.getEnd())`event.getEndTimeZoneOffset());" is 156.,33
exteso_alf.io,alfio.controller.api.v2.model,AlfioInfo,AlfioInfo,Long Parameter List,The method has 8 parameters. ,34
exteso_alf.io,alfio.controller.api.v2.model,AnalyticsConfiguration,build,Long Statement,The length of the statement "var clientId=googAnalyticsKey != null && googAnalyticsScrambled && sessionId != null ? DigestUtils.sha256Hex(sessionId) : null;" is 127.,44
exteso_alf.io,alfio.controller.api.v2,TranslationsApiController,getEuCountriesForVat,Long Statement,The length of the statement "var countries=TicketHelper.getLocalizedEUCountriesForVat(LocaleUtil.forLanguageTag(lang)`configurationManager.getForSystem(ConfigurationKeys.EU_COUNTRIES_LIST).getRequiredValue());" is 180.,72
exteso_alf.io,alfio.controller.api.v2,TranslationsApiController,fromPair,Long Statement,The length of the statement "return countries.stream().map(p -> new LocalizedCountry(p.getKey()`p.getValue())).sorted((lc1`lc2) -> collator.compare(lc1.getName()`lc2.getName())).collect(Collectors.toList());" is 178.,79
exteso_alf.io,alfio.controller.api.v2,TranslationsApiController,getSupportedLanguages,Long Statement,The length of the statement "return i18nManager.getAvailableLanguages().stream().map(cl -> new Language(cl.getLocale().getLanguage()`cl.getDisplayLanguage())).collect(Collectors.toList());" is 159.,86
exteso_alf.io,alfio.controller.api.v2.user,TicketApiV2Controller,TicketApiV2Controller,Long Parameter List,The method has 11 parameters. ,81
exteso_alf.io,alfio.controller.api.v2.user,TicketApiV2Controller,generateTicketPdf,Long Statement,The length of the statement "TemplateProcessor.renderPDFTicket(LocaleUtil.getTicketLanguage(ticket`LocaleUtil.forLanguageTag(ticketReservation.getUserLanguage()`event))`event`ticketReservation`ticketWithMetadata`ticketCategory`organization`templateManager`fileUploadManager`reservationID`os`ticketHelper.buildRetrieveFieldValuesFunction()`extensionManager);" is 328.,130
exteso_alf.io,alfio.controller.api.v2.user,TicketApiV2Controller,sendTicketByEmail,Long Statement,The length of the statement "notificationManager.sendTicketByEmail(ticket`event`locale`ticketHelper.getConfirmationTextBuilder(locale`event`reservation`ticket`category)`reservation`ticketCategoryRepository.getByIdAndActive(ticket.getCategoryId()`event.getId())`() -> ticketReservationManager.retrieveAttendeeAdditionalInfoForTicket(ticket));" is 312.,164
exteso_alf.io,alfio.controller.api.v2.user,TicketApiV2Controller,releaseTicket,Long Statement,The length of the statement "oData.ifPresent(triple -> ticketReservationManager.releaseTicket(triple.getLeft()`triple.getMiddle()`triple.getRight()));" is 121.,189
exteso_alf.io,alfio.controller.api.v2.user,TicketApiV2Controller,getTicket,Long Statement,The length of the statement "return new ReservationInfo.TicketsByTicketCategory(category.getName()`category.getTicketAccessType()`List.of(bookingInfoTicketLoader.toBookingInfoTicket(ticket`event)));" is 169.,201
exteso_alf.io,alfio.controller.api.v2.user,TicketApiV2Controller,getTicketInfo,Long Statement,The length of the statement "boolean deskPaymentRequired=Optional.ofNullable(ticketReservation.getPaymentMethod()).orElse(PaymentProxy.STRIPE).isDeskPaymentRequired();" is 138.,216
exteso_alf.io,alfio.controller.api.v2.user,TicketApiV2Controller,getTicketInfo,Long Statement,The length of the statement "var validityStart=Optional.ofNullable(ticketCategory.getTicketValidityStart(event.getZoneId())).orElse(event.getBegin());" is 121.,216
exteso_alf.io,alfio.controller.api.v2.user,TicketApiV2Controller,getTicketInfo,Long Statement,The length of the statement "return ResponseEntity.ok(new TicketInfo(ticket.getFullName()`ticket.getEmail()`ticket.getUuid()`ticketCategory.getName()`ticketReservation.getFullName()`ticketReservationManager.getShortReservationID(event`ticketReservation)`deskPaymentRequired`event.getTimeZone()`DatesWithTimeZoneOffset.fromEvent(event)`sameDay`formattedDates.beginDate`formattedDates.beginTime`formattedDates.endDate`formattedDates.endTime));" is 412.,216
exteso_alf.io,alfio.controller.api.v2.user,TicketApiV2Controller,updateTicketInfo,Long Parameter List,The method has 5 parameters. ,267
exteso_alf.io,alfio.controller.api.v2.user,TicketApiV2Controller,updateTicketInfo,Long Statement,The length of the statement "Optional<UserDetails> userDetails=Optional.ofNullable(authentication).map(Authentication::getPrincipal).filter(UserDetails.class::isInstance).map(UserDetails.class::cast);" is 171.,267
exteso_alf.io,alfio.controller.api.v2.user,TicketApiV2Controller,updateTicketInfo,Long Statement,The length of the statement "var assignmentResult=ticketHelper.assignTicket(eventName`ticketIdentifier`updateTicketOwner`Optional.of(bindingResult)`locale`userDetails`false);" is 145.,267
exteso_alf.io,alfio.controller.api.v2.user,TicketApiV2Controller,updateTicketInfo,Long Statement,The length of the statement "return assignmentResult.map(r -> ResponseEntity.status(r.getLeft().isSuccess() ? HttpStatus.OK : HttpStatus.UNPROCESSABLE_ENTITY).body(new ValidatedResponse<>(r.getLeft()`r.getLeft().isSuccess()))).orElseThrow(IllegalStateException::new);" is 238.,267
exteso_alf.io,alfio.controller.api.v2.user,TicketApiV2Controller,getCheckInInfo,Long Statement,The length of the statement "return ResponseEntity.of(ticketReservationManager.fetchCompleteAndAssignedForOnlineCheckIn(eventName`ticketIdentifier).flatMap(info -> {" is 136.,299
exteso_alf.io,alfio.controller.api.v2.user,TicketApiV2Controller,getCheckInInfo,Long Statement,The length of the statement "if (MessageDigest.isEqual(DigestUtils.sha256Hex(ticketCode).getBytes(StandardCharsets.UTF_8)`checkInCode.getBytes(StandardCharsets.UTF_8))) {" is 141.,299
exteso_alf.io,alfio.controller.api.v2.user,TicketApiV2Controller,getCheckInInfo,Long Statement,The length of the statement "return firstMatchingCallLink(event.getZoneId()`categoryConfiguration`eventConfiguration).map(joinLink -> OnlineCheckInInfo.fromJoinLink(joinLink`event`zoneId`messageSource)).or(() -> Optional.of(OnlineCheckInInfo.fromEvent(event`zoneId`messageSource)));" is 253.,299
exteso_alf.io,alfio.controller.api.v2.user,UserApiV2Controller,UserApiV2Controller,Long Parameter List,The method has 5 parameters. ,56
exteso_alf.io,alfio.controller.api.v2.user,UserApiV2Controller,getUserIdentity,Long Statement,The length of the statement "return ResponseEntity.ok(new User(user.getFirstName()`user.getLastName()`user.getEmailAddress()`user.getType()`userWithOptionalProfile.getRight().orElse(null)));" is 161.,68
exteso_alf.io,alfio.controller.api.v2.user,UserApiV2Controller,getUserReservations,Long Statement,The length of the statement "var datePatternsMap=ContentLanguage.ALL_LANGUAGES.stream().map(l -> Map.entry(l.getLocale()`messageSource.getMessage("datetime.pattern"`null`l.getLocale()))).collect(Collectors.toMap(Map.Entry::getKey`Map.Entry::getValue));" is 223.,144
exteso_alf.io,alfio.controller.api.v2.user,UserApiV2Controller,getUserReservations,Long Statement,The length of the statement "var results=reservations.stream().collect(Collectors.groupingBy(p -> p.getPurchaseContextType().name() + "/" + p.getPurchaseContextPublicIdentifier())).values().stream().map(pc -> PurchaseContextWithReservations.from(pc`datePatternsMap)).collect(Collectors.toList());" is 267.,144
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,ReservationApiV2Controller,Long Parameter List,The method has 21 parameters. ,105
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,getReservationInfo,Long Identifier,The length of the identifier containsCategoriesLinkedToGroups is 32.,149
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,getReservationInfo,Long Statement,The length of the statement "Optional<ReservationInfo> res=purchaseContextManager.findByReservationId(reservationId).flatMap(purchaseContext -> ticketReservationManager.findById(reservationId).flatMap(reservation -> {" is 188.,149
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,getReservationInfo,Long Statement,The length of the statement "var valuesByTicketIds=ticketFieldRepository.findAllValuesByTicketIds(ticketIds).stream().collect(Collectors.groupingBy(TicketFieldValue::getTicketId));" is 151.,149
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,getReservationInfo,Long Statement,The length of the statement "var descriptionsByTicketFieldId=ticketFieldRepository.findDescriptions(event.getShortName()).stream().collect(Collectors.groupingBy(TicketFieldDescription::getTicketFieldConfigurationId));" is 188.,149
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,getReservationInfo,Long Statement,The length of the statement "var ts=e.getValue().stream().map(t -> bookingInfoTicketLoader.toBookingInfoTicket(t`hasPaidSupplement`event`ticketFieldsFilterer`descriptionsByTicketFieldId`valuesByTicketIds`Map.of()`false)).collect(Collectors.toList());" is 221.,149
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,getReservationInfo,Long Statement,The length of the statement "var italianInvoicing=additionalInfo.getInvoicingAdditionalInfo().getItalianEInvoicing() == null ? new TicketReservationInvoicingAdditionalInfo.ItalianEInvoicing(null`null`null`null`false) : additionalInfo.getInvoicingAdditionalInfo().getItalianEInvoicing();" is 257.,149
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,getReservationInfo,Long Statement,The length of the statement "var formattedExpirationDate=reservation.getValidity() != null ? formatDateForLocales(purchaseContext`ZonedDateTime.ofInstant(reservation.getValidity().toInstant()`purchaseContext.getZoneId())`"datetime.pattern") : null;" is 219.,149
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,getReservationInfo,Long Statement,The length of the statement "var containsCategoriesLinkedToGroups=purchaseContext.event().map(event -> ticketReservationManager.containsCategoriesLinkedToGroups(reservationId`event.getId())).orElse(false);" is 176.,149
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,getReservationInfo,Long Statement,The length of the statement "return new ReservationInfo.SubscriptionInfo(s.getStatus() == AllocationStatus.ACQUIRED ? s.getId() : null`s.getStatus() == AllocationStatus.ACQUIRED ? s.getPin() : null`UsageDetails.fromSubscription(s`usageCount)`new ReservationInfo.SubscriptionOwner(s.getFirstName()`s.getLastName()`s.getEmail()));" is 299.,149
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,getReservationInfo,Long Statement,The length of the statement "return Optional.of(new ReservationInfo(reservation.getId()`shortReservationId`reservation.getFirstName()`reservation.getLastName()`reservation.getEmail()`reservation.getValidity().getTime()`ticketsInReservation`new ReservationInfo.ReservationInfoOrderSummary(orderSummary)`reservation.getStatus()`additionalInfo.hasBeenValidated()`formattedExpirationDate`reservation.getInvoiceNumber()`reservation.isInvoiceRequested()`reservation.getHasInvoiceOrReceiptDocument()`reservation.getHasBeenPaid()`tokenAcquired`selectedPaymentProxy != null ? selectedPaymentProxy : reservation.getPaymentMethod()`additionalInfo.getAddCompanyBillingDetails()`reservation.getCustomerReference()`additionalInfo.getSkipVatNr()`reservation.getBillingAddress()`additionalInfo.getBillingDetails()`containsCategoriesLinkedToGroups`getActivePaymentMethods(purchaseContext`ticketsByCategory.keySet()`orderSummary`reservationId)`subscriptionInfos));" is 917.,149
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,getActivePaymentMethods,Long Identifier,The length of the identifier blacklistedMethodsForReservation is 32.,266
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,getActivePaymentMethods,Long Statement,The length of the statement "var blacklistedMethodsForReservation=configurationManager.getBlacklistedMethodsForReservation(purchaseContext`categoryIds);" is 123.,266
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,getActivePaymentMethods,Long Statement,The length of the statement "return paymentManager.getPaymentMethods(purchaseContext`new TransactionRequest(orderSummary.getOriginalTotalPrice()`ticketReservationRepository.getBillingDetailsForReservation(reservationId))).stream().filter(p -> !blacklistedMethodsForReservation.contains(p.getPaymentMethod())).filter(p -> TicketReservationManager.isValidPaymentMethod(p`purchaseContext`configurationManager)).collect(toMap(PaymentManager.PaymentMethodDTO::getPaymentMethod`pm -> new PaymentProxyWithParameters(pm.getPaymentProxy()`paymentManager.loadModelOptionsFor(List.of(pm.getPaymentProxy())`purchaseContext))));" is 586.,266
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,getReservationStatus,Long Statement,The length of the statement "Optional<ReservationStatusInfo> res=ticketReservationRepository.findOptionalStatusAndValidationById(reservationId).map(status -> new ReservationStatusInfo(status.getStatus()`Boolean.TRUE.equals(status.getValidated())));" is 219.,282
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,cancelPendingReservation,Long Statement,The length of the statement "getReservationWithPendingStatus(reservationId).ifPresent(er -> ticketReservationManager.cancelPendingReservation(reservationId`false`null));" is 140.,294
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,backToBooking,Long Statement,The length of the statement "getReservationWithPendingStatus(reservationId).ifPresent(er -> ticketReservationRepository.updateValidationStatus(reservationId`false));" is 136.,303
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,confirmOverview,Complex Method,Cyclomatic complexity of the method is 9,312
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,confirmOverview,Long Parameter List,The method has 6 parameters. ,312
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,confirmOverview,Long Statement,The length of the statement "if (isCaptchaInvalid(reservationCost.getPriceWithVAT()`paymentForm.getPaymentProxy()`paymentForm.getCaptcha()`request`event)) {" is 127.,312
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,confirmOverview,Long Statement,The length of the statement "CustomerName customerName=new CustomerName(reservation.getFullName()`reservation.getFirstName()`reservation.getLastName()`true);" is 128.,312
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,confirmOverview,Long Statement,The length of the statement "paymentToken=paymentManager.buildPaymentToken(paymentForm.getGatewayToken()`paymentForm.getPaymentProxy()`new PaymentContext(event`reservationId));" is 147.,312
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,confirmOverview,Long Statement,The length of the statement "PaymentSpecification spec=new PaymentSpecification(reservationId`paymentToken`reservationCost.getPriceWithVAT()`event`reservation.getEmail()`customerName`reservation.getBillingAddress()`reservation.getCustomerReference()`locale`reservation.isInvoiceRequested()`!reservation.isDirectAssignmentRequested()`orderSummary`reservation.getVatCountryCode()`reservation.getVatNr()`reservation.getVatStatus()`Boolean.TRUE.equals(paymentForm.getTermAndConditionsAccepted())`Boolean.TRUE.equals(paymentForm.getPrivacyPolicyAccepted()));" is 524.,312
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,confirmOverview,Long Statement,The length of the statement "final PaymentResult status=ticketReservationManager.performPayment(spec`reservationCost`paymentForm.getPaymentProxy()`paymentForm.getSelectedPaymentMethod()`principal);" is 168.,312
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,confirmOverview,Long Statement,The length of the statement "var body=ValidatedResponse.toResponse(bindingResult`new ReservationPaymentResult(!bindingResult.hasErrors()`true`status.getRedirectUrl()`status.isFailed()`status.getGatewayIdOrNull()));" is 185.,312
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,confirmOverview,Long Statement,The length of the statement "MessageSourceResolvable message=new DefaultMessageSourceResolvable(new String[]{errorMessageCode`StripeCreditCardManager.STRIPE_UNEXPECTED});" is 141.,312
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,confirmOverview,Long Statement,The length of the statement "bindingResult.reject(ErrorsCode.STEP_2_PAYMENT_PROCESSING_ERROR`new Object[]{messageSourceManager.getMessageSourceFor(event).getMessage(message`locale)}`null);" is 159.,312
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,buildReservationPaymentStatus,Long Statement,The length of the statement "var body=ValidatedResponse.toResponse(bindingResult`new ReservationPaymentResult(!bindingResult.hasErrors()`false`null`true`null));" is 131.,391
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,validateToOverview,Complex Conditional,The conditional expression !bindingResult.hasErrors() && (!bindingResult.hasWarnings() || ignoreWarnings) is complex.,396
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,validateToOverview,Complex Method,Cyclomatic complexity of the method is 11,396
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,validateToOverview,Long Parameter List,The method has 6 parameters. ,396
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,validateToOverview,Long Statement,The length of the statement "final TotalPrice reservationCost=ticketReservationManager.totalReservationCostWithVAT(reservation.withVatStatus(purchaseContext.getVatStatus())).getLeft();" is 155.,396
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,validateToOverview,Long Statement,The length of the statement "boolean forceAssignment=configurationManager.getFor(FORCE_TICKET_OWNER_ASSIGNMENT_AT_RESERVATION`purchaseContext.getConfigurationLevel()).getValueAsBooleanOrDefault();" is 167.,396
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,validateToOverview,Long Statement,The length of the statement "CustomerName customerName=new CustomerName(contactAndTicketsForm.getFullName()`contactAndTicketsForm.getFirstName()`contactAndTicketsForm.getLastName()`true`false);" is 164.,396
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,validateToOverview,Long Statement,The length of the statement "ticketReservationRepository.resetVat(reservationId`contactAndTicketsForm.isInvoiceRequested()`purchaseContext.getVatStatus()`reservation.getSrcPriceCts()`reservationCost.getPriceWithVAT()`reservationCost.getVAT()`Math.abs(reservationCost.getDiscount())`reservation.getCurrencyCode());" is 284.,396
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,validateToOverview,Long Statement,The length of the statement "ticketReservationManager.updateReservation(reservationId`customerName`contactAndTicketsForm.getEmail()`contactAndTicketsForm.getBillingAddressCompany()`contactAndTicketsForm.getBillingAddressLine1()`contactAndTicketsForm.getBillingAddressLine2()`contactAndTicketsForm.getBillingAddressZip()`contactAndTicketsForm.getBillingAddressCity()`contactAndTicketsForm.getBillingAddressState()`contactAndTicketsForm.getVatCountryCode()`contactAndTicketsForm.getCustomerReference()`contactAndTicketsForm.getVatNr()`contactAndTicketsForm.isInvoiceRequested()`contactAndTicketsForm.getAddCompanyBillingDetails()`contactAndTicketsForm.canSkipVatNrCheck()`false`locale`principal);" is 665.,396
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,validateToOverview,Long Statement,The length of the statement "boolean italyEInvoicing=configurationManager.getFor(ENABLE_ITALY_E_INVOICING`purchaseContext.getConfigurationLevel()).getValueAsBooleanOrDefault();" is 147.,396
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,validateToOverview,Long Statement,The length of the statement "ticketReservationManager.updateReservationInvoicingAdditionalInformation(reservationId`purchaseContext`new TicketReservationInvoicingAdditionalInfo(getItalianInvoicingInfo(contactAndTicketsForm)));" is 197.,396
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,validateToOverview,Long Statement,The length of the statement "Validate.isTrue(subscriptionRepository.assignSubscription(reservationId`owner.getFirstName()`owner.getLastName()`owner.getEmail()) == 1);" is 137.,396
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,validateToOverview,Long Statement,The length of the statement "Map<ConfigurationKeys`Boolean> formValidationParameters=Collections.singletonMap(ENABLE_ITALY_E_INVOICING`italyEInvoicing);" is 123.,396
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,validateToOverview,Long Statement,The length of the statement "var ticketFieldFilterer=purchaseContext.event().map(event -> bookingInfoTicketLoader.getTicketFieldsFilterer(reservationId`event));" is 131.,396
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,validateToOverview,Long Statement,The length of the statement "contactAndTicketsForm.validate(bindingResult`purchaseContext`new SameCountryValidator(configurationManager`extensionManager`purchaseContext`reservationId`vatChecker)`formValidationParameters`ticketFieldFilterer`reservationCost.requiresPayment());" is 246.,396
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,validateToOverview,Long Statement,The length of the statement "var additionalData=contactAndTicketsForm.getTickets().values().stream().filter(f -> principal.getName().equals(f.getEmail()) && !f.getAdditional().isEmpty()).limit(1).map(form -> publicUserManager.buildAdditionalInfoWithLabels(principal`purchaseContext`form)).findFirst().orElse(Map.of());" is 289.,396
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,validateToOverview,Long Statement,The length of the statement "publicUserManager.persistProfileForPublicUser(principal`contactAndTicketsForm`bindingResult`ticketReservationManager.loadAdditionalInfo(reservationId)`additionalData);" is 167.,396
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,getItalianInvoicingInfo,Long Statement,The length of the statement "return new TicketReservationInvoicingAdditionalInfo.ItalianEInvoicing(StringUtils.upperCase(contactAndTicketsForm.getItalyEInvoicingFiscalCode())`contactAndTicketsForm.getItalyEInvoicingReferenceType()`contactAndTicketsForm.getItalyEInvoicingReferenceAddresseeCode()`contactAndTicketsForm.getItalyEInvoicingReferencePEC()`contactAndTicketsForm.isItalyEInvoicingSplitPayment());" is 377.,515
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,assignTickets,Long Parameter List,The method has 7 parameters. ,524
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,getReservation,Long Statement,The length of the statement "return purchaseContextManager.findByReservationId(reservationId).flatMap(purchaseContext -> ticketReservationManager.findById(reservationId).flatMap(reservation -> Optional.of(Pair.of(purchaseContext`reservation))));" is 216.,537
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,getReservationWithPendingStatus,Long Statement,The length of the statement "return ticketReservationManager.findById(reservationId).filter(reservation -> reservation.getStatus() == TicketReservation.TicketReservationStatus.PENDING);" is 156.,543
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,getPurchaseContextAndReservationWithPendingStatus,Long Statement,The length of the statement "return purchaseContextManager.findByReservationId(reservationId).flatMap(event -> ticketReservationManager.findById(reservationId).filter(reservation -> reservation.getStatus() == TicketReservation.TicketReservationStatus.PENDING).flatMap(reservation -> Optional.of(Pair.of(event`reservation))));" is 296.,547
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,reSendReservationConfirmationEmail,Long Parameter List,The method has 5 parameters. ,554
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,reSendReservationConfirmationEmail,Long Statement,The length of the statement "return ResponseEntity.of(purchaseContextManager.findBy(purchaseContextType`publicIdentifier).map(purchaseContext -> ticketReservationManager.findById(reservationId).map(ticketReservation -> {" is 191.,554
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,reSendReservationConfirmationEmail,Long Statement,The length of the statement "ticketReservationManager.sendConfirmationEmail(purchaseContext`ticketReservation`LocaleUtil.forLanguageTag(lang`purchaseContext)`principal != null ? principal.getName() : null);" is 177.,554
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,handleReservationWith,Long Statement,The length of the statement "return ticketReservationManager.findById(reservationId).map(ticketReservation -> with.apply(event`ticketReservation)).orElse(notFound);" is 135.,590
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,isAnonymous,Long Statement,The length of the statement "return authentication == null || authentication.getAuthorities().stream().map(GrantedAuthority::getAuthority).anyMatch("ROLE_ANONYMOUS"::equals);" is 145.,612
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,generatePdfFunction,Long Statement,The length of the statement "BillingDocument billingDocument=billingDocumentManager.getOrCreateBillingDocument(event`reservation`null`ticketReservationManager.orderSummaryForReservation(reservation`event));" is 177.,617
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,generatePdfFunction,Long Statement,The length of the statement "TemplateProcessor.buildReceiptOrInvoicePdf(event`fileUploadManager`LocaleUtil.forLanguageTag(reservation.getUserLanguage())`templateManager`billingDocument.getModel()`forInvoice ? TemplateResource.INVOICE_PDF : TemplateResource.RECEIPT_PDF`extensionManager`response.getOutputStream());" is 285.,617
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,initTransaction,Long Statement,The length of the statement "Optional<ResponseEntity<TransactionInitializationToken>> responseEntity=purchaseContextManager.getReservationWithPurchaseContext(reservationId).map(pair -> {" is 157.,639
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,initTransaction,Long Statement,The length of the statement "return ticketReservationManager.initTransaction(event`reservationId`paymentMethod`allParams).map(ResponseEntity::ok).orElseGet(() -> ResponseEntity.notFound().build());" is 168.,639
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,removeToken,Long Statement,The length of the statement "var res=purchaseContextManager.getReservationWithPurchaseContext(reservationId).map(et -> paymentManager.removePaymentTokenReservation(et.getRight().getId())).orElse(false);" is 173.,662
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,deletePaymentAttempt,Long Statement,The length of the statement "var res=purchaseContextManager.getReservationWithPurchaseContext(reservationId).map(et -> ticketReservationManager.cancelPendingPayment(et.getRight().getId()`et.getLeft())).orElse(false);" is 187.,673
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,getTransactionStatus,Long Statement,The length of the statement "return purchaseContextManager.getReservationWithPurchaseContext(reservationId).flatMap(pair -> paymentManager.getTransactionStatus(pair.getRight()`paymentMethod)).map(pr -> ResponseEntity.ok(new ReservationPaymentResult(pr.isSuccessful()`pr.isRedirect()`pr.getRedirectUrl()`pr.isFailed()`pr.getGatewayIdOrNull()))).orElseGet(() -> ResponseEntity.notFound().build());" is 366.,683
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,applyCode,Long Statement,The length of the statement "boolean res=purchaseContextManager.getReservationWithPurchaseContext(reservationId).map(et -> ticketReservationManager.validateAndApplySubscriptionCode(et.getLeft()`et.getRight()`reservationCodeForm.getCodeAsUUID()`reservationCodeForm.getCode()`reservationCodeForm.getEmail()`bindingResult)).orElse(false);" is 306.,703
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,removeCode,Long Statement,The length of the statement "res=purchaseContextManager.getReservationWithPurchaseContext(reservationId).map(et -> ticketReservationManager.removeSubscription(et.getRight())).orElse(false);" is 160.,719
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,isCaptchaInvalid,Long Parameter List,The method has 5 parameters. ,741
exteso_alf.io,alfio.controller.api.v2.user,ReservationApiV2Controller,isCaptchaInvalid,Long Statement,The length of the statement "return (cost == 0 || paymentMethod == PaymentProxy.OFFLINE || paymentMethod == PaymentProxy.ON_SITE) && configurationManager.isRecaptchaForOfflinePaymentAndFreeEnabled(configurable.getConfigurationLevel()) && !recaptchaService.checkRecaptcha(recaptchaResponse`request);" is 269.,741
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,EventApiV2Controller,Long Identifier,The length of the parameter ticketCategoryDescriptionRepository is 35.,95
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,EventApiV2Controller,Long Identifier,The length of the parameter additionalServiceTextRepository is 31.,95
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,EventApiV2Controller,Long Identifier,The length of the field ticketCategoryDescriptionRepository is 35.,95
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,EventApiV2Controller,Long Identifier,The length of the field additionalServiceTextRepository is 31.,95
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,EventApiV2Controller,Long Parameter List,The method has 20 parameters. ,95
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,listEvents,Long Statement,The length of the statement "return new BasicEventInfo(e.getShortName()`e.getFileBlobId()`e.getTitle()`e.getFormat()`e.getLocation()`e.getTimeZone()`DatesWithTimeZoneOffset.fromEvent(e)`e.getSameDay()`formattedDates.beginDate`formattedDates.beginTime`formattedDates.endDate`formattedDates.endTime`e.getContentLanguages().stream().map(cl -> new Language(cl.getLocale().getLanguage()`cl.getDisplayLanguage())).toList());" is 389.,138
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getEvent,Long Statement,The length of the statement "return eventLoader.loadEventInfo(eventName`session).map(eventWithAdditionalInfo -> new ResponseEntity<>(eventWithAdditionalInfo`getCorsHeaders()`HttpStatus.OK)).orElseGet(() -> ResponseEntity.notFound().headers(getCorsHeaders()).build());" is 238.,157
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,subscribeToWaitingList,Long Statement,The length of the statement "Optional<ResponseEntity<ValidatedResponse<Boolean>>> res=eventRepository.findOptionalByShortName(eventName).map(event -> {" is 122.,163
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,subscribeToWaitingList,Long Statement,The length of the statement "var subscriptionResult=waitingQueueManager.subscribe(event`subscription.toCustomerName(event)`subscription.getEmail()`subscription.getSelectedCategory()`subscription.getUserLanguage());" is 185.,163
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getTicketCategories,Long Identifier,The length of the identifier ticketCategoryLevelConfiguration is 32.,181
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getTicketCategories,Long Identifier,The length of the field ticketCategoryDescriptionRepository is 35.,181
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getTicketCategories,Long Identifier,The length of the field additionalServiceTextRepository is 31.,181
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getTicketCategories,Long Statement,The length of the statement "return eventRepository.findOptionalByShortName(eventName).filter(e -> e.getStatus() != Event.Status.DISABLED).map(event -> {" is 124.,181
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getTicketCategories,Long Statement,The length of the statement "var configurations=configurationManager.getFor(List.of(DISPLAY_TICKETS_LEFT_INDICATOR`MAX_AMOUNT_OF_TICKETS_BY_RESERVATION`DISPLAY_EXPIRED_CATEGORIES)`event.getConfigurationLevel());" is 182.,181
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getTicketCategories,Long Statement,The length of the statement "var ticketCategoryLevelConfiguration=configurationManager.getAllCategoriesAndValueWith(event`MAX_AMOUNT_OF_TICKETS_BY_RESERVATION);" is 131.,181
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getTicketCategories,Long Statement,The length of the statement "List<SaleableTicketCategory> saleableTicketCategories=ticketCategories.stream().filter(c -> !c.isAccessRestricted() || shouldDisplayRestrictedCategory(specialCode`c`promoCodeDiscount)).map(category -> {" is 202.,181
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getTicketCategories,Long Statement,The length of the statement "PromoCodeDiscount filteredPromoCode=promoCodeDiscount.filter(promoCode -> shouldApplyDiscount(promoCode`category)).orElse(null);" is 128.,181
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getTicketCategories,Long Statement,The length of the statement "maxTickets=filteredPromoCode.getMaxUsage() - promoCodeRepository.countConfirmedPromoCode(filteredPromoCode.getId()`categoriesOrNull(filteredPromoCode)`null`categoriesOrNull(filteredPromoCode) != null ? "X" : null);" is 214.,181
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getTicketCategories,Long Statement,The length of the statement "return new SaleableTicketCategory(category`now`event`ticketReservationManager.countAvailableTickets(event`category)`maxTickets`filteredPromoCode);" is 146.,181
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getTicketCategories,Long Statement,The length of the statement "var description=Formatters.applyCommonMark(ticketCategoryDescriptions.getOrDefault(stc.getId()`Collections.emptyMap())`messageSource);" is 134.,181
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getTicketCategories,Long Statement,The length of the statement "var promoCode=Optional.of(appliedPromoCode).filter(ValidatedResponse::isSuccess).map(ValidatedResponse::getValue).flatMap(Pair::getRight);" is 138.,181
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getTicketCategories,Long Statement,The length of the statement "var saleableAdditionalServices=additionalServiceRepository.loadAllForEvent(event.getId()).stream().map(as -> new SaleableAdditionalService(event`as`promoCode.orElse(null))).filter(SaleableAdditionalService::isNotExpired).toList();" is 230.,181
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getTicketCategories,Long Statement,The length of the statement "var additionalServiceTexts=additionalServiceTextRepository.getDescriptionsByAdditionalServiceIds(saleableAdditionalServicesIds);" is 128.,181
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getTicketCategories,Long Statement,The length of the statement "var title=additionalServiceTexts.getOrDefault(as.getId()`Collections.emptyMap()).getOrDefault(AdditionalServiceText.TextType.TITLE`Collections.emptyMap());" is 155.,181
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getTicketCategories,Long Statement,The length of the statement "var description=Formatters.applyCommonMark(additionalServiceTexts.getOrDefault(as.getId()`Collections.emptyMap()).getOrDefault(AdditionalServiceText.TextType.DESCRIPTION`Collections.emptyMap())`messageSource);" is 209.,181
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getTicketCategories,Long Statement,The length of the statement "return new AdditionalService(as.getId()`as.getType()`as.getSupplementPolicy()`as.isFixPrice()`as.getAvailableQuantity()`as.getMaxQtyPerOrder()`as.getFree()`as.getFormattedFinalPrice()`as.getSupportsDiscount()`as.getDiscountedPrice()`as.getVatApplies()`as.getVatIncluded()`as.getVatPercentage().toString()`as.isExpired()`as.getSaleInFuture()`inception`expiration`title`description);" is 381.,181
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getTicketCategories,Long Statement,The length of the statement "boolean displayWaitingQueueForm=EventUtil.displayWaitingQueueForm(event`saleableTicketCategories`configurationManager`eventStatisticsManager.noSeatsAvailable());" is 161.,181
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getTicketCategories,Long Statement,The length of the statement "List<SaleableTicketCategory> unboundedCategories=saleableTicketCategories.stream().filter(waitingQueueTargetCategory).toList();" is 127.,181
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getTicketCategories,Long Statement,The length of the statement "var tcForWaitingList=unboundedCategories.stream().map(stc -> new ItemsByCategory.TicketCategoryForWaitingList(stc.getId()`stc.getName())).toList();" is 147.,181
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getTicketCategories,Long Statement,The length of the statement "var expiredCategories=configurations.get(DISPLAY_EXPIRED_CATEGORIES).getValueAsBooleanOrDefault() ? categoriesByExpiredFlag.get(true) : List.<TicketCategory>of();" is 162.,181
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getTicketCategories,Long Statement,The length of the statement "return new ResponseEntity<>(new ItemsByCategory(activeCategories`expiredCategories`additionalServicesRes`displayWaitingQueueForm`preSales`tcForWaitingList)`getCorsHeaders()`HttpStatus.OK);" is 188.,181
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getMaxAmountOfTicketsPerReservation,Magic Number,The method contains a magic number: 5,278
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getCalendar,Long Parameter List,The method has 5 parameters. ,288
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getCalendar,Long Statement,The length of the statement "var description=eventDescriptionRepository.findDescriptionByEventIdTypeAndLocale(ev.getId()`EventDescription.EventDescriptionType.DESCRIPTION`locale).orElse("");" is 161.,288
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,getCalendar,Long Statement,The length of the statement "var category=ticketRepository.findOptionalByUUID(ticketId).map(t -> ticketCategoryRepository.getById(t.getCategoryId())).orElse(null);" is 134.,288
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,reserveTickets,Long Parameter List,The method has 6 parameters. ,320
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,reserveTickets,Long Statement,The length of the statement "Optional<String> promoCodeDiscount=ReservationUtil.checkPromoCode(reservation`event`promoCodeRequestManager`bindingResult);" is 123.,320
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,reserveTickets,Long Statement,The length of the statement "var configurationValues=configurationManager.getFor(List.of(ENABLE_CAPTCHA_FOR_TICKET_SELECTION`RECAPTCHA_API_KEY)`event.getConfigurationLevel());" is 146.,320
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,reserveTickets,Long Statement,The length of the statement "Optional<String> reservationIdRes=createTicketReservation(reservation`bindingResult`event`locale`promoCodeDiscount`principal);" is 126.,320
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,reserveTickets,Long Statement,The length of the statement "return new ResponseEntity<>(ValidatedResponse.toResponse(bindingResult`null)`getCorsHeaders()`HttpStatus.UNPROCESSABLE_ENTITY);" is 127.,320
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,createTicketReservation,Long Parameter List,The method has 6 parameters. ,366
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,createTicketReservation,Long Statement,The length of the statement "return ReservationUtil.validateCreateRequest(reservation`bindingResult`ticketReservationManager`eventManager`promoCodeDiscount.orElse(null)`event).flatMap(selected -> ticketReservationManager.createTicketReservation(event`selected.getLeft()`selected.getRight()`promoCodeDiscount`locale`bindingResult`principal));" is 312.,366
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,validateCode,Long Statement,The length of the statement "var eventCode=value.getLeft().map(sp -> new EventCode(code`EventCode.EventCodeType.SPECIAL_PRICE`PromoCodeDiscount.DiscountType.NONE`null)).orElseGet(() -> {" is 157.,376
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,validateCode,Long Statement,The length of the statement "var type=promoCodeDiscount.getCodeType() == PromoCodeDiscount.CodeType.ACCESS ? EventCode.EventCodeType.ACCESS : EventCode.EventCodeType.DISCOUNT;" is 146.,376
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,checkDiscount,Long Statement,The length of the statement "Map<Integer`Long> quantityByCategory=reservation.getReservation().stream().filter(trm -> trm.getQuantity() > 0).collect(groupingBy(TicketReservationModification::getTicketCategoryId`summingLong(TicketReservationModification::getQuantity)));" is 240.,398
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,checkDiscount,Long Statement,The length of the statement "if (quantityByCategory.isEmpty() || ticketCategoryRepository.countPaidCategoriesInReservation(quantityByCategory.keySet()) == 0) {" is 130.,398
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,checkDiscount,Long Statement,The length of the statement "return extensionManager.handleDynamicDiscount(event`quantityByCategory`null).filter(d -> d.getDiscountType() != PromoCodeDiscount.DiscountType.NONE).map(d -> {" is 159.,398
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,checkDiscount,Long Statement,The length of the statement ").filter(d -> d.getDiscountType() != PromoCodeDiscount.DiscountType.NONE).map(ResponseEntity::ok).orElseGet(() -> ResponseEntity.noContent().build());" is 150.,398
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,handleCode,Long Statement,The length of the statement "queryStrings.put("errors"`res.getRight().getAllErrors().stream().map(DefaultMessageSourceResolvable::getCode).collect(Collectors.joining("`")));" is 144.,425
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,handleCode,Long Statement,The length of the statement "var url=promoCodeRequestManager.createReservationFromPromoCode(eventName`trimmedCode`queryStrings::put`handleErrors`request`principal).map(reservationId -> UriComponentsBuilder.fromPath("/event/{eventShortName}/reservation/{reservationId}/book").build(Map.of("eventShortName"`eventName`"reservationId"`reservationId)).toString()).orElseGet(() -> {" is 347.,425
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,shouldApplyDiscount,Long Statement,The length of the statement "return promoCodeDiscount.getCategories().isEmpty() || promoCodeDiscount.getCategories().contains(ticketCategory.getId());" is 121.,460
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,isCaptchaInvalid,Long Statement,The length of the statement "return eventLoader.isRecaptchaForTicketSelectionEnabled(configurationValues) && !recaptchaService.checkRecaptcha(recaptchaResponse`request);" is 140.,474
exteso_alf.io,alfio.controller.api.v2.user,EventApiV2Controller,formatDynamicCodeMessage,Missing default,The following switch statement is missing a default case: !org.eclipse.jdt.core.dom.SwitchStatement@7b8f7f8c,479
exteso_alf.io,alfio.controller.api.v2.user,SubscriptionsApiController,SubscriptionsApiController,Long Parameter List,The method has 7 parameters. ,65
exteso_alf.io,alfio.controller.api.v2.user,SubscriptionsApiController,listSubscriptions,Long Statement,The length of the statement "var activeSubscriptions=subscriptionManager.getActivePublicSubscriptionsDescriptor(now`searchOptions).stream().map(s -> subscriptionDescriptorMapper(s`messageSourceManager.getMessageSourceFor(s))).collect(Collectors.toList());" is 226.,82
exteso_alf.io,alfio.controller.api.v2.user,SubscriptionsApiController,subscriptionDescriptorMapper,Long Statement,The length of the statement "var currencyDescriptor=new CurrencyDescriptor(currencyUnit.getCode()`currencyUnit.toCurrency().getDisplayName()`currencyUnit.getSymbol()`currencyUnit.getDecimalPlaces());" is 170.,94
exteso_alf.io,alfio.controller.api.v2.user,SubscriptionsApiController,subscriptionDescriptorMapper,Long Statement,The length of the statement "return new BasicSubscriptionDescriptorInfo(s.getId()`s.getFileBlobId()`s.getTitle()`s.getDescription()`DatesWithTimeZoneOffset.fromDates(s.getOnSaleFrom()`s.getOnSaleTo())`s.getValidityType()`s.getUsageType()`s.getZoneId()`s.getValidityTimeUnit()`s.getValidityUnits()`s.getMaxEntries()`null`null`MonetaryUtil.formatCents(s.getPrice()`s.getCurrency())`s.getCurrency()`currencyDescriptor`s.getVat()`isVatIncluded(s.getVatStatus())`Formatters.getFormattedDate(s`s.getOnSaleFrom()`"common.event.date-format"`messageSource)`Formatters.getFormattedDate(s`s.getOnSaleTo()`"common.event.date-format"`messageSource)`Formatters.getFormattedDate(s`s.getValidityFrom()`"common.event.date-format"`messageSource)`Formatters.getFormattedDate(s`s.getValidityTo()`"common.event.date-format"`messageSource)`s.getContentLanguages().stream().map(cl -> new Language(cl.getLocale().getLanguage()`cl.getDisplayLanguage())).collect(toList()));" is 919.,94
exteso_alf.io,alfio.controller.api.v2.user,SubscriptionsApiController,getSubscriptionInfo,Long Statement,The length of the statement "return new SubscriptionDescriptorWithAdditionalInfo(s`invoicingInfo`analyticsConf`captchaConf`bankAccount`bankAccountOwner`orgContact.getEmail()`orgContact.getName()`DatesWithTimeZoneOffset.fromDates(s.getOnSaleFrom()`s.getOnSaleTo())`Formatters.getFormattedDate(s`s.getOnSaleFrom()`"common.event.date-format"`messageSource)`Formatters.getFormattedDate(s`s.getOnSaleTo()`"common.event.date-format"`messageSource)`s.getZoneId().toString()`Formatters.getFormattedDate(s`s.getValidityFrom()`"common.event.date-format"`messageSource)`Formatters.getFormattedDate(s`s.getValidityTo()`"common.event.date-format"`messageSource)`available);" is 631.,125
exteso_alf.io,alfio.controller.api.v2.user,SubscriptionsApiController,reserveSubscription,Long Statement,The length of the statement "var reservationOptional=reservationManager.createSubscriptionReservation(subscriptionDescriptor`locale`bindingResult`principal);" is 128.,166
exteso_alf.io,alfio.controller.api.v2.user,SubscriptionsApiController,reserveSubscription,Long Statement,The length of the statement "return new ResponseEntity<ValidatedResponse<String>>(ValidatedResponse.toResponse(bindingResult`null)`HttpStatus.UNPROCESSABLE_ENTITY);" is 135.,166
exteso_alf.io,alfio.controller.api.v2.user,SubscriptionsApiController,reserveSubscription,Long Statement,The length of the statement "return reservationOptional.map(reservationId -> ResponseEntity.ok(new ValidatedResponse<>(ValidationResult.success()`reservationId))).orElseGet(() -> ResponseEntity.unprocessableEntity().build());" is 196.,166
exteso_alf.io,alfio.controller.api.v2.user,PollApiControllerIntegrationTest,init,Long Statement,The length of the statement "List<TicketCategoryModification> categories=List.of(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(ClockProvider.clock()).minusDays(1)`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(1)`LocalTime.now(ClockProvider.clock()))`DESCRIPTION`BigDecimal.ZERO`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 483.,105
exteso_alf.io,alfio.controller.api.v2.user,PollApiControllerIntegrationTest,init,Long Statement,The length of the statement "var rowCountAndKey=pollRepository.insert(Map.of("en"`"test poll")`null`List.of()`0`event.getId()`event.getOrganizationId());" is 124.,105
exteso_alf.io,alfio.controller.api.v2.user,PollApiControllerIntegrationTest,init,Long Statement,The length of the statement "TicketReservationWithOptionalCodeModification mod=new TicketReservationWithOptionalCodeModification(tr`Optional.empty());" is 121.,105
exteso_alf.io,alfio.controller.api.v2.user,PollApiControllerIntegrationTest,init,Long Statement,The length of the statement "var reservationId=ticketReservationManager.createTicketReservation(event`Collections.singletonList(mod)`Collections.emptyList()`DateUtils.addDays(new Date()`1)`Optional.empty()`Locale.ENGLISH`false`null);" is 204.,105
exteso_alf.io,alfio.controller.api.v2.user,PollApiControllerIntegrationTest,getSingle,Magic Number,The method contains a magic number: 2,189
exteso_alf.io,alfio.controller.api.v2.user.support,PurchaseContextInfoBuilder,configurationsValues,Long Statement,The length of the statement "return configurationManager.getFor(List.of(MAPS_PROVIDER`MAPS_CLIENT_API_KEY`MAPS_HERE_API_KEY`RECAPTCHA_API_KEY`BANK_ACCOUNT_NR`BANK_ACCOUNT_OWNER`ENABLE_CUSTOMER_REFERENCE`ENABLE_ITALY_E_INVOICING`VAT_NUMBER_IS_REQUIRED`FORCE_TICKET_OWNER_ASSIGNMENT_AT_RESERVATION`ENABLE_ATTENDEE_AUTOCOMPLETE`ENABLE_TICKET_TRANSFER`DISPLAY_DISCOUNT_CODE_BOX`USE_PARTNER_CODE_INSTEAD_OF_PROMOTIONAL`GOOGLE_ANALYTICS_KEY`GOOGLE_ANALYTICS_ANONYMOUS_MODE`ENABLE_CAPTCHA_FOR_TICKET_SELECTION`RECAPTCHA_API_KEY`ENABLE_CAPTCHA_FOR_OFFLINE_PAYMENTS`GENERATE_ONLY_INVOICE`INVOICE_ADDRESS`VAT_NR`SHOW_ONLY_BASIC_INSTRUCTIONS`ENABLE_EU_VAT_DIRECTIVE`COUNTRY_OF_BUSINESS`ENABLE_REVERSE_CHARGE_IN_PERSON`ENABLE_REVERSE_CHARGE_ONLINE`DISPLAY_TICKETS_LEFT_INDICATOR`EVENT_CUSTOM_CSS)`purchaseContext.getConfigurationLevel());" is 797.,36
exteso_alf.io,alfio.controller.api.v2.user.support,PurchaseContextInfoBuilder,invoicingInfo,Long Identifier,The length of the identifier canGenerateReceiptOrInvoiceToCustomer is 37.,75
exteso_alf.io,alfio.controller.api.v2.user.support,PurchaseContextInfoBuilder,invoicingInfo,Long Statement,The length of the statement "boolean canGenerateReceiptOrInvoiceToCustomer=configurationManager.canGenerateReceiptOrInvoiceToCustomer(configurationsValues);" is 127.,75
exteso_alf.io,alfio.controller.api.v2.user.support,PurchaseContextInfoBuilder,invoicingInfo,Long Statement,The length of the statement "return new InvoicingConfiguration(canGenerateReceiptOrInvoiceToCustomer`euVatCheckingEnabled`invoiceAllowed`onlyInvoice`customerReferenceEnabled`enabledItalyEInvoicing`vatNumberStrictlyRequired);" is 195.,75
exteso_alf.io,alfio.controller.api.v2.user.support,PurchaseContextInfoBuilder,captchaConfiguration,Long Identifier,The length of the identifier captchaForOfflinePaymentAndFreeEnabled is 38.,91
exteso_alf.io,alfio.controller.api.v2.user.support,PurchaseContextInfoBuilder,captchaConfiguration,Long Statement,The length of the statement "boolean captchaForOfflinePaymentAndFreeEnabled=configurationManager.isRecaptchaForOfflinePaymentAndFreeEnabled(configurationsValues);" is 133.,91
exteso_alf.io,alfio.controller.api.v2.user.support,PurchaseContextInfoBuilder,captchaConfiguration,Long Statement,The length of the statement "return new EventWithAdditionalInfo.CaptchaConfiguration(captchaForTicketSelection`captchaForOfflinePaymentAndFreeEnabled`recaptchaApiKey);" is 138.,91
exteso_alf.io,alfio.controller.api.v2.user.support,PurchaseContextInfoBuilder,isRecaptchaForTicketSelectionEnabled,Long Statement,The length of the statement "Validate.isTrue(configurationValues.containsKey(ENABLE_CAPTCHA_FOR_TICKET_SELECTION) && configurationValues.containsKey(RECAPTCHA_API_KEY));" is 140.,102
exteso_alf.io,alfio.controller.api.v2.user.support,PurchaseContextInfoBuilder,isRecaptchaForTicketSelectionEnabled,Long Statement,The length of the statement "return configurationValues.get(ENABLE_CAPTCHA_FOR_TICKET_SELECTION).getValueAsBooleanOrDefault() && configurationValues.get(RECAPTCHA_API_KEY).getValueOrNull() != null;" is 168.,102
exteso_alf.io,alfio.controller.api.v2.user.support,EventLoader,EventLoader,Long Parameter List,The method has 9 parameters. ,50
exteso_alf.io,alfio.controller.api.v2.user.support,EventLoader,loadEventInfo,Long Statement,The length of the statement "return eventRepository.findOptionalByShortName(eventName).filter(e -> e.getStatus() != Event.Status.DISABLED).map(event -> {" is 124.,70
exteso_alf.io,alfio.controller.api.v2.user.support,EventLoader,loadEventInfo,Long Statement,The length of the statement "var descriptions=Formatters.applyCommonMark(eventDescriptionRepository.findDescriptionByEventIdAsMap(event.getId())`messageSource);" is 131.,70
exteso_alf.io,alfio.controller.api.v2.user.support,EventLoader,loadEventInfo,Long Statement,The length of the statement "var locationDescriptor=LocationDescriptor.fromGeoData(event.getFormat()`event.getLatLong()`TimeZone.getTimeZone(event.getTimeZone())`configurationsValues);" is 155.,70
exteso_alf.io,alfio.controller.api.v2.user.support,EventLoader,loadEventInfo,Long Statement,The length of the statement "List<String> bankAccountOwner=Arrays.asList(configurationsValues.get(BANK_ACCOUNT_OWNER).getValueOrDefault("").split("\n"));" is 124.,70
exteso_alf.io,alfio.controller.api.v2.user.support,EventLoader,loadEventInfo,Long Statement,The length of the statement "boolean forceAssignment=configurationsValues.get(FORCE_TICKET_OWNER_ASSIGNMENT_AT_RESERVATION).getValueAsBooleanOrDefault();" is 124.,70
exteso_alf.io,alfio.controller.api.v2.user.support,EventLoader,loadEventInfo,Long Statement,The length of the statement "var assignmentConf=new EventWithAdditionalInfo.AssignmentConfiguration(forceAssignment`enableAttendeeAutocomplete`enableTicketTransfer);" is 136.,70
exteso_alf.io,alfio.controller.api.v2.user.support,EventLoader,loadEventInfo,Long Statement,The length of the statement "boolean hasAccessPromotions=configurationsValues.get(DISPLAY_DISCOUNT_CODE_BOX).getValueAsBooleanOrDefault() && (ticketCategoryRepository.countAccessRestrictedRepositoryByEventId(event.getId()) > 0 || promoCodeRepository.countByEventAndOrganizationId(event.getId()`event.getOrganizationId()) > 0);" is 297.,70
exteso_alf.io,alfio.controller.api.v2.user.support,EventLoader,loadEventInfo,Long Statement,The length of the statement "var offlinePaymentConfiguration=new OfflinePaymentConfiguration(configurationsValues.get(SHOW_ONLY_BASIC_INSTRUCTIONS).getValueAsBooleanOrDefault());" is 149.,70
exteso_alf.io,alfio.controller.api.v2.user.support,EventLoader,loadEventInfo,Long Statement,The length of the statement "return new EventWithAdditionalInfo(event`locationDescriptor.getMapUrl()`organization`descriptions`bankAccount`bankAccountOwner`formattedDates.beginDate`formattedDates.beginTime`formattedDates.endDate`formattedDates.endTime`invoicingConf`captchaConf`assignmentConf`promoConf`analyticsConf`offlinePaymentConfiguration`MessageSourceManager.convertPlaceholdersForEachLanguage(i18nOverride)`availableTicketsCount`customCss`hasLinkedSubscription);" is 441.,70
exteso_alf.io,alfio.controller.api.support,BookingInfoTicketLoader,BookingInfoTicketLoader,Long Identifier,The length of the parameter additionalServiceItemRepository is 31.,51
exteso_alf.io,alfio.controller.api.support,BookingInfoTicketLoader,BookingInfoTicketLoader,Long Identifier,The length of the field additionalServiceItemRepository is 31.,51
exteso_alf.io,alfio.controller.api.support,BookingInfoTicketLoader,BookingInfoTicketLoader,Long Parameter List,The method has 8 parameters. ,51
exteso_alf.io,alfio.controller.api.support,BookingInfoTicketLoader,toBookingInfoTicket,Long Statement,The length of the statement "var descriptionsByTicketFieldId=ticketFieldRepository.findDescriptions(event.getShortName()).stream().collect(Collectors.groupingBy(TicketFieldDescription::getTicketFieldConfigurationId));" is 188.,70
exteso_alf.io,alfio.controller.api.support,BookingInfoTicketLoader,toBookingInfoTicket,Long Statement,The length of the statement "var valuesByTicketIds=ticketFieldRepository.findAllValuesByTicketIds(List.of(ticket.getId())).stream().collect(Collectors.groupingBy(TicketFieldValue::getTicketId));" is 165.,70
exteso_alf.io,alfio.controller.api.support,BookingInfoTicketLoader,toBookingInfoTicket,Long Statement,The length of the statement "var ticketCategoryConfiguration=eventManager.getMetadataForCategory(event`ticket.getCategoryId()).getOnlineConfiguration();" is 123.,70
exteso_alf.io,alfio.controller.api.support,BookingInfoTicketLoader,toBookingInfoTicket,Long Statement,The length of the statement "var checkInDate=EventUtil.firstMatchingCallLink(event.getZoneId()`ticketCategoryConfiguration`eventConfiguration).map(link -> link.getValidFrom().atZone(event.getZoneId())).orElse(event.getBegin());" is 198.,70
exteso_alf.io,alfio.controller.api.support,BookingInfoTicketLoader,toBookingInfoTicket,Long Statement,The length of the statement "formattedDates=Formatters.getFormattedDate(event`checkInDate`"common.ticket-category.date-format"`messageSourceManager.getMessageSourceFor(event));" is 147.,70
exteso_alf.io,alfio.controller.api.support,BookingInfoTicketLoader,toBookingInfoTicket,Long Statement,The length of the statement "return toBookingInfoTicket(ticket`hasPaidSupplement`event`getTicketFieldsFilterer(ticket.getTicketsReservationId()`event)`descriptionsByTicketFieldId`valuesByTicketIds`formattedDates`onlineEventStarted);" is 203.,70
exteso_alf.io,alfio.controller.api.support,BookingInfoTicketLoader,toBookingInfoTicket,Long Parameter List,The method has 8 parameters. ,103
exteso_alf.io,alfio.controller.api.support,BookingInfoTicketLoader,toBookingInfoTicket,Long Statement,The length of the statement "var configuration=configurationManager.getFor(EnumSet.of(ALLOW_FREE_TICKETS_CANCELLATION`SEND_TICKETS_AUTOMATICALLY`ALLOW_TICKET_DOWNLOAD)`ConfigurationLevel.ticketCategory(event`t.getCategoryId()));" is 199.,103
exteso_alf.io,alfio.controller.api.support,BookingInfoTicketLoader,toBookingInfoTicket,Long Statement,The length of the statement "boolean cancellationEnabled=t.getFinalPriceCts() == 0 && (!hasPaidSupplement && configuration.get(ALLOW_FREE_TICKETS_CANCELLATION).getValueAsBooleanOrDefault()) && eventManager.checkTicketCancellationPrerequisites().apply(t);" is 225.,103
exteso_alf.io,alfio.controller.api.support,BookingInfoTicketLoader,toBookingInfoTicket,Long Statement,The length of the statement "return toBookingInfoTicket(t`cancellationEnabled`configuration.get(SEND_TICKETS_AUTOMATICALLY).getValueAsBooleanOrDefault()`configuration.get(ALLOW_TICKET_DOWNLOAD).getValueAsBooleanOrDefault()`ticketFieldsFilterer.getFieldsForTicket(t.getUuid())`descriptionsByTicketFieldId`valuesByTicketIds.getOrDefault(t.getId()`Collections.emptyList())`formattedOnlineCheckInDate`onlineEventStarted);" is 388.,103
exteso_alf.io,alfio.controller.api.support,BookingInfoTicketLoader,getTicketFieldsFilterer,Long Identifier,The length of the field additionalServiceItemRepository is 31.,128
exteso_alf.io,alfio.controller.api.support,BookingInfoTicketLoader,getTicketFieldsFilterer,Long Statement,The length of the statement "return new Validator.TicketFieldsFilterer(fields`ticketHelper.getTicketUUIDToCategoryId()`new HashSet<>(additionalServiceItemRepository.findAdditionalServiceIdsByReservationUuid(reservationId))`ticketReservationManager.findFirstInReservation(reservationId));" is 258.,128
exteso_alf.io,alfio.controller.api.support,BookingInfoTicketLoader,toBookingInfoTicket,Long Parameter List,The method has 9 parameters. ,135
exteso_alf.io,alfio.controller.api.support,BookingInfoTicketLoader,toBookingInfoTicket,Long Statement,The length of the statement "var valueById=ticketFieldValues.stream().collect(Collectors.toMap(TicketFieldValue::getTicketFieldConfigurationId`Function.identity()));" is 136.,135
exteso_alf.io,alfio.controller.api.support,BookingInfoTicketLoader,toBookingInfoTicket,Long Statement,The length of the statement "var ticketFieldsAdditional=ticketFields.stream().sorted(Comparator.comparing(TicketFieldConfiguration::getOrder)).map(tfc -> {" is 126.,135
exteso_alf.io,alfio.controller.api.support,BookingInfoTicketLoader,toBookingInfoTicket,Long Statement,The length of the statement "var t=new TicketFieldConfigurationDescriptionAndValue(tfc`tfd`tfc.getCount()`fieldValue == null ? null : fieldValue.getValue());" is 128.,135
exteso_alf.io,alfio.controller.api.support,BookingInfoTicketLoader,toBookingInfoTicket,Long Statement,The length of the statement "return new BookingInfoTicket(ticket.getUuid()`ticket.getFirstName()`ticket.getLastName()`ticket.getEmail()`ticket.getFullName()`ticket.getUserLanguage()`ticket.getAssigned()`ticket.getLockedAssignment()`ticket.getStatus() == Ticket.TicketStatus.ACQUIRED`cancellationEnabled`sendMailEnabled`downloadEnabled`ticketFieldsAdditional`formattedOnlineCheckInDate`onlineEventStarted);" is 376.,135
exteso_alf.io,alfio.controller.api.support,BookingInfoTicketLoader,toAdditionalField,Long Statement,The length of the statement "return new AdditionalField(t.getName()`t.getValue()`t.getType()`t.isRequired()`t.isEditable()`t.getMinLength()`t.getMaxLength()`t.getRestrictedValues()`fields`t.isBeforeStandardFields()`description);" is 199.,176
exteso_alf.io,alfio.controller.api.support,BookingInfoTicketLoader,fromFieldDescriptions,Long Statement,The length of the statement "return descs.stream().collect(Collectors.toMap(TicketFieldDescription::getLocale`d -> new Description(d.getLabelDescription()`d.getPlaceholderDescription()`d.getRestrictedValuesDescription())));" is 194.,183
exteso_alf.io,alfio.controller.api.support,CspReportApiController,logCspViolation,Long Statement,The length of the statement "var conf=configurationManager.getFor(Set.of(SECURITY_CSP_REPORT_ENABLED`SECURITY_CSP_REPORT_URI)`ConfigurationLevel.system());" is 126.,47
exteso_alf.io,alfio.controller.api.support,WebhookApiController,handleStripeMessage,Long Statement,The length of the statement "return RequestUtils.readRequest(request).flatMap(b -> stripeCreditCardManager.processWebhookEvent(b`stripeSignature)).filter(b -> b).map(ResponseEntity::ok).orElseGet(() -> new ResponseEntity<>(HttpStatus.BAD_REQUEST));" is 219.,45
exteso_alf.io,alfio.controller.api.support,PublicEventDescription,getShortDescription,Magic Number,The method contains a magic number: 100,31
exteso_alf.io,alfio.controller.api.support,TicketHelper,TicketHelper,Long Identifier,The length of the parameter additionalServiceItemRepository is 31.,63
exteso_alf.io,alfio.controller.api.support,TicketHelper,TicketHelper,Long Identifier,The length of the field additionalServiceItemRepository is 31.,63
exteso_alf.io,alfio.controller.api.support,TicketHelper,TicketHelper,Long Parameter List,The method has 11 parameters. ,63
exteso_alf.io,alfio.controller.api.support,TicketHelper,buildRetrieveFieldValuesFunction,Long Identifier,The length of the field additionalServiceItemRepository is 31.,88
exteso_alf.io,alfio.controller.api.support,TicketHelper,assignTicket,Long Parameter List,The method has 7 parameters. ,96
exteso_alf.io,alfio.controller.api.support,TicketHelper,assignTicket,Long Statement,The length of the statement "return ticketReservationManager.fetchComplete(eventName`ticketIdentifier).map(result -> assignTicket(updateTicketOwner`bindingResult`fallbackLocale`userDetails`result`addPrefix ? "tickets[" + ticketIdentifier + "]" : ""));" is 222.,96
exteso_alf.io,alfio.controller.api.support,TicketHelper,assignTicket,Long Identifier,The length of the field additionalServiceItemRepository is 31.,108
exteso_alf.io,alfio.controller.api.support,TicketHelper,assignTicket,Long Parameter List,The method has 6 parameters. ,108
exteso_alf.io,alfio.controller.api.support,TicketHelper,assignTicket,Long Statement,The length of the statement "var sameCountryValidator=new SameCountryValidator(configurationManager`extensionManager`event`ticketReservation.getId()`vatChecker);" is 132.,108
exteso_alf.io,alfio.controller.api.support,TicketHelper,assignTicket,Long Statement,The length of the statement "AdvancedTicketAssignmentValidator advancedValidator=new AdvancedTicketAssignmentValidator(sameCountryValidator`new GroupManager.WhitelistValidator(event.getId()`groupManager));" is 176.,108
exteso_alf.io,alfio.controller.api.support,TicketHelper,assignTicket,Long Statement,The length of the statement "var additionalServiceIds=new HashSet<>(additionalServiceItemRepository.findAdditionalServiceIdsByReservationUuid(t.getTicketsReservationId()));" is 143.,108
exteso_alf.io,alfio.controller.api.support,TicketHelper,assignTicket,Long Statement,The length of the statement "var ticketFieldFilterer=new Validator.TicketFieldsFilterer(fieldConf`ticketUUID -> t.getCategoryId()`additionalServiceIds`ticketRepository.findFirstTicketInReservation(t.getTicketsReservationId()));" is 198.,108
exteso_alf.io,alfio.controller.api.support,TicketHelper,assignTicket,Long Statement,The length of the statement "Validator.AdvancedValidationContext context=new Validator.AdvancedValidationContext(updateTicketOwner`fieldConf`t.getCategoryId()`t.getUuid()`formPrefix);" is 154.,108
exteso_alf.io,alfio.controller.api.support,TicketHelper,assignTicket,Long Statement,The length of the statement "ValidationResult validationResult=Validator.validateTicketAssignment(updateTicketOwner`ticketFieldFilterer.getFieldsForTicket(t.getUuid())`bindingResult`event`formPrefix`sameCountryValidator).or(Validator.performAdvancedValidation(advancedValidator`context`bindingResult.orElse(null))).ifSuccess(() -> updateTicketOwner(updateTicketOwner`fallbackLocale`t`event`ticketReservation`userDetails));" is 393.,108
exteso_alf.io,alfio.controller.api.support,TicketHelper,preAssignTicket,Long Parameter List,The method has 7 parameters. ,142
exteso_alf.io,alfio.controller.api.support,TicketHelper,preAssignTicket,Long Statement,The length of the statement "return ticketReservationManager.from(eventName`reservationId`ticketIdentifier).filter(temp -> PENDING_RESERVATION_STATUSES.contains(temp.getMiddle().getStatus()) && temp.getRight().getStatus() == Ticket.TicketStatus.PENDING).map(result -> assignTicket(updateTicketOwner`bindingResult`fallbackLocale`userDetails`result`"tickets[" + ticketIdentifier + "]"));" is 356.,142
exteso_alf.io,alfio.controller.api.support,TicketHelper,assignTicket,Long Parameter List,The method has 5 parameters. ,158
exteso_alf.io,alfio.controller.api.support,TicketHelper,directTicketAssignment,Long Parameter List,The method has 9 parameters. ,166
exteso_alf.io,alfio.controller.api.support,TicketHelper,getLocalizedEUCountriesForVat,Long Statement,The length of the statement "return fixVAT(mapISOCountries(Stream.of(Locale.getISOCountries()).filter(isoCode -> StringUtils.contains(euCountries`isoCode) || "GR".equals(isoCode))`locale));" is 160.,194
exteso_alf.io,alfio.controller.api.support,TicketHelper,fixVAT,Long Statement,The length of the statement "return countries.stream().map(kv -> Pair.of(FIX_ISO_CODE_FOR_VAT.getOrDefault(kv.getKey()`kv.getKey())`kv.getValue())).collect(Collectors.toList());" is 148.,203
exteso_alf.io,alfio.controller.api.support,TicketHelper,mapISOCountries,Long Statement,The length of the statement "return isoCountries.map(isoCode -> Pair.of(isoCode`new Locale(""`isoCode).getDisplayCountry(locale))).sorted(Comparator.comparing(Pair::getRight)).collect(Collectors.toList());" is 176.,213
exteso_alf.io,alfio.controller.api.support,TicketHelper,updateTicketOwner,Long Parameter List,The method has 6 parameters. ,220
exteso_alf.io,alfio.controller.api.support,TicketHelper,updateTicketOwner,Long Statement,The length of the statement "Locale language=Optional.ofNullable(updateTicketOwner.getUserLanguage()).filter(StringUtils::isNotBlank).map(LocaleUtil::forLanguageTag).orElse(fallBackLocale);" is 160.,220
exteso_alf.io,alfio.controller.api.support,TicketHelper,updateTicketOwner,Long Statement,The length of the statement "ticketReservationManager.updateTicketOwner(t`language`event`updateTicketOwner`getConfirmationTextBuilder(ticketLanguage`event`ticketReservation`t`category)`getOwnerChangeTextBuilder(ticketLanguage`t`event)`userDetails);" is 219.,220
exteso_alf.io,alfio.controller.api.support,TicketHelper,getConfirmationTextBuilder,Long Parameter List,The method has 5 parameters. ,242
exteso_alf.io,alfio.controller.api.support,TicketHelper,getConfirmationTextBuilder,Long Statement,The length of the statement "return ticketReservationManager.getTicketEmailGenerator(event`ticketReservation`ticketLanguage`ticketReservationManager.retrieveAttendeeAdditionalInfoForTicket(ticket));" is 169.,242
exteso_alf.io,alfio.controller.api.support,EventListItem,getApiVersion,Magic Number,The method contains a magic number: 17,87
exteso_alf.io,alfio.controller.api.support,BookingInfoTicket,BookingInfoTicket,Long Parameter List,The method has 15 parameters. ,40
exteso_alf.io,alfio.controller.form,PaymentForm,validate,Complex Conditional,The conditional expression multipleProxies && priceGreaterThanZero && paymentProxyOptional.isEmpty() is complex.,45
exteso_alf.io,alfio.controller.form,PaymentForm,validate,Complex Conditional,The conditional expression Objects.isNull(termAndConditionsAccepted) || !termAndConditionsAccepted || (StringUtils.isNotEmpty(purchaseContext.getPrivacyPolicyUrl()) && (Objects.isNull(privacyPolicyAccepted) || !privacyPolicyAccepted)) is complex.,45
exteso_alf.io,alfio.controller.form,PaymentForm,validate,Long Statement,The length of the statement "if (Objects.isNull(termAndConditionsAccepted) || !termAndConditionsAccepted || (StringUtils.isNotEmpty(purchaseContext.getPrivacyPolicyUrl()) && (Objects.isNull(privacyPolicyAccepted) || !privacyPolicyAccepted))) {" is 214.,45
exteso_alf.io,alfio.controller.form,SearchOptions,isEmpty,Long Statement,The length of the statement "return StringUtils.isEmpty(subscription) && (organizer == null || organizer == 0 || StringUtils.isEmpty(organizerSlug)) && CollectionUtils.isEmpty(tags);" is 153.,42
exteso_alf.io,alfio.controller.form,ContactAndTicketsForm,rejectIfOverLength,Long Parameter List,The method has 5 parameters. ,86
exteso_alf.io,alfio.controller.form,ContactAndTicketsForm,validate,Long Parameter List,The method has 6 parameters. ,95
exteso_alf.io,alfio.controller.form,ContactAndTicketsForm,validate,Long Statement,The length of the statement "formalValidation(bindingResult`formValidationParameters.getOrDefault(ConfigurationKeys.ENABLE_ITALY_E_INVOICING`false)`reservationRequiresPayment);" is 147.,95
exteso_alf.io,alfio.controller.form,ContactAndTicketsForm,validate,Long Statement,The length of the statement "Optional<List<ValidationResult>> validationResults=Optional.ofNullable(tickets).filter(m -> !m.isEmpty()).map(m -> m.entrySet().stream().map(e -> {" is 147.,95
exteso_alf.io,alfio.controller.form,ContactAndTicketsForm,validate,Long Statement,The length of the statement "return Validator.validateTicketAssignment(e.getValue()`filteredForTicket`Optional.of(bindingResult)`event`"tickets[" + e.getKey() + "]"`vatValidator);" is 150.,95
exteso_alf.io,alfio.controller.form,ContactAndTicketsForm,validate,Long Statement,The length of the statement "String errorCode=validationResults.filter(this::containsVatValidationError).isPresent() ? STEP_2_INVALID_VAT : STEP_2_MISSING_ATTENDEE_DATA;" is 140.,95
exteso_alf.io,alfio.controller.form,ContactAndTicketsForm,validate,Long Statement,The length of the statement "ValidationUtils.rejectIfEmptyOrWhitespace(bindingResult`"subscriptionOwner.firstName"`ErrorsCode.STEP_2_EMPTY_FIRSTNAME);" is 121.,95
exteso_alf.io,alfio.controller.form,ContactAndTicketsForm,formalValidation,Complex Conditional,The conditional expression italianEInvoicingEnabled && StringUtils.isNotEmpty(vatCountryCode) && reservationRequiresPayment is complex.,131
exteso_alf.io,alfio.controller.form,ContactAndTicketsForm,formalValidation,Complex Conditional,The conditional expression italianEInvoicingEnabled && "IT".equals(vatCountryCode) && reservationRequiresPayment is complex.,131
exteso_alf.io,alfio.controller.form,ContactAndTicketsForm,formalValidation,Complex Method,Cyclomatic complexity of the method is 20,131
exteso_alf.io,alfio.controller.form,ContactAndTicketsForm,formalValidation,Long Identifier,The length of the field italyEInvoicingReferenceAddresseeCode is 37.,131
exteso_alf.io,alfio.controller.form,ContactAndTicketsForm,formalValidation,Long Statement,The length of the statement "ValidationUtils.rejectIfEmpty(bindingResult`"italyEInvoicingReferenceType"`"error.italyEInvoicingReferenceTypeSelectValue");" is 124.,131
exteso_alf.io,alfio.controller.form,ContactAndTicketsForm,formalValidation,Magic Number,The method contains a magic number: 255,131
exteso_alf.io,alfio.controller.form,ContactAndTicketsForm,formalValidation,Magic Number,The method contains a magic number: 255,131
exteso_alf.io,alfio.controller.form,ContactAndTicketsForm,formalValidation,Magic Number,The method contains a magic number: 255,131
exteso_alf.io,alfio.controller.form,ContactAndTicketsForm,formalValidation,Magic Number,The method contains a magic number: 256,131
exteso_alf.io,alfio.controller.form,ContactAndTicketsForm,formalValidation,Magic Number,The method contains a magic number: 256,131
exteso_alf.io,alfio.controller.form,ContactAndTicketsForm,formalValidation,Magic Number,The method contains a magic number: 51,131
exteso_alf.io,alfio.controller.form,ContactAndTicketsForm,formalValidation,Magic Number,The method contains a magic number: 256,131
exteso_alf.io,alfio.controller.form,ContactAndTicketsForm,formalValidation,Magic Number,The method contains a magic number: 28,131
exteso_alf.io,alfio.controller.form,ContactAndTicketsForm,formalValidation,Magic Number,The method contains a magic number: 7,131
exteso_alf.io,alfio.controller.form,ContactAndTicketsForm,formalValidation,Magic Number,The method contains a magic number: 2,131
exteso_alf.io,alfio.controller.form,ContactAndTicketsForm,formalValidation,Magic Number,The method contains a magic number: 5,131
exteso_alf.io,alfio.controller.form,ContactAndTicketsForm,containsVatValidationError,Long Statement,The length of the statement "return l.stream().anyMatch(v -> !v.isSuccess() && v.getErrorDescriptors().stream().anyMatch(ed -> ed.getCode().equals(STEP_2_INVALID_VAT)));" is 140.,235
exteso_alf.io,alfio.controller.payment,SaferpayCallbackController,saferpayCancel,Long Statement,The length of the statement "return "redirect:" + UriComponentsBuilder.fromPath(PaymentPageInitializeRequestBuilder.SUCCESS_URL_TEMPLATE).buildAndExpand(purchaseContext.getType().getUrlComponent()`purchaseContext.getPublicIdentifier()`reservationId).toUriString();" is 235.,40
exteso_alf.io,alfio.controller.payment,PayPalCallbackController,payPalSuccess,Long Parameter List,The method has 6 parameters. ,51
exteso_alf.io,alfio.controller.payment,PayPalCallbackController,payPalSuccess,Long Statement,The length of the statement "var optionalPurchaseContext=purchaseContextManager.findByReservationId(reservationId).filter(pc -> pc.getType() == purchaseContextType && pc.getPublicIdentifier().equals(purchaseContextId));" is 190.,51
exteso_alf.io,alfio.controller.payment,PayPalCallbackController,payPalSuccess,Long Statement,The length of the statement "return "redirect:/" + purchaseContext.getType().getUrlComponent() + "/"+ purchaseContext.getPublicIdentifier()+ "/reservation/"+ res.getId()+ "/overview";" is 154.,51
exteso_alf.io,alfio.controller.payment,PayPalCallbackController,payPalCancel,Long Statement,The length of the statement "return "redirect:/" + purchaseContext.getType().getUrlComponent() + "/"+ purchaseContext.getPublicIdentifier()+ "/reservation/"+ optionalReservation.get().getId()+ "/overview";" is 176.,85
exteso_alf.io,alfio.controller.payment.api.saferpay,SaferpayPaymentWebhookController,handleTransactionNotification,Long Statement,The length of the statement "var result=ticketReservationManager.processTransactionWebhook(""`null`PaymentProxy.SAFERPAY`Map.of("purchaseContextType"`purchaseContext.getType().getUrlComponent()`"purchaseContextIdentifier"`purchaseContext.getPublicIdentifier()`"reservationId"`reservationId)`new PaymentContext(purchaseContext`reservationId));" is 313.,43
exteso_alf.io,alfio.controller.payment.api.mollie,MolliePaymentWebhookController,receivePaymentConfirmation,Long Statement,The length of the statement "return Optional.ofNullable(StringUtils.trimToNull(request.getParameter("id"))).flatMap(id -> purchaseContextManager.findByReservationId(reservationId).map(purchaseContext -> {" is 175.,51
exteso_alf.io,alfio.controller.payment.api.mollie,MolliePaymentWebhookController,receivePaymentConfirmation,Long Statement,The length of the statement "var result=ticketReservationManager.processTransactionWebhook(content`null`PaymentProxy.MOLLIE`Map.of(ADDITIONAL_INFO_PURCHASE_CONTEXT_TYPE`purchaseContext.getType().getUrlComponent()`ADDITIONAL_INFO_PURCHASE_IDENTIFIER`purchaseContext.getPublicIdentifier()`ADDITIONAL_INFO_RESERVATION_ID`reservationId)`new PaymentContext(purchaseContext`reservationId));" is 355.,51
exteso_alf.io,alfio.controller.payment.api,PaymentApiController,initTransaction,Long Statement,The length of the statement "return getEventReservationPair(reservationId).flatMap(pair -> ticketReservationManager.initTransaction(pair.getLeft()`reservationId`paymentMethod`allParams)).map(ResponseEntity::ok).orElseGet(() -> ResponseEntity.notFound().build());" is 233.,49
exteso_alf.io,alfio.controller.payment.api,PaymentApiController,getEventReservationPair,Long Statement,The length of the statement "return purchaseContextManager.findByReservationId(reservationId).map(event -> Pair.of(event`ticketReservationManager.findById(reservationId))).filter(pair -> pair.getRight().isPresent()).map(pair -> Pair.of(pair.getLeft()`pair.getRight().orElseThrow()));" is 254.,67
exteso_alf.io,alfio.controller.payment.api,PaymentApiController,getTransactionStatus,Long Statement,The length of the statement "return getEventReservationPair(reservationId).flatMap(pair -> paymentManager.getTransactionStatus(pair.getRight()`paymentMethod)).map(ResponseEntity::ok).orElseGet(() -> ResponseEntity.notFound().build());" is 205.,74
exteso_alf.io,alfio.controller.payment.api,PaymentApiController,forceCheckStatus,Long Statement,The length of the statement "return ResponseEntity.of(getEventReservationPair(reservationId).flatMap(pair -> ticketReservationManager.forceTransactionCheck(pair.getLeft()`pair.getRight())));" is 161.,91
exteso_alf.io,alfio.controller.support,Formatters,formatDateForLocale,Long Parameter List,The method has 6 parameters. ,54
exteso_alf.io,alfio.controller.support,Formatters,getFormattedDates,Long Statement,The length of the statement "return new FormattedEventDates(getFormattedDate(contentLanguages`e.getBegin()`"common.event.date-format"`messageSource)`getFormattedDate(contentLanguages`e.getBegin()`"common.event.time-format"`messageSource)`getFormattedDate(contentLanguages`e.getEnd()`"common.event.date-format"`messageSource)`getFormattedDate(contentLanguages`e.getEnd()`"common.event.time-format"`messageSource));" is 384.,74
exteso_alf.io,alfio.controller.support,Formatters,applyCommonMark,Long Statement,The length of the statement "var targetBlankMessage=messageSource != null ? messageSource.getMessage(LINK_NEW_TAB_KEY`null`Locale.forLanguageTag(k)) : null;" is 127.,87
exteso_alf.io,alfio.controller.support,TemplateProcessor,buildPartialEmail,Long Parameter List,The method has 10 parameters. ,53
exteso_alf.io,alfio.controller.support,TemplateProcessor,buildPartialEmail,Long Statement,The length of the statement "Map<String`Object> model=TemplateResource.buildModelForTicketEmail(organization`event`ticketReservation`baseUrl`ticketURL`calendarURL`ticket`category`additionalOptions);" is 169.,53
exteso_alf.io,alfio.controller.support,TemplateProcessor,buildPartialEmail,Long Statement,The length of the statement "return templateManager.renderTemplate(event`EventUtil.isAccessOnline(category`event) ? TemplateResource.TICKET_EMAIL_FOR_ONLINE_EVENT : TemplateResource.TICKET_EMAIL`model`language);" is 182.,53
exteso_alf.io,alfio.controller.support,TemplateProcessor,buildEmailForOwnerChange,Long Parameter List,The method has 6 parameters. ,69
exteso_alf.io,alfio.controller.support,TemplateProcessor,buildEmailForOwnerChange,Long Statement,The length of the statement "Map<String`Object> emailModel=TemplateResource.buildModelForTicketHasChangedOwner(organization`e`oldTicket`newTicket`ticketUrl);" is 128.,69
exteso_alf.io,alfio.controller.support,TemplateProcessor,renderPDFTicket,Long Parameter List,The method has 12 parameters. ,81
exteso_alf.io,alfio.controller.support,TemplateProcessor,renderPDFTicket,Long Statement,The length of the statement "Map<String`Object> model=TemplateResource.buildModelForTicketPDF(organization`event`ticketReservation`ticketCategory`ticketWithMetadata`imageData`reservationID`fields.stream().collect(Collectors.toMap(TicketFieldConfigurationDescriptionAndValue::getName`TicketFieldConfigurationDescriptionAndValue::getValueDescription)));" is 322.,81
exteso_alf.io,alfio.controller.support,TemplateProcessor,buildReceiptOrInvoicePdf,Long Parameter List,The method has 8 parameters. ,179
exteso_alf.io,alfio.controller.support,TemplateProcessor,buildReceiptOrInvoicePdf,Long Statement,The length of the statement "String html=renderReceiptOrInvoicePdfTemplate(purchaseContext`fileUploadManager`language`templateManager`model`templateResource);" is 129.,179
exteso_alf.io,alfio.controller.support,TemplateProcessor,renderReceiptOrInvoicePdfTemplate,Long Parameter List,The method has 6 parameters. ,196
exteso_alf.io,alfio.controller.support,TemplateProcessor,buildBillingDocumentPdf,Long Parameter List,The method has 7 parameters. ,205
exteso_alf.io,alfio.controller.support,TemplateProcessor,buildFrom,Long Parameter List,The method has 7 parameters. ,217
exteso_alf.io,alfio.controller.support,TemplateProcessor,buildFrom,Long Statement,The length of the statement "boolean res=buildReceiptOrInvoicePdf(purchaseContext`fileUploadManager`language`templateManager`model`templateResource`extensionManager`baos);" is 142.,217
exteso_alf.io,alfio.controller.support,TemplateProcessor,buildReceiptPdf,Long Parameter List,The method has 6 parameters. ,229
exteso_alf.io,alfio.controller.support,TemplateProcessor,buildReceiptPdf,Long Statement,The length of the statement "return buildFrom(purchaseContext`fileUploadManager`language`templateManager`model`TemplateResource.RECEIPT_PDF`extensionManager);" is 129.,229
exteso_alf.io,alfio.controller.support,TemplateProcessor,buildInvoicePdf,Long Parameter List,The method has 6 parameters. ,238
exteso_alf.io,alfio.controller.support,TemplateProcessor,buildInvoicePdf,Long Statement,The length of the statement "return buildFrom(purchaseContext`fileUploadManager`language`templateManager`model`TemplateResource.INVOICE_PDF`extensionManager);" is 129.,238
exteso_alf.io,alfio.controller.support,TemplateProcessor,buildCreditNotePdf,Long Parameter List,The method has 6 parameters. ,247
exteso_alf.io,alfio.controller.support,TemplateProcessor,buildCreditNotePdf,Long Statement,The length of the statement "return buildFrom(purchaseContext`fileUploadManager`language`templateManager`model`TemplateResource.CREDIT_NOTE_PDF`extensionManager);" is 133.,247
exteso_alf.io,alfio.controller.support,FormattersTest,getFormattedDates,Long Statement,The length of the statement "ContentLanguage.ALL_LANGUAGES.forEach(cl -> FORMATTER_CODES.forEach(code -> Formatters.formatDateForLocale(now`code`messageSource`(a`b) -> Assertions.assertNotNull(b)`cl`true)));" is 178.,44
exteso_alf.io,alfio.controller.support,FormattersTest,getFormattedLink,Long Statement,The length of the statement "assertEquals("<p><a href=\"https://alf.io\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">link</a></p>"`rendered.get("en").trim());" is 140.,54
exteso_alf.io,alfio.controller.support,FormattersTest,getFormattedLinkWithAriaLabel,Long Statement,The length of the statement "assertEquals("<p><a href=\"https://alf.io\" target=\"_blank\" rel=\"nofollow noopener noreferrer\" aria-label=\"link " + message + "\">link</a></p>"`rendered.get("en").trim());" is 176.,64
exteso_alf.io,alfio.controller.support,TemplateProcessorTest,resultingImageMustBeUnder300x150,Long Statement,The length of the statement "Stream.generate(() -> Pair.of(String.valueOf(random.nextInt(10_000))`String.valueOf(random.nextInt(100_000)))).limit(1000).forEach(this::assertDimensionsUnder300x150);" is 167.,39
exteso_alf.io,alfio.controller.support,TemplateProcessorTest,resultingImageMustBeUnder300x150,Magic Number,The method contains a magic number: 10_000,39
exteso_alf.io,alfio.controller.support,TemplateProcessorTest,resultingImageMustBeUnder300x150,Magic Number,The method contains a magic number: 100_000,39
exteso_alf.io,alfio.controller.support,TemplateProcessorTest,resultingImageMustBeUnder300x150,Magic Number,The method contains a magic number: 1000,39
exteso_alf.io,alfio.controller.support,TemplateProcessorTest,assertDimensionsUnder300x150,Magic Number,The method contains a magic number: 300,52
exteso_alf.io,alfio.controller.support,TemplateProcessorTest,assertDimensionsUnder300x150,Magic Number,The method contains a magic number: 150,52
exteso_alf.io,alfio.db.PGSQL,V22_1_14_8__MigrateMailchimp,migrate,Long Statement,The length of the statement "Integer enabledCount=jdbcTemplate.queryForObject("select count(*) from plugin_configuration where plugin_id = 'alfio.mailchimp' and conf_name = 'enabled' and conf_value = 'true'"`Integer.class);" is 194.,59
exteso_alf.io,alfio.db.PGSQL,V22_1_14_8__MigrateMailchimp,migrate,Long Statement,The length of the statement "ExtensionService extensionService=new ExtensionService(new ScriptingExecutionService(HttpClient.newHttpClient()`null`Executors::newSingleThreadExecutor)`extensionRepository`extensionLogRepository`new DataSourceTransactionManager(dataSource)`new ExternalConfiguration()`new NamedParameterJdbcTemplate(jdbcTemplate));" is 315.,59
exteso_alf.io,alfio.db.PGSQL,V22_1_14_8__MigrateMailchimp,migrate,Long Statement,The length of the statement "optionally(() -> jdbcTemplate.queryForObject("select org_id from event where id = " + cv.eventId`Integer.class)).ifPresent(orgId -> extensionRepository.insertSettingValue("apiKey".equals(cv.name) ? apiKeyId : listIdId`"-" + orgId + "-"+ cv.eventId`cv.value));" is 259.,59
exteso_alf.io,alfio.extension,ExtensionMetadata,ExtensionMetadata,Long Parameter List,The method has 8 parameters. ,39
exteso_alf.io,alfio.extension,ScriptingExecutionService,executeScript,Long Parameter List,The method has 6 parameters. ,107
exteso_alf.io,alfio.extension,ScriptingExecutionService,executeScriptAsync,Long Identifier,The length of the field EXTENSION_CONFIGURATION_PARAMETERS is 34.,111
exteso_alf.io,alfio.extension,ScriptingExecutionService,executeScriptAsync,Long Parameter List,The method has 6 parameters. ,111
exteso_alf.io,alfio.extension,ScriptingExecutionService,executeScriptAsync,Long Statement,The length of the statement "boolean scheduled=AdminJobManager.executionScheduler(EXECUTE_EXTENSION`metadata`ZonedDateTime.now(ClockProvider.clock()).plusSeconds(2L)).apply(adminJobQueueRepository);" is 169.,111
exteso_alf.io,alfio.extension,ScriptingExecutionService,executeScriptAsync,Magic Number,The method contains a magic number: 2L,111
exteso_alf.io,alfio.extension,ScriptingExecutionService,executeScript,Long Parameter List,The method has 5 parameters. ,148
exteso_alf.io,alfio.extension,ScriptingExecutionService,executeScriptFinally,Long Identifier,The length of the field EXTENSION_CONFIGURATION_PARAMETERS is 34.,171
exteso_alf.io,alfio.extension,ScriptingExecutionService,executeScriptFinally,Long Parameter List,The method has 5 parameters. ,171
exteso_alf.io,alfio.extension,ScriptingExecutionService,executeScriptFinally,Long Statement,The length of the statement "extensionLogger.logError("Syntax error while executing script: " + ex.getMessage() + "("+ ex.lineNumber()+ ":"+ ex.columnNumber()+ ")");" is 136.,171
exteso_alf.io,alfio.extension,ScriptingExecutionService,convertExtensionParameters,Long Statement,The length of the statement "return ((Map<?`?>)extensionParameters).entrySet().stream().map(entry -> Map.entry(entry.getKey()`ScriptRuntime.toObject(context`entry.getValue()))).collect(Collectors.toMap(Map.Entry::getKey`Map.Entry::getValue));" is 213.,254
exteso_alf.io,alfio.extension,SimpleHttpClient,postForm,Long Statement,The length of the statement "HttpRequest request=buildUrlAndHeader(url`headers`HttpUtils.APPLICATION_FORM_URLENCODED).POST(HttpUtils.ofFormUrlEncodedBody(params)).build();" is 142.,79
exteso_alf.io,alfio.extension,SimpleHttpClient,postFileAndSaveResponse,Long Parameter List,The method has 5 parameters. ,86
exteso_alf.io,alfio.extension,SimpleHttpClient,postFileAndSaveResponse,Long Statement,The length of the statement "HttpRequest request=buildUrlAndHeader(url`headers`HttpUtils.MULTIPART_FORM_DATA + ";boundary=\"" + mpb.getBoundary()+ "\"").POST(mpb.build()).build();" is 150.,86
exteso_alf.io,alfio.extension,SimpleHttpClient,postBodyAndSaveResponse,Long Statement,The length of the statement "HttpRequest request=buildUrlAndHeader(url`headers`contentType).POST(HttpRequest.BodyPublishers.ofString(content)).build();" is 122.,101
exteso_alf.io,alfio.extension,SimpleHttpClient,doRequest,Long Statement,The length of the statement "HttpRequest request=buildUrlAndHeader(url`headers`NULL_REQUEST_BODY.contains(method) ? null : HttpUtils.APPLICATION_JSON).method(method`buildRequestBody(requestBody)).build();" is 175.,150
exteso_alf.io,alfio.extension,SimpleHttpClient,callRemote,Long Statement,The length of the statement "return new SimpleHttpClientResponse(HttpUtils.callSuccessful(response)`response.statusCode()`response.headers().map()`response.body());" is 135.,157
exteso_alf.io,alfio.extension,SimpleHttpClient,callRemoteAndSaveResponse,Long Statement,The length of the statement "return new SimpleHttpClientCachedResponse(HttpUtils.callSuccessful(response)`response.statusCode()`response.headers().map()`tempFile != null ? tempFile.toAbsolutePath().toString() : null);" is 188.,180
exteso_alf.io,alfio.extension,SimpleHttpClient,buildRequestBody,Long Statement,The length of the statement "return body == null ? HttpRequest.BodyPublishers.noBody() : HttpRequest.BodyPublishers.ofString(ExtensionUtils.convertToJson(body));" is 132.,223
exteso_alf.io,alfio.extension,JSErrorReporter,warning,Long Parameter List,The method has 5 parameters. ,36
exteso_alf.io,alfio.extension,JSErrorReporter,runtimeError,Long Parameter List,The method has 5 parameters. ,41
exteso_alf.io,alfio.extension,JSErrorReporter,error,Long Parameter List,The method has 5 parameters. ,46
exteso_alf.io,alfio.extension,ExtensionUtils,unwrap,Complex Method,Cyclomatic complexity of the method is 9,101
exteso_alf.io,alfio.extension,JSNodeVisitor,checkNode,Complex Conditional,The conditional expression nodeType != Token.FUNCTION && nodeType != Token.WITH && nodeType != Token.LABEL && nodeType != Token.VAR && nodeType != Token.NAME && nodeType != Token.WHILE && nodeType != Token.DO && nodeType != Token.OBJECTLIT && nodeType != Token.CALL && nodeType != Token.GETPROP && nodeType != Token.EXPR_VOID is complex.,46
exteso_alf.io,alfio.extension,JSNodeVisitor,checkNode,Complex Conditional,The conditional expression node instanceof WhileLoop || node instanceof DoLoop || node instanceof WithStatement|| node instanceof LabeledStatement|| (node instanceof PropertyGet && pg1.getRight().getString().equals("System"))|| (node instanceof PropertyGet && pg2.getRight().getString().equals("getClass"))|| (node instanceof Name && node.getString().equals("newInstance")) is complex.,46
exteso_alf.io,alfio.extension,JSNodeVisitor,checkNode,Complex Method,Cyclomatic complexity of the method is 10,46
exteso_alf.io,alfio.extension,JSNodeVisitor,checkNode,Long Statement,The length of the statement "if (nodeType != Token.FUNCTION && nodeType != Token.WITH && nodeType != Token.LABEL && nodeType != Token.VAR && nodeType != Token.NAME && nodeType != Token.WHILE && nodeType != Token.DO && nodeType != Token.OBJECTLIT && nodeType != Token.CALL && nodeType != Token.GETPROP && nodeType != Token.EXPR_VOID) {" is 305.,46
exteso_alf.io,alfio.extension,JSNodeVisitor,checkNode,Long Statement,The length of the statement "if (node instanceof WhileLoop || node instanceof DoLoop || node instanceof WithStatement|| node instanceof LabeledStatement|| (node instanceof PropertyGet && pg1.getRight().getString().equals("System"))|| (node instanceof PropertyGet && pg2.getRight().getString().equals("getClass"))|| (node instanceof Name && node.getString().equals("newInstance"))) {" is 353.,46
exteso_alf.io,alfio.extension,ExtensionService,ExtensionService,Long Parameter List,The method has 6 parameters. ,69
exteso_alf.io,alfio.extension,ExtensionService,getMetadata,Long Statement,The length of the statement "return scriptingExecutionService.executeScript(name`script + "\n;GSON.fromJson(JSON.stringify(getScriptMetadata())` returnClass);"`Collections.emptyMap()`ExtensionMetadata.class`new NoopExtensionLogger());" is 205.,136
exteso_alf.io,alfio.extension,ExtensionService,createOrUpdate,Long Statement,The length of the statement "extensionRepository.insert(script.getPath()`script.getName()`extensionMetadata.getDisplayName()`hash`script.isEnabled()`extensionMetadata.isAsync()`script.getScript()`extensionMetadata);" is 186.,144
exteso_alf.io,alfio.extension,ExtensionService,createOrUpdate,Long Statement,The length of the statement "extensionRepository.update(script.getPath()`script.getName()`extensionMetadata.getDisplayName()`hash`script.isEnabled()`extensionMetadata.isAsync()`script.getScript()`extensionMetadata);" is 186.,144
exteso_alf.io,alfio.extension,ExtensionService,createOrUpdate,Long Statement,The length of the statement "List<ExtensionParameterKeyValue> extensionParameterKeyValue=extensionRepository.findExtensionParameterKeyValue(extensionId);" is 124.,144
exteso_alf.io,alfio.extension,ExtensionService,createOrUpdate,Long Statement,The length of the statement "int confFieldId=extensionRepository.registerExtensionConfigurationMetadata(extensionId`field.getName()`field.getDescription()`field.getType()`level`field.isRequired()).getKey();" is 177.,144
exteso_alf.io,alfio.extension,ExtensionService,createOrUpdate,Long Statement,The length of the statement "List<ExtensionParameterKeyValue> filteredParam=extensionParameterKeyValue.stream().filter(kv -> field.getName().equals(kv.getName()) && level.equals(kv.getConfigurationLevel())).toList();" is 187.,144
exteso_alf.io,alfio.extension,ExtensionService,createOrUpdate,Long Statement,The length of the statement "var parameterSources=filteredParam.stream().map(kv -> new MapSqlParameterSource("ecmId"`confFieldId).addValue("confPath"`kv.getConfigurationPath()).addValue("value"`kv.getConfigurationValue())).toArray(MapSqlParameterSource[]::new);" is 232.,144
exteso_alf.io,alfio.extension,ExtensionService,validateCapabilities,Long Statement,The length of the statement "Set<ExtensionEvent> events=requireNonNull(extensionMetadata.getEvents()`"Events are mandatory").stream().map(ExtensionEvent::valueOf).collect(toSet());" is 151.,195
exteso_alf.io,alfio.extension,ExtensionService,validateCapabilities,Long Statement,The length of the statement "var invalidCapabilities=requireNonNullElse(extensionMetadata.getCapabilities()`List.<String>of()).stream().filter(s -> ExtensionCapability.valueOf(s).getCompatibleEvents().stream().noneMatch(events::contains)).collect(toSet());" is 227.,195
exteso_alf.io,alfio.extension,ExtensionService,deleteAndInsertSetting,Long Statement,The length of the statement "List<ExtensionMetadataValue> filtered=toUpdate2.stream().filter(f -> StringUtils.trimToNull(f.getValue()) != null).toList();" is 124.,237
exteso_alf.io,alfio.extension,ExtensionService,deleteAndInsertSetting,Long Statement,The length of the statement "var parameterSources=filtered.stream().map(kv -> new MapSqlParameterSource("ecmId"`kv.getId()).addValue("confPath"`path).addValue("value"`kv.getValue())).toArray(MapSqlParameterSource[]::new);" is 192.,237
exteso_alf.io,alfio.extension,ExtensionService,getSingle,Long Statement,The length of the statement "Set<String> paths=generatePossiblePath(toPath(new EventAndOrganizationId(organization.getId()`event.getId()))`Comparator.reverseOrder());" is 137.,272
exteso_alf.io,alfio.extension,ExtensionService,getSupportedCapabilities,Long Identifier,The length of the identifier externalScriptsSupportedCapabilities is 36.,290
exteso_alf.io,alfio.extension,ExtensionService,getSupportedCapabilities,Long Statement,The length of the statement "if (requested.stream().allMatch(capability -> externalScriptsSupportedCapabilities.stream().anyMatch(sc -> sc.getCapability() == capability))) {" is 144.,290
exteso_alf.io,alfio.extension,ExtensionService,retryFailedAsyncScript,Long Statement,The length of the statement "var activePath=getActiveScriptsForEvent(extensionEvent`path`true).stream().filter(nh -> nh.getName().equals(name)).findFirst().orElseThrow();" is 141.,347
exteso_alf.io,alfio.extension,ExtensionService,internalExecuteScript,Long Parameter List,The method has 6 parameters. ,357
exteso_alf.io,alfio.extension,ExtensionService,internalExecuteScript,Long Parameter List,The method has 7 parameters. ,366
exteso_alf.io,alfio.extension,ExtensionService,internalExecuteScript,Long Statement,The length of the statement "Object res=scriptingExecutionService.executeScript(name`activePath.getHash()`scriptGetter`context`expectedResult`extLogger);" is 124.,366
exteso_alf.io,alfio.extension,ExtensionService,getExtensionParameters,Long Statement,The length of the statement "Map<String`String> nameAndValues=extensionRepository.findParametersForScript(activePath.getName()`activePath.getPath()`generatePossiblePath(basePath)).stream().collect(Collectors.toMap(NameAndValue::getName`NameAndValue::getValue));" is 232.,415
exteso_alf.io,alfio.extension,ExtensionService,getExtensionParameters,Long Statement,The length of the statement "Set<String> mandatory=new HashSet<>(extensionRepository.findMandatoryParametersForScript(activePath.getName()`activePath.getPath()));" is 133.,415
exteso_alf.io,alfio.extension,ExtensionService,getLog,Long Parameter List,The method has 5 parameters. ,470
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,startServer,Magic Number,The method contains a magic number: 4243,42
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testSimpleGet,Long Statement,The length of the statement "mockServer.when(HttpRequest.request().withMethod("GET").withPath("/simple-get-1")).respond(HttpResponse.response("ok").withStatusCode(200).withHeader("Content-Type"`"text/plain"));" is 180.,52
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testSimpleGet,Magic Number,The method contains a magic number: 200,52
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testSimpleGet,Magic Number,The method contains a magic number: 200,52
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testSimpleGet,Magic Number,The method contains a magic number: 404,52
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testSimpleGetWithHeaders,Long Statement,The length of the statement "mockServer.when(HttpRequest.request().withMethod("GET").withPath("/simple-get-header").withHeader("Custom-Header"`"Custom-Value")).respond(HttpResponse.response("ok").withStatusCode(200).withHeader("Content-Type"`"text/plain"));" is 228.,70
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testSimpleGetWithHeaders,Magic Number,The method contains a magic number: 200,70
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testSimpleGetWithHeaders,Magic Number,The method contains a magic number: 404,70
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testSimpleGetWithHeaders,Magic Number,The method contains a magic number: 200,70
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testJsonBody,Long Statement,The length of the statement "mockServer.when(HttpRequest.request().withMethod("GET").withPath("/simple-get-json")).respond(HttpResponse.response("{\"key\": \"value\"}").withStatusCode(200).withHeader("Content-Type"`"application/json"));" is 207.,86
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testJsonBody,Magic Number,The method contains a magic number: 200,86
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testHead,Long Statement,The length of the statement "mockServer.when(HttpRequest.request().withMethod("HEAD").withPath("/simple-head")).respond(HttpResponse.response().withStatusCode(200));" is 136.,106
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testHead,Magic Number,The method contains a magic number: 200,106
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testHead,Magic Number,The method contains a magic number: 200,106
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testHeadWithHeaders,Long Statement,The length of the statement "mockServer.when(HttpRequest.request().withMethod("HEAD").withPath("/simple-head-header").withHeader("Custom-Header"`"Custom-Value")).respond(HttpResponse.response().withStatusCode(200));" is 186.,117
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testHeadWithHeaders,Magic Number,The method contains a magic number: 200,117
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testHeadWithHeaders,Magic Number,The method contains a magic number: 404,117
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testHeadWithHeaders,Magic Number,The method contains a magic number: 200,117
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testPost,Long Statement,The length of the statement "mockServer.when(HttpRequest.request().withMethod("POST").withPath("/simple-post")).respond(HttpResponse.response().withStatusCode(200).withBody("Hello World!").withHeader("Content-Type"`"text/plain"));" is 201.,133
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testPost,Magic Number,The method contains a magic number: 200,133
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testPost,Magic Number,The method contains a magic number: 200,133
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testPostWithHeaders,Long Statement,The length of the statement "mockServer.when(HttpRequest.request().withMethod("POST").withPath("/simple-post-header").withHeader("Custom-Header"`"Custom-Value")).respond(HttpResponse.response().withStatusCode(200).withBody("Hello World!").withHeader("Content-Type"`"text/plain"));" is 251.,148
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testPostWithHeaders,Long Statement,The length of the statement "assertTrue(simpleHttpClient.post("http://localhost:4243/simple-post-header"`Map.of("Custom-Header"`"Custom-Value")).isSuccessful());" is 132.,148
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testPostWithHeaders,Magic Number,The method contains a magic number: 200,148
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testPostJson,Long Statement,The length of the statement "mockServer.when(HttpRequest.request().withMethod("POST").withPath("/simple-post-json").withBody(JsonBody.json("{\"key\": \"value\"}"))).respond(HttpResponse.response().withStatusCode(200).withBody("Hello World!").withHeader("Content-Type"`"text/plain"));" is 254.,159
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testPostJson,Magic Number,The method contains a magic number: 200,159
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testPostJson,Magic Number,The method contains a magic number: 404,159
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testPostJson,Magic Number,The method contains a magic number: 200,159
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testPostJson,Magic Number,The method contains a magic number: 200,159
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testPostForm,Long Statement,The length of the statement "mockServer.when(HttpRequest.request().withMethod("POST").withPath("/simple-post-form").withBody(ParameterBody.params(Parameter.param("k1"`"v1")`Parameter.param("k2"`"v2")))).respond(HttpResponse.response().withStatusCode(200).withBody("Hello World!").withHeader("Content-Type"`"text/plain"));" is 292.,179
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testPostForm,Magic Number,The method contains a magic number: 200,179
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testPostForm,Magic Number,The method contains a magic number: 200,179
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testPostFile,Long Statement,The length of the statement "mockServer.when(HttpRequest.request().withMethod("POST").withPath("/simple-post-file").withBody(StringBody.subString("content"`StandardCharsets.UTF_8))).respond(HttpResponse.response().withStatusCode(200).withBody("Hello World!").withHeader("Content-Type"`"text/plain"));" is 271.,194
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testPostFile,Long Statement,The length of the statement "var res=simpleHttpClient.postFileAndSaveResponse("http://localhost:4243/simple-post-file"`Map.of()`tmp.getAbsolutePath()`tmp.getName()`"text/plain");" is 149.,194
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testPostFile,Magic Number,The method contains a magic number: 200,194
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testPostFile,Magic Number,The method contains a magic number: 200,194
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testPostBody,Long Statement,The length of the statement "mockServer.when(HttpRequest.request().withMethod("POST").withPath("/simple-post-body").withHeader("Content-Type"`"text/plain").withBody(StringBody.exact("content"`StandardCharsets.UTF_8))).respond(HttpResponse.response().withStatusCode(200).withBody("Hello World!").withHeader("Content-Type"`"text/plain"));" is 307.,215
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testPostBody,Long Statement,The length of the statement "var res=simpleHttpClient.postBodyAndSaveResponse("http://localhost:4243/simple-post-body"`Map.of()`"content"`"text/plain");" is 123.,215
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testPostBody,Magic Number,The method contains a magic number: 200,215
exteso_alf.io,alfio.extension,SimpleHttpClientIntegrationTest,testPostBody,Magic Number,The method contains a magic number: 200,215
exteso_alf.io,alfio.extension,ExtensionUtilsTest,convertDecimalToJson,Magic Number,The method contains a magic number: 1.1D,49
exteso_alf.io,alfio.extension,ExtensionServiceTest,setUp,Long Statement,The length of the statement "extensionService=new ExtensionService(null`null`null`mock(PlatformTransactionManager.class)`mock(ExternalConfiguration.class)`mock(NamedParameterJdbcTemplate.class));" is 166.,42
exteso_alf.io,alfio.extension,ExtensionServiceTest,validationOK,Long Statement,The length of the statement "var metadata=generateMetadata(EnumSet.of(EVENT_METADATA_UPDATE`ONLINE_CHECK_IN_REDIRECT)`EnumSet.of(CREATE_VIRTUAL_ROOM`CREATE_GUEST_LINK));" is 140.,53
exteso_alf.io,alfio.extension,ExtensionServiceTest,generateMetadata,Long Statement,The length of the statement "return new ExtensionMetadata("id"`"displayName"`1`true`events.stream().map(ExtensionEvent::name).collect(Collectors.toList())`null`capabilities.stream().map(ExtensionCapability::name).collect(Collectors.toList())`capabilities.stream().map(ec -> new ExtensionMetadata.CapabilityDetail(ec.name()`ec.name() + " label"`ec.name() + " description"`null)).collect(Collectors.toList()));" is 379.,65
exteso_alf.io,alfio.extension,ScriptingExecutionServiceTest,init,Long Statement,The length of the statement "scriptingExecutionService=new ScriptingExecutionService(Mockito.mock(HttpClient.class)`Mockito.mock(AdminJobQueueRepository.class)`executorSupplier);" is 149.,49
exteso_alf.io,alfio.extension,ScriptingExecutionServiceTest,getScriptContent,Long Statement,The length of the statement "List<String> extensionStream=IOUtils.readLines(new InputStreamReader(Objects.requireNonNull(input)`StandardCharsets.UTF_8));" is 124.,54
exteso_alf.io,alfio.extension,ScriptingExecutionServiceTest,testBaseScriptExecution,Long Statement,The length of the statement "scriptingExecutionService.executeScript("name"`concatenation`Map.of("extensionEvent"`"test")`Void.class`extensionLogger);" is 121.,69
exteso_alf.io,alfio.extension,ScriptingExecutionServiceTest,testExecutionTimeout,Long Statement,The length of the statement "scriptingExecutionService.executeScript("name"`concatenation`Map.of("extensionEvent"`"test")`Void.class`extensionLogger);" is 121.,76
exteso_alf.io,alfio.extension,ScriptingExecutionServiceTest,testExecutionTimeout,Magic Number,The method contains a magic number: 16L,76
exteso_alf.io,alfio.extension,ScriptingExecutionServiceTest,testOutOfBoundariesReflection,Long Statement,The length of the statement "scriptingExecutionService.executeScript("name"`concatenation`Map.of("extensionEvent"`"test")`Void.class`extensionLogger);" is 121.,89
exteso_alf.io,alfio.extension,ScriptingExecutionServiceTest,testOutOfBoundariesExit,Long Statement,The length of the statement "scriptingExecutionService.executeScript("name"`concatenation`Map.of("extensionEvent"`"test")`Void.class`extensionLogger);" is 121.,99
exteso_alf.io,alfio.extension,ScriptingExecutionServiceTest,extensionThrowsError,Long Statement,The length of the statement "scriptingExecutionService.executeScript("name"`concatenation`Map.of("extensionEvent"`"test")`Void.class`extensionLogger);" is 121.,109
exteso_alf.io,alfio.extension.support,SandboxContextFactory,makeContext,Magic Number,The method contains a magic number: 10000,39
exteso_alf.io,alfio.extension.support,SandboxContextFactory,observeInstructionCount,Magic Number,The method contains a magic number: 15,50
exteso_alf.io,alfio.extension.support,SandboxContextFactory,observeInstructionCount,Magic Number,The method contains a magic number: 1000,50
exteso_alf.io,alfio.extension.support,SandboxContextFactory,doTopCall,Long Parameter List,The method has 5 parameters. ,64
exteso_alf.io,alfio.e2e,NormalFlowE2ETest,init,Long Statement,The length of the statement "var requestBody=JSON_BODY.replace("--CATEGORY_START_SELLING--"`now.minusDays(1).toString()).replace("--SLUG--"`slug).replace("--EVENT_START_DATE--"`now.plusDays(2).toString()).replace("--EVENT_END_DATE--"`now.plusDays(2).plusHours(2).toString());" is 246.,107
exteso_alf.io,alfio.e2e,NormalFlowE2ETest,init,Long Statement,The length of the statement "HttpRequest request=HttpRequest.newBuilder().uri(URI.create(serverBaseUrl + "/api/v1/admin/event/create")).header("Content-Type"`"application/json").header("Authorization"`"ApiKey " + serverApiKey).POST(HttpRequest.BodyPublishers.ofString(requestBody)).build();" is 261.,107
exteso_alf.io,alfio.e2e,NormalFlowE2ETest,init,Magic Number,The method contains a magic number: 2,107
exteso_alf.io,alfio.e2e,NormalFlowE2ETest,init,Magic Number,The method contains a magic number: 2,107
exteso_alf.io,alfio.e2e,NormalFlowE2ETest,init,Magic Number,The method contains a magic number: 2,107
exteso_alf.io,alfio.e2e,NormalFlowE2ETest,destroy,Long Statement,The length of the statement "HttpRequest request=HttpRequest.newBuilder().uri(URI.create(serverBaseUrl + "/api/v1/admin/event/" + slug)).header("Content-Type"`"application/json").header("Authorization"`"ApiKey " + serverApiKey).DELETE().build();" is 216.,134
exteso_alf.io,alfio.e2e,NormalFlowE2ETest,testFlow,Long Statement,The length of the statement "WebElement fourthPageElem=new WebDriverWait(driver`30).until(presenceOfElementLocated(By.cssSelector("div.attendees-data")));" is 125.,152
exteso_alf.io,alfio.e2e,NormalFlowE2ETest,testFlow,Magic Number,The method contains a magic number: 15L,152
exteso_alf.io,alfio.e2e,NormalFlowE2ETest,testFlow,Magic Number,The method contains a magic number: 10,152
exteso_alf.io,alfio.e2e,NormalFlowE2ETest,testFlow,Magic Number,The method contains a magic number: 30,152
exteso_alf.io,alfio.e2e,NormalFlowE2ETest,page1TicketSelection,Long Statement,The length of the statement "browserWebDriver.driver.findElement(By.cssSelector("button.btn-success[translate='show-event.continue']")).sendKeys(Keys.RETURN);" is 129.,178
exteso_alf.io,alfio.e2e,NormalFlowE2ETest,page2ContactDetails,Long Statement,The length of the statement "driver.findElement(By.cssSelector("ng-select[formcontrolname='vatCountryCode'] input[id=vatCountry]")).sendKeys("switzerland");" is 127.,188
exteso_alf.io,alfio.e2e,NormalFlowE2ETest,page2ContactDetails,Long Statement,The length of the statement "wait.until(presenceOfElementLocated(By.cssSelector("ng-select[formcontrolname='vatCountryCode'] ng-dropdown-panel div[role=option]")));" is 135.,188
exteso_alf.io,alfio.e2e,NormalFlowE2ETest,page2ContactDetails,Long Statement,The length of the statement "selectElement(driver.findElement(By.cssSelector("ng-select[formcontrolname='vatCountryCode'] ng-dropdown-panel div[role=option]"))`browserWebDriver`Keys.TAB);" is 158.,188
exteso_alf.io,alfio.e2e,NormalFlowE2ETest,page2ContactDetails,Long Statement,The length of the statement "Assertions.assertTrue(driver.findElement(By.cssSelector("ng-select[formcontrolname='vatCountryCode'] div.ng-value")).getText().contains("(CH)"));" is 145.,188
exteso_alf.io,alfio.e2e,NormalFlowE2ETest,page2ContactDetails,Long Statement,The length of the statement "driver.findElements(By.cssSelector("app-additional-field label")).stream().filter(e -> e.getText().endsWith("*")).forEach(e -> {" is 128.,188
exteso_alf.io,alfio.e2e,NormalFlowE2ETest,page3Payment,Long Statement,The length of the statement "sendSlowInput(cardNumberElement`browserWebDriver`"4000000400000008".chars().mapToObj(Character::toString).toArray(String[]::new));" is 130.,226
exteso_alf.io,alfio.e2e,NormalFlowE2ETest,sendSlowInput,Long Statement,The length of the statement "if (browserWebDriver.browser == BrowserWebDriver.Browser.SAFARI || browserWebDriver.browser == BrowserWebDriver.Browser.IE) {" is 125.,247
exteso_alf.io,alfio.e2e,NormalFlowE2ETest,sendSlowInput,Magic Number,The method contains a magic number: 50L,247
exteso_alf.io,alfio.e2e,NormalFlowE2ETest,sendSlowInput,Magic Number,The method contains a magic number: 50L,247
exteso_alf.io,alfio.manager.testSupport,TicketCategoryGenerator,generateCategoryStream,Magic Number,The method contains a magic number: 3,29
exteso_alf.io,alfio.manager.testSupport,TicketCategoryGenerator,generateCategoryStream,Magic Number,The method contains a magic number: 2,29
exteso_alf.io,alfio.manager.testSupport,StripeUtils,completeStripeConfiguration,Long Statement,The length of the statement "return Map.of(STRIPE_ENABLE_SCA`maybeConfiguration(STRIPE_ENABLE_SCA`String.valueOf(enableSCA)`ConfigurationPathLevel.SYSTEM)`BASE_URL`maybeConfiguration(BASE_URL`"xxx"`ConfigurationPathLevel.SYSTEM)`STRIPE_WEBHOOK_PAYMENT_KEY`maybeConfiguration(BASE_URL`"xxx"`ConfigurationPathLevel.SYSTEM)`STRIPE_CC_ENABLED`maybeConfiguration(STRIPE_CC_ENABLED`"true"`ConfigurationPathLevel.SYSTEM)`PLATFORM_MODE_ENABLED`maybeConfiguration(PLATFORM_MODE_ENABLED`"true"`ConfigurationPathLevel.SYSTEM)`STRIPE_CONNECTED_ID`maybeConfiguration(STRIPE_CONNECTED_ID`"123456"`ConfigurationPathLevel.ORGANIZATION)`STRIPE_SECRET_KEY`maybeConfiguration(STRIPE_SECRET_KEY`"abcd"`ConfigurationPathLevel.ORGANIZATION)`STRIPE_PUBLIC_KEY`maybeConfiguration(STRIPE_PUBLIC_KEY`"abcd"`ConfigurationPathLevel.ORGANIZATION));" is 790.,31
exteso_alf.io,alfio.controller.api.v2.user.reservation,OnlineEventReservationFlowIntegrationTest,OnlineEventReservationFlowIntegrationTest,Long Identifier,The length of the parameter additionalServiceApiController is 30.,75
exteso_alf.io,alfio.controller.api.v2.user.reservation,OnlineEventReservationFlowIntegrationTest,OnlineEventReservationFlowIntegrationTest,Long Parameter List,The method has 35 parameters. ,75
exteso_alf.io,alfio.controller.api.v2.user.reservation,OnlineEventReservationFlowIntegrationTest,OnlineEventReservationFlowIntegrationTest,Long Statement,The length of the statement "super(configurationRepository`eventManager`eventRepository`eventStatisticsManager`ticketCategoryRepository`ticketReservationRepository`eventApiController`ticketRepository`ticketFieldRepository`additionalServiceApiController`specialPriceTokenGenerator`specialPriceRepository`checkInApiController`attendeeApiController`usersApiController`scanAuditRepository`auditingRepository`adminReservationManager`ticketReservationManager`infoApiController`translationsApiController`eventApiV2Controller`reservationApiV2Controller`ticketApiV2Controller`indexController`jdbcTemplate`extensionLogRepository`extensionService`pollRepository`clockProvider`notificationManager`userRepository`organizationDeleter);" is 692.,75
exteso_alf.io,alfio.controller.api.v2.user.reservation,OnlineEventReservationFlowIntegrationTest,createContext,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Arrays.asList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.ONLINE`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(clockProvider.getClock()).minusDays(1)`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock()).plusDays(1)`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"hidden"`TicketCategory.TicketAccessType.INHERIT`2`new DateTimeModification(LocalDate.now(clockProvider.getClock()).minusDays(1)`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock()).plusDays(1)`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.ONE`true`""`true`URL_CODE_HIDDEN`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 934.,148
exteso_alf.io,alfio.controller.api.v2.user.reservation,OnlineEventReservationFlowIntegrationTest,createContext,Long Statement,The length of the statement "Pair<Event`String> eventAndUser=initEvent(categories`organizationRepository`userManager`eventManager`eventRepository`null`Event.EventFormat.ONLINE);" is 148.,148
exteso_alf.io,alfio.controller.api.v2.user.reservation,OnlineEventReservationFlowIntegrationTest,createContext,Magic Number,The method contains a magic number: 2,148
exteso_alf.io,alfio.controller.api.v2.user.reservation,BillingDocumentCreationIntegrationTest,setUp,Long Statement,The length of the statement "List<TicketCategoryModification> categories=List.of(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.IN_PERSON`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(clockProvider.getClock()).minusDays(1)`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock()).plusDays(1)`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 496.,112
exteso_alf.io,alfio.controller.api.v2.user.reservation,BillingDocumentCreationIntegrationTest,setUp,Long Statement,The length of the statement "Pair<Event`String> eventAndUser=initEvent(categories`organizationRepository`userManager`eventManager`eventRepository`null`Event.EventFormat.HYBRID);" is 148.,112
exteso_alf.io,alfio.controller.api.v2.user.reservation,BillingDocumentCreationIntegrationTest,cancelReservationGeneratesCreditNote,Long Statement,The length of the statement "adminReservationManager.removeReservation(PurchaseContext.PurchaseContextType.event`event.getShortName()`reservationId`false`false`true`username);" is 146.,176
exteso_alf.io,alfio.controller.api.v2.user.reservation,BillingDocumentCreationIntegrationTest,cancelReservationGeneratesCreditNote,Magic Number,The method contains a magic number: 3,176
exteso_alf.io,alfio.controller.api.v2.user.reservation,BillingDocumentCreationIntegrationTest,creditReservationGeneratesCreditNote,Long Statement,The length of the statement "adminReservationManager.creditReservation(PurchaseContext.PurchaseContextType.event`event.getShortName()`reservationId`false`false`username);" is 141.,196
exteso_alf.io,alfio.controller.api.v2.user.reservation,BillingDocumentCreationIntegrationTest,creditReservationGeneratesCreditNote,Magic Number,The method contains a magic number: 2,196
exteso_alf.io,alfio.controller.api.v2.user.reservation,BillingDocumentCreationIntegrationTest,createReservation,Long Statement,The length of the statement "var res=eventApiV2Controller.reserveTickets(event.getShortName()`"en"`form`new BeanPropertyBindingResult(form`"reservation")`new ServletWebRequest(new MockHttpServletRequest()`new MockHttpServletResponse())`null);" is 213.,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BillingDocumentCreationIntegrationTest,createReservation,Long Statement,The length of the statement "var success=reservationApiV2Controller.validateToOverview(reservationId`"en"`false`contactForm`new BeanPropertyBindingResult(contactForm`"paymentForm")`null);" is 158.,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BillingDocumentCreationIntegrationTest,createReservation,Long Statement,The length of the statement "var handleRes=reservationApiV2Controller.confirmOverview(reservationId`"en"`paymentForm`new BeanPropertyBindingResult(paymentForm`"paymentForm")`new MockHttpServletRequest()`null);" is 180.,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BillingDocumentCreationIntegrationTest,expectInvoiceToBeGenerated,Long Statement,The length of the statement "var documentsByStatus=billingDocuments.stream().collect(Collectors.partitioningBy(bd -> bd.getStatus() == BillingDocument.Status.VALID));" is 137.,279
exteso_alf.io,alfio.controller.api.v2.user.reservation,BillingDocumentCreationIntegrationTest,expectInvoiceToBeGenerated,Magic Number,The method contains a magic number: 2,279
exteso_alf.io,alfio.controller.api.v2.user.reservation,BillingDocumentCreationIntegrationTest,expectInvoiceToBeGenerated,Magic Number,The method contains a magic number: 2,279
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowContext,ReservationFlowContext,Long Parameter List,The method has 7 parameters. ,45
exteso_alf.io,alfio.controller.api.v2.user.reservation,HybridEventReservationFlowIntegrationTest,HybridEventReservationFlowIntegrationTest,Long Identifier,The length of the parameter additionalServiceApiController is 30.,75
exteso_alf.io,alfio.controller.api.v2.user.reservation,HybridEventReservationFlowIntegrationTest,HybridEventReservationFlowIntegrationTest,Long Parameter List,The method has 35 parameters. ,75
exteso_alf.io,alfio.controller.api.v2.user.reservation,HybridEventReservationFlowIntegrationTest,HybridEventReservationFlowIntegrationTest,Long Statement,The length of the statement "super(configurationRepository`eventManager`eventRepository`eventStatisticsManager`ticketCategoryRepository`ticketReservationRepository`eventApiController`ticketRepository`ticketFieldRepository`additionalServiceApiController`specialPriceTokenGenerator`specialPriceRepository`checkInApiController`attendeeApiController`usersApiController`scanAuditRepository`auditingRepository`adminReservationManager`ticketReservationManager`infoApiController`translationsApiController`eventApiV2Controller`reservationApiV2Controller`ticketApiV2Controller`indexController`jdbcTemplate`extensionLogRepository`extensionService`pollRepository`clockProvider`notificationManager`userRepository`organizationDeleter);" is 692.,75
exteso_alf.io,alfio.controller.api.v2.user.reservation,HybridEventReservationFlowIntegrationTest,createContext,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Arrays.asList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.IN_PERSON`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(clockProvider.getClock()).minusDays(1)`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock()).plusDays(1)`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"hidden"`TicketCategory.TicketAccessType.ONLINE`2`new DateTimeModification(LocalDate.now(clockProvider.getClock()).minusDays(1)`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock()).plusDays(1)`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.ONE`true`""`true`URL_CODE_HIDDEN`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 936.,148
exteso_alf.io,alfio.controller.api.v2.user.reservation,HybridEventReservationFlowIntegrationTest,createContext,Long Statement,The length of the statement "Pair<Event`String> eventAndUser=initEvent(categories`organizationRepository`userManager`eventManager`eventRepository`null`Event.EventFormat.HYBRID);" is 148.,148
exteso_alf.io,alfio.controller.api.v2.user.reservation,HybridEventReservationFlowIntegrationTest,createContext,Magic Number,The method contains a magic number: 2,148
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,BaseReservationFlowTest,Long Identifier,The length of the parameter additionalServiceApiController is 30.,147
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,BaseReservationFlowTest,Long Identifier,The length of the field additionalServiceApiController is 30.,147
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,BaseReservationFlowTest,Long Parameter List,The method has 33 parameters. ,147
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,ensureConfiguration,Long Identifier,The length of the field additionalServiceApiController is 30.,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,ensureConfiguration,Long Statement,The length of the statement "eventManager.addPromoCode(PROMO_CODE`context.event.getId()`null`ZonedDateTime.now(clockProvider.getClock()).minusDays(2)`context.event.getEnd().plusDays(2)`10`PromoCodeDiscount.DiscountType.PERCENTAGE`null`3`"description"`"test@test.ch"`PromoCodeDiscount.CodeType.DISCOUNT`null`null);" is 284.,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,ensureConfiguration,Long Statement,The length of the statement "hiddenCategoryId=ticketCategoryRepository.findAllTicketCategories(context.event.getId()).stream().filter(TicketCategory::isAccessRestricted).toList().get(0).getId();" is 165.,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,ensureConfiguration,Long Statement,The length of the statement "eventManager.addPromoCode(HIDDEN_CODE`context.event.getId()`null`ZonedDateTime.now(clockProvider.getClock()).minusDays(2)`context.event.getEnd().plusDays(2)`0`PromoCodeDiscount.DiscountType.NONE`null`null`"hidden"`"test@test.ch"`PromoCodeDiscount.CodeType.ACCESS`hiddenCategoryId`null);" is 286.,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,ensureConfiguration,Long Statement,The length of the statement "var af=new EventModification.AdditionalField(-1`true`"field1"`"text"`true`false`null`null`null`Map.of("en"`new EventModification.Description("field en"`""`null))`null`null);" is 173.,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,ensureConfiguration,Long Statement,The length of the statement "var af2=new EventModification.AdditionalField(1`true`"field2"`"text"`false`false`null`null`null`Map.of("en"`new EventModification.Description("field2 en"`""`null))`null`null);" is 175.,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,ensureConfiguration,Long Statement,The length of the statement "var addServ=new EventModification.AdditionalService(null`new BigDecimal("40.00")`true`0`1`1`new DateTimeModification(ZonedDateTime.now(clockProvider.getClock()).minusDays(2).toLocalDate()`ZonedDateTime.now(clockProvider.getClock()).minusDays(2).toLocalTime())`new DateTimeModification(context.event.getEnd().plusDays(2).toLocalDate()`context.event.getEnd().plusDays(2).toLocalTime())`context.event.getVat()`AdditionalService.VatType.INHERITED`null`Collections.singletonList(new EventModification.AdditionalServiceText(null`"en"`"additional title"`AdditionalServiceText.TextType.TITLE))`Collections.singletonList(new EventModification.AdditionalServiceText(null`"en"`"additional desc"`AdditionalServiceText.TextType.DESCRIPTION))`AdditionalService.AdditionalServiceType.SUPPLEMENT`AdditionalService.SupplementPolicy.OPTIONAL_MAX_AMOUNT_PER_TICKET);" is 847.,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,ensureConfiguration,Long Statement,The length of the statement "var addServRes=additionalServiceApiController.insert(context.event.getId()`addServ`new BeanPropertyBindingResult(addServ`"additionalService"));" is 143.,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,ensureConfiguration,Long Statement,The length of the statement "var af3=new EventModification.AdditionalField(2`true`"field3"`"text"`true`false`null`null`null`Map.of("en"`new EventModification.Description("field3 en"`""`null))`addServRes.getBody()`null);" is 190.,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,ensureConfiguration,Long Statement,The length of the statement "configurationRepository.insertEventLevel(context.event.getOrganizationId()`context.event.getId()`ConfigurationKeys.ENABLE_WAITING_QUEUE.getValue()`"true"`"");" is 158.,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,ensureConfiguration,Long Statement,The length of the statement "configurationRepository.insertEventLevel(context.event.getOrganizationId()`context.event.getId()`ConfigurationKeys.ENABLE_PRE_REGISTRATION.getValue()`"true"`"");" is 161.,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,ensureConfiguration,Magic Number,The method contains a magic number: 2,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,ensureConfiguration,Magic Number,The method contains a magic number: 2,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,ensureConfiguration,Magic Number,The method contains a magic number: 10,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,ensureConfiguration,Magic Number,The method contains a magic number: 3,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,ensureConfiguration,Magic Number,The method contains a magic number: 2,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,ensureConfiguration,Magic Number,The method contains a magic number: 2,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,ensureConfiguration,Magic Number,The method contains a magic number: 2,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,ensureConfiguration,Magic Number,The method contains a magic number: 2,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,ensureConfiguration,Magic Number,The method contains a magic number: 2,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,ensureConfiguration,Magic Number,The method contains a magic number: 2,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,ensureConfiguration,Magic Number,The method contains a magic number: 2,215
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Method,The method has 679 lines of code.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "String concatenation=String.join("\n"`extensionStream).replace("EVENTS"`Arrays.stream(ExtensionEvent.values()).map(ee -> "'" + ee.name() + "'").collect(Collectors.joining("`")));" is 178.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "extensionService.createOrUpdate(null`null`new Extension("-"`"syncName"`concatenation.replace("placeHolder"`"false")`true));" is 123.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "extensionService.createOrUpdate(null`null`new Extension("-"`"asyncName"`concatenation.replace("placeHolder"`"true")`true));" is 123.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertTrue(usersApiController.getAllOrganizations(p).stream().anyMatch(o -> context.event.getOrganizationId() == o.getId()));" is 125.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(context.event.getOrganizationId()`usersApiController.getOrganization(context.event.getOrganizationId()`p).getId());" is 128.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "ContentLanguage.ALL_LANGUAGES.forEach(cl -> assertFalse(translationsApiController.getPublicTranslations(cl.getLanguage()`true).isEmpty()));" is 139.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals("Switzerland"`translationsApiController.getCountries("en").stream().filter(c -> "CH".equals(c.getIsoCode())).findFirst().get().getName());" is 151.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals("Greece"`translationsApiController.getCountries("en").stream().filter(c -> "GR".equals(c.getIsoCode())).findFirst().get().getName());" is 146.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals("Suisse"`translationsApiController.getCountries("fr").stream().filter(c -> "CH".equals(c.getIsoCode())).findFirst().get().getName());" is 146.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals("Svizzera"`translationsApiController.getCountries("it").stream().filter(c -> "CH".equals(c.getIsoCode())).findFirst().get().getName());" is 148.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals("Schweiz"`translationsApiController.getCountries("de").stream().filter(c -> "CH".equals(c.getIsoCode())).findFirst().get().getName());" is 147.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals("Greece"`translationsApiController.getCountriesForVat("en").stream().filter(c -> "EL".equals(c.getIsoCode())).findFirst().get().getName());" is 152.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(0L`eventStatisticsManager.getTicketSoldStatistics(context.event.getId()`statisticsFrom`statisticsTo`"day").stream().mapToLong(TicketsByDateStatistic::getCount).sum());" is 180.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "EventWithAdditionalInfo eventWithAdditionalInfo=eventStatisticsManager.getEventWithAdditionalInfo(context.event.getShortName()`context.userId);" is 143.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "configurationRepository.insert("TRANSLATION_OVERRIDE"`Json.toJson(Map.of("en"`Map.of("show-context.event.tickets.left"`"{0} left!")))`"");" is 138.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "configurationRepository.insertEventLevel(context.event.getOrganizationId()`context.event.getId()`"TRANSLATION_OVERRIDE"`Json.toJson(Map.of("en"`Map.of("common.vat"`"context.event.vat")))`"");" is 191.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(selectedEvent.getContentLanguages().stream().map(Language::getLocale).collect(Collectors.toSet())`Set.of("it"`"en"`"de"));" is 135.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals("redirect:/api/v2/public/event/" + context.event.getShortName() + "/code/MY_CODE"`indexController.redirectCode(context.event.getShortName()`"MY_CODE"));" is 165.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "indexController.replyToIndex(context.event.getShortName()`null`"not a social share"`"en"`new ServletWebRequest(new MockHttpServletRequest())`res`new MockHttpSession());" is 168.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertTrue(docWithoutOpenGraph.getAllNodesMatching(Selector.select().element("meta").attrValEq("name"`"twitter:card").toMatcher()).isEmpty());" is 142.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "indexController.replyToIndex(context.event.getShortName()`null`"Twitterbot/42"`"en"`new ServletWebRequest(new MockHttpServletRequest())`res`new MockHttpSession());" is 163.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertFalse(docWithOpenGraph.getAllNodesMatching(Selector.select().element("meta").attrValEq("name"`"twitter:card").toMatcher()).isEmpty());" is 140.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var title=(Element)docWithOpenGraph.getAllNodesMatching(Selector.select().element("meta").attrValEq("property"`"og:title").toMatcher()`true).get(0);" is 148.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "ticketCategoryRepository.fixDates(visibleCat.getId()`tc.getInception(context.event.getZoneId()).plusDays(2)`tc.getExpiration(context.event.getZoneId()));" is 153.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var subRes=eventApiV2Controller.subscribeToWaitingList(context.event.getShortName()`subForm`new BeanPropertyBindingResult(subForm`"subForm"));" is 142.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "subRes=eventApiV2Controller.subscribeToWaitingList(context.event.getShortName()`subForm`new BeanPropertyBindingResult(subForm`"subForm"));" is 138.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "ticketCategoryRepository.fixDates(visibleCat.getId()`tc.getInception(context.event.getZoneId()).minusDays(2)`tc.getExpiration(context.event.getZoneId()));" is 154.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "eventManager.addPromoCode("DYNAMIC_CODE"`context.event.getId()`null`ZonedDateTime.now(clockProvider.getClock()).minusDays(2)`context.event.getEnd().plusDays(2)`10`PromoCodeDiscount.DiscountType.PERCENTAGE`null`3`"description"`"test@test.ch"`PromoCodeDiscount.CodeType.DYNAMIC`null`null);" is 287.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(HttpStatus.UNPROCESSABLE_ENTITY`eventApiV2Controller.validateCode(context.event.getShortName()`"DYNAMIC_CODE").getStatusCode());" is 141.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "ticketReservation.setTicketCategoryId(eventApiV2Controller.getTicketCategories(context.event.getShortName()`null).getBody().getTicketCategories().get(0).getId());" is 162.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var res=eventApiV2Controller.reserveTickets(context.event.getShortName()`"en"`form`new BeanPropertyBindingResult(form`"reservation")`new ServletWebRequest(new MockHttpServletRequest()`new MockHttpServletResponse())`null);" is 221.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "eventManager.addPromoCode("TEST_TEST_TEST_TEST"`null`context.event.getOrganizationId()`ZonedDateTime.now(clockProvider.getClock()).minusDays(2)`context.event.getEnd().plusDays(2)`10`PromoCodeDiscount.DiscountType.FIXED_AMOUNT`null`3`"description"`"test@test.ch"`PromoCodeDiscount.CodeType.DISCOUNT`null`"JPY");" is 310.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(HttpStatus.UNPROCESSABLE_ENTITY`eventApiV2Controller.validateCode(context.event.getShortName()`"TEST_TEST_TEST_TEST").getStatusCode());" is 148.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "ticketReservation.setTicketCategoryId(eventApiV2Controller.getTicketCategories(context.event.getShortName()`null).getBody().getTicketCategories().get(0).getId());" is 162.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var res=eventApiV2Controller.reserveTickets(context.event.getShortName()`"en"`form`new BeanPropertyBindingResult(form`"reservation")`new ServletWebRequest(new MockHttpServletRequest()`new MockHttpServletResponse())`null);" is 221.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(HttpStatus.UNPROCESSABLE_ENTITY`eventApiV2Controller.validateCode(context.event.getShortName()`"NOT_EXISTING").getStatusCode());" is 141.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var res=eventApiV2Controller.reserveTickets(context.event.getShortName()`"en"`form`new BeanPropertyBindingResult(form`"reservation")`new ServletWebRequest(new MockHttpServletRequest()`new MockHttpServletResponse())`context.getPublicUser());" is 240.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "configurationRepository.insertTicketCategoryLevel(context.event.getOrganizationId()`context.event.getId()`hiddenCategoryId`ConfigurationKeys.PAYMENT_METHODS_BLACKLIST.name()`PaymentProxy.OFFLINE.name()`"");" is 206.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "configurationRepository.deleteCategoryLevelByKey(ConfigurationKeys.PAYMENT_METHODS_BLACKLIST.name()`context.event.getId()`hiddenCategoryId);" is 140.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(0`jdbcTemplate.queryForObject("select count(*) from ticket where status = 'FREE' and final_price_cts > 0"`Map.of()`Integer.class));" is 144.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var notFoundRes=eventApiV2Controller.handleCode(context.event.getShortName()`"NOT_EXIST"`new ServletWebRequest(new MockHttpServletRequest()`new MockHttpServletResponse())`context.getPublicUser());" is 196.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var redirectPromoCodeRes=eventApiV2Controller.handleCode(context.event.getShortName()`PROMO_CODE`new ServletWebRequest(new MockHttpServletRequest()`new MockHttpServletResponse())`context.getPublicUser());" is 204.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var res=eventApiV2Controller.handleCode(context.event.getShortName()`URL_CODE_HIDDEN`new ServletWebRequest(new MockHttpServletRequest()`new MockHttpServletResponse())`context.getPublicUser());" is 192.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var reservationId=location.substring(("/event/" + context.event.getShortName() + "/reservation/").length()`location.length() - "/book".length());" is 145.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var res=eventApiV2Controller.handleCode(context.event.getShortName()`URL_CODE_HIDDEN`new ServletWebRequest(new MockHttpServletRequest()`new MockHttpServletResponse())`context.getPublicUser());" is 192.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var reservationId=location.substring(("/event/" + context.event.getShortName() + "/reservation/").length()`location.length() - "/book".length());" is 145.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "adminReservationManager.removeReservation(PurchaseContextType.event`context.event.getShortName()`reservationId`false`false`false`context.userId);" is 145.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var res=eventApiV2Controller.reserveTickets(context.event.getShortName()`"en"`form`new BeanPropertyBindingResult(form`"reservation")`new ServletWebRequest(new MockHttpServletRequest()`new MockHttpServletResponse())`context.getPublicUser());" is 240.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "ticketReservation.setTicketCategoryId(eventApiV2Controller.getTicketCategories(context.event.getShortName()`null).getBody().getTicketCategories().get(0).getId());" is 162.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var res=eventApiV2Controller.reserveTickets(context.event.getShortName()`"en"`form`new BeanPropertyBindingResult(form`"reservation")`new ServletWebRequest(new MockHttpServletRequest()`new MockHttpServletResponse())`context.getPublicUser());" is 240.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var categories=eventApiV2Controller.getTicketCategories(context.event.getShortName()`HIDDEN_CODE).getBody().getTicketCategories();" is 130.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var res=eventApiV2Controller.reserveTickets(context.event.getShortName()`"en"`form`new BeanPropertyBindingResult(form`"reservation")`new ServletWebRequest(new MockHttpServletRequest()`new MockHttpServletResponse())`context.getPublicUser());" is 240.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "ticketReservation.setTicketCategoryId(eventApiV2Controller.getTicketCategories(context.event.getShortName()`null).getBody().getTicketCategories().get(0).getId());" is 162.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var res=eventApiV2Controller.reserveTickets(context.event.getShortName()`"en"`form`new BeanPropertyBindingResult(form`"reservation")`new ServletWebRequest(new MockHttpServletRequest()`new MockHttpServletResponse())`context.getPublicUser());" is 240.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var failure=reservationApiV2Controller.validateToOverview(reservationId`"en"`false`contactForm`new BeanPropertyBindingResult(contactForm`"paymentForm")`context.getPublicAuthentication());" is 187.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(1`failure.getBody().getValidationErrors().stream().filter(f -> f.getFieldName().equals("tickets[" + ticket1.getUuid() + "].additional[field3][0]")).count());" is 170.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(1`failure.getBody().getValidationErrors().stream().filter(f -> f.getFieldName().equals("billingAddressLine1")).count());" is 133.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(1`failure.getBody().getValidationErrors().stream().filter(f -> f.getFieldName().equals("billingAddressZip")).count());" is 131.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(1`failure.getBody().getValidationErrors().stream().filter(f -> f.getFieldName().equals("billingAddressCity")).count());" is 132.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(1`failure.getBody().getValidationErrors().stream().filter(f -> f.getFieldName().equals("vatCountryCode")).count());" is 128.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var success=reservationApiV2Controller.validateToOverview(reservationId`"en"`false`contactForm`new BeanPropertyBindingResult(contactForm`"paymentForm")`context.getPublicAuthentication());" is 187.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "ticketReservation.setTicketCategoryId(eventApiV2Controller.getTicketCategories(context.event.getShortName()`null).getBody().getTicketCategories().get(0).getId());" is 162.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var res=eventApiV2Controller.reserveTickets(context.event.getShortName()`"en"`form`new BeanPropertyBindingResult(form`"reservation")`new ServletWebRequest(new MockHttpServletRequest()`new MockHttpServletResponse())`context.getPublicUser());" is 240.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var validationErrorsRes=reservationApiV2Controller.validateToOverview(reservationId`"en"`false`contactForm`new BeanPropertyBindingResult(contactForm`"paymentForm")`context.getPublicAuthentication());" is 199.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "contactForm.setTickets(Collections.singletonMap(reservation.getTicketsByCategory().get(0).getTickets().get(0).getUuid()`ticketForm));" is 133.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var overviewResFailed=reservationApiV2Controller.validateToOverview(reservationId`"en"`false`contactForm`new BeanPropertyBindingResult(contactForm`"paymentForm")`context.getPublicAuthentication());" is 197.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var overviewRes=reservationApiV2Controller.validateToOverview(reservationId`"en"`false`contactForm`new BeanPropertyBindingResult(contactForm`"paymentForm")`context.getPublicAuthentication());" is 191.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "overviewRes=reservationApiV2Controller.validateToOverview(reservationId`"en"`false`contactForm`new BeanPropertyBindingResult(contactForm`"paymentForm")`context.getPublicAuthentication());" is 187.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var handleResError=reservationApiV2Controller.confirmOverview(reservationId`"en"`paymentForm`new BeanPropertyBindingResult(paymentForm`"paymentForm")`new MockHttpServletRequest()`context.getPublicUser());" is 204.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var handleRes=reservationApiV2Controller.confirmOverview(reservationId`"en"`paymentForm`new BeanPropertyBindingResult(paymentForm`"paymentForm")`new MockHttpServletRequest()`context.getPublicUser());" is 199.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var confRes=reservationApiV2Controller.reSendReservationConfirmationEmail(PurchaseContextType.event`context.event.getShortName()`reservationId`"en"`context.getPublicUser());" is 173.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var updateTicketRes=ticketApiV2Controller.updateTicketInfo(context.event.getShortName()`ticket.getUuid()`updateTicketOwnerForm`new BeanPropertyBindingResult(updateTicketOwnerForm`"ticket")`context.getPublicAuthentication());" is 224.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(HttpStatus.NOT_FOUND`ticketApiV2Controller.updateTicketInfo(context.event.getShortName()`ticket.getUuid() + "42"`updateTicketOwnerForm`new BeanPropertyBindingResult(updateTicketOwnerForm`"ticket")`context.getPublicAuthentication()).getStatusCode());" is 262.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var qrCodeRead=qrCodeReader.decode(new BinaryBitmap(new HybridBinarizer(new BufferedImageLuminanceSource(ImageIO.read(new ByteArrayInputStream(ticketQRCodeResp.getContentAsByteArray())))))`Map.of(DecodeHintType.PURE_BARCODE`Boolean.TRUE));" is 239.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(HttpStatus.OK`ticketApiV2Controller.getTicketInfo(context.event.getShortName()`ticket.getUuid()).getStatusCode());" is 127.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(HttpStatus.NOT_FOUND`reservationApiV2Controller.getInvoice(context.event.getShortName()`reservationId`new MockHttpServletResponse()`context.getPublicAuthentication()).getStatusCode());" is 197.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(HttpStatus.OK`reservationApiV2Controller.getReceipt(context.event.getShortName()`reservationId`new MockHttpServletResponse()`context.getPublicAuthentication()).getStatusCode());" is 190.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "TicketAndCheckInResult ticketAndCheckInResult=checkInApiController.findTicketWithUUID(context.event.getId()`ticketIdentifier`ticketCode);" is 137.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(CheckInStatus.SUCCESS`checkInApiController.checkIn(context.event.getId()`ticketIdentifier`tc`new TestingAuthenticationToken("ciccio"`"ciccio")).getResult().getStatus());" is 182.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "TicketAndCheckInResult ticketAndCheckInResultOk=checkInApiController.findTicketWithUUID(context.event.getId()`ticketIdentifier`ticketCode);" is 139.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertTrue(eventStatisticsManager.getTicketSoldStatistics(context.event.getId()`statisticsFrom`statisticsTo`"day").stream().mapToLong(TicketsByDateStatistic::getCount).sum() > 0);" is 179.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "EventWithAdditionalInfo eventWithAdditionalInfo3=eventStatisticsManager.getEventWithAdditionalInfo(context.event.getShortName()`context.userId);" is 144.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "TicketAndCheckInResult ticketAndCheckInResult2=checkInApiController.findTicketWithUUID(context.event.getId()`ticketIdentifier`ticketCode);" is 138.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "UsersApiController.UserWithPasswordAndQRCode sponsorUser=usersApiController.insertUser(new UserModification(null`context.event.getOrganizationId()`"SPONSOR"`"sponsor"`"first"`"last"`"email@email.com"`User.Type.INTERNAL`null`null)`"http://localhost:8080"`principal);" is 265.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(CheckInStatus.EVENT_NOT_FOUND`attendeeApiController.scanBadge(new AttendeeApiController.SponsorScanRequest("not-existing-event"`"not-existing-ticket"`null`null)`sponsorPrincipal).getBody().getResult().getStatus());" is 227.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(CheckInStatus.TICKET_NOT_FOUND`attendeeApiController.scanBadge(new AttendeeApiController.SponsorScanRequest(eventName`"not-existing-ticket"`null`null)`sponsorPrincipal).getBody().getResult().getStatus());" is 217.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(CheckInStatus.INVALID_TICKET_STATE`attendeeApiController.scanBadge(new AttendeeApiController.SponsorScanRequest(eventName`ticketIdentifier`null`null)`sponsorPrincipal).getBody().getResult().getStatus());" is 216.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertTrue(eventStatisticsManager.getTicketSoldStatistics(context.event.getId()`statisticsFrom`statisticsTo`"day").stream().mapToLong(TicketsByDateStatistic::getCount).sum() > 0);" is 179.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "EventWithAdditionalInfo eventWithAdditionalInfo4=eventStatisticsManager.getEventWithAdditionalInfo(context.event.getShortName()`context.userId);" is 144.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "TicketAndCheckInResult ticketAndcheckInResult=checkInApiController.checkIn(context.event.getId()`ticketIdentifier`tc2`new TestingAuthenticationToken("ciccio"`"ciccio"));" is 169.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var offlineIdentifiers=checkInApiController.getOfflineIdentifiers(context.event.getShortName()`0L`new MockHttpServletResponse()`principal);" is 139.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "offlineIdentifiers=checkInApiController.getOfflineIdentifiers(context.event.getShortName()`0L`new MockHttpServletResponse()`principal);" is 135.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "configurationRepository.insertEventLevel(context.event.getOrganizationId()`context.event.getId()`ConfigurationKeys.OFFLINE_CHECKIN_ENABLED.name()`"true"`null);" is 159.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "offlineIdentifiers=checkInApiController.getOfflineIdentifiers(context.event.getShortName()`0L`new MockHttpServletResponse()`principal);" is 135.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "TicketWithCategory ticketwc=testEncryptedCheckInPayload(principal`ticketAndcheckInResult`offlineIdentifiers`false`context);" is 123.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "var rowCountAndKey=pollRepository.insert(Map.of("en"`"test poll")`null`List.of()`0`context.event.getId()`context.event.getOrganizationId());" is 140.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertTrue(attendeeApiController.getScannedBadges(context.event.getShortName()`EventUtil.JSON_DATETIME_FORMATTER.format(LocalDateTime.of(1970`1`1`0`0))`sponsorPrincipal).getBody().isEmpty());" is 191.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(CheckInStatus.SUCCESS`attendeeApiController.scanBadge(new AttendeeApiController.SponsorScanRequest(eventName`ticketwc.getUuid()`null`null)`sponsorPrincipal).getBody().getResult().getStatus());" is 205.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(1`attendeeApiController.getScannedBadges(context.event.getShortName()`EventUtil.JSON_DATETIME_FORMATTER.format(LocalDateTime.of(1970`1`1`0`0))`sponsorPrincipal).getBody().size());" is 192.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(CheckInStatus.SUCCESS`attendeeApiController.scanBadge(new AttendeeApiController.SponsorScanRequest(eventName`ticket.getUuid()`"this is a very good lead!"`"HOT")`sponsorPrincipal).getBody().getResult().getStatus());" is 227.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(1`attendeeApiController.getScannedBadges(context.event.getShortName()`EventUtil.JSON_DATETIME_FORMATTER.format(LocalDateTime.of(1970`1`1`0`0))`sponsorPrincipal).getBody().size());" is 192.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "ticketAndcheckInResult=checkInApiController.checkIn(context.event.getId()`ticketIdentifier`badgeScan`new TestingAuthenticationToken("ciccio"`"ciccio"));" is 152.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "ticketCategoryRepository.update(category.getId()`category.getName()`category.getInception(context.event.getZoneId())`category.getExpiration(context.event.getZoneId())`category.getMaxTickets()`category.isAccessRestricted()`MonetaryUtil.unitToCents(category.getPrice()`category.getCurrencyCode())`category.getCode()`category.getValidCheckInFrom()`category.getValidCheckInTo()`category.getTicketValidityStart()`category.getTicketValidityEnd()`TicketCategory.TicketCheckInStrategy.ONCE_PER_DAY`category.getTicketAccessType());" is 522.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "ticketAndcheckInResult=checkInApiController.checkIn(context.event.getId()`ticketIdentifier`badgeScan`new TestingAuthenticationToken("ciccio"`"ciccio"));" is 152.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "eventRepository.updateHeader(context.event.getId()`context.event.getDisplayName()`context.event.getWebsiteUrl()`context.event.getExternalUrl()`context.event.getTermsAndConditionsUrl()`context.event.getPrivacyPolicyUrl()`context.event.getImageUrl()`context.event.getFileBlobId()`context.event.getLocation()`context.event.getLatitude()`context.event.getLongitude()`context.event.now(clockProvider).minusSeconds(1)`context.event.getEnd()`context.event.getTimeZone()`context.event.getOrganizationId()`context.event.getLocales()`context.event.getFormat());" is 551.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "ticketAndcheckInResult=checkInApiController.checkIn(context.event.getId()`ticketIdentifier`badgeScan`new TestingAuthenticationToken("ciccio"`"ciccio"));" is 152.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertEquals(3`jdbcTemplate.update("update auditing set event_time = event_time - interval '1 day' where reservation_id = :reservationId and event_type in ('BADGE_SCAN'` 'CHECK_IN')"`Map.of("reservationId"`reservationId)));" is 223.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "ticketAndcheckInResult=checkInApiController.checkIn(context.event.getId()`ticketIdentifier`badgeScan`new TestingAuthenticationToken("ciccio"`"ciccio"));" is 152.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Long Statement,The length of the statement "assertTrue(organizationDeleter.deleteOrganization(context.event.getOrganizationId()`new APITokenAuthentication("TEST"`""`List.of(new SimpleGrantedAuthority("ROLE_" + SYSTEM_API_CLIENT)))));" is 189.,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 100,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 8,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 8,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 27,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 2,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 20,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 3,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 2,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 2,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 2,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 2,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 10,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 3,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 2,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 2,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 10,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 3,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 2,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 100,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 2,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 2,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 2,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 2,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 2,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 2,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 2,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 2,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 4,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 100,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 12,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 10,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 12,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 10,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 12,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 10,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 12,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 12,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 10,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 12,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 10,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 100,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 2,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 2,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 20,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 2,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 20,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 100,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 2,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 1970,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 1970,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 2,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 3,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 4,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 8,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 9,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 1970,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 2,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 3,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 4,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 8,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 9,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 3,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testBasicFlow,Magic Number,The method contains a magic number: 2,272
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testEncryptedCheckInPayload,Long Parameter List,The method has 5 parameters. ,1266
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testEncryptedCheckInPayload,Long Statement,The length of the statement "Map<String`String> payload=checkInApiController.getOfflineEncryptedInfo(context.event.getShortName()`Collections.emptyList()`offlineIdentifiers`principal);" is 155.,1266
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testEncryptedCheckInPayload,Magic Number,The method contains a magic number: 10,1266
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testEncryptedCheckInPayload,Magic Number,The method contains a magic number: 9,1266
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testAddSubscription,Long Statement,The length of the statement "var res=eventApiV2Controller.reserveTickets(context.event.getShortName()`"en"`form`new BeanPropertyBindingResult(form`"reservation")`new ServletWebRequest(new MockHttpServletRequest()`new MockHttpServletResponse())`null);" is 221.,1297
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testAddSubscription,Long Statement,The length of the statement "var overviewRes=reservationApiV2Controller.validateToOverview(reservationId`"en"`false`contactForm`new BeanPropertyBindingResult(contactForm`"paymentForm")`context.getPublicAuthentication());" is 191.,1297
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testAddSubscription,Long Statement,The length of the statement "var summaryRowSubscription=reservation.getOrderSummary().getSummary().stream().filter(r -> r.getType() == SummaryRow.SummaryType.APPLIED_SUBSCRIPTION).findFirst();" is 163.,1297
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,testAddSubscription,Long Statement,The length of the statement "var handleRes=reservationApiV2Controller.confirmOverview(reservationId`"en"`paymentForm`propertyBindingResult`new MockHttpServletRequest()`null);" is 145.,1297
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,triggerEmailProcessingAndCheck,Long Statement,The length of the statement "assertTrue(notificationManager.loadAllMessagesForReservationId(context.event`reservationId).stream().allMatch(m -> m.getStatus() == EmailMessage.Status.SENT));" is 159.,1393
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,checkStatus,Long Parameter List,The method has 5 parameters. ,1408
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,validatePayment,Magic Number,The method contains a magic number: 1000,1425
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,validatePayment,Magic Number,The method contains a magic number: 1000,1425
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,validatePayment,Magic Number,The method contains a magic number: 10,1425
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,validatePayment,Magic Number,The method contains a magic number: 1000,1425
exteso_alf.io,alfio.controller.api.v2.user.reservation,BaseReservationFlowTest,containsOnlineTickets,Long Statement,The length of the statement "Integer count=jdbcTemplate.queryForObject("select count(*) from ticket t join ticket_category tc on t.category_id = tc.id where t.tickets_reservation_id = :reservationId and tc.ticket_access_type = 'ONLINE'"`Map.of("reservationId"`reservationId)`Integer.class);" is 261.,1449
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowAuthenticatedUserIntegrationTest,ReservationFlowAuthenticatedUserIntegrationTest,Long Identifier,The length of the parameter additionalServiceApiController is 30.,85
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowAuthenticatedUserIntegrationTest,ReservationFlowAuthenticatedUserIntegrationTest,Long Parameter List,The method has 36 parameters. ,85
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowAuthenticatedUserIntegrationTest,ReservationFlowAuthenticatedUserIntegrationTest,Long Statement,The length of the statement "super(configurationRepository`eventManager`eventRepository`eventStatisticsManager`ticketCategoryRepository`ticketReservationRepository`eventApiController`ticketRepository`ticketFieldRepository`additionalServiceApiController`specialPriceTokenGenerator`specialPriceRepository`checkInApiController`attendeeApiController`usersApiController`scanAuditRepository`auditingRepository`adminReservationManager`ticketReservationManager`infoApiController`translationsApiController`eventApiV2Controller`reservationApiV2Controller`ticketApiV2Controller`indexController`jdbcTemplate`extensionLogRepository`extensionService`pollRepository`clockProvider`notificationManager`userRepository`organizationDeleter);" is 692.,85
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowAuthenticatedUserIntegrationTest,createContext,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Arrays.asList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(clockProvider.getClock()).minusDays(1)`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock()).plusDays(1)`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"hidden"`TicketCategory.TicketAccessType.INHERIT`2`new DateTimeModification(LocalDate.now(clockProvider.getClock()).minusDays(1)`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock()).plusDays(1)`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.ONE`true`""`true`URL_CODE_HIDDEN`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 935.,160
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowAuthenticatedUserIntegrationTest,createContext,Long Statement,The length of the statement "var userIdContainer=userRepository.create(publicUserName`UUID.randomUUID().toString()`"First"`"Last"`"email@example.org"`true`User.Type.PUBLIC`null`"");" is 152.,160
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowAuthenticatedUserIntegrationTest,createContext,Long Statement,The length of the statement "return new ReservationFlowContext(eventAndUser.getLeft()`eventAndUser.getRight() + "_owner"`null`null`publicUserName`userIdContainer.getKey()`true);" is 148.,160
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowAuthenticatedUserIntegrationTest,createContext,Magic Number,The method contains a magic number: 2,160
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowAuthenticatedUserIntegrationTest,init,Long Statement,The length of the statement "userRepository.create(publicUserName`UUID.randomUUID().toString()`"First"`"Last"`"email@example.org"`true`User.Type.PUBLIC`null`"");" is 132.,177
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowAuthenticatedUserIntegrationTest,performAdditionalTests,Long Statement,The length of the statement "BaseIntegrationTest.testTransferEventToAnotherOrg(event.getId()`event.getOrganizationId()`reservationFlowContext.userId`jdbcTemplate);" is 134.,189
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowIntegrationTest,ReservationFlowIntegrationTest,Long Identifier,The length of the parameter additionalServiceApiController is 30.,80
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowIntegrationTest,ReservationFlowIntegrationTest,Long Parameter List,The method has 35 parameters. ,80
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowIntegrationTest,ReservationFlowIntegrationTest,Long Statement,The length of the statement "super(configurationRepository`eventManager`eventRepository`eventStatisticsManager`ticketCategoryRepository`ticketReservationRepository`eventApiController`ticketRepository`ticketFieldRepository`additionalServiceApiController`specialPriceTokenGenerator`specialPriceRepository`checkInApiController`attendeeApiController`usersApiController`scanAuditRepository`auditingRepository`adminReservationManager`ticketReservationManager`infoApiController`translationsApiController`eventApiV2Controller`reservationApiV2Controller`ticketApiV2Controller`indexController`jdbcTemplate`extensionLogRepository`extensionService`pollRepository`clockProvider`notificationManager`userRepository`organizationDeleter);" is 692.,80
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowIntegrationTest,createContext,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Arrays.asList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(clockProvider.getClock()).minusDays(1)`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock()).plusDays(1)`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"hidden"`TicketCategory.TicketAccessType.INHERIT`2`new DateTimeModification(LocalDate.now(clockProvider.getClock()).minusDays(1)`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock()).plusDays(1)`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.ONE`true`""`true`URL_CODE_HIDDEN`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 935.,153
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowIntegrationTest,createContext,Magic Number,The method contains a magic number: 2,153
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,ReservationFlowWithSubscriptionIntegrationTest,Long Identifier,The length of the parameter additionalServiceApiController is 30.,99
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,ReservationFlowWithSubscriptionIntegrationTest,Long Parameter List,The method has 39 parameters. ,99
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,ReservationFlowWithSubscriptionIntegrationTest,Long Statement,The length of the statement "super(configurationRepository`eventManager`eventRepository`eventStatisticsManager`ticketCategoryRepository`ticketReservationRepository`eventApiController`ticketRepository`ticketFieldRepository`additionalServiceApiController`specialPriceTokenGenerator`specialPriceRepository`checkInApiController`attendeeApiController`usersApiController`scanAuditRepository`auditingRepository`adminReservationManager`ticketReservationManager`infoApiController`translationsApiController`eventApiV2Controller`reservationApiV2Controller`ticketApiV2Controller`indexController`jdbcTemplate`extensionLogRepository`extensionService`pollRepository`clockProvider`notificationManager`userRepository`organizationDeleter);" is 692.,99
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,createContext,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Arrays.asList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`AVAILABLE_SEATS`new DateTimeModification(LocalDate.now(clockProvider.getClock()).minusDays(1)`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock()).plusDays(1)`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty())`new TicketCategoryModification(null`"hidden"`TicketCategory.TicketAccessType.INHERIT`2`new DateTimeModification(LocalDate.now(clockProvider.getClock()).minusDays(1)`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock()).plusDays(1)`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.ONE`true`""`true`URL_CODE_HIDDEN`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 935.,180
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,createContext,Long Statement,The length of the statement "var descriptorId=createSubscriptionDescriptor(event.getOrganizationId()`fileUploadManager`subscriptionManager`maxEntries);" is 122.,180
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,createContext,Long Statement,The length of the statement "var subscriptionIdAndPin=confirmAndLinkSubscription(descriptor`event.getOrganizationId()`subscriptionRepository`ticketReservationRepository`maxEntries);" is 152.,180
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,createContext,Long Statement,The length of the statement "this.context=new ReservationFlowContext(event`eventAndUser.getRight() + "_owner"`subscriptionIdAndPin.getLeft()`subscriptionIdAndPin.getRight());" is 145.,180
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,createContext,Magic Number,The method contains a magic number: 2,180
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,createContext,Magic Number,The method contains a magic number: 2,180
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,deleteEvent,Empty catch clause,The method has an empty catch block.,213
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,triggerMaxSubscriptionPerEvent,Long Statement,The length of the statement "assertEquals(1`jdbcTemplate.queryForObject("select count(*) from tickets_reservation where subscription_id_fk = :subscriptionId and event_id_fk = :eventId"`params`Integer.class));" is 179.,237
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,triggerMaxSubscriptionPerEvent,Long Statement,The length of the statement "var exception=assertThrows(UncategorizedSQLException.class`() -> jdbcTemplate.update("update ticket set subscription_id_fk = :subscriptionId where id = :id"`Map.of("subscriptionId"`context.subscriptionId`"id"`ticketId)));" is 221.,237
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,triggerMaxSubscriptionPerEvent,Magic Number,The method contains a magic number: 2,237
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,triggerMaxUsage,Long Statement,The length of the statement "assertEquals(1`jdbcTemplate.queryForObject("select count(*) from tickets_reservation where subscription_id_fk = :subscriptionId and event_id_fk = :eventId"`params`Integer.class));" is 179.,253
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,triggerMaxUsage,Long Statement,The length of the statement "var exception=assertThrows(UncategorizedSQLException.class`() -> jdbcTemplate.update("update ticket set subscription_id_fk = :subscriptionId where id = :id"`Map.of("subscriptionId"`context.subscriptionId`"id"`ticketId)));" is 221.,253
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,triggerMaxUsage,Magic Number,The method contains a magic number: 2,253
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,triggerMaxUsage,Magic Number,The method contains a magic number: 2,253
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,useSubscriptionToBuyMultipleTickets,Long Statement,The length of the statement "jdbcTemplate.update("update subscription_descriptor set usage_type = 'UNLIMITED' where id = :id"`Map.of("id"`subscriptionById.getId()));" is 136.,271
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,useSubscriptionToBuyMultipleTickets,Magic Number,The method contains a magic number: 2,271
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,useSubscriptionToBuyMultipleTickets,Magic Number,The method contains a magic number: 2,271
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,unlinkSubscriptionAndTransferResources,Long Statement,The length of the statement "BaseIntegrationTest.testTransferSubscriptionDescriptorToAnotherOrg(descriptor.getId()`orgId`context.userId`jdbcTemplate);" is 121.,281
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,assertErrorWhenTransferToAnotherOrg,Long Statement,The length of the statement "BaseIntegrationTest.testTransferSubscriptionDescriptorToAnotherOrg(descriptor.getId()`descriptor.getOrganizationId()`context.userId`jdbcTemplate);" is 146.,291
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,testUpdateEventHeaderError,Long Statement,The length of the statement "List<TicketCategoryModification> categories=Collections.singletonList(new TicketCategoryModification(null`"default"`TicketCategory.TicketAccessType.INHERIT`10`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`new DateTimeModification(LocalDate.now(clockProvider.getClock())`LocalTime.now(clockProvider.getClock()))`DESCRIPTION`BigDecimal.TEN`false`""`false`null`null`null`null`null`0`null`null`AlfioMetadata.empty()));" is 474.,320
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,testUpdateEventHeaderError,Long Statement,The length of the statement "EventModification em=new EventModification(event.getId()`Event.EventFormat.IN_PERSON`"http://example.com/new"`null`"http://example.com/tc"`"http://example.com/pp"`"https://example.com/img.png"`null`event.getShortName()`"new display name"`newOrgId`event.getLocation()`"0.0"`"0.0"`ZoneId.systemDefault().getId()`desc`DateTimeModification.fromZonedDateTime(event.getBegin())`DateTimeModification.fromZonedDateTime(event.getEnd().plusDays(42))`event.getRegularPrice()`event.getCurrency()`eventRepository.countExistingTickets(event.getId())`event.getVat()`event.isVatIncluded()`event.getAllowedPaymentProxies()`Collections.emptyList()`false`null`7`null`null`AlfioMetadata.empty()`List.of());" is 686.,320
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,testUpdateEventHeaderError,Magic Number,The method contains a magic number: 10,320
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,testUpdateEventHeaderError,Magic Number,The method contains a magic number: 10,320
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,testUpdateEventHeaderError,Magic Number,The method contains a magic number: 42,320
exteso_alf.io,alfio.controller.api.v2.user.reservation,ReservationFlowWithSubscriptionIntegrationTest,testUpdateEventHeaderError,Magic Number,The method contains a magic number: 7,320
exteso_alf.io,alfio.test.util,PriceContainerImpl,PriceContainerImpl,Long Parameter List,The method has 5 parameters. ,37
exteso_alf.io,alfio.test.util,IntegrationTestUtil,initEvent,Long Parameter List,The method has 5 parameters. ,89
exteso_alf.io,alfio.test.util,IntegrationTestUtil,initEvent,Long Statement,The length of the statement "return initEvent(categories`organizationRepository`userManager`eventManager`eventRepository`null`Event.EventFormat.IN_PERSON);" is 126.,89
exteso_alf.io,alfio.test.util,IntegrationTestUtil,initEvent,Long Parameter List,The method has 7 parameters. ,97
exteso_alf.io,alfio.test.util,IntegrationTestUtil,initEvent,Long Statement,The length of the statement "userManager.insertUser(organization.getId()`username + "_owner"`"test"`"test"`"test@example.com"`Role.OWNER`User.Type.INTERNAL);" is 128.,97
exteso_alf.io,alfio.test.util,IntegrationTestUtil,initEvent,Long Statement,The length of the statement "EventModification em=new EventModification(null`eventFormat`"url"`"url"`"url"`"privacy"`"url"`null`eventName`"event display name"`organization.getId()`"muh location"`"0.0"`"0.0"`ClockProvider.clock().getZone().getId()`desc`new DateTimeModification(LocalDate.now(ClockProvider.clock()).plusDays(5)`LocalTime.now(ClockProvider.clock()))`new DateTimeModification(expiration.toLocalDate()`expiration.toLocalTime())`BigDecimal.TEN`"CHF"`AVAILABLE_SEATS`BigDecimal.ONE`true`Collections.singletonList(PaymentProxy.OFFLINE)`categories`false`new LocationDescriptor(""`""`""`"")`7`null`additionalServices`AlfioMetadata.empty()`List.of());" is 628.,97
exteso_alf.io,alfio.test.util,IntegrationTestUtil,initEvent,Magic Number,The method contains a magic number: 5,97
exteso_alf.io,alfio.test.util,IntegrationTestUtil,initEvent,Magic Number,The method contains a magic number: 5,97
exteso_alf.io,alfio.test.util,IntegrationTestUtil,initEvent,Magic Number,The method contains a magic number: 7,97
exteso_alf.io,alfio.test.util,IntegrationTestUtil,initAdminUser,Long Statement,The length of the statement "userRepository.create(UserManager.ADMIN_USERNAME`""`"The"`"Administrator"`"admin@localhost"`true`User.Type.INTERNAL`null`null);" is 127.,134
exteso_alf.io,alfio.test.util,IntegrationTestUtil,createSubscriptionDescriptor,Long Statement,The length of the statement "var subscriptionModification=new SubscriptionDescriptorModification(null`Map.of("en"`"title")`Map.of("en"`"description")`42`ZonedDateTime.now(ClockProvider.clock())`null`BigDecimal.TEN`new BigDecimal("7.7")`PriceContainer.VatStatus.INCLUDED`"CHF"`false`organizationId`maxEntries`SubscriptionDescriptor.SubscriptionValidityType.CUSTOM`null`null`ZonedDateTime.now(ClockProvider.clock()).minusDays(1)`ZonedDateTime.now(ClockProvider.clock()).plusDays(42)`SubscriptionDescriptor.SubscriptionUsageType.ONCE_PER_EVENT`"https://example.org"`null`fileBlobId`List.of(PaymentProxy.STRIPE)`ClockProvider.clock().getZone()`false);" is 618.,144
exteso_alf.io,alfio.test.util,IntegrationTestUtil,createSubscriptionDescriptor,Magic Number,The method contains a magic number: 42,144
exteso_alf.io,alfio.test.util,IntegrationTestUtil,createSubscriptionDescriptor,Magic Number,The method contains a magic number: 42,144
exteso_alf.io,alfio.test.util,IntegrationTestUtil,confirmAndLinkSubscription,Long Parameter List,The method has 5 parameters. ,182
exteso_alf.io,alfio.test.util,IntegrationTestUtil,confirmAndLinkSubscription,Long Statement,The length of the statement "ticketReservationRepository.createNewReservation(subscriptionReservationId`ZonedDateTime.now(ClockProvider.clock())`Date.from(Instant.now(ClockProvider.clock()))`null`"en"`null`new BigDecimal("7.7")`true`"CHF"`organizationId`null);" is 231.,182
exteso_alf.io,alfio.test.util,IntegrationTestUtil,confirmAndLinkSubscription,Long Statement,The length of the statement "subscriptionRepository.bindSubscriptionToReservation(subscriptionReservationId`descriptor.getPrice()`AllocationStatus.PENDING`subscriptionId);" is 142.,182
exteso_alf.io,alfio.test.util,IntegrationTestUtil,confirmAndLinkSubscription,Long Statement,The length of the statement "subscriptionRepository.confirmSubscription(subscriptionReservationId`AllocationStatus.ACQUIRED`"Test"`"Mc Test"`"tickettest@test.com"`maxEntries`null`null`ZonedDateTime.now(ClockProvider.clock())`zoneId.toString());" is 215.,182
exteso_alf.io,alfio,TestConfiguration,configurationManager,Long Parameter List,The method has 5 parameters. ,45
exteso_alf.io,alfio,TestConfiguration,configurationManager,Long Statement,The length of the statement "Cache<Set<ConfigurationKeys>`Map<ConfigurationKeys`ConfigurationManager.MaybeConfiguration>> cache=Caffeine.newBuilder().expireAfterWrite(Duration.ZERO).build();" is 161.,45
exteso_alf.io,alfio,TestConfiguration,configurationManager,Long Statement,The length of the statement "return new ConfigurationManager(configurationRepository`userManager`eventRepository`externalConfiguration`environment`cache);" is 125.,45
exteso_alf.io,alfio,BaseTestConfiguration,getDataSource,Long Statement,The length of the statement "PostgreSQLContainer<?> postgres=new PostgreSQLContainer<>(DockerImageName.parse("docker.io/postgres:10").asCompatibleSubstituteFor("postgres")).withDatabaseName(POSTGRES_DB).withInitScript("init-db-user.sql");" is 209.,60
exteso_alf.io,alfio,BaseTestConfiguration,getDataSource,Magic Number,The method contains a magic number: 5,60
